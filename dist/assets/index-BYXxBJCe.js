var aF=Object.defineProperty;var cF=(t,e,n)=>e in t?aF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var oe=(t,e,n)=>(cF(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function B0(t,e){const n=new Set(t.split(","));return e?i=>n.has(i.toLowerCase()):i=>n.has(i)}const Dt={},zc=[],Yi=()=>{},lF=()=>!1,Em=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),j0=t=>t.startsWith("onUpdate:"),Kn=Object.assign,$0=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},uF=Object.prototype.hasOwnProperty,ut=(t,e)=>uF.call(t,e),Oe=Array.isArray,Wc=t=>Rd(t)==="[object Map]",Im=t=>Rd(t)==="[object Set]",pA=t=>Rd(t)==="[object Date]",$e=t=>typeof t=="function",Rn=t=>typeof t=="string",wo=t=>typeof t=="symbol",kt=t=>t!==null&&typeof t=="object",xx=t=>(kt(t)||$e(t))&&$e(t.then)&&$e(t.catch),kx=Object.prototype.toString,Rd=t=>kx.call(t),hF=t=>Rd(t).slice(8,-1),Dx=t=>Rd(t)==="[object Object]",H0=t=>Rn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Sh=B0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Tm=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},dF=/-(\w)/g,qs=Tm(t=>t.replace(dF,(e,n)=>n?n.toUpperCase():"")),fF=/\B([A-Z])/g,Cl=Tm(t=>t.replace(fF,"-$1").toLowerCase()),Sm=Tm(t=>t.charAt(0).toUpperCase()+t.slice(1)),T_=Tm(t=>t?`on${Sm(t)}`:""),Eo=(t,e)=>!Object.is(t,e),ag=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Ng=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Wh=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let gA;const Ox=()=>gA||(gA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Am(t){if(Oe(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=Rn(i)?yF(i):Am(i);if(s)for(const r in s)e[r]=s[r]}return e}else if(Rn(t)||kt(t))return t}const pF=/;(?![^(]*\))/g,gF=/:([^]+)/,mF=/\/\*[^]*?\*\//g;function yF(t){const e={};return t.replace(mF,"").split(pF).forEach(n=>{if(n){const i=n.split(gF);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function di(t){let e="";if(Rn(t))e=t;else if(Oe(t))for(let n=0;n<t.length;n++){const i=di(t[n]);i&&(e+=i+" ")}else if(kt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const vF="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",_F=B0(vF);function Mx(t){return!!t||t===""}function bF(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=Cm(t[i],e[i]);return n}function Cm(t,e){if(t===e)return!0;let n=pA(t),i=pA(e);if(n||i)return n&&i?t.getTime()===e.getTime():!1;if(n=wo(t),i=wo(e),n||i)return t===e;if(n=Oe(t),i=Oe(e),n||i)return n&&i?bF(t,e):!1;if(n=kt(t),i=kt(e),n||i){if(!n||!i)return!1;const s=Object.keys(t).length,r=Object.keys(e).length;if(s!==r)return!1;for(const a in t){const c=t.hasOwnProperty(a),u=e.hasOwnProperty(a);if(c&&!u||!c&&u||!Cm(t[a],e[a]))return!1}}return String(t)===String(e)}function wF(t,e){return t.findIndex(n=>Cm(n,e))}const ht=t=>Rn(t)?t:t==null?"":Oe(t)||kt(t)&&(t.toString===kx||!$e(t.toString))?JSON.stringify(t,Nx,2):String(t),Nx=(t,e)=>e&&e.__v_isRef?Nx(t,e.value):Wc(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s],r)=>(n[S_(i,r)+" =>"]=s,n),{})}:Im(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>S_(n))}:wo(e)?S_(e):kt(e)&&!Oe(e)&&!Dx(e)?String(e):e,S_=(t,e="")=>{var n;return wo(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let cs;class EF{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=cs,!e&&cs&&(this.index=(cs.scopes||(cs.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=cs;try{return cs=this,e()}finally{cs=n}}}on(){cs=this}off(){cs=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function IF(t,e=cs){e&&e.active&&e.effects.push(t)}function TF(){return cs}let wa;class z0{constructor(e,n,i,s){this.fn=e,this.trigger=n,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,IF(this,s)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Ba();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(SF(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),ja()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=mo,n=wa;try{return mo=!0,wa=this,this._runnings++,mA(this),this.fn()}finally{yA(this),this._runnings--,wa=n,mo=e}}stop(){var e;this.active&&(mA(this),yA(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function SF(t){return t.value}function mA(t){t._trackId++,t._depsLength=0}function yA(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)Lx(t.deps[e],t);t.deps.length=t._depsLength}}function Lx(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let mo=!0,wb=0;const Vx=[];function Ba(){Vx.push(mo),mo=!1}function ja(){const t=Vx.pop();mo=t===void 0?!0:t}function W0(){wb++}function q0(){for(wb--;!wb&&Eb.length;)Eb.shift()()}function Fx(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const i=t.deps[t._depsLength];i!==e?(i&&Lx(i,t),t.deps[t._depsLength++]=e):t._depsLength++}}const Eb=[];function Ux(t,e,n){W0();for(const i of t.keys()){let s;i._dirtyLevel<e&&(s??(s=t.get(i)===i._trackId))&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i._dirtyLevel=e),i._shouldSchedule&&(s??(s=t.get(i)===i._trackId))&&(i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==2&&(i._shouldSchedule=!1,i.scheduler&&Eb.push(i.scheduler)))}q0()}const Bx=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},Ib=new WeakMap,Ea=Symbol(""),Tb=Symbol("");function Pi(t,e,n){if(mo&&wa){let i=Ib.get(t);i||Ib.set(t,i=new Map);let s=i.get(n);s||i.set(n,s=Bx(()=>i.delete(n))),Fx(wa,s)}}function _r(t,e,n,i,s,r){const a=Ib.get(t);if(!a)return;let c=[];if(e==="clear")c=[...a.values()];else if(n==="length"&&Oe(t)){const u=Number(i);a.forEach((d,f)=>{(f==="length"||!wo(f)&&f>=u)&&c.push(d)})}else switch(n!==void 0&&c.push(a.get(n)),e){case"add":Oe(t)?H0(n)&&c.push(a.get("length")):(c.push(a.get(Ea)),Wc(t)&&c.push(a.get(Tb)));break;case"delete":Oe(t)||(c.push(a.get(Ea)),Wc(t)&&c.push(a.get(Tb)));break;case"set":Wc(t)&&c.push(a.get(Ea));break}W0();for(const u of c)u&&Ux(u,4);q0()}const AF=B0("__proto__,__v_isRef,__isVue"),jx=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(wo)),vA=CF();function CF(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=gt(this);for(let r=0,a=this.length;r<a;r++)Pi(i,"get",r+"");const s=i[e](...n);return s===-1||s===!1?i[e](...n.map(gt)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Ba(),W0();const i=gt(this)[e].apply(this,n);return q0(),ja(),i}}),t}function PF(t){const e=gt(this);return Pi(e,"has",t),e.hasOwnProperty(t)}class $x{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return i===(s?r?jF:qx:r?Wx:zx).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const a=Oe(e);if(!s){if(a&&ut(vA,n))return Reflect.get(vA,n,i);if(n==="hasOwnProperty")return PF}const c=Reflect.get(e,n,i);return(wo(n)?jx.has(n):AF(n))||(s||Pi(e,"get",n),r)?c:Ri(c)?a&&H0(n)?c:c.value:kt(c)?s?Gx(c):Rm(c):c}}class Hx extends $x{constructor(e=!1){super(!1,e)}set(e,n,i,s){let r=e[n];if(!this._isShallow){const u=ol(r);if(!Lg(i)&&!ol(i)&&(r=gt(r),i=gt(i)),!Oe(e)&&Ri(r)&&!Ri(i))return u?!1:(r.value=i,!0)}const a=Oe(e)&&H0(n)?Number(n)<e.length:ut(e,n),c=Reflect.set(e,n,i,s);return e===gt(s)&&(a?Eo(i,r)&&_r(e,"set",n,i):_r(e,"add",n,i)),c}deleteProperty(e,n){const i=ut(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&i&&_r(e,"delete",n,void 0),s}has(e,n){const i=Reflect.has(e,n);return(!wo(n)||!jx.has(n))&&Pi(e,"has",n),i}ownKeys(e){return Pi(e,"iterate",Oe(e)?"length":Ea),Reflect.ownKeys(e)}}class RF extends $x{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const xF=new Hx,kF=new RF,DF=new Hx(!0),K0=t=>t,Pm=t=>Reflect.getPrototypeOf(t);function Rp(t,e,n=!1,i=!1){t=t.__v_raw;const s=gt(t),r=gt(e);n||(Eo(e,r)&&Pi(s,"get",e),Pi(s,"get",r));const{has:a}=Pm(s),c=i?K0:n?X0:qh;if(a.call(s,e))return c(t.get(e));if(a.call(s,r))return c(t.get(r));t!==s&&t.get(e)}function xp(t,e=!1){const n=this.__v_raw,i=gt(n),s=gt(t);return e||(Eo(t,s)&&Pi(i,"has",t),Pi(i,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function kp(t,e=!1){return t=t.__v_raw,!e&&Pi(gt(t),"iterate",Ea),Reflect.get(t,"size",t)}function _A(t){t=gt(t);const e=gt(this);return Pm(e).has.call(e,t)||(e.add(t),_r(e,"add",t,t)),this}function bA(t,e){e=gt(e);const n=gt(this),{has:i,get:s}=Pm(n);let r=i.call(n,t);r||(t=gt(t),r=i.call(n,t));const a=s.call(n,t);return n.set(t,e),r?Eo(e,a)&&_r(n,"set",t,e):_r(n,"add",t,e),this}function wA(t){const e=gt(this),{has:n,get:i}=Pm(e);let s=n.call(e,t);s||(t=gt(t),s=n.call(e,t)),i&&i.call(e,t);const r=e.delete(t);return s&&_r(e,"delete",t,void 0),r}function EA(){const t=gt(this),e=t.size!==0,n=t.clear();return e&&_r(t,"clear",void 0,void 0),n}function Dp(t,e){return function(i,s){const r=this,a=r.__v_raw,c=gt(a),u=e?K0:t?X0:qh;return!t&&Pi(c,"iterate",Ea),a.forEach((d,f)=>i.call(s,u(d),u(f),r))}}function Op(t,e,n){return function(...i){const s=this.__v_raw,r=gt(s),a=Wc(r),c=t==="entries"||t===Symbol.iterator&&a,u=t==="keys"&&a,d=s[t](...i),f=n?K0:e?X0:qh;return!e&&Pi(r,"iterate",u?Tb:Ea),{next(){const{value:g,done:y}=d.next();return y?{value:g,done:y}:{value:c?[f(g[0]),f(g[1])]:f(g),done:y}},[Symbol.iterator](){return this}}}}function eo(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function OF(){const t={get(r){return Rp(this,r)},get size(){return kp(this)},has:xp,add:_A,set:bA,delete:wA,clear:EA,forEach:Dp(!1,!1)},e={get(r){return Rp(this,r,!1,!0)},get size(){return kp(this)},has:xp,add:_A,set:bA,delete:wA,clear:EA,forEach:Dp(!1,!0)},n={get(r){return Rp(this,r,!0)},get size(){return kp(this,!0)},has(r){return xp.call(this,r,!0)},add:eo("add"),set:eo("set"),delete:eo("delete"),clear:eo("clear"),forEach:Dp(!0,!1)},i={get(r){return Rp(this,r,!0,!0)},get size(){return kp(this,!0)},has(r){return xp.call(this,r,!0)},add:eo("add"),set:eo("set"),delete:eo("delete"),clear:eo("clear"),forEach:Dp(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=Op(r,!1,!1),n[r]=Op(r,!0,!1),e[r]=Op(r,!1,!0),i[r]=Op(r,!0,!0)}),[t,n,e,i]}const[MF,NF,LF,VF]=OF();function G0(t,e){const n=e?t?VF:LF:t?NF:MF;return(i,s,r)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(ut(n,s)&&s in i?n:i,s,r)}const FF={get:G0(!1,!1)},UF={get:G0(!1,!0)},BF={get:G0(!0,!1)},zx=new WeakMap,Wx=new WeakMap,qx=new WeakMap,jF=new WeakMap;function $F(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function HF(t){return t.__v_skip||!Object.isExtensible(t)?0:$F(hF(t))}function Rm(t){return ol(t)?t:Y0(t,!1,xF,FF,zx)}function Kx(t){return Y0(t,!1,DF,UF,Wx)}function Gx(t){return Y0(t,!0,kF,BF,qx)}function Y0(t,e,n,i,s){if(!kt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=s.get(t);if(r)return r;const a=HF(t);if(a===0)return t;const c=new Proxy(t,a===2?i:n);return s.set(t,c),c}function qc(t){return ol(t)?qc(t.__v_raw):!!(t&&t.__v_isReactive)}function ol(t){return!!(t&&t.__v_isReadonly)}function Lg(t){return!!(t&&t.__v_isShallow)}function Yx(t){return qc(t)||ol(t)}function gt(t){const e=t&&t.__v_raw;return e?gt(e):t}function Xx(t){return Object.isExtensible(t)&&Ng(t,"__v_skip",!0),t}const qh=t=>kt(t)?Rm(t):t,X0=t=>kt(t)?Gx(t):t;class Qx{constructor(e,n,i,s){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new z0(()=>e(this._value),()=>cg(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const e=gt(this);return(!e._cacheable||e.effect.dirty)&&Eo(e._value,e._value=e.effect.run())&&cg(e,4),Jx(e),e.effect._dirtyLevel>=2&&cg(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function zF(t,e,n=!1){let i,s;const r=$e(t);return r?(i=t,s=Yi):(i=t.get,s=t.set),new Qx(i,s,r||!s,n)}function Jx(t){var e;mo&&wa&&(t=gt(t),Fx(wa,(e=t.dep)!=null?e:t.dep=Bx(()=>t.dep=void 0,t instanceof Qx?t:void 0)))}function cg(t,e=4,n){t=gt(t);const i=t.dep;i&&Ux(i,e)}function Ri(t){return!!(t&&t.__v_isRef===!0)}function Vg(t){return Zx(t,!1)}function WF(t){return Zx(t,!0)}function Zx(t,e){return Ri(t)?t:new qF(t,e)}class qF{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:gt(e),this._value=n?e:qh(e)}get value(){return Jx(this),this._value}set value(e){const n=this.__v_isShallow||Lg(e)||ol(e);e=n?e:gt(e),Eo(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:qh(e),cg(this,4))}}function Kc(t){return Ri(t)?t.value:t}const KF={get:(t,e,n)=>Kc(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return Ri(s)&&!Ri(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function ek(t){return qc(t)?t:new Proxy(t,KF)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function yo(t,e,n,i){try{return i?t(...i):t()}catch(s){xm(s,e,n)}}function fs(t,e,n,i){if($e(t)){const r=yo(t,e,n,i);return r&&xx(r)&&r.catch(a=>{xm(a,e,n)}),r}const s=[];for(let r=0;r<t.length;r++)s.push(fs(t[r],e,n,i));return s}function xm(t,e,n,i=!0){const s=e?e.vnode:null;if(e){let r=e.parent;const a=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;r;){const d=r.ec;if(d){for(let f=0;f<d.length;f++)if(d[f](t,a,c)===!1)return}r=r.parent}const u=e.appContext.config.errorHandler;if(u){yo(u,null,10,[t,a,c]);return}}GF(t,n,s,i)}function GF(t,e,n,i=!0){console.error(t)}let Kh=!1,Sb=!1;const Zn=[];let Ds=0;const Gc=[];let ro=null,ha=0;const tk=Promise.resolve();let Q0=null;function J0(t){const e=Q0||tk;return t?e.then(this?t.bind(this):t):e}function YF(t){let e=Ds+1,n=Zn.length;for(;e<n;){const i=e+n>>>1,s=Zn[i],r=Gh(s);r<t||r===t&&s.pre?e=i+1:n=i}return e}function Z0(t){(!Zn.length||!Zn.includes(t,Kh&&t.allowRecurse?Ds+1:Ds))&&(t.id==null?Zn.push(t):Zn.splice(YF(t.id),0,t),nk())}function nk(){!Kh&&!Sb&&(Sb=!0,Q0=tk.then(sk))}function XF(t){const e=Zn.indexOf(t);e>Ds&&Zn.splice(e,1)}function QF(t){Oe(t)?Gc.push(...t):(!ro||!ro.includes(t,t.allowRecurse?ha+1:ha))&&Gc.push(t),nk()}function IA(t,e,n=Kh?Ds+1:0){for(;n<Zn.length;n++){const i=Zn[n];if(i&&i.pre){if(t&&i.id!==t.uid)continue;Zn.splice(n,1),n--,i()}}}function ik(t){if(Gc.length){const e=[...new Set(Gc)].sort((n,i)=>Gh(n)-Gh(i));if(Gc.length=0,ro){ro.push(...e);return}for(ro=e,ha=0;ha<ro.length;ha++)ro[ha]();ro=null,ha=0}}const Gh=t=>t.id==null?1/0:t.id,JF=(t,e)=>{const n=Gh(t)-Gh(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function sk(t){Sb=!1,Kh=!0,Zn.sort(JF);try{for(Ds=0;Ds<Zn.length;Ds++){const e=Zn[Ds];e&&e.active!==!1&&yo(e,null,14)}}finally{Ds=0,Zn.length=0,ik(),Kh=!1,Q0=null,(Zn.length||Gc.length)&&sk()}}function ZF(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||Dt;let s=n;const r=e.startsWith("update:"),a=r&&e.slice(7);if(a&&a in i){const f=`${a==="modelValue"?"model":a}Modifiers`,{number:g,trim:y}=i[f]||Dt;y&&(s=n.map(b=>Rn(b)?b.trim():b)),g&&(s=n.map(Wh))}let c,u=i[c=T_(e)]||i[c=T_(qs(e))];!u&&r&&(u=i[c=T_(Cl(e))]),u&&fs(u,t,6,s);const d=i[c+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,fs(d,t,6,s)}}function rk(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const r=t.emits;let a={},c=!1;if(!$e(t)){const u=d=>{const f=rk(d,e,!0);f&&(c=!0,Kn(a,f))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!r&&!c?(kt(t)&&i.set(t,null),null):(Oe(r)?r.forEach(u=>a[u]=null):Kn(a,r),kt(t)&&i.set(t,a),a)}function km(t,e){return!t||!Em(e)?!1:(e=e.slice(2).replace(/Once$/,""),ut(t,e[0].toLowerCase()+e.slice(1))||ut(t,Cl(e))||ut(t,e))}let Ai=null,Dm=null;function Fg(t){const e=Ai;return Ai=t,Dm=t&&t.type.__scopeId||null,e}function _s(t){Dm=t}function bs(){Dm=null}function fi(t,e=Ai,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&MA(-1);const r=Fg(e);let a;try{a=t(...s)}finally{Fg(r),i._d&&MA(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function A_(t){const{type:e,vnode:n,proxy:i,withProxy:s,props:r,propsOptions:[a],slots:c,attrs:u,emit:d,render:f,renderCache:g,data:y,setupState:b,ctx:E,inheritAttrs:_}=t;let w,T;const S=Fg(t);try{if(n.shapeFlag&4){const k=s||i,D=k;w=ks(f.call(D,k,g,r,b,y,E)),T=u}else{const k=e;w=ks(k.length>1?k(r,{attrs:u,slots:c,emit:d}):k(r,null)),T=e.props?u:e4(u)}}catch(k){Ph.length=0,xm(k,t,1),w=Se(ka)}let x=w;if(T&&_!==!1){const k=Object.keys(T),{shapeFlag:D}=x;k.length&&D&7&&(a&&k.some(j0)&&(T=t4(T,a)),x=al(x,T))}return n.dirs&&(x=al(x),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&(x.transition=n.transition),w=x,Fg(S),w}const e4=t=>{let e;for(const n in t)(n==="class"||n==="style"||Em(n))&&((e||(e={}))[n]=t[n]);return e},t4=(t,e)=>{const n={};for(const i in t)(!j0(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function n4(t,e,n){const{props:i,children:s,component:r}=t,{props:a,children:c,patchFlag:u}=e,d=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return i?TA(i,a,d):!!a;if(u&8){const f=e.dynamicProps;for(let g=0;g<f.length;g++){const y=f[g];if(a[y]!==i[y]&&!km(d,y))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:i===a?!1:i?a?TA(i,a,d):!0:!!a;return!1}function TA(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==t[r]&&!km(n,r))return!0}return!1}function i4({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const ok="components";function Je(t,e){return r4(ok,t,!0,e)||t}const s4=Symbol.for("v-ndc");function r4(t,e,n=!0,i=!1){const s=Ai||ei;if(s){const r=s.type;if(t===ok){const c=Q4(r,!1);if(c&&(c===e||c===qs(e)||c===Sm(qs(e))))return r}const a=SA(s[t]||r[t],e)||SA(s.appContext[t],e);return!a&&i?r:a}}function SA(t,e){return t&&(t[e]||t[qs(e)]||t[Sm(qs(e))])}const o4=t=>t.__isSuspense;function a4(t,e){e&&e.pendingBranch?Oe(t)?e.effects.push(...t):e.effects.push(t):QF(t)}const c4=Symbol.for("v-scx"),l4=()=>br(c4),Mp={};function Yc(t,e,n){return ak(t,e,n)}function ak(t,e,{immediate:n,deep:i,flush:s,once:r,onTrack:a,onTrigger:c}=Dt){if(e&&r){const N=e;e=(...O)=>{N(...O),D()}}const u=ei,d=N=>i===!0?N:pa(N,i===!1?1:void 0);let f,g=!1,y=!1;if(Ri(t)?(f=()=>t.value,g=Lg(t)):qc(t)?(f=()=>d(t),g=!0):Oe(t)?(y=!0,g=t.some(N=>qc(N)||Lg(N)),f=()=>t.map(N=>{if(Ri(N))return N.value;if(qc(N))return d(N);if($e(N))return yo(N,u,2)})):$e(t)?e?f=()=>yo(t,u,2):f=()=>(b&&b(),fs(t,u,3,[E])):f=Yi,e&&i){const N=f;f=()=>pa(N())}let b,E=N=>{b=x.onStop=()=>{yo(N,u,4),b=x.onStop=void 0}},_;if(Vm)if(E=Yi,e?n&&fs(e,u,3,[f(),y?[]:void 0,E]):f(),s==="sync"){const N=l4();_=N.__watcherHandles||(N.__watcherHandles=[])}else return Yi;let w=y?new Array(t.length).fill(Mp):Mp;const T=()=>{if(!(!x.active||!x.dirty))if(e){const N=x.run();(i||g||(y?N.some((O,V)=>Eo(O,w[V])):Eo(N,w)))&&(b&&b(),fs(e,u,3,[N,w===Mp?void 0:y&&w[0]===Mp?[]:w,E]),w=N)}else x.run()};T.allowRecurse=!!e;let S;s==="sync"?S=T:s==="post"?S=()=>Ei(T,u&&u.suspense):(T.pre=!0,u&&(T.id=u.uid),S=()=>Z0(T));const x=new z0(f,Yi,S),k=TF(),D=()=>{x.stop(),k&&$0(k.effects,x)};return e?n?T():w=x.run():s==="post"?Ei(x.run.bind(x),u&&u.suspense):x.run(),_&&_.push(D),D}function u4(t,e,n){const i=this.proxy,s=Rn(t)?t.includes(".")?ck(i,t):()=>i[t]:t.bind(i,i);let r;$e(e)?r=e:(r=e.handler,n=e);const a=xd(this),c=ak(s,r.bind(i),n);return a(),c}function ck(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function pa(t,e,n=0,i){if(!kt(t)||t.__v_skip)return t;if(e&&e>0){if(n>=e)return t;n++}if(i=i||new Set,i.has(t))return t;if(i.add(t),Ri(t))pa(t.value,e,n,i);else if(Oe(t))for(let s=0;s<t.length;s++)pa(t[s],e,n,i);else if(Im(t)||Wc(t))t.forEach(s=>{pa(s,e,n,i)});else if(Dx(t))for(const s in t)pa(t[s],e,n,i);return t}function Ge(t,e){if(Ai===null)return t;const n=Fm(Ai)||Ai.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[r,a,c,u=Dt]=e[s];r&&($e(r)&&(r={mounted:r,updated:r}),r.deep&&pa(a),i.push({dir:r,instance:n,value:a,oldValue:void 0,arg:c,modifiers:u}))}return t}function na(t,e,n,i){const s=t.dirs,r=e&&e.dirs;for(let a=0;a<s.length;a++){const c=s[a];r&&(c.oldValue=r[a].value);let u=c.dir[i];u&&(Ba(),fs(u,n,8,[t.el,c,t,e]),ja())}}/*! #__NO_SIDE_EFFECTS__ */function lk(t,e){return $e(t)?Kn({name:t.name},e,{setup:t}):t}const lg=t=>!!t.type.__asyncLoader,uk=t=>t.type.__isKeepAlive;function h4(t,e){hk(t,"a",e)}function d4(t,e){hk(t,"da",e)}function hk(t,e,n=ei){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Om(e,i,n),n){let s=n.parent;for(;s&&s.parent;)uk(s.parent.vnode)&&f4(i,e,n,s),s=s.parent}}function f4(t,e,n,i){const s=Om(e,t,i,!0);fk(()=>{$0(i[e],s)},n)}function Om(t,e,n=ei,i=!1){if(n){const s=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;Ba();const c=xd(n),u=fs(e,n,t,a);return c(),ja(),u});return i?s.unshift(r):s.push(r),r}}const Rr=t=>(e,n=ei)=>(!Vm||t==="sp")&&Om(t,(...i)=>e(...i),n),p4=Rr("bm"),dk=Rr("m"),g4=Rr("bu"),m4=Rr("u"),y4=Rr("bum"),fk=Rr("um"),v4=Rr("sp"),_4=Rr("rtg"),b4=Rr("rtc");function w4(t,e=ei){Om("ec",t,e)}function xa(t,e,n,i){let s;const r=n&&n[i];if(Oe(t)||Rn(t)){s=new Array(t.length);for(let a=0,c=t.length;a<c;a++)s[a]=e(t[a],a,void 0,r&&r[a])}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,r&&r[a])}else if(kt(t))if(t[Symbol.iterator])s=Array.from(t,(a,c)=>e(a,c,void 0,r&&r[c]));else{const a=Object.keys(t);s=new Array(a.length);for(let c=0,u=a.length;c<u;c++){const d=a[c];s[c]=e(t[d],d,c,r&&r[c])}}else s=[];return n&&(n[i]=s),s}const Ab=t=>t?Sk(t)?Fm(t)||t.proxy:Ab(t.parent):null,Ah=Kn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ab(t.parent),$root:t=>Ab(t.root),$emit:t=>t.emit,$options:t=>ew(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Z0(t.update)}),$nextTick:t=>t.n||(t.n=J0.bind(t.proxy)),$watch:t=>u4.bind(t)}),C_=(t,e)=>t!==Dt&&!t.__isScriptSetup&&ut(t,e),E4={get({_:t},e){const{ctx:n,setupState:i,data:s,props:r,accessCache:a,type:c,appContext:u}=t;let d;if(e[0]!=="$"){const b=a[e];if(b!==void 0)switch(b){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return r[e]}else{if(C_(i,e))return a[e]=1,i[e];if(s!==Dt&&ut(s,e))return a[e]=2,s[e];if((d=t.propsOptions[0])&&ut(d,e))return a[e]=3,r[e];if(n!==Dt&&ut(n,e))return a[e]=4,n[e];Cb&&(a[e]=0)}}const f=Ah[e];let g,y;if(f)return e==="$attrs"&&Pi(t,"get",e),f(t);if((g=c.__cssModules)&&(g=g[e]))return g;if(n!==Dt&&ut(n,e))return a[e]=4,n[e];if(y=u.config.globalProperties,ut(y,e))return y[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:r}=t;return C_(s,e)?(s[e]=n,!0):i!==Dt&&ut(i,e)?(i[e]=n,!0):ut(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:r}},a){let c;return!!n[a]||t!==Dt&&ut(t,a)||C_(e,a)||(c=r[0])&&ut(c,a)||ut(i,a)||ut(Ah,a)||ut(s.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ut(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function AA(t){return Oe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Cb=!0;function I4(t){const e=ew(t),n=t.proxy,i=t.ctx;Cb=!1,e.beforeCreate&&CA(e.beforeCreate,t,"bc");const{data:s,computed:r,methods:a,watch:c,provide:u,inject:d,created:f,beforeMount:g,mounted:y,beforeUpdate:b,updated:E,activated:_,deactivated:w,beforeDestroy:T,beforeUnmount:S,destroyed:x,unmounted:k,render:D,renderTracked:N,renderTriggered:O,errorCaptured:V,serverPrefetch:$,expose:ie,inheritAttrs:U,components:me,directives:ye,filters:Ze}=e;if(d&&T4(d,i,null),a)for(const se in a){const Ie=a[se];$e(Ie)&&(i[se]=Ie.bind(n))}if(s){const se=s.call(n,n);kt(se)&&(t.data=Rm(se))}if(Cb=!0,r)for(const se in r){const Ie=r[se],st=$e(Ie)?Ie.bind(n,n):$e(Ie.get)?Ie.get.bind(n,n):Yi,Tt=!$e(Ie)&&$e(Ie.set)?Ie.set.bind(n):Yi,on=us({get:st,set:Tt});Object.defineProperty(i,se,{enumerable:!0,configurable:!0,get:()=>on.value,set:mt=>on.value=mt})}if(c)for(const se in c)pk(c[se],i,n,se);if(u){const se=$e(u)?u.call(n):u;Reflect.ownKeys(se).forEach(Ie=>{ug(Ie,se[Ie])})}f&&CA(f,t,"c");function Y(se,Ie){Oe(Ie)?Ie.forEach(st=>se(st.bind(n))):Ie&&se(Ie.bind(n))}if(Y(p4,g),Y(dk,y),Y(g4,b),Y(m4,E),Y(h4,_),Y(d4,w),Y(w4,V),Y(b4,N),Y(_4,O),Y(y4,S),Y(fk,k),Y(v4,$),Oe(ie))if(ie.length){const se=t.exposed||(t.exposed={});ie.forEach(Ie=>{Object.defineProperty(se,Ie,{get:()=>n[Ie],set:st=>n[Ie]=st})})}else t.exposed||(t.exposed={});D&&t.render===Yi&&(t.render=D),U!=null&&(t.inheritAttrs=U),me&&(t.components=me),ye&&(t.directives=ye)}function T4(t,e,n=Yi){Oe(t)&&(t=Pb(t));for(const i in t){const s=t[i];let r;kt(s)?"default"in s?r=br(s.from||i,s.default,!0):r=br(s.from||i):r=br(s),Ri(r)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:a=>r.value=a}):e[i]=r}}function CA(t,e,n){fs(Oe(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function pk(t,e,n,i){const s=i.includes(".")?ck(n,i):()=>n[i];if(Rn(t)){const r=e[t];$e(r)&&Yc(s,r)}else if($e(t))Yc(s,t.bind(n));else if(kt(t))if(Oe(t))t.forEach(r=>pk(r,e,n,i));else{const r=$e(t.handler)?t.handler.bind(n):e[t.handler];$e(r)&&Yc(s,r,t)}}function ew(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:a}}=t.appContext,c=r.get(e);let u;return c?u=c:!s.length&&!n&&!i?u=e:(u={},s.length&&s.forEach(d=>Ug(u,d,a,!0)),Ug(u,e,a)),kt(e)&&r.set(e,u),u}function Ug(t,e,n,i=!1){const{mixins:s,extends:r}=e;r&&Ug(t,r,n,!0),s&&s.forEach(a=>Ug(t,a,n,!0));for(const a in e)if(!(i&&a==="expose")){const c=S4[a]||n&&n[a];t[a]=c?c(t[a],e[a]):e[a]}return t}const S4={data:PA,props:RA,emits:RA,methods:uh,computed:uh,beforeCreate:hi,created:hi,beforeMount:hi,mounted:hi,beforeUpdate:hi,updated:hi,beforeDestroy:hi,beforeUnmount:hi,destroyed:hi,unmounted:hi,activated:hi,deactivated:hi,errorCaptured:hi,serverPrefetch:hi,components:uh,directives:uh,watch:C4,provide:PA,inject:A4};function PA(t,e){return e?t?function(){return Kn($e(t)?t.call(this,this):t,$e(e)?e.call(this,this):e)}:e:t}function A4(t,e){return uh(Pb(t),Pb(e))}function Pb(t){if(Oe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function hi(t,e){return t?[...new Set([].concat(t,e))]:e}function uh(t,e){return t?Kn(Object.create(null),t,e):e}function RA(t,e){return t?Oe(t)&&Oe(e)?[...new Set([...t,...e])]:Kn(Object.create(null),AA(t),AA(e??{})):e}function C4(t,e){if(!t)return e;if(!e)return t;const n=Kn(Object.create(null),t);for(const i in e)n[i]=hi(t[i],e[i]);return n}function gk(){return{app:null,config:{isNativeTag:lF,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let P4=0;function R4(t,e){return function(i,s=null){$e(i)||(i=Kn({},i)),s!=null&&!kt(s)&&(s=null);const r=gk(),a=new WeakSet;let c=!1;const u=r.app={_uid:P4++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:Z4,get config(){return r.config},set config(d){},use(d,...f){return a.has(d)||(d&&$e(d.install)?(a.add(d),d.install(u,...f)):$e(d)&&(a.add(d),d(u,...f))),u},mixin(d){return r.mixins.includes(d)||r.mixins.push(d),u},component(d,f){return f?(r.components[d]=f,u):r.components[d]},directive(d,f){return f?(r.directives[d]=f,u):r.directives[d]},mount(d,f,g){if(!c){const y=Se(i,s);return y.appContext=r,g===!0?g="svg":g===!1&&(g=void 0),f&&e?e(y,d):t(y,d,g),c=!0,u._container=d,d.__vue_app__=u,Fm(y.component)||y.component.proxy}},unmount(){c&&(t(null,u._container),delete u._container.__vue_app__)},provide(d,f){return r.provides[d]=f,u},runWithContext(d){const f=Ch;Ch=u;try{return d()}finally{Ch=f}}};return u}}let Ch=null;function ug(t,e){if(ei){let n=ei.provides;const i=ei.parent&&ei.parent.provides;i===n&&(n=ei.provides=Object.create(i)),n[t]=e}}function br(t,e,n=!1){const i=ei||Ai;if(i||Ch){const s=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Ch._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&$e(e)?e.call(i&&i.proxy):e}}function x4(t,e,n,i=!1){const s={},r={};Ng(r,Lm,1),t.propsDefaults=Object.create(null),mk(t,e,s,r);for(const a in t.propsOptions[0])a in s||(s[a]=void 0);n?t.props=i?s:Kx(s):t.type.props?t.props=s:t.props=r,t.attrs=r}function k4(t,e,n,i){const{props:s,attrs:r,vnode:{patchFlag:a}}=t,c=gt(s),[u]=t.propsOptions;let d=!1;if((i||a>0)&&!(a&16)){if(a&8){const f=t.vnode.dynamicProps;for(let g=0;g<f.length;g++){let y=f[g];if(km(t.emitsOptions,y))continue;const b=e[y];if(u)if(ut(r,y))b!==r[y]&&(r[y]=b,d=!0);else{const E=qs(y);s[E]=Rb(u,c,E,b,t,!1)}else b!==r[y]&&(r[y]=b,d=!0)}}}else{mk(t,e,s,r)&&(d=!0);let f;for(const g in c)(!e||!ut(e,g)&&((f=Cl(g))===g||!ut(e,f)))&&(u?n&&(n[g]!==void 0||n[f]!==void 0)&&(s[g]=Rb(u,c,g,void 0,t,!0)):delete s[g]);if(r!==c)for(const g in r)(!e||!ut(e,g))&&(delete r[g],d=!0)}d&&_r(t,"set","$attrs")}function mk(t,e,n,i){const[s,r]=t.propsOptions;let a=!1,c;if(e)for(let u in e){if(Sh(u))continue;const d=e[u];let f;s&&ut(s,f=qs(u))?!r||!r.includes(f)?n[f]=d:(c||(c={}))[f]=d:km(t.emitsOptions,u)||(!(u in i)||d!==i[u])&&(i[u]=d,a=!0)}if(r){const u=gt(n),d=c||Dt;for(let f=0;f<r.length;f++){const g=r[f];n[g]=Rb(s,u,g,d[g],t,!ut(d,g))}}return a}function Rb(t,e,n,i,s,r){const a=t[n];if(a!=null){const c=ut(a,"default");if(c&&i===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&$e(u)){const{propsDefaults:d}=s;if(n in d)i=d[n];else{const f=xd(s);i=d[n]=u.call(null,e),f()}}else i=u}a[0]&&(r&&!c?i=!1:a[1]&&(i===""||i===Cl(n))&&(i=!0))}return i}function yk(t,e,n=!1){const i=e.propsCache,s=i.get(t);if(s)return s;const r=t.props,a={},c=[];let u=!1;if(!$e(t)){const f=g=>{u=!0;const[y,b]=yk(g,e,!0);Kn(a,y),b&&c.push(...b)};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!r&&!u)return kt(t)&&i.set(t,zc),zc;if(Oe(r))for(let f=0;f<r.length;f++){const g=qs(r[f]);xA(g)&&(a[g]=Dt)}else if(r)for(const f in r){const g=qs(f);if(xA(g)){const y=r[f],b=a[g]=Oe(y)||$e(y)?{type:y}:Kn({},y);if(b){const E=OA(Boolean,b.type),_=OA(String,b.type);b[0]=E>-1,b[1]=_<0||E<_,(E>-1||ut(b,"default"))&&c.push(g)}}}const d=[a,c];return kt(t)&&i.set(t,d),d}function xA(t){return t[0]!=="$"&&!Sh(t)}function kA(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function DA(t,e){return kA(t)===kA(e)}function OA(t,e){return Oe(e)?e.findIndex(n=>DA(n,t)):$e(e)&&DA(e,t)?0:-1}const vk=t=>t[0]==="_"||t==="$stable",tw=t=>Oe(t)?t.map(ks):[ks(t)],D4=(t,e,n)=>{if(e._n)return e;const i=fi((...s)=>tw(e(...s)),n);return i._c=!1,i},_k=(t,e,n)=>{const i=t._ctx;for(const s in t){if(vk(s))continue;const r=t[s];if($e(r))e[s]=D4(s,r,i);else if(r!=null){const a=tw(r);e[s]=()=>a}}},bk=(t,e)=>{const n=tw(e);t.slots.default=()=>n},O4=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=gt(e),Ng(e,"_",n)):_k(e,t.slots={})}else t.slots={},e&&bk(t,e);Ng(t.slots,Lm,1)},M4=(t,e,n)=>{const{vnode:i,slots:s}=t;let r=!0,a=Dt;if(i.shapeFlag&32){const c=e._;c?n&&c===1?r=!1:(Kn(s,e),!n&&c===1&&delete s._):(r=!e.$stable,_k(e,s)),a=e}else e&&(bk(t,e),a={default:1});if(r)for(const c in s)!vk(c)&&a[c]==null&&delete s[c]};function xb(t,e,n,i,s=!1){if(Oe(t)){t.forEach((y,b)=>xb(y,e&&(Oe(e)?e[b]:e),n,i,s));return}if(lg(i)&&!s)return;const r=i.shapeFlag&4?Fm(i.component)||i.component.proxy:i.el,a=s?null:r,{i:c,r:u}=t,d=e&&e.r,f=c.refs===Dt?c.refs={}:c.refs,g=c.setupState;if(d!=null&&d!==u&&(Rn(d)?(f[d]=null,ut(g,d)&&(g[d]=null)):Ri(d)&&(d.value=null)),$e(u))yo(u,c,12,[a,f]);else{const y=Rn(u),b=Ri(u);if(y||b){const E=()=>{if(t.f){const _=y?ut(g,u)?g[u]:f[u]:u.value;s?Oe(_)&&$0(_,r):Oe(_)?_.includes(r)||_.push(r):y?(f[u]=[r],ut(g,u)&&(g[u]=f[u])):(u.value=[r],t.k&&(f[t.k]=u.value))}else y?(f[u]=a,ut(g,u)&&(g[u]=a)):b&&(u.value=a,t.k&&(f[t.k]=a))};a?(E.id=-1,Ei(E,n)):E()}}}const Ei=a4;function N4(t){return L4(t)}function L4(t,e){const n=Ox();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:a,createText:c,createComment:u,setText:d,setElementText:f,parentNode:g,nextSibling:y,setScopeId:b=Yi,insertStaticContent:E}=t,_=(A,R,L,W=null,j=null,ne=null,ce=void 0,te=null,re=!!R.dynamicChildren)=>{if(A===R)return;A&&!Xu(A,R)&&(W=B(A),mt(A,j,ne,!0),A=null),R.patchFlag===-2&&(re=!1,R.dynamicChildren=null);const{type:Q,ref:de,shapeFlag:we}=R;switch(Q){case Mm:w(A,R,L,W);break;case ka:T(A,R,L,W);break;case hg:A==null&&S(R,L,W,ce);break;case wn:me(A,R,L,W,j,ne,ce,te,re);break;default:we&1?D(A,R,L,W,j,ne,ce,te,re):we&6?ye(A,R,L,W,j,ne,ce,te,re):(we&64||we&128)&&Q.process(A,R,L,W,j,ne,ce,te,re,_e)}de!=null&&j&&xb(de,A&&A.ref,ne,R||A,!R)},w=(A,R,L,W)=>{if(A==null)i(R.el=c(R.children),L,W);else{const j=R.el=A.el;R.children!==A.children&&d(j,R.children)}},T=(A,R,L,W)=>{A==null?i(R.el=u(R.children||""),L,W):R.el=A.el},S=(A,R,L,W)=>{[A.el,A.anchor]=E(A.children,R,L,W,A.el,A.anchor)},x=({el:A,anchor:R},L,W)=>{let j;for(;A&&A!==R;)j=y(A),i(A,L,W),A=j;i(R,L,W)},k=({el:A,anchor:R})=>{let L;for(;A&&A!==R;)L=y(A),s(A),A=L;s(R)},D=(A,R,L,W,j,ne,ce,te,re)=>{R.type==="svg"?ce="svg":R.type==="math"&&(ce="mathml"),A==null?N(R,L,W,j,ne,ce,te,re):$(A,R,j,ne,ce,te,re)},N=(A,R,L,W,j,ne,ce,te)=>{let re,Q;const{props:de,shapeFlag:we,transition:Te,dirs:Re}=A;if(re=A.el=a(A.type,ne,de&&de.is,de),we&8?f(re,A.children):we&16&&V(A.children,re,null,W,j,P_(A,ne),ce,te),Re&&na(A,null,W,"created"),O(re,A,A.scopeId,ce,W),de){for(const et in de)et!=="value"&&!Sh(et)&&r(re,et,null,de[et],ne,A.children,W,j,qe);"value"in de&&r(re,"value",null,de.value,ne),(Q=de.onVnodeBeforeMount)&&Ps(Q,W,A)}Re&&na(A,null,W,"beforeMount");const He=V4(j,Te);He&&Te.beforeEnter(re),i(re,R,L),((Q=de&&de.onVnodeMounted)||He||Re)&&Ei(()=>{Q&&Ps(Q,W,A),He&&Te.enter(re),Re&&na(A,null,W,"mounted")},j)},O=(A,R,L,W,j)=>{if(L&&b(A,L),W)for(let ne=0;ne<W.length;ne++)b(A,W[ne]);if(j){let ne=j.subTree;if(R===ne){const ce=j.vnode;O(A,ce,ce.scopeId,ce.slotScopeIds,j.parent)}}},V=(A,R,L,W,j,ne,ce,te,re=0)=>{for(let Q=re;Q<A.length;Q++){const de=A[Q]=te?oo(A[Q]):ks(A[Q]);_(null,de,R,L,W,j,ne,ce,te)}},$=(A,R,L,W,j,ne,ce)=>{const te=R.el=A.el;let{patchFlag:re,dynamicChildren:Q,dirs:de}=R;re|=A.patchFlag&16;const we=A.props||Dt,Te=R.props||Dt;let Re;if(L&&ia(L,!1),(Re=Te.onVnodeBeforeUpdate)&&Ps(Re,L,R,A),de&&na(R,A,L,"beforeUpdate"),L&&ia(L,!0),Q?ie(A.dynamicChildren,Q,te,L,W,P_(R,j),ne):ce||Ie(A,R,te,null,L,W,P_(R,j),ne,!1),re>0){if(re&16)U(te,R,we,Te,L,W,j);else if(re&2&&we.class!==Te.class&&r(te,"class",null,Te.class,j),re&4&&r(te,"style",we.style,Te.style,j),re&8){const He=R.dynamicProps;for(let et=0;et<He.length;et++){const ct=He[et],St=we[ct],dn=Te[ct];(dn!==St||ct==="value")&&r(te,ct,St,dn,j,A.children,L,W,qe)}}re&1&&A.children!==R.children&&f(te,R.children)}else!ce&&Q==null&&U(te,R,we,Te,L,W,j);((Re=Te.onVnodeUpdated)||de)&&Ei(()=>{Re&&Ps(Re,L,R,A),de&&na(R,A,L,"updated")},W)},ie=(A,R,L,W,j,ne,ce)=>{for(let te=0;te<R.length;te++){const re=A[te],Q=R[te],de=re.el&&(re.type===wn||!Xu(re,Q)||re.shapeFlag&70)?g(re.el):L;_(re,Q,de,null,W,j,ne,ce,!0)}},U=(A,R,L,W,j,ne,ce)=>{if(L!==W){if(L!==Dt)for(const te in L)!Sh(te)&&!(te in W)&&r(A,te,L[te],null,ce,R.children,j,ne,qe);for(const te in W){if(Sh(te))continue;const re=W[te],Q=L[te];re!==Q&&te!=="value"&&r(A,te,Q,re,ce,R.children,j,ne,qe)}"value"in W&&r(A,"value",L.value,W.value,ce)}},me=(A,R,L,W,j,ne,ce,te,re)=>{const Q=R.el=A?A.el:c(""),de=R.anchor=A?A.anchor:c("");let{patchFlag:we,dynamicChildren:Te,slotScopeIds:Re}=R;Re&&(te=te?te.concat(Re):Re),A==null?(i(Q,L,W),i(de,L,W),V(R.children||[],L,de,j,ne,ce,te,re)):we>0&&we&64&&Te&&A.dynamicChildren?(ie(A.dynamicChildren,Te,L,j,ne,ce,te),(R.key!=null||j&&R===j.subTree)&&wk(A,R,!0)):Ie(A,R,L,de,j,ne,ce,te,re)},ye=(A,R,L,W,j,ne,ce,te,re)=>{R.slotScopeIds=te,A==null?R.shapeFlag&512?j.ctx.activate(R,L,W,ce,re):Ze(R,L,W,j,ne,ce,re):pe(A,R,re)},Ze=(A,R,L,W,j,ne,ce)=>{const te=A.component=q4(A,W,j);if(uk(A)&&(te.ctx.renderer=_e),K4(te),te.asyncDep){if(j&&j.registerDep(te,Y),!A.el){const re=te.subTree=Se(ka);T(null,re,R,L)}}else Y(te,A,R,L,j,ne,ce)},pe=(A,R,L)=>{const W=R.component=A.component;if(n4(A,R,L))if(W.asyncDep&&!W.asyncResolved){se(W,R,L);return}else W.next=R,XF(W.update),W.effect.dirty=!0,W.update();else R.el=A.el,W.vnode=R},Y=(A,R,L,W,j,ne,ce)=>{const te=()=>{if(A.isMounted){let{next:de,bu:we,u:Te,parent:Re,vnode:He}=A;{const ai=Ek(A);if(ai){de&&(de.el=He.el,se(A,de,ce)),ai.asyncDep.then(()=>{A.isUnmounted||te()});return}}let et=de,ct;ia(A,!1),de?(de.el=He.el,se(A,de,ce)):de=He,we&&ag(we),(ct=de.props&&de.props.onVnodeBeforeUpdate)&&Ps(ct,Re,de,He),ia(A,!0);const St=A_(A),dn=A.subTree;A.subTree=St,_(dn,St,g(dn.el),B(dn),A,j,ne),de.el=St.el,et===null&&i4(A,St.el),Te&&Ei(Te,j),(ct=de.props&&de.props.onVnodeUpdated)&&Ei(()=>Ps(ct,Re,de,He),j)}else{let de;const{el:we,props:Te}=R,{bm:Re,m:He,parent:et}=A,ct=lg(R);if(ia(A,!1),Re&&ag(Re),!ct&&(de=Te&&Te.onVnodeBeforeMount)&&Ps(de,et,R),ia(A,!0),we&&_t){const St=()=>{A.subTree=A_(A),_t(we,A.subTree,A,j,null)};ct?R.type.__asyncLoader().then(()=>!A.isUnmounted&&St()):St()}else{const St=A.subTree=A_(A);_(null,St,L,W,A,j,ne),R.el=St.el}if(He&&Ei(He,j),!ct&&(de=Te&&Te.onVnodeMounted)){const St=R;Ei(()=>Ps(de,et,St),j)}(R.shapeFlag&256||et&&lg(et.vnode)&&et.vnode.shapeFlag&256)&&A.a&&Ei(A.a,j),A.isMounted=!0,R=L=W=null}},re=A.effect=new z0(te,Yi,()=>Z0(Q),A.scope),Q=A.update=()=>{re.dirty&&re.run()};Q.id=A.uid,ia(A,!0),Q()},se=(A,R,L)=>{R.component=A;const W=A.vnode.props;A.vnode=R,A.next=null,k4(A,R.props,W,L),M4(A,R.children,L),Ba(),IA(A),ja()},Ie=(A,R,L,W,j,ne,ce,te,re=!1)=>{const Q=A&&A.children,de=A?A.shapeFlag:0,we=R.children,{patchFlag:Te,shapeFlag:Re}=R;if(Te>0){if(Te&128){Tt(Q,we,L,W,j,ne,ce,te,re);return}else if(Te&256){st(Q,we,L,W,j,ne,ce,te,re);return}}Re&8?(de&16&&qe(Q,j,ne),we!==Q&&f(L,we)):de&16?Re&16?Tt(Q,we,L,W,j,ne,ce,te,re):qe(Q,j,ne,!0):(de&8&&f(L,""),Re&16&&V(we,L,W,j,ne,ce,te,re))},st=(A,R,L,W,j,ne,ce,te,re)=>{A=A||zc,R=R||zc;const Q=A.length,de=R.length,we=Math.min(Q,de);let Te;for(Te=0;Te<we;Te++){const Re=R[Te]=re?oo(R[Te]):ks(R[Te]);_(A[Te],Re,L,null,j,ne,ce,te,re)}Q>de?qe(A,j,ne,!0,!1,we):V(R,L,W,j,ne,ce,te,re,we)},Tt=(A,R,L,W,j,ne,ce,te,re)=>{let Q=0;const de=R.length;let we=A.length-1,Te=de-1;for(;Q<=we&&Q<=Te;){const Re=A[Q],He=R[Q]=re?oo(R[Q]):ks(R[Q]);if(Xu(Re,He))_(Re,He,L,null,j,ne,ce,te,re);else break;Q++}for(;Q<=we&&Q<=Te;){const Re=A[we],He=R[Te]=re?oo(R[Te]):ks(R[Te]);if(Xu(Re,He))_(Re,He,L,null,j,ne,ce,te,re);else break;we--,Te--}if(Q>we){if(Q<=Te){const Re=Te+1,He=Re<de?R[Re].el:W;for(;Q<=Te;)_(null,R[Q]=re?oo(R[Q]):ks(R[Q]),L,He,j,ne,ce,te,re),Q++}}else if(Q>Te)for(;Q<=we;)mt(A[Q],j,ne,!0),Q++;else{const Re=Q,He=Q,et=new Map;for(Q=He;Q<=Te;Q++){const At=R[Q]=re?oo(R[Q]):ks(R[Q]);At.key!=null&&et.set(At.key,Q)}let ct,St=0;const dn=Te-He+1;let ai=!1,ws=0;const Kt=new Array(dn);for(Q=0;Q<dn;Q++)Kt[Q]=0;for(Q=Re;Q<=we;Q++){const At=A[Q];if(St>=dn){mt(At,j,ne,!0);continue}let vi;if(At.key!=null)vi=et.get(At.key);else for(ct=He;ct<=Te;ct++)if(Kt[ct-He]===0&&Xu(At,R[ct])){vi=ct;break}vi===void 0?mt(At,j,ne,!0):(Kt[vi-He]=Q+1,vi>=ws?ws=vi:ai=!0,_(At,R[vi],L,null,j,ne,ce,te,re),St++)}const Gn=ai?F4(Kt):zc;for(ct=Gn.length-1,Q=dn-1;Q>=0;Q--){const At=He+Q,vi=R[At],Xa=At+1<de?R[At+1].el:W;Kt[Q]===0?_(null,vi,L,Xa,j,ne,ce,te,re):ai&&(ct<0||Q!==Gn[ct]?on(vi,L,Xa,2):ct--)}}},on=(A,R,L,W,j=null)=>{const{el:ne,type:ce,transition:te,children:re,shapeFlag:Q}=A;if(Q&6){on(A.component.subTree,R,L,W);return}if(Q&128){A.suspense.move(R,L,W);return}if(Q&64){ce.move(A,R,L,_e);return}if(ce===wn){i(ne,R,L);for(let we=0;we<re.length;we++)on(re[we],R,L,W);i(A.anchor,R,L);return}if(ce===hg){x(A,R,L);return}if(W!==2&&Q&1&&te)if(W===0)te.beforeEnter(ne),i(ne,R,L),Ei(()=>te.enter(ne),j);else{const{leave:we,delayLeave:Te,afterLeave:Re}=te,He=()=>i(ne,R,L),et=()=>{we(ne,()=>{He(),Re&&Re()})};Te?Te(ne,He,et):et()}else i(ne,R,L)},mt=(A,R,L,W=!1,j=!1)=>{const{type:ne,props:ce,ref:te,children:re,dynamicChildren:Q,shapeFlag:de,patchFlag:we,dirs:Te}=A;if(te!=null&&xb(te,null,L,A,!0),de&256){R.ctx.deactivate(A);return}const Re=de&1&&Te,He=!lg(A);let et;if(He&&(et=ce&&ce.onVnodeBeforeUnmount)&&Ps(et,R,A),de&6)yi(A.component,L,W);else{if(de&128){A.suspense.unmount(L,W);return}Re&&na(A,null,R,"beforeUnmount"),de&64?A.type.remove(A,R,L,j,_e,W):Q&&(ne!==wn||we>0&&we&64)?qe(Q,R,L,!1,!0):(ne===wn&&we&384||!j&&de&16)&&qe(re,R,L),W&&Bn(A)}(He&&(et=ce&&ce.onVnodeUnmounted)||Re)&&Ei(()=>{et&&Ps(et,R,A),Re&&na(A,null,R,"unmounted")},L)},Bn=A=>{const{type:R,el:L,anchor:W,transition:j}=A;if(R===wn){Ct(L,W);return}if(R===hg){k(A);return}const ne=()=>{s(L),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(A.shapeFlag&1&&j&&!j.persisted){const{leave:ce,delayLeave:te}=j,re=()=>ce(L,ne);te?te(A.el,ne,re):re()}else ne()},Ct=(A,R)=>{let L;for(;A!==R;)L=y(A),s(A),A=L;s(R)},yi=(A,R,L)=>{const{bum:W,scope:j,update:ne,subTree:ce,um:te}=A;W&&ag(W),j.stop(),ne&&(ne.active=!1,mt(ce,A,R,L)),te&&Ei(te,R),Ei(()=>{A.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},qe=(A,R,L,W=!1,j=!1,ne=0)=>{for(let ce=ne;ce<A.length;ce++)mt(A[ce],R,L,W,j)},B=A=>A.shapeFlag&6?B(A.component.subTree):A.shapeFlag&128?A.suspense.next():y(A.anchor||A.el);let he=!1;const ae=(A,R,L)=>{A==null?R._vnode&&mt(R._vnode,null,null,!0):_(R._vnode||null,A,R,null,null,null,L),he||(he=!0,IA(),ik(),he=!1),R._vnode=A},_e={p:_,um:mt,m:on,r:Bn,mt:Ze,mc:V,pc:Ie,pbc:ie,n:B,o:t};let rt,_t;return e&&([rt,_t]=e(_e)),{render:ae,hydrate:rt,createApp:R4(ae,rt)}}function P_({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function ia({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function V4(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function wk(t,e,n=!1){const i=t.children,s=e.children;if(Oe(i)&&Oe(s))for(let r=0;r<i.length;r++){const a=i[r];let c=s[r];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[r]=oo(s[r]),c.el=a.el),n||wk(a,c)),c.type===Mm&&(c.el=a.el)}}function F4(t){const e=t.slice(),n=[0];let i,s,r,a,c;const u=t.length;for(i=0;i<u;i++){const d=t[i];if(d!==0){if(s=n[n.length-1],t[s]<d){e[i]=s,n.push(i);continue}for(r=0,a=n.length-1;r<a;)c=r+a>>1,t[n[c]]<d?r=c+1:a=c;d<t[n[r]]&&(r>0&&(e[i]=n[r-1]),n[r]=i)}}for(r=n.length,a=n[r-1];r-- >0;)n[r]=a,a=e[a];return n}function Ek(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Ek(e)}const U4=t=>t.__isTeleport,wn=Symbol.for("v-fgt"),Mm=Symbol.for("v-txt"),ka=Symbol.for("v-cmt"),hg=Symbol.for("v-stc"),Ph=[];let hs=null;function Ce(t=!1){Ph.push(hs=t?null:[])}function B4(){Ph.pop(),hs=Ph[Ph.length-1]||null}let Yh=1;function MA(t){Yh+=t}function Ik(t){return t.dynamicChildren=Yh>0?hs||zc:null,B4(),Yh>0&&hs&&hs.push(t),t}function xe(t,e,n,i,s,r){return Ik(P(t,e,n,i,s,r,!0))}function Nm(t,e,n,i,s){return Ik(Se(t,e,n,i,s,!0))}function kb(t){return t?t.__v_isVNode===!0:!1}function Xu(t,e){return t.type===e.type&&t.key===e.key}const Lm="__vInternal",Tk=({key:t})=>t??null,dg=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Rn(t)||Ri(t)||$e(t)?{i:Ai,r:t,k:e,f:!!n}:t:null);function P(t,e=null,n=null,i=0,s=null,r=t===wn?0:1,a=!1,c=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Tk(e),ref:e&&dg(e),scopeId:Dm,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Ai};return c?(nw(u,n),r&128&&t.normalize(u)):n&&(u.shapeFlag|=Rn(n)?8:16),Yh>0&&!a&&hs&&(u.patchFlag>0||r&6)&&u.patchFlag!==32&&hs.push(u),u}const Se=j4;function j4(t,e=null,n=null,i=0,s=null,r=!1){if((!t||t===s4)&&(t=ka),kb(t)){const c=al(t,e,!0);return n&&nw(c,n),Yh>0&&!r&&hs&&(c.shapeFlag&6?hs[hs.indexOf(t)]=c:hs.push(c)),c.patchFlag|=-2,c}if(J4(t)&&(t=t.__vccOpts),e){e=$4(e);let{class:c,style:u}=e;c&&!Rn(c)&&(e.class=di(c)),kt(u)&&(Yx(u)&&!Oe(u)&&(u=Kn({},u)),e.style=Am(u))}const a=Rn(t)?1:o4(t)?128:U4(t)?64:kt(t)?4:$e(t)?2:0;return P(t,e,n,i,s,a,r,!0)}function $4(t){return t?Yx(t)||Lm in t?Kn({},t):t:null}function al(t,e,n=!1){const{props:i,ref:s,patchFlag:r,children:a}=t,c=e?H4(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Tk(c),ref:e&&e.ref?n&&s?Oe(s)?s.concat(dg(e)):[s,dg(e)]:dg(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==wn?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&al(t.ssContent),ssFallback:t.ssFallback&&al(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function On(t=" ",e=0){return Se(Mm,null,t,e)}function Pl(t,e){const n=Se(hg,null,t);return n.staticCount=e,n}function pi(t="",e=!1){return e?(Ce(),Nm(ka,null,t)):Se(ka,null,t)}function ks(t){return t==null||typeof t=="boolean"?Se(ka):Oe(t)?Se(wn,null,t.slice()):typeof t=="object"?oo(t):Se(Mm,null,String(t))}function oo(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:al(t)}function nw(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Oe(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),nw(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(Lm in e)?e._ctx=Ai:s===3&&Ai&&(Ai.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else $e(e)?(e={default:e,_ctx:Ai},n=32):(e=String(e),i&64?(n=16,e=[On(e)]):n=8);t.children=e,t.shapeFlag|=n}function H4(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=di([e.class,i.class]));else if(s==="style")e.style=Am([e.style,i.style]);else if(Em(s)){const r=e[s],a=i[s];a&&r!==a&&!(Oe(r)&&r.includes(a))&&(e[s]=r?[].concat(r,a):a)}else s!==""&&(e[s]=i[s])}return e}function Ps(t,e,n,i=null){fs(t,e,7,[n,i])}const z4=gk();let W4=0;function q4(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||z4,r={uid:W4++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new EF(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:yk(i,s),emitsOptions:rk(i,s),emit:null,emitted:null,propsDefaults:Dt,inheritAttrs:i.inheritAttrs,ctx:Dt,data:Dt,props:Dt,attrs:Dt,slots:Dt,refs:Dt,setupState:Dt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=ZF.bind(null,r),t.ce&&t.ce(r),r}let ei=null,Bg,Db;{const t=Ox(),e=(n,i)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(i),r=>{s.length>1?s.forEach(a=>a(r)):s[0](r)}};Bg=e("__VUE_INSTANCE_SETTERS__",n=>ei=n),Db=e("__VUE_SSR_SETTERS__",n=>Vm=n)}const xd=t=>{const e=ei;return Bg(t),t.scope.on(),()=>{t.scope.off(),Bg(e)}},NA=()=>{ei&&ei.scope.off(),Bg(null)};function Sk(t){return t.vnode.shapeFlag&4}let Vm=!1;function K4(t,e=!1){e&&Db(e);const{props:n,children:i}=t.vnode,s=Sk(t);x4(t,n,s,e),O4(t,i);const r=s?G4(t,e):void 0;return e&&Db(!1),r}function G4(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Xx(new Proxy(t.ctx,E4));const{setup:i}=n;if(i){const s=t.setupContext=i.length>1?X4(t):null,r=xd(t);Ba();const a=yo(i,t,0,[t.props,s]);if(ja(),r(),xx(a)){if(a.then(NA,NA),e)return a.then(c=>{LA(t,c,e)}).catch(c=>{xm(c,t,0)});t.asyncDep=a}else LA(t,a,e)}else Ak(t,e)}function LA(t,e,n){$e(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:kt(e)&&(t.setupState=ek(e)),Ak(t,n)}let VA;function Ak(t,e,n){const i=t.type;if(!t.render){if(!e&&VA&&!i.render){const s=i.template||ew(t).template;if(s){const{isCustomElement:r,compilerOptions:a}=t.appContext.config,{delimiters:c,compilerOptions:u}=i,d=Kn(Kn({isCustomElement:r,delimiters:c},a),u);i.render=VA(s,d)}}t.render=i.render||Yi}{const s=xd(t);Ba();try{I4(t)}finally{ja(),s()}}}function Y4(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Pi(t,"get","$attrs"),e[n]}}))}function X4(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return Y4(t)},slots:t.slots,emit:t.emit,expose:e}}function Fm(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(ek(Xx(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ah)return Ah[n](t)},has(e,n){return n in e||n in Ah}}))}function Q4(t,e=!0){return $e(t)?t.displayName||t.name:t.name||e&&t.__name}function J4(t){return $e(t)&&"__vccOpts"in t}const us=(t,e)=>zF(t,e,Vm);function Ck(t,e,n){const i=arguments.length;return i===2?kt(e)&&!Oe(e)?kb(e)?Se(t,null,[e]):Se(t,e):Se(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&kb(n)&&(n=[n]),Se(t,e,n))}const Z4="3.4.21";/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const e5="http://www.w3.org/2000/svg",t5="http://www.w3.org/1998/Math/MathML",ao=typeof document<"u"?document:null,FA=ao&&ao.createElement("template"),n5={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e==="svg"?ao.createElementNS(e5,t):e==="mathml"?ao.createElementNS(t5,t):ao.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>ao.createTextNode(t),createComment:t=>ao.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ao.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,r){const a=n?n.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{FA.innerHTML=i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t;const c=FA.content;if(i==="svg"||i==="mathml"){const u=c.firstChild;for(;u.firstChild;)c.appendChild(u.firstChild);c.removeChild(u)}e.insertBefore(c,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},i5=Symbol("_vtc");function s5(t,e,n){const i=t[i5];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const UA=Symbol("_vod"),r5=Symbol("_vsh"),o5=Symbol(""),a5=/(^|;)\s*display\s*:/;function c5(t,e,n){const i=t.style,s=Rn(n);let r=!1;if(n&&!s){if(e)if(Rn(e))for(const a of e.split(";")){const c=a.slice(0,a.indexOf(":")).trim();n[c]==null&&fg(i,c,"")}else for(const a in e)n[a]==null&&fg(i,a,"");for(const a in n)a==="display"&&(r=!0),fg(i,a,n[a])}else if(s){if(e!==n){const a=i[o5];a&&(n+=";"+a),i.cssText=n,r=a5.test(n)}}else e&&t.removeAttribute("style");UA in t&&(t[UA]=r?i.display:"",t[r5]&&(i.display="none"))}const BA=/\s*!important$/;function fg(t,e,n){if(Oe(n))n.forEach(i=>fg(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=l5(t,e);BA.test(n)?t.setProperty(Cl(i),n.replace(BA,""),"important"):t[i]=n}}const jA=["Webkit","Moz","ms"],R_={};function l5(t,e){const n=R_[e];if(n)return n;let i=qs(e);if(i!=="filter"&&i in t)return R_[e]=i;i=Sm(i);for(let s=0;s<jA.length;s++){const r=jA[s]+i;if(r in t)return R_[e]=r}return e}const $A="http://www.w3.org/1999/xlink";function u5(t,e,n,i,s){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS($A,e.slice(6,e.length)):t.setAttributeNS($A,e,n);else{const r=_F(e);n==null||r&&!Mx(n)?t.removeAttribute(e):t.setAttribute(e,r?"":n)}}function h5(t,e,n,i,s,r,a){if(e==="innerHTML"||e==="textContent"){i&&a(i,s,r),t[e]=n??"";return}const c=t.tagName;if(e==="value"&&c!=="PROGRESS"&&!c.includes("-")){const d=c==="OPTION"?t.getAttribute("value")||"":t.value,f=n??"";(d!==f||!("_value"in t))&&(t.value=f),n==null&&t.removeAttribute(e),t._value=n;return}let u=!1;if(n===""||n==null){const d=typeof t[e];d==="boolean"?n=Mx(n):n==null&&d==="string"?(n="",u=!0):d==="number"&&(n=0,u=!0)}try{t[e]=n}catch{}u&&t.removeAttribute(e)}function da(t,e,n,i){t.addEventListener(e,n,i)}function d5(t,e,n,i){t.removeEventListener(e,n,i)}const HA=Symbol("_vei");function f5(t,e,n,i,s=null){const r=t[HA]||(t[HA]={}),a=r[e];if(i&&a)a.value=i;else{const[c,u]=p5(e);if(i){const d=r[e]=y5(i,s);da(t,c,d,u)}else a&&(d5(t,c,a,u),r[e]=void 0)}}const zA=/(?:Once|Passive|Capture)$/;function p5(t){let e;if(zA.test(t)){e={};let i;for(;i=t.match(zA);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Cl(t.slice(2)),e]}let x_=0;const g5=Promise.resolve(),m5=()=>x_||(g5.then(()=>x_=0),x_=Date.now());function y5(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;fs(v5(i,n.value),e,5,[i])};return n.value=t,n.attached=m5(),n}function v5(t,e){if(Oe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const WA=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,_5=(t,e,n,i,s,r,a,c,u)=>{const d=s==="svg";e==="class"?s5(t,i,d):e==="style"?c5(t,n,i):Em(e)?j0(e)||f5(t,e,n,i,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):b5(t,e,i,d))?h5(t,e,i,r,a,c,u):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),u5(t,e,i,d))};function b5(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&WA(e)&&$e(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return WA(e)&&Rn(n)?!1:e in t}const jg=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Oe(e)?n=>ag(e,n):e};function w5(t){t.target.composing=!0}function qA(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Xc=Symbol("_assign"),Bt={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t[Xc]=jg(s);const r=i||s.props&&s.props.type==="number";da(t,e?"change":"input",a=>{if(a.target.composing)return;let c=t.value;n&&(c=c.trim()),r&&(c=Wh(c)),t[Xc](c)}),n&&da(t,"change",()=>{t.value=t.value.trim()}),e||(da(t,"compositionstart",w5),da(t,"compositionend",qA),da(t,"change",qA))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:s}},r){if(t[Xc]=jg(r),t.composing)return;const a=s||t.type==="number"?Wh(t.value):t.value,c=e??"";a!==c&&(document.activeElement===t&&t.type!=="range"&&(n||i&&t.value.trim()===c)||(t.value=c))}},ji={deep:!0,created(t,{value:e,modifiers:{number:n}},i){const s=Im(e);da(t,"change",()=>{const r=Array.prototype.filter.call(t.options,a=>a.selected).map(a=>n?Wh($g(a)):$g(a));t[Xc](t.multiple?s?new Set(r):r:r[0]),t._assigning=!0,J0(()=>{t._assigning=!1})}),t[Xc]=jg(i)},mounted(t,{value:e,modifiers:{number:n}}){KA(t,e,n)},beforeUpdate(t,e,n){t[Xc]=jg(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||KA(t,e,n)}};function KA(t,e,n){const i=t.multiple,s=Oe(e);if(!(i&&!s&&!Im(e))){for(let r=0,a=t.options.length;r<a;r++){const c=t.options[r],u=$g(c);if(i)if(s){const d=typeof u;d==="string"||d==="number"?c.selected=e.includes(n?Wh(u):u):c.selected=wF(e,u)>-1}else c.selected=e.has(u);else if(Cm($g(c),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!i&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function $g(t){return"_value"in t?t._value:t.value}const E5=["ctrl","shift","alt","meta"],I5={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>E5.some(n=>t[`${n}Key`]&&!e.includes(n))},Um=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(s,...r)=>{for(let a=0;a<e.length;a++){const c=I5[e[a]];if(c&&c(s,e))return}return t(s,...r)})},T5=Kn({patchProp:_5},n5);let GA;function S5(){return GA||(GA=N4(T5))}const A5=(...t)=>{const e=S5().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=P5(i);if(!s)return;const r=e._component;!$e(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.innerHTML="";const a=n(s,!1,C5(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},e};function C5(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function P5(t){return Rn(t)?document.querySelector(t):t}const qt=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n};console.log("in App");const R5={name:"App"};function x5(t,e,n,i,s,r){const a=Je("router-view");return Ce(),Nm(a)}const k5=qt(R5,[["render",x5]]);/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Fc=typeof document<"u";function D5(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const wt=Object.assign;function k_(t,e){const n={};for(const i in e){const s=e[i];n[i]=gs(s)?s.map(t):t(s)}return n}const Rh=()=>{},gs=Array.isArray,Pk=/#/g,O5=/&/g,M5=/\//g,N5=/=/g,L5=/\?/g,Rk=/\+/g,V5=/%5B/g,F5=/%5D/g,xk=/%5E/g,U5=/%60/g,kk=/%7B/g,B5=/%7C/g,Dk=/%7D/g,j5=/%20/g;function iw(t){return encodeURI(""+t).replace(B5,"|").replace(V5,"[").replace(F5,"]")}function $5(t){return iw(t).replace(kk,"{").replace(Dk,"}").replace(xk,"^")}function Ob(t){return iw(t).replace(Rk,"%2B").replace(j5,"+").replace(Pk,"%23").replace(O5,"%26").replace(U5,"`").replace(kk,"{").replace(Dk,"}").replace(xk,"^")}function H5(t){return Ob(t).replace(N5,"%3D")}function z5(t){return iw(t).replace(Pk,"%23").replace(L5,"%3F")}function W5(t){return t==null?"":z5(t).replace(M5,"%2F")}function Xh(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const q5=/\/$/,K5=t=>t.replace(q5,"");function D_(t,e,n="/"){let i,s={},r="",a="";const c=e.indexOf("#");let u=e.indexOf("?");return c<u&&c>=0&&(u=-1),u>-1&&(i=e.slice(0,u),r=e.slice(u+1,c>-1?c:e.length),s=t(r)),c>-1&&(i=i||e.slice(0,c),a=e.slice(c,e.length)),i=Q5(i??e,n),{fullPath:i+(r&&"?")+r+a,path:i,query:s,hash:Xh(a)}}function G5(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function YA(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Y5(t,e,n){const i=e.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&cl(e.matched[i],n.matched[s])&&Ok(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function cl(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Ok(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!X5(t[n],e[n]))return!1;return!0}function X5(t,e){return gs(t)?XA(t,e):gs(e)?XA(e,t):t===e}function XA(t,e){return gs(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function Q5(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let r=n.length-1,a,c;for(a=0;a<i.length;a++)if(c=i[a],c!==".")if(c==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(a).join("/")}var Qh;(function(t){t.pop="pop",t.push="push"})(Qh||(Qh={}));var xh;(function(t){t.back="back",t.forward="forward",t.unknown=""})(xh||(xh={}));function J5(t){if(!t)if(Fc){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),K5(t)}const Z5=/^[^#]+#/;function e3(t,e){return t.replace(Z5,"#")+e}function t3(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const Bm=()=>({left:window.scrollX,top:window.scrollY});function n3(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=t3(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function QA(t,e){return(history.state?history.state.position-e:-1)+t}const Mb=new Map;function i3(t,e){Mb.set(t,e)}function s3(t){const e=Mb.get(t);return Mb.delete(t),e}let r3=()=>location.protocol+"//"+location.host;function Mk(t,e){const{pathname:n,search:i,hash:s}=e,r=t.indexOf("#");if(r>-1){let c=s.includes(t.slice(r))?t.slice(r).length:1,u=s.slice(c);return u[0]!=="/"&&(u="/"+u),YA(u,"")}return YA(n,t)+i+s}function o3(t,e,n,i){let s=[],r=[],a=null;const c=({state:y})=>{const b=Mk(t,location),E=n.value,_=e.value;let w=0;if(y){if(n.value=b,e.value=y,a&&a===E){a=null;return}w=_?y.position-_.position:0}else i(b);s.forEach(T=>{T(n.value,E,{delta:w,type:Qh.pop,direction:w?w>0?xh.forward:xh.back:xh.unknown})})};function u(){a=n.value}function d(y){s.push(y);const b=()=>{const E=s.indexOf(y);E>-1&&s.splice(E,1)};return r.push(b),b}function f(){const{history:y}=window;y.state&&y.replaceState(wt({},y.state,{scroll:Bm()}),"")}function g(){for(const y of r)y();r=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:u,listen:d,destroy:g}}function JA(t,e,n,i=!1,s=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:s?Bm():null}}function a3(t){const{history:e,location:n}=window,i={value:Mk(t,n)},s={value:e.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(u,d,f){const g=t.indexOf("#"),y=g>-1?(n.host&&document.querySelector("base")?t:t.slice(g))+u:r3()+t+u;try{e[f?"replaceState":"pushState"](d,"",y),s.value=d}catch(b){console.error(b),n[f?"replace":"assign"](y)}}function a(u,d){const f=wt({},e.state,JA(s.value.back,u,s.value.forward,!0),d,{position:s.value.position});r(u,f,!0),i.value=u}function c(u,d){const f=wt({},s.value,e.state,{forward:u,scroll:Bm()});r(f.current,f,!0);const g=wt({},JA(i.value,u,null),{position:f.position+1},d);r(u,g,!1),i.value=u}return{location:i,state:s,push:c,replace:a}}function c3(t){t=J5(t);const e=a3(t),n=o3(t,e.state,e.location,e.replace);function i(r,a=!0){a||n.pauseListeners(),history.go(r)}const s=wt({location:"",base:t,go:i,createHref:e3.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function l3(t){return typeof t=="string"||t&&typeof t=="object"}function Nk(t){return typeof t=="string"||typeof t=="symbol"}const to={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Lk=Symbol("");var ZA;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(ZA||(ZA={}));function ll(t,e){return wt(new Error,{type:t,[Lk]:!0},e)}function cr(t,e){return t instanceof Error&&Lk in t&&(e==null||!!(t.type&e))}const eC="[^/]+?",u3={sensitive:!1,strict:!1,start:!0,end:!0},h3=/[.+*?^${}()[\]/\\]/g;function d3(t,e){const n=wt({},u3,e),i=[];let s=n.start?"^":"";const r=[];for(const d of t){const f=d.length?[]:[90];n.strict&&!d.length&&(s+="/");for(let g=0;g<d.length;g++){const y=d[g];let b=40+(n.sensitive?.25:0);if(y.type===0)g||(s+="/"),s+=y.value.replace(h3,"\\$&"),b+=40;else if(y.type===1){const{value:E,repeatable:_,optional:w,regexp:T}=y;r.push({name:E,repeatable:_,optional:w});const S=T||eC;if(S!==eC){b+=10;try{new RegExp(`(${S})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${E}" (${S}): `+k.message)}}let x=_?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;g||(x=w&&d.length<2?`(?:/${x})`:"/"+x),w&&(x+="?"),s+=x,b+=20,w&&(b+=-8),_&&(b+=-20),S===".*"&&(b+=-50)}f.push(b)}i.push(f)}if(n.strict&&n.end){const d=i.length-1;i[d][i[d].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const a=new RegExp(s,n.sensitive?"":"i");function c(d){const f=d.match(a),g={};if(!f)return null;for(let y=1;y<f.length;y++){const b=f[y]||"",E=r[y-1];g[E.name]=b&&E.repeatable?b.split("/"):b}return g}function u(d){let f="",g=!1;for(const y of t){(!g||!f.endsWith("/"))&&(f+="/"),g=!1;for(const b of y)if(b.type===0)f+=b.value;else if(b.type===1){const{value:E,repeatable:_,optional:w}=b,T=E in d?d[E]:"";if(gs(T)&&!_)throw new Error(`Provided param "${E}" is an array but it is not repeatable (* or + modifiers)`);const S=gs(T)?T.join("/"):T;if(!S)if(w)y.length<2&&(f.endsWith("/")?f=f.slice(0,-1):g=!0);else throw new Error(`Missing required param "${E}"`);f+=S}}return f||"/"}return{re:a,score:i,keys:r,parse:c,stringify:u}}function f3(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function p3(t,e){let n=0;const i=t.score,s=e.score;for(;n<i.length&&n<s.length;){const r=f3(i[n],s[n]);if(r)return r;n++}if(Math.abs(s.length-i.length)===1){if(tC(i))return 1;if(tC(s))return-1}return s.length-i.length}function tC(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const g3={type:0,value:""},m3=/[a-zA-Z0-9_]/;function y3(t){if(!t)return[[]];if(t==="/")return[[g3]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(b){throw new Error(`ERR (${n})/"${d}": ${b}`)}let n=0,i=n;const s=[];let r;function a(){r&&s.push(r),r=[]}let c=0,u,d="",f="";function g(){d&&(n===0?r.push({type:0,value:d}):n===1||n===2||n===3?(r.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:d,regexp:f,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),d="")}function y(){d+=u}for(;c<t.length;){if(u=t[c++],u==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:u==="/"?(d&&g(),a()):u===":"?(g(),n=1):y();break;case 4:y(),n=i;break;case 1:u==="("?n=2:m3.test(u)?y():(g(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&c--);break;case 2:u===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+u:n=3:f+=u;break;case 3:g(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&c--,f="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${d}"`),g(),a(),s}function v3(t,e,n){const i=d3(y3(t.path),n),s=wt(i,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function _3(t,e){const n=[],i=new Map;e=sC({strict:!1,end:!0,sensitive:!1},e);function s(f){return i.get(f)}function r(f,g,y){const b=!y,E=b3(f);E.aliasOf=y&&y.record;const _=sC(e,f),w=[E];if("alias"in f){const x=typeof f.alias=="string"?[f.alias]:f.alias;for(const k of x)w.push(wt({},E,{components:y?y.record.components:E.components,path:k,aliasOf:y?y.record:E}))}let T,S;for(const x of w){const{path:k}=x;if(g&&k[0]!=="/"){const D=g.record.path,N=D[D.length-1]==="/"?"":"/";x.path=g.record.path+(k&&N+k)}if(T=v3(x,g,_),y?y.alias.push(T):(S=S||T,S!==T&&S.alias.push(T),b&&f.name&&!iC(T)&&a(f.name)),E.children){const D=E.children;for(let N=0;N<D.length;N++)r(D[N],T,y&&y.children[N])}y=y||T,(T.record.components&&Object.keys(T.record.components).length||T.record.name||T.record.redirect)&&u(T)}return S?()=>{a(S)}:Rh}function a(f){if(Nk(f)){const g=i.get(f);g&&(i.delete(f),n.splice(n.indexOf(g),1),g.children.forEach(a),g.alias.forEach(a))}else{const g=n.indexOf(f);g>-1&&(n.splice(g,1),f.record.name&&i.delete(f.record.name),f.children.forEach(a),f.alias.forEach(a))}}function c(){return n}function u(f){let g=0;for(;g<n.length&&p3(f,n[g])>=0&&(f.record.path!==n[g].record.path||!Vk(f,n[g]));)g++;n.splice(g,0,f),f.record.name&&!iC(f)&&i.set(f.record.name,f)}function d(f,g){let y,b={},E,_;if("name"in f&&f.name){if(y=i.get(f.name),!y)throw ll(1,{location:f});_=y.record.name,b=wt(nC(g.params,y.keys.filter(S=>!S.optional).concat(y.parent?y.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),f.params&&nC(f.params,y.keys.map(S=>S.name))),E=y.stringify(b)}else if(f.path!=null)E=f.path,y=n.find(S=>S.re.test(E)),y&&(b=y.parse(E),_=y.record.name);else{if(y=g.name?i.get(g.name):n.find(S=>S.re.test(g.path)),!y)throw ll(1,{location:f,currentLocation:g});_=y.record.name,b=wt({},g.params,f.params),E=y.stringify(b)}const w=[];let T=y;for(;T;)w.unshift(T.record),T=T.parent;return{name:_,path:E,params:b,matched:w,meta:E3(w)}}return t.forEach(f=>r(f)),{addRoute:r,resolve:d,removeRoute:a,getRoutes:c,getRecordMatcher:s}}function nC(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function b3(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:w3(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function w3(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function iC(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function E3(t){return t.reduce((e,n)=>wt(e,n.meta),{})}function sC(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function Vk(t,e){return e.children.some(n=>n===t||Vk(t,n))}function I3(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace(Rk," "),a=r.indexOf("="),c=Xh(a<0?r:r.slice(0,a)),u=a<0?null:Xh(r.slice(a+1));if(c in e){let d=e[c];gs(d)||(d=e[c]=[d]),d.push(u)}else e[c]=u}return e}function rC(t){let e="";for(let n in t){const i=t[n];if(n=H5(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(gs(i)?i.map(r=>r&&Ob(r)):[i&&Ob(i)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function T3(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=gs(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}const S3=Symbol(""),oC=Symbol(""),sw=Symbol(""),Fk=Symbol(""),Nb=Symbol("");function Qu(){let t=[];function e(i){return t.push(i),()=>{const s=t.indexOf(i);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function co(t,e,n,i,s,r=a=>a()){const a=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((c,u)=>{const d=y=>{y===!1?u(ll(4,{from:n,to:e})):y instanceof Error?u(y):l3(y)?u(ll(2,{from:e,to:y})):(a&&i.enterCallbacks[s]===a&&typeof y=="function"&&a.push(y),c())},f=r(()=>t.call(i&&i.instances[s],e,n,d));let g=Promise.resolve(f);t.length<3&&(g=g.then(d)),g.catch(y=>u(y))})}function O_(t,e,n,i,s=r=>r()){const r=[];for(const a of t)for(const c in a.components){let u=a.components[c];if(!(e!=="beforeRouteEnter"&&!a.instances[c]))if(A3(u)){const f=(u.__vccOpts||u)[e];f&&r.push(co(f,n,i,a,c,s))}else{let d=u();r.push(()=>d.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${c}" at "${a.path}"`));const g=D5(f)?f.default:f;a.components[c]=g;const b=(g.__vccOpts||g)[e];return b&&co(b,n,i,a,c,s)()}))}}return r}function A3(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function aC(t){const e=br(sw),n=br(Fk),i=us(()=>e.resolve(Kc(t.to))),s=us(()=>{const{matched:u}=i.value,{length:d}=u,f=u[d-1],g=n.matched;if(!f||!g.length)return-1;const y=g.findIndex(cl.bind(null,f));if(y>-1)return y;const b=cC(u[d-2]);return d>1&&cC(f)===b&&g[g.length-1].path!==b?g.findIndex(cl.bind(null,u[d-2])):y}),r=us(()=>s.value>-1&&x3(n.params,i.value.params)),a=us(()=>s.value>-1&&s.value===n.matched.length-1&&Ok(n.params,i.value.params));function c(u={}){return R3(u)?e[Kc(t.replace)?"replace":"push"](Kc(t.to)).catch(Rh):Promise.resolve()}return{route:i,href:us(()=>i.value.href),isActive:r,isExactActive:a,navigate:c}}const C3=lk({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:aC,setup(t,{slots:e}){const n=Rm(aC(t)),{options:i}=br(sw),s=us(()=>({[lC(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[lC(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&e.default(n);return t.custom?r:Ck("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}}),P3=C3;function R3(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function x3(t,e){for(const n in e){const i=e[n],s=t[n];if(typeof i=="string"){if(i!==s)return!1}else if(!gs(s)||s.length!==i.length||i.some((r,a)=>r!==s[a]))return!1}return!0}function cC(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const lC=(t,e,n)=>t??e??n,k3=lk({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=br(Nb),s=us(()=>t.route||i.value),r=br(oC,0),a=us(()=>{let d=Kc(r);const{matched:f}=s.value;let g;for(;(g=f[d])&&!g.components;)d++;return d}),c=us(()=>s.value.matched[a.value]);ug(oC,us(()=>a.value+1)),ug(S3,c),ug(Nb,s);const u=Vg();return Yc(()=>[u.value,c.value,t.name],([d,f,g],[y,b,E])=>{f&&(f.instances[g]=d,b&&b!==f&&d&&d===y&&(f.leaveGuards.size||(f.leaveGuards=b.leaveGuards),f.updateGuards.size||(f.updateGuards=b.updateGuards))),d&&f&&(!b||!cl(f,b)||!y)&&(f.enterCallbacks[g]||[]).forEach(_=>_(d))},{flush:"post"}),()=>{const d=s.value,f=t.name,g=c.value,y=g&&g.components[f];if(!y)return uC(n.default,{Component:y,route:d});const b=g.props[f],E=b?b===!0?d.params:typeof b=="function"?b(d):b:null,w=Ck(y,wt({},E,e,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(g.instances[f]=null)},ref:u}));return uC(n.default,{Component:w,route:d})||w}}});function uC(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const D3=k3;function O3(t){const e=_3(t.routes,t),n=t.parseQuery||I3,i=t.stringifyQuery||rC,s=t.history,r=Qu(),a=Qu(),c=Qu(),u=WF(to);let d=to;Fc&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=k_.bind(null,B=>""+B),g=k_.bind(null,W5),y=k_.bind(null,Xh);function b(B,he){let ae,_e;return Nk(B)?(ae=e.getRecordMatcher(B),_e=he):_e=B,e.addRoute(_e,ae)}function E(B){const he=e.getRecordMatcher(B);he&&e.removeRoute(he)}function _(){return e.getRoutes().map(B=>B.record)}function w(B){return!!e.getRecordMatcher(B)}function T(B,he){if(he=wt({},he||u.value),typeof B=="string"){const R=D_(n,B,he.path),L=e.resolve({path:R.path},he),W=s.createHref(R.fullPath);return wt(R,L,{params:y(L.params),hash:Xh(R.hash),redirectedFrom:void 0,href:W})}let ae;if(B.path!=null)ae=wt({},B,{path:D_(n,B.path,he.path).path});else{const R=wt({},B.params);for(const L in R)R[L]==null&&delete R[L];ae=wt({},B,{params:g(R)}),he.params=g(he.params)}const _e=e.resolve(ae,he),rt=B.hash||"";_e.params=f(y(_e.params));const _t=G5(i,wt({},B,{hash:$5(rt),path:_e.path})),A=s.createHref(_t);return wt({fullPath:_t,hash:rt,query:i===rC?T3(B.query):B.query||{}},_e,{redirectedFrom:void 0,href:A})}function S(B){return typeof B=="string"?D_(n,B,u.value.path):wt({},B)}function x(B,he){if(d!==B)return ll(8,{from:he,to:B})}function k(B){return O(B)}function D(B){return k(wt(S(B),{replace:!0}))}function N(B){const he=B.matched[B.matched.length-1];if(he&&he.redirect){const{redirect:ae}=he;let _e=typeof ae=="function"?ae(B):ae;return typeof _e=="string"&&(_e=_e.includes("?")||_e.includes("#")?_e=S(_e):{path:_e},_e.params={}),wt({query:B.query,hash:B.hash,params:_e.path!=null?{}:B.params},_e)}}function O(B,he){const ae=d=T(B),_e=u.value,rt=B.state,_t=B.force,A=B.replace===!0,R=N(ae);if(R)return O(wt(S(R),{state:typeof R=="object"?wt({},rt,R.state):rt,force:_t,replace:A}),he||ae);const L=ae;L.redirectedFrom=he;let W;return!_t&&Y5(i,_e,ae)&&(W=ll(16,{to:L,from:_e}),on(_e,_e,!0,!1)),(W?Promise.resolve(W):ie(L,_e)).catch(j=>cr(j)?cr(j,2)?j:Tt(j):Ie(j,L,_e)).then(j=>{if(j){if(cr(j,2))return O(wt({replace:A},S(j.to),{state:typeof j.to=="object"?wt({},rt,j.to.state):rt,force:_t}),he||L)}else j=me(L,_e,!0,A,rt);return U(L,_e,j),j})}function V(B,he){const ae=x(B,he);return ae?Promise.reject(ae):Promise.resolve()}function $(B){const he=Ct.values().next().value;return he&&typeof he.runWithContext=="function"?he.runWithContext(B):B()}function ie(B,he){let ae;const[_e,rt,_t]=M3(B,he);ae=O_(_e.reverse(),"beforeRouteLeave",B,he);for(const R of _e)R.leaveGuards.forEach(L=>{ae.push(co(L,B,he))});const A=V.bind(null,B,he);return ae.push(A),qe(ae).then(()=>{ae=[];for(const R of r.list())ae.push(co(R,B,he));return ae.push(A),qe(ae)}).then(()=>{ae=O_(rt,"beforeRouteUpdate",B,he);for(const R of rt)R.updateGuards.forEach(L=>{ae.push(co(L,B,he))});return ae.push(A),qe(ae)}).then(()=>{ae=[];for(const R of _t)if(R.beforeEnter)if(gs(R.beforeEnter))for(const L of R.beforeEnter)ae.push(co(L,B,he));else ae.push(co(R.beforeEnter,B,he));return ae.push(A),qe(ae)}).then(()=>(B.matched.forEach(R=>R.enterCallbacks={}),ae=O_(_t,"beforeRouteEnter",B,he,$),ae.push(A),qe(ae))).then(()=>{ae=[];for(const R of a.list())ae.push(co(R,B,he));return ae.push(A),qe(ae)}).catch(R=>cr(R,8)?R:Promise.reject(R))}function U(B,he,ae){c.list().forEach(_e=>$(()=>_e(B,he,ae)))}function me(B,he,ae,_e,rt){const _t=x(B,he);if(_t)return _t;const A=he===to,R=Fc?history.state:{};ae&&(_e||A?s.replace(B.fullPath,wt({scroll:A&&R&&R.scroll},rt)):s.push(B.fullPath,rt)),u.value=B,on(B,he,ae,A),Tt()}let ye;function Ze(){ye||(ye=s.listen((B,he,ae)=>{if(!yi.listening)return;const _e=T(B),rt=N(_e);if(rt){O(wt(rt,{replace:!0}),_e).catch(Rh);return}d=_e;const _t=u.value;Fc&&i3(QA(_t.fullPath,ae.delta),Bm()),ie(_e,_t).catch(A=>cr(A,12)?A:cr(A,2)?(O(A.to,_e).then(R=>{cr(R,20)&&!ae.delta&&ae.type===Qh.pop&&s.go(-1,!1)}).catch(Rh),Promise.reject()):(ae.delta&&s.go(-ae.delta,!1),Ie(A,_e,_t))).then(A=>{A=A||me(_e,_t,!1),A&&(ae.delta&&!cr(A,8)?s.go(-ae.delta,!1):ae.type===Qh.pop&&cr(A,20)&&s.go(-1,!1)),U(_e,_t,A)}).catch(Rh)}))}let pe=Qu(),Y=Qu(),se;function Ie(B,he,ae){Tt(B);const _e=Y.list();return _e.length?_e.forEach(rt=>rt(B,he,ae)):console.error(B),Promise.reject(B)}function st(){return se&&u.value!==to?Promise.resolve():new Promise((B,he)=>{pe.add([B,he])})}function Tt(B){return se||(se=!B,Ze(),pe.list().forEach(([he,ae])=>B?ae(B):he()),pe.reset()),B}function on(B,he,ae,_e){const{scrollBehavior:rt}=t;if(!Fc||!rt)return Promise.resolve();const _t=!ae&&s3(QA(B.fullPath,0))||(_e||!ae)&&history.state&&history.state.scroll||null;return J0().then(()=>rt(B,he,_t)).then(A=>A&&n3(A)).catch(A=>Ie(A,B,he))}const mt=B=>s.go(B);let Bn;const Ct=new Set,yi={currentRoute:u,listening:!0,addRoute:b,removeRoute:E,hasRoute:w,getRoutes:_,resolve:T,options:t,push:k,replace:D,go:mt,back:()=>mt(-1),forward:()=>mt(1),beforeEach:r.add,beforeResolve:a.add,afterEach:c.add,onError:Y.add,isReady:st,install(B){const he=this;B.component("RouterLink",P3),B.component("RouterView",D3),B.config.globalProperties.$router=he,Object.defineProperty(B.config.globalProperties,"$route",{enumerable:!0,get:()=>Kc(u)}),Fc&&!Bn&&u.value===to&&(Bn=!0,k(s.location).catch(rt=>{}));const ae={};for(const rt in to)Object.defineProperty(ae,rt,{get:()=>u.value[rt],enumerable:!0});B.provide(sw,he),B.provide(Fk,Kx(ae)),B.provide(Nb,u);const _e=B.unmount;Ct.add(B),B.unmount=function(){Ct.delete(B),Ct.size<1&&(d=to,ye&&ye(),ye=null,u.value=to,Bn=!1,se=!1),_e()}}};function qe(B){return B.reduce((he,ae)=>he.then(()=>$(ae)),Promise.resolve())}return yi}function M3(t,e){const n=[],i=[],s=[],r=Math.max(e.matched.length,t.matched.length);for(let a=0;a<r;a++){const c=e.matched[a];c&&(t.matched.find(d=>cl(d,c))?i.push(c):n.push(c));const u=t.matched[a];u&&(e.matched.find(d=>cl(d,u))||s.push(u))}return[n,i,s]}var hC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},N3=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],a=t[n++],c=t[n++],u=((s&7)<<18|(r&63)<<12|(a&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const r=t[n++],a=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return e.join("")},Bk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],a=s+1<t.length,c=a?t[s+1]:0,u=s+2<t.length,d=u?t[s+2]:0,f=r>>2,g=(r&3)<<4|c>>4;let y=(c&15)<<2|d>>6,b=d&63;u||(b=64,a||(y=64)),i.push(n[f],n[g],n[y],n[b])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Uk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):N3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const g=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||c==null||d==null||g==null)throw new L3;const y=r<<2|c>>4;if(i.push(y),d!==64){const b=c<<4&240|d>>2;if(i.push(b),g!==64){const E=d<<6&192|g;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class L3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V3=function(t){const e=Uk(t);return Bk.encodeByteArray(e,!0)},Hg=function(t){return V3(t).replace(/\./g,"")},jk=function(t){try{return Bk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function zg(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!F3(n)||(t[n]=zg(t[n],e[n]));return t}function F3(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=()=>U3().__FIREBASE_DEFAULTS__,j3=()=>{if(typeof process>"u"||typeof hC>"u")return;const t=hC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jk(t[1]);return e&&JSON.parse(e)},jm=()=>{try{return B3()||j3()||$3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$k=t=>{var e,n;return(n=(e=jm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},H3=t=>{const e=$k(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Hk=()=>{var t;return(t=jm())===null||t===void 0?void 0:t.config},zk=t=>{var e;return(e=jm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Hg(JSON.stringify(n)),Hg(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function q3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function rw(){var t;const e=(t=jm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Wk(){return typeof self=="object"&&self.self===self}function qk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ow(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Kk(){const t=jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function K3(){return!rw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jh(){try{return typeof indexedDB=="object"}catch{return!1}}function G3(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3="FirebaseError";class mi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Y3,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$a.prototype.create)}}class $a{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],a=r?X3(r,i):"Error",c=`${this.serviceName}: ${a} (${s}).`;return new mi(s,c,i)}}function X3(t,e){return t.replace(Q3,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const Q3=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function J3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wg(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],a=e[s];if(fC(r)&&fC(a)){if(!Wg(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function fC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function $c(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(r)}}),e}function hh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Gk(t,e){const n=new Z3(t,e);return n.subscribe.bind(n)}class Z3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");eU(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=M_),s.error===void 0&&(s.error=M_),s.complete===void 0&&(s.complete=M_);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function M_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t){return t&&t._delegate?t._delegate:t}class Tr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new z3;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iU(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(r);i===c&&a.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const a=this.instances.get(s);return a&&e(a,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:nU(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nU(t){return t===ca?void 0:t}function iU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=[];var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const Xk={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},sU=Ye.INFO,rU={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},oU=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=rU[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $m{constructor(e){this.name=e,this._logLevel=sU,this._logHandler=oU,this._userLogHandler=null,aw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Xk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}function aU(t){aw.forEach(e=>{e.setLogLevel(t)})}function cU(t,e){for(const n of aw){let i=null;e&&e.level&&(i=Xk[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(s,r,...a)=>{const c=a.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");r>=(i??s.logLevel)&&t({level:Ye[r].toLowerCase(),message:c,args:a,type:s.name})}}}const lU=(t,e)=>e.some(n=>t instanceof n);let pC,gC;function uU(){return pC||(pC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hU(){return gC||(gC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qk=new WeakMap,Lb=new WeakMap,Jk=new WeakMap,N_=new WeakMap,cw=new WeakMap;function dU(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",a)},r=()=>{n(vo(t.result)),s()},a=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Qk.set(n,t)}).catch(()=>{}),cw.set(e,t),e}function fU(t){if(Lb.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",a),t.removeEventListener("abort",a)},r=()=>{n(),s()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",a),t.addEventListener("abort",a)});Lb.set(t,e)}let Vb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Lb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Jk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pU(t){Vb=t(Vb)}function gU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(L_(this),e,...n);return Jk.set(i,e.sort?e.sort():[e]),vo(i)}:hU().includes(t)?function(...e){return t.apply(L_(this),e),vo(Qk.get(this))}:function(...e){return vo(t.apply(L_(this),e))}}function mU(t){return typeof t=="function"?gU(t):(t instanceof IDBTransaction&&fU(t),lU(t,uU())?new Proxy(t,Vb):t)}function vo(t){if(t instanceof IDBRequest)return dU(t);if(N_.has(t))return N_.get(t);const e=mU(t);return e!==t&&(N_.set(t,e),cw.set(e,t)),e}const L_=t=>cw.get(t);function yU(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(t,e),c=vo(a);return i&&a.addEventListener("upgradeneeded",u=>{i(vo(a.result),u.oldVersion,u.newVersion,vo(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{r&&u.addEventListener("close",()=>r()),s&&u.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const vU=["get","getKey","getAll","getAllKeys","count"],_U=["put","add","delete","clear"],V_=new Map;function mC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(V_.get(e))return V_.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=_U.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||vU.includes(n)))return;const r=async function(a,...c){const u=this.transaction(a,s?"readwrite":"readonly");let d=u.store;return i&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),s&&u.done]))[0]};return V_.set(e,r),r}pU(t=>({...t,get:(e,n,i)=>mC(e,n)||t.get(e,n,i),has:(e,n)=>!!mC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wU(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function wU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qg="@firebase/app",Fb="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new $m("@firebase/app"),EU="@firebase/app-compat",IU="@firebase/analytics-compat",TU="@firebase/analytics",SU="@firebase/app-check-compat",AU="@firebase/app-check",CU="@firebase/auth",PU="@firebase/auth-compat",RU="@firebase/database",xU="@firebase/database-compat",kU="@firebase/functions",DU="@firebase/functions-compat",OU="@firebase/installations",MU="@firebase/installations-compat",NU="@firebase/messaging",LU="@firebase/messaging-compat",VU="@firebase/performance",FU="@firebase/performance-compat",UU="@firebase/remote-config",BU="@firebase/remote-config-compat",jU="@firebase/storage",$U="@firebase/storage-compat",HU="@firebase/firestore",zU="@firebase/firestore-compat",WU="firebase",qU="10.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="[DEFAULT]",KU={[qg]:"fire-core",[EU]:"fire-core-compat",[TU]:"fire-analytics",[IU]:"fire-analytics-compat",[AU]:"fire-app-check",[SU]:"fire-app-check-compat",[CU]:"fire-auth",[PU]:"fire-auth-compat",[RU]:"fire-rtdb",[xU]:"fire-rtdb-compat",[kU]:"fire-fn",[DU]:"fire-fn-compat",[OU]:"fire-iid",[MU]:"fire-iid-compat",[NU]:"fire-fcm",[LU]:"fire-fcm-compat",[VU]:"fire-perf",[FU]:"fire-perf-compat",[UU]:"fire-rc",[BU]:"fire-rc-compat",[jU]:"fire-gcs",[$U]:"fire-gcs-compat",[HU]:"fire-fst",[zU]:"fire-fst-compat","fire-js":"fire-js",[WU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new Map,ul=new Map,hl=new Map;function Zh(t,e){try{t.container.addComponent(e)}catch(n){Da.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zk(t,e){t.container.addOrOverwriteComponent(e)}function So(t){const e=t.name;if(hl.has(e))return Da.debug(`There were multiple attempts to register component ${e}.`),!1;hl.set(e,t);for(const n of To.values())Zh(n,t);for(const n of ul.values())Zh(n,t);return!0}function kd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function GU(t,e,n=Io){kd(t,e).clearInstance(n)}function e2(t){return t.options!==void 0}function Jt(t){return t.settings!==void 0}function YU(){hl.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new $a("app","Firebase",XU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t2=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Tr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU extends t2{constructor(e,n,i,s){const r=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,a={name:i,automaticDataCollectionEnabled:r};if(e.apiKey!==void 0)super(e,a,s);else{const c=e;super(c.options,a,s)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:r},n),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Qi(qg,Fb,"serverapp")}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){uw(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Xi.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=qU;function Hm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Io,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw Xi.create("bad-app-name",{appName:String(s)});if(n||(n=Hk()),!n)throw Xi.create("no-options");const r=To.get(s);if(r){if(Wg(n,r.options)&&Wg(i,r.config))return r;throw Xi.create("duplicate-app",{appName:s})}const a=new Yk(s);for(const u of hl.values())a.addComponent(u);const c=new t2(n,i,a);return To.set(s,c),c}function JU(t,e){if(Wk())throw Xi.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;e2(t)?n=t.options:n=t;const i=Object.assign(Object.assign({},e),n);i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const s=d=>[...d].reduce((f,g)=>Math.imul(31,f)+g.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Xi.create("finalization-registry-not-supported",{});const r=""+s(JSON.stringify(i)),a=ul.get(r);if(a)return a.incRefCount(e.releaseOnDeref),a;const c=new Yk(r);for(const d of hl.values())c.addComponent(d);const u=new QU(n,e,r,c);return ul.set(r,u),u}function lw(t=Io){const e=To.get(t);if(!e&&t===Io&&Hk())return Hm();if(!e)throw Xi.create("no-app",{appName:t});return e}function ZU(){return Array.from(To.values())}async function uw(t){let e=!1;const n=t.name;To.has(n)?(e=!0,To.delete(n)):ul.has(n)&&t.decRefCount()<=0&&(ul.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(i=>i.delete())),t.isDeleted=!0)}function Qi(t,e,n){var i;let s=(i=KU[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const c=[`Unable to register library "${s}" with version "${e}":`];r&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Da.warn(c.join(" "));return}So(new Tr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function n2(t,e){if(t!==null&&typeof t!="function")throw Xi.create("invalid-log-argument");cU(t,e)}function i2(t){aU(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9="firebase-heartbeat-database",t9=1,ed="firebase-heartbeat-store";let F_=null;function s2(){return F_||(F_=yU(e9,t9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ed)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xi.create("idb-open",{originalErrorMessage:t.message})})),F_}async function n9(t){try{const n=(await s2()).transaction(ed),i=await n.objectStore(ed).get(r2(t));return await n.done,i}catch(e){if(e instanceof mi)Da.warn(e.message);else{const n=Xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Da.warn(n.message)}}}async function yC(t,e){try{const i=(await s2()).transaction(ed,"readwrite");await i.objectStore(ed).put(e,r2(t)),await i.done}catch(n){if(n instanceof mi)Da.warn(n.message);else{const i=Xi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Da.warn(i.message)}}}function r2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9=1024,s9=30*24*60*60*1e3;class r9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new a9(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=vC();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=s9}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=vC(),{heartbeatsToSend:i,unsentEntries:s}=o9(this._heartbeatsCache.heartbeats),r=Hg(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function vC(){return new Date().toISOString().substring(0,10)}function o9(t,e=i9){const n=[];let i=t.slice();for(const s of t){const r=n.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),_C(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),_C(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class a9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jh()?G3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await n9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return yC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return yC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function _C(t){return Hg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(t){So(new Tr("platform-logger",e=>new bU(e),"PRIVATE")),So(new Tr("heartbeat",e=>new r9(e),"PRIVATE")),Qi(qg,Fb,t),Qi(qg,Fb,"esm2017"),Qi("fire-js","")}c9("");const l9=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:mi,SDK_VERSION:Oo,_DEFAULT_ENTRY_NAME:Io,_addComponent:Zh,_addOrOverwriteComponent:Zk,_apps:To,_clearComponents:YU,_components:hl,_getProvider:kd,_isFirebaseApp:e2,_isFirebaseServerApp:Jt,_registerComponent:So,_removeServiceInstance:GU,_serverApps:ul,deleteApp:uw,getApp:lw,getApps:ZU,initializeApp:Hm,initializeServerApp:JU,onLog:n2,registerVersion:Qi,setLogLevel:i2},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e,n){this._delegate=e,this.firebase=n,Zh(e,new Tr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),uw(this._delegate)))}_getService(e,n=Io){var i;this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(e);return!s.isInitialized()&&((i=s.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:n})}_removeServiceInstance(e,n=Io){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Zh(this._delegate,e)}_addOrOverwriteComponent(e){Zk(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},bC=new $a("app-compat","Firebase",h9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(t){const e={},n={__esModule:!0,initializeApp:r,app:s,registerVersion:Qi,setLogLevel:i2,onLog:n2,apps:null,SDK_VERSION:Oo,INTERNAL:{registerComponent:c,removeApp:i,useAsService:u,modularAPIs:l9}};n.default=n,Object.defineProperty(n,"apps",{get:a});function i(d){delete e[d]}function s(d){if(d=d||Io,!dC(e,d))throw bC.create("no-app",{appName:d});return e[d]}s.App=t;function r(d,f={}){const g=Hm(d,f);if(dC(e,g.name))return e[g.name];const y=new t(g,n);return e[g.name]=y,y}function a(){return Object.keys(e).map(d=>e[d])}function c(d){const f=d.name,g=f.replace("-compat","");if(So(d)&&d.type==="PUBLIC"){const y=(b=s())=>{if(typeof b[g]!="function")throw bC.create("invalid-app-argument",{appName:f});return b[g]()};d.serviceProps!==void 0&&zg(y,d.serviceProps),n[g]=y,t.prototype[g]=function(...b){return this._getService.bind(this,f).apply(this,d.multipleInstances?b:[])}}return d.type==="PUBLIC"?n[g]:null}function u(d,f){return f==="serverAuth"?null:f}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(){const t=d9(u9);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:o2,extendNamespace:e,createSubscribe:Gk,ErrorFactory:$a,deepExtend:zg});function e(n){zg(t,n)}return t}const f9=o2();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=new $m("@firebase/app-compat"),p9="@firebase/app-compat",g9="0.2.30";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(t){Qi(p9,g9,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(Wk()&&self.firebase!==void 0){wC.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&wC.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Ee=f9;m9();var y9="firebase",v9="10.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ee.registerVersion(y9,v9,"app-compat");const _9={apiKey:"AIzaSyAN-vVW46wKoqjR2WfhKoc7G2KwbjSsb6k",authDomain:"budgetbuddy-190c9.firebaseapp.com",projectId:"budgetbuddy-190c9",storageBucket:"budgetbuddy-190c9.appspot.com",messagingSenderId:"923067373606",appId:"1:923067373606:web:fa85b8338713ccef936ee7",measurementId:"G-31CY8FVMSB"};Ee.initializeApp(_9);function hw(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function Li(t,e,n,i){function s(r){return r instanceof n?r:new n(function(a){a(r)})}return new(n||(n=Promise))(function(r,a){function c(f){try{d(i.next(f))}catch(g){a(g)}}function u(f){try{d(i.throw(f))}catch(g){a(g)}}function d(f){f.done?r(f.value):s(f.value).then(c,u)}d((i=i.apply(t,e||[])).next())})}function Vi(t,e){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,s,r,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(d){return function(f){return u([d,f])}}function u(d){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(i=1,s&&(r=d[0]&2?s.return:d[0]?s.throw||((r=s.return)&&r.call(s),0):s.next)&&!(r=r.call(s,d[1])).done)return r;switch(s=0,r&&(d=[d[0]&2,r.value]),d[0]){case 0:case 1:r=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,s=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(r=n.trys,!(r=r.length>0&&r[r.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!r||d[1]>r[0]&&d[1]<r[3])){n.label=d[1];break}if(d[0]===6&&n.label<r[1]){n.label=r[1],r=d;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(d);break}r[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(f){d=[6,f],s=0}finally{i=r=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Ia(t,e,n){if(n||arguments.length===2)for(var i=0,s=e.length,r;i<s;i++)(r||!(i in e))&&(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}const Ju={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Mc={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function a2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const w9=b9,E9=a2,c2=new $a("auth","Firebase",a2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg=new $m("@firebase/auth");function I9(t,...e){Kg.logLevel<=Ye.WARN&&Kg.warn(`Auth (${Oo}): ${t}`,...e)}function pg(t,...e){Kg.logLevel<=Ye.ERROR&&Kg.error(`Auth (${Oo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(t,...e){throw fw(t,...e)}function Cn(t,...e){return fw(t,...e)}function dw(t,e,n){const i=Object.assign(Object.assign({},E9()),{[e]:n});return new $a("auth","Firebase",i).create(e,{appName:t.name})}function Ln(t){return dw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xl(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Vn(t,"argument-error"),dw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fw(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return c2.create(t,...e)}function ee(t,e,...n){if(!t)throw fw(e,...n)}function Fs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw pg(e),new Error(e)}function ms(t,e){t||Fs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function pw(){return EC()==="http:"||EC()==="https:"}function EC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pw()||qk()||"connection"in navigator)?navigator.onLine:!0}function S9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n){this.shortDelay=e,this.longDelay=n,ms(n>e,"Short delay should be less than long delay!"),this.isMobile=q3()||ow()}get(){return T9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(t,e){ms(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9=new Dd(3e4,6e4);function sn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function rn(t,e,n,i,s={}){return u2(t,s,async()=>{let r={},a={};i&&(e==="GET"?a=i:r={body:JSON.stringify(i)});const c=Rl(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),l2.fetch()(h2(t,t.config.apiHost,n,c),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},r))})}async function u2(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},A9),e);try{const s=new R9(t),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw dh(t,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const c=r.ok?a.errorMessage:a.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw dh(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw dh(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw dh(t,"user-disabled",a);const f=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw dw(t,f,d);Vn(t,f)}}catch(s){if(s instanceof mi)throw s;Vn(t,"network-request-failed",{message:String(s)})}}async function xr(t,e,n,i,s={}){const r=await rn(t,e,n,i,s);return"mfaPendingCredential"in r&&Vn(t,"multi-factor-auth-required",{_serverResponse:r}),r}function h2(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?gw(t.config,s):`${t.config.apiScheme}://${s}`}function P9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class R9{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Cn(this.auth,"network-request-failed")),C9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dh(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Cn(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(t){return t!==void 0&&t.getResponse!==void 0}function TC(t){return t!==void 0&&t.enterprise!==void 0}class x9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return P9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k9(t){return(await rn(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function D9(t,e){return rn(t,"GET","/v2/recaptchaConfig",sn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O9(t,e){return rn(t,"POST","/v1/accounts:delete",e)}async function M9(t,e){return rn(t,"POST","/v1/accounts:update",e)}async function d2(t,e){return rn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function N9(t,e=!1){const n=Me(t),i=await n.getIdToken(e),s=zm(i);ee(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:kh(U_(s.auth_time)),issuedAtTime:kh(U_(s.iat)),expirationTime:kh(U_(s.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function U_(t){return Number(t)*1e3}function zm(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return pg("JWT malformed, contained fewer than 3 sections"),null;try{const s=jk(n);return s?JSON.parse(s):(pg("Failed to decode base64 JWT payload"),null)}catch(s){return pg("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function SC(t){const e=zm(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sr(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof mi&&L9(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function L9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kh(this.lastLoginAt),this.creationTime=kh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nd(t){var e;const n=t.auth,i=await t.getIdToken(),s=await Sr(t,d2(n,{idToken:i}));ee(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const a=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?f2(r.providerUserInfo):[],c=U9(t.providerData,a),u=t.isAnonymous,d=!(t.email&&r.passwordHash)&&!(c!=null&&c.length),f=u?d:!1,g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new Ub(r.createdAt,r.lastLoginAt),isAnonymous:f};Object.assign(t,g)}async function F9(t){const e=Me(t);await nd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function U9(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function f2(t){return t.map(e=>{var{providerId:n}=e,i=hw(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B9(t,e){const n=await u2(t,{},async()=>{const i=Rl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=t.config,a=h2(t,s,"/v1/token",`key=${r}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",l2.fetch()(a,{method:"POST",headers:c,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function j9(t,e){return rn(t,"POST","/v2/accounts:revokeToken",sn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const n=SC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await B9(e,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,a=new Qc;return i&&(ee(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),s&&(ee(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),r&&(ee(typeof r=="number","internal-error",{appName:e}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qc,this.toJSON())}_performRefresh(){return Fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fr{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,r=hw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new V9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Ub(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Sr(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return N9(this,e)}reload(){return F9(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await nd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jt(this.auth.app))return Promise.reject(Ln(this.auth));const e=await this.getIdToken();return await Sr(this,O9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,r,a,c,u,d,f;const g=(i=n.displayName)!==null&&i!==void 0?i:void 0,y=(s=n.email)!==null&&s!==void 0?s:void 0,b=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,E=(a=n.photoURL)!==null&&a!==void 0?a:void 0,_=(c=n.tenantId)!==null&&c!==void 0?c:void 0,w=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,T=(d=n.createdAt)!==null&&d!==void 0?d:void 0,S=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:x,emailVerified:k,isAnonymous:D,providerData:N,stsTokenManager:O}=n;ee(x&&O,e,"internal-error");const V=Qc.fromJSON(this.name,O);ee(typeof x=="string",e,"internal-error"),no(g,e.name),no(y,e.name),ee(typeof k=="boolean",e,"internal-error"),ee(typeof D=="boolean",e,"internal-error"),no(b,e.name),no(E,e.name),no(_,e.name),no(w,e.name),no(T,e.name),no(S,e.name);const $=new fr({uid:x,auth:e,email:y,emailVerified:k,displayName:g,isAnonymous:D,photoURL:E,phoneNumber:b,tenantId:_,stsTokenManager:V,createdAt:T,lastLoginAt:S});return N&&Array.isArray(N)&&($.providerData=N.map(ie=>Object.assign({},ie))),w&&($._redirectEventId=w),$}static async _fromIdTokenResponse(e,n,i=!1){const s=new Qc;s.updateFromServerResponse(n);const r=new fr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await nd(r),r}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];ee(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?f2(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),c=new Qc;c.updateFromIdToken(i);const u=new fr({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:a}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new Ub(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=new Map;function $i(t){ms(t instanceof Function,"Expected a class definition");let e=AC.get(t);return e?(ms(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,AC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}p2.type="NONE";const dl=p2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(t,e,n){return`firebase:${t}:${e}:${n}`}class Jc{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=Ta(this.userKey,s.apiKey,r),this.fullPersistenceKey=Ta("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?fr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Jc($i(dl),e,i);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let r=s[0]||$i(dl);const a=Ta(i,e.config.apiKey,e.name);let c=null;for(const d of n)try{const f=await d._get(a);if(f){const g=fr._fromJSON(e,f);d!==r&&(c=g),r=d;break}}catch{}const u=s.filter(d=>d._shouldAllowMigration);return!r._shouldAllowMigration||!u.length?new Jc(r,e,i):(r=u[0],c&&await r._set(a,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==r)try{await d._remove(a)}catch{}})),new Jc(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(y2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(g2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(v2(e))return"Blackberry";if(_2(e))return"Webos";if(mw(e))return"Safari";if((e.includes("chrome/")||m2(e))&&!e.includes("edge/"))return"Chrome";if(Od(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function g2(t=jt()){return/firefox\//i.test(t)}function mw(t=jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function m2(t=jt()){return/crios\//i.test(t)}function y2(t=jt()){return/iemobile/i.test(t)}function Od(t=jt()){return/android/i.test(t)}function v2(t=jt()){return/blackberry/i.test(t)}function _2(t=jt()){return/webos/i.test(t)}function kl(t=jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $9(t=jt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function H9(t=jt()){var e;return kl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function z9(){return Kk()&&document.documentMode===10}function b2(t=jt()){return kl(t)||Od(t)||_2(t)||v2(t)||/windows phone/i.test(t)||y2(t)}function W9(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(t,e=[]){let n;switch(t){case"Browser":n=CC(jt());break;case"Worker":n=`${CC(jt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=r=>new Promise((a,c)=>{try{const u=e(r);a(u)}catch(u){c(u)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K9(t,e={}){return rn(t,"GET","/v2/passwordPolicy",sn(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9=6;class Y9{constructor(e){var n,i,s,r;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:G9,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,r,a,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(r=u.containsUppercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new PC(this),this.idTokenSubscription=new PC(this),this.beforeStateQueue=new q9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$i(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Jc.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await d2(this,{idToken:e}),i=await fr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Jt(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===c)&&(u!=null&&u.user)&&(s=u.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=S9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jt(this.app))return Promise.reject(Ln(this));const n=e?Me(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jt(this.app)?Promise.reject(Ln(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jt(this.app)?Promise.reject(Ln(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await K9(this),n=new Y9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $a("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await j9(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$i(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await Jc.create(this,[$i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(c,this,"internal-error"),c.then(()=>{a||r(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,i,s);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=w2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&I9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function tn(t){return Me(t)}class PC{constructor(e){this.auth=e,this.observer=null,this.addObserver=Gk(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Md={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Q9(t){Md=t}function yw(t){return Md.loadJS(t)}function J9(){return Md.recaptchaV2Script}function Z9(){return Md.recaptchaEnterpriseScript}function e6(){return Md.gapiScript}function E2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const t6="recaptcha-enterprise",n6="NO_RECAPTCHA";class i6{constructor(e){this.type=t6,this.auth=tn(e)}async verify(e="verify",n=!1){async function i(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(a,c)=>{D9(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new x9(u);return r.tenantId==null?r._agentRecaptchaConfig=d:r._tenantRecaptchaConfigs[r.tenantId]=d,a(d.siteKey)}}).catch(u=>{c(u)})})}function s(r,a,c){const u=window.grecaptcha;TC(u)?u.enterprise.ready(()=>{u.enterprise.execute(r,{action:e}).then(d=>{a(d)}).catch(()=>{a(n6)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((r,a)=>{i(this.auth).then(c=>{if(!n&&TC(window.grecaptcha))s(c,r,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Z9();u.length!==0&&(u+=c),yw(u).then(()=>{s(c,r,a)}).catch(d=>{a(d)})}}).catch(c=>{a(c)})})}}async function RC(t,e,n,i=!1){const s=new i6(t);let r;try{r=await s.verify(n)}catch{r=await s.verify(n,!0)}const a=Object.assign({},e);return i?Object.assign(a,{captchaResp:r}):Object.assign(a,{captchaResponse:r}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function id(t,e,n,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await RC(t,e,n,n==="getOobCode");return i(t,r)}else return i(t,e).catch(async r=>{if(r.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await RC(t,e,n,n==="getOobCode");return i(t,a)}else return Promise.reject(r)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(t,e){const n=kd(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(Wg(r,e??{}))return s;Vn(s,"already-initialized")}return n.initialize({options:e})}function r6(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map($i);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function I2(t,e,n){const i=tn(t);ee(i._canInitEmulator,i,"emulator-config-failed"),ee(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),r=T2(e),{host:a,port:c}=o6(e),u=c===null?"":`:${c}`;i.config.emulator={url:`${r}//${a}${u}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:c,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||a6()}function T2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function o6(t){const e=T2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:xC(i.substr(r.length+1))}}else{const[r,a]=i.split(":");return{host:r,port:xC(a)}}}function xC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function a6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fs("not implemented")}_getIdTokenResponse(e){return Fs("not implemented")}_linkToIdToken(e,n){return Fs("not implemented")}_getReauthenticationResolver(e){return Fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(t,e){return rn(t,"POST","/v1/accounts:resetPassword",sn(t,e))}async function c6(t,e){return rn(t,"POST","/v1/accounts:update",e)}async function l6(t,e){return rn(t,"POST","/v1/accounts:signUp",e)}async function u6(t,e){return rn(t,"POST","/v1/accounts:update",sn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h6(t,e){return xr(t,"POST","/v1/accounts:signInWithPassword",sn(t,e))}async function Wm(t,e){return rn(t,"POST","/v1/accounts:sendOobCode",sn(t,e))}async function d6(t,e){return Wm(t,e)}async function f6(t,e){return Wm(t,e)}async function p6(t,e){return Wm(t,e)}async function g6(t,e){return Wm(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m6(t,e){return xr(t,"POST","/v1/accounts:signInWithEmailLink",sn(t,e))}async function y6(t,e){return xr(t,"POST","/v1/accounts:signInWithEmailLink",sn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends Dl{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new sd(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new sd(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return id(e,n,"signInWithPassword",h6);case"emailLink":return m6(e,{email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return id(e,i,"signUpPassword",l6);case"emailLink":return y6(e,{idToken:n,email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wr(t,e){return xr(t,"POST","/v1/accounts:signInWithIdp",sn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6="http://localhost";class Ks extends Dl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,r=hw(n,["providerId","signInMethod"]);if(!i||!s)return null;const a=new Ks(i,s);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return wr(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,wr(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wr(e,n)}buildRequest(){const e={requestUri:v6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Rl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _6(t,e){return rn(t,"POST","/v1/accounts:sendVerificationCode",sn(t,e))}async function b6(t,e){return xr(t,"POST","/v1/accounts:signInWithPhoneNumber",sn(t,e))}async function w6(t,e){const n=await xr(t,"POST","/v1/accounts:signInWithPhoneNumber",sn(t,e));if(n.temporaryProof)throw dh(t,"account-exists-with-different-credential",n);return n}const E6={USER_NOT_FOUND:"user-not-found"};async function I6(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return xr(t,"POST","/v1/accounts:signInWithPhoneNumber",sn(t,n),E6)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends Dl{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Sa({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Sa({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return b6(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return w6(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return I6(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:i,verificationCode:s}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:i,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:i,phoneNumber:s,temporaryProof:r}=e;return!i&&!n&&!s&&!r?null:new Sa({verificationId:n,verificationCode:i,phoneNumber:s,temporaryProof:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function S6(t){const e=$c(hh(t)).link,n=e?$c(hh(e)).deep_link_id:null,i=$c(hh(t)).deep_link_id;return(i?$c(hh(i)).link:null)||i||n||e||t}class qm{constructor(e){var n,i,s,r,a,c;const u=$c(hh(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(i=u.oobCode)!==null&&i!==void 0?i:null,g=T6((s=u.mode)!==null&&s!==void 0?s:null);ee(d&&f&&g,"argument-error"),this.apiKey=d,this.operation=g,this.code=f,this.continueUrl=(r=u.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(a=u.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=S6(e);try{return new qm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.providerId=Mo.PROVIDER_ID}static credential(e,n){return sd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=qm.parseLink(n);return ee(i,"argument-error"),sd._fromEmailAndCode(e,i.code,i.tenantId)}}Mo.PROVIDER_ID="password";Mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends kr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Zc extends Ol{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return ee("providerId"in n&&"signInMethod"in n,"argument-error"),Ks._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ee(e.idToken||e.accessToken,"argument-error"),Ks._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Zc.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Zc.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:r,nonce:a,providerId:c}=e;if(!i&&!s&&!n&&!r||!c)return null;try{return new Zc(c)._credential({idToken:n,accessToken:i,nonce:a,pendingToken:r})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Ol{constructor(){super("facebook.com")}static credential(e){return Ks._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.FACEBOOK_SIGN_IN_METHOD="facebook.com";Os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Ol{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ks._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ms.credential(n,i)}catch{return null}}}Ms.GOOGLE_SIGN_IN_METHOD="google.com";Ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends Ol{constructor(){super("github.com")}static credential(e){return Ks._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.GITHUB_SIGN_IN_METHOD="github.com";Ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6="http://localhost";class fl extends Dl{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return wr(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,wr(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wr(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,pendingToken:r}=n;return!i||!s||!r||i!==s?null:new fl(i,r)}static _create(e,n){return new fl(e,n)}buildRequest(){return{requestUri:A6,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6="saml.";class Gg extends kr{constructor(e){ee(e.startsWith(C6),"argument-error"),super(e)}static credentialFromResult(e){return Gg.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Gg.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=fl.fromJSON(e);return ee(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:i}=e;if(!n||!i)return null;try{return fl._create(i,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends Ol{constructor(){super("twitter.com")}static credential(e,n){return Ks._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ls.credential(n,i)}catch{return null}}}Ls.TWITTER_SIGN_IN_METHOD="twitter.com";Ls.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A2(t,e){return xr(t,"POST","/v1/accounts:signUp",sn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const r=await fr._fromIdTokenResponse(e,i,s),a=kC(i);return new es({user:r,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=kC(i);return new es({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function kC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P6(t){var e;if(Jt(t.app))return Promise.reject(Ln(t));const n=tn(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new es({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await A2(n,{returnSecureToken:!0}),s=await es._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg extends mi{constructor(e,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Yg.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new Yg(e,n,i,s)}}function C2(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Yg._fromErrorAndOperation(t,r,e,i):r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R6(t,e){const n=Me(t);await Km(!0,n,e);const{providerUserInfo:i}=await M9(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),s=P2(i||[]);return n.providerData=n.providerData.filter(r=>s.has(r.providerId)),s.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function vw(t,e,n=!1){const i=await Sr(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return es._forOperation(t,"link",i)}async function Km(t,e,n){await nd(e);const i=P2(e.providerData),s=t===!1?"provider-already-linked":"no-such-provider";ee(i.has(n)===t,e.auth,s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(t,e,n=!1){const{auth:i}=t;if(Jt(i.app))return Promise.reject(Ln(i));const s="reauthenticate";try{const r=await Sr(t,C2(i,s,e,t),n);ee(r.idToken,i,"internal-error");const a=zm(r.idToken);ee(a,i,"internal-error");const{sub:c}=a;return ee(t.uid===c,i,"user-mismatch"),es._forOperation(t,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Vn(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(t,e,n=!1){if(Jt(t.app))return Promise.reject(Ln(t));const i="signIn",s=await C2(t,i,e),r=await es._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(r.user),r}async function Gm(t,e){return x2(tn(t),e)}async function k2(t,e){const n=Me(t);return await Km(!1,n,e.providerId),vw(n,e)}async function D2(t,e){return R2(Me(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x6(t,e){return xr(t,"POST","/v1/accounts:signInWithCustomToken",sn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k6(t,e){if(Jt(t.app))return Promise.reject(Ln(t));const n=tn(t),i=await x6(n,{token:e,returnSecureToken:!0}),s=await es._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?_w._fromServerResponse(e,n):"totpInfo"in n?bw._fromServerResponse(e,n):Vn(e,"internal-error")}}class _w extends Nd{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new _w(n)}}class bw extends Nd{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new bw(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t,e,n){var i;ee(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),ee(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ee(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ee(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ww(t){const e=tn(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function D6(t,e,n){const i=tn(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Ym(i,s,n),await id(i,s,"getOobCode",f6)}async function O6(t,e,n){await S2(Me(t),{oobCode:e,newPassword:n}).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&ww(t),i})}async function M6(t,e){await u6(Me(t),{oobCode:e})}async function O2(t,e){const n=Me(t),i=await S2(n,{oobCode:e}),s=i.requestType;switch(ee(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(i.mfaInfo,n,"internal-error");default:ee(i.email,n,"internal-error")}let r=null;return i.mfaInfo&&(r=Nd._fromServerResponse(tn(n),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:r},operation:s}}async function N6(t,e){const{data:n}=await O2(Me(t),e);return n.email}async function L6(t,e,n){if(Jt(t.app))return Promise.reject(Ln(t));const i=tn(t),a=await id(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",A2).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&ww(t),u}),c=await es._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(c.user),c}function V6(t,e,n){return Jt(t.app)?Promise.reject(Ln(t)):Gm(Me(t),Mo.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&ww(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F6(t,e,n){const i=tn(t),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function r(a,c){ee(c.handleCodeInApp,i,"argument-error"),c&&Ym(i,a,c)}r(s,n),await id(i,s,"getOobCode",p6)}function U6(t,e){const n=qm.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function B6(t,e,n){if(Jt(t.app))return Promise.reject(Ln(t));const i=Me(t),s=Mo.credentialWithLink(e,n||td());return ee(s._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),Gm(i,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j6(t,e){return rn(t,"POST","/v1/accounts:createAuthUri",sn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $6(t,e){const n=pw()?td():"http://localhost",i={identifier:e,continueUri:n},{signinMethods:s}=await j6(Me(t),i);return s||[]}async function H6(t,e){const n=Me(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Ym(n.auth,s,e);const{email:r}=await d6(n.auth,s);r!==t.email&&await t.reload()}async function z6(t,e,n){const i=Me(t),r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Ym(i.auth,r,n);const{email:a}=await g6(i.auth,r);a!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W6(t,e){return rn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bb(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=Me(t),r={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Sr(i,W6(i.auth,r));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const c=i.providerData.find(({providerId:u})=>u==="password");c&&(c.displayName=i.displayName,c.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function q6(t,e){const n=Me(t);return Jt(n.auth.app)?Promise.reject(Ln(n.auth)):M2(n,e,null)}function K6(t,e){return M2(Me(t),null,e)}async function M2(t,e,n){const{auth:i}=t,r={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(r.email=e),n&&(r.password=n);const a=await Sr(t,c6(i,r));await t._updateTokensIfNecessary(a,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(t){var e,n;if(!t)return null;const{providerId:i}=t,s=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},r=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!i&&(t!=null&&t.idToken)){const a=(n=(e=zm(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(a){const c=a!=="anonymous"&&a!=="custom"?a:null;return new el(r,c)}}if(!i)return null;switch(i){case"facebook.com":return new Y6(r,s);case"github.com":return new X6(r,s);case"google.com":return new Q6(r,s);case"twitter.com":return new J6(r,s,t.screenName||null);case"custom":case"anonymous":return new el(r,null);default:return new el(r,i,s)}}class el{constructor(e,n,i={}){this.isNewUser=e,this.providerId=n,this.profile=i}}class N2 extends el{constructor(e,n,i,s){super(e,n,i),this.username=s}}class Y6 extends el{constructor(e,n){super(e,"facebook.com",n)}}class X6 extends N2{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class Q6 extends el{constructor(e,n){super(e,"google.com",n)}}class J6 extends N2{constructor(e,n,i){super(e,"twitter.com",n,i)}}function Z6(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:G6(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eB(t,e){return Me(t).setPersistence(e)}function tB(t,e,n,i){return Me(t).onIdTokenChanged(e,n,i)}function nB(t,e,n){return Me(t).beforeAuthStateChanged(e,n)}function Xs(t,e,n,i){return Me(t).onAuthStateChanged(e,n,i)}function iB(t){return Me(t).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n,i){this.type=e,this.credential=n,this.user=i}static _fromIdtoken(e,n){return new ga("enroll",e,n)}static _fromMfaPendingCredential(e){return new ga("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,i;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return ga._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((i=e.multiFactorSession)===null||i===void 0)&&i.idToken)return ga._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,n,i){this.session=e,this.hints=n,this.signInResolver=i}static _fromError(e,n){const i=tn(e),s=n.customData._serverResponse,r=(s.mfaInfo||[]).map(c=>Nd._fromServerResponse(i,c));ee(s.mfaPendingCredential,i,"internal-error");const a=ga._fromMfaPendingCredential(s.mfaPendingCredential);return new Ew(a,r,async c=>{const u=await c._process(i,a);delete s.mfaInfo,delete s.mfaPendingCredential;const d=Object.assign(Object.assign({},s),{idToken:u.idToken,refreshToken:u.refreshToken});switch(n.operationType){case"signIn":const f=await es._fromIdTokenResponse(i,n.operationType,d);return await i._updateCurrentUser(f.user),f;case"reauthenticate":return ee(n.user,i,"internal-error"),es._forOperation(n.user,n.operationType,d);default:Vn(i,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function sB(t,e){var n;const i=Me(t),s=e;return ee(e.customData.operationType,i,"argument-error"),ee((n=s.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,i,"argument-error"),Ew._fromError(i,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rB(t,e){return rn(t,"POST","/v2/accounts/mfaEnrollment:start",sn(t,e))}function oB(t,e){return rn(t,"POST","/v2/accounts/mfaEnrollment:finalize",sn(t,e))}function aB(t,e){return rn(t,"POST","/v2/accounts/mfaEnrollment:withdraw",sn(t,e))}class Iw{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(i=>Nd._fromServerResponse(e.auth,i)))})}static _fromUser(e){return new Iw(e)}async getSession(){return ga._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const i=e,s=await this.getSession(),r=await Sr(this.user,i._process(this.user.auth,s,n));return await this.user._updateTokensIfNecessary(r),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,i=await this.user.getIdToken();try{const s=await Sr(this.user,aB(this.user.auth,{idToken:i,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:r})=>r!==n),await this.user._updateTokensIfNecessary(s),await this.user.reload()}catch(s){throw s}}}const B_=new WeakMap;function cB(t){const e=Me(t);return B_.has(e)||B_.set(e,Iw._fromUser(e)),B_.get(e)}const Xg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xg,"1"),this.storage.removeItem(Xg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lB(){const t=jt();return mw(t)||kl(t)}const uB=1e3,hB=10;class V2 extends L2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=lB()&&W9(),this.fallbackToPolling=b2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const s=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},r=this.storage.getItem(i);z9()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,hB):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},uB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}V2.type="LOCAL";const Ld=V2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2 extends L2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}F2.type="SESSION";const Ao=F2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new Xm(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:r}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(a).map(async d=>d(n.origin,r)),u=await dB(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,a;return new Promise((c,u)=>{const d=Vd("",20);s.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(g){const y=g;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(f),r=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),c(y.data.response);break;default:clearTimeout(f),clearTimeout(r),u(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return window}function pB(t){_n().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(){return typeof _n().WorkerGlobalScope<"u"&&typeof _n().importScripts=="function"}async function gB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function yB(){return Tw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="firebaseLocalStorageDb",vB=1,Qg="firebaseLocalStorage",B2="fbase_key";class Fd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qm(t,e){return t.transaction([Qg],e?"readwrite":"readonly").objectStore(Qg)}function _B(){const t=indexedDB.deleteDatabase(U2);return new Fd(t).toPromise()}function jb(){const t=indexedDB.open(U2,vB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Qg,{keyPath:B2})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Qg)?e(i):(i.close(),await _B(),e(await jb()))})})}async function DC(t,e,n){const i=Qm(t,!0).put({[B2]:e,value:n});return new Fd(i).toPromise()}async function bB(t,e){const n=Qm(t,!1).get(e),i=await new Fd(n).toPromise();return i===void 0?null:i.value}function OC(t,e){const n=Qm(t,!0).delete(e);return new Fd(n).toPromise()}const wB=800,EB=3;class j2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>EB)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Tw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xm._getInstance(yB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await gB(),!this.activeServiceWorker)return;this.sender=new fB(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jb();return await DC(e,Xg,"1"),await OC(e,Xg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>DC(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>bB(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>OC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=Qm(s,!1).getAll();return new Fd(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}j2.type="LOCAL";const pl=j2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IB(t,e){return rn(t,"POST","/v2/accounts/mfaSignIn:start",sn(t,e))}function TB(t,e){return rn(t,"POST","/v2/accounts/mfaSignIn:finalize",sn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB=500,AB=6e4,Np=1e12;class CB{constructor(e){this.auth=e,this.counter=Np,this._widgets=new Map}render(e,n){const i=this.counter;return this._widgets.set(i,new PB(e,this.auth.name,n||{})),this.counter++,i}reset(e){var n;const i=e||Np;(n=this._widgets.get(i))===null||n===void 0||n.delete(),this._widgets.delete(i)}getResponse(e){var n;const i=e||Np;return((n=this._widgets.get(i))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const i=e||Np;return(n=this._widgets.get(i))===null||n===void 0||n.execute(),""}}class PB{constructor(e,n,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;ee(s,"argument-error",{appName:n}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=RB(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},AB)},SB))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function RB(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<t;i++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=E2("rcb"),xB=new Dd(3e4,6e4);class kB{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=_n().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return ee(DB(n),e,"argument-error"),this.shouldResolveImmediately(n)&&IC(_n().grecaptcha)?Promise.resolve(_n().grecaptcha):new Promise((i,s)=>{const r=_n().setTimeout(()=>{s(Cn(e,"network-request-failed"))},xB.get());_n()[j_]=()=>{_n().clearTimeout(r),delete _n()[j_];const c=_n().grecaptcha;if(!c||!IC(c)){s(Cn(e,"internal-error"));return}const u=c.render;c.render=(d,f)=>{const g=u(d,f);return this.counter++,g},this.hostLanguage=n,i(c)};const a=`${J9()}?${Rl({onload:j_,render:"explicit",hl:n})}`;yw(a).catch(()=>{clearTimeout(r),s(Cn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=_n().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function DB(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class OB{async load(e){return new CB(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="recaptcha",MB={theme:"light",type:"image"};let NB=class{constructor(e,n,i=Object.assign({},MB)){this.parameters=i,this.type=$2,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=tn(e),this.isInvisible=this.parameters.size==="invisible",ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof n=="string"?document.getElementById(n):n;ee(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new OB:new kB,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),i=n.getResponse(e);return i||new Promise(s=>{const r=a=>{a&&(this.tokenChangeListeners.delete(r),s(a))};this.tokenChangeListeners.add(r),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(i=>i(n)),typeof e=="function")e(n);else if(typeof e=="string"){const i=_n()[e];typeof i=="function"&&i(n)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ee(pw()&&!Tw(),this.auth,"internal-error"),await LB(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await k9(this.auth);ee(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function LB(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Sa._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function VB(t,e,n){if(Jt(t.app))return Promise.reject(Ln(t));const i=tn(t),s=await Jm(i,e,Me(n));return new Sw(s,r=>Gm(i,r))}async function FB(t,e,n){const i=Me(t);await Km(!1,i,"phone");const s=await Jm(i.auth,e,Me(n));return new Sw(s,r=>k2(i,r))}async function UB(t,e,n){const i=Me(t);if(Jt(i.auth.app))return Promise.reject(Ln(i.auth));const s=await Jm(i.auth,e,Me(n));return new Sw(s,r=>D2(i,r))}async function Jm(t,e,n){var i;const s=await n.verify();try{ee(typeof s=="string",t,"argument-error"),ee(n.type===$2,t,"argument-error");let r;if(typeof e=="string"?r={phoneNumber:e}:r=e,"session"in r){const a=r.session;if("phoneNumber"in r)return ee(a.type==="enroll",t,"internal-error"),(await rB(t,{idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,recaptchaToken:s}})).phoneSessionInfo.sessionInfo;{ee(a.type==="signin",t,"internal-error");const c=((i=r.multiFactorHint)===null||i===void 0?void 0:i.uid)||r.multiFactorUid;return ee(c,t,"missing-multi-factor-info"),(await IB(t,{mfaPendingCredential:a.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:s}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:a}=await _6(t,{phoneNumber:r.phoneNumber,recaptchaToken:s});return a}}finally{n._reset()}}async function BB(t,e){const n=Me(t);if(Jt(n.auth.app))return Promise.reject(Ln(n.auth));await vw(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oa=class gg{constructor(e){this.providerId=gg.PROVIDER_ID,this.auth=tn(e)}verifyPhoneNumber(e,n){return Jm(this.auth,e,Me(n))}static credential(e,n){return Sa._fromVerification(e,n)}static credentialFromResult(e){const n=e;return gg.credentialFromTaggedObject(n)}static credentialFromError(e){return gg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:i}=e;return n&&i?Sa._fromTokenResponse(n,i):null}};Oa.PROVIDER_ID="phone";Oa.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(t,e){return e?$i(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw extends Dl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jB(t){return x2(t.auth,new Aw(t),t.bypassAuthState)}function $B(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),R2(n,new Aw(t),t.bypassAuthState)}async function HB(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),vw(n,new Aw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:a,type:c}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jB;case"linkViaPopup":case"linkViaRedirect":return HB;case"reauthViaPopup":case"reauthViaRedirect":return $B;default:Vn(this.auth,"internal-error")}}resolve(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB=new Dd(2e3,1e4);async function WB(t,e,n){if(Jt(t.app))return Promise.reject(Cn(t,"operation-not-supported-in-this-environment"));const i=tn(t);xl(t,e,kr);const s=Ha(i,n);return new pr(i,"signInViaPopup",e,s).executeNotNull()}async function qB(t,e,n){const i=Me(t);if(Jt(i.auth.app))return Promise.reject(Cn(i.auth,"operation-not-supported-in-this-environment"));xl(i.auth,e,kr);const s=Ha(i.auth,n);return new pr(i.auth,"reauthViaPopup",e,s,i).executeNotNull()}async function KB(t,e,n){const i=Me(t);xl(i.auth,e,kr);const s=Ha(i.auth,n);return new pr(i.auth,"linkViaPopup",e,s,i).executeNotNull()}class pr extends H2{constructor(e,n,i,s,r){super(e,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,pr.currentPopupAction&&pr.currentPopupAction.cancel(),pr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const e=Vd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zB.get())};e()}}pr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB="pendingRedirect",Dh=new Map;class YB extends H2{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Dh.get(this.auth._key());if(!e){try{const i=await XB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Dh.set(this.auth._key(),e)}return this.bypassAuthState||Dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XB(t,e){const n=W2(e),i=z2(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}async function Cw(t,e){return z2(t)._set(W2(e),"true")}function QB(){Dh.clear()}function Pw(t,e){Dh.set(t._key(),e)}function z2(t){return $i(t._redirectPersistence)}function W2(t){return Ta(GB,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JB(t,e,n){return ZB(t,e,n)}async function ZB(t,e,n){if(Jt(t.app))return Promise.reject(Ln(t));const i=tn(t);xl(t,e,kr),await i._initializationPromise;const s=Ha(i,n);return await Cw(s,i),s._openRedirect(i,e,"signInViaRedirect")}function ej(t,e,n){return tj(t,e,n)}async function tj(t,e,n){const i=Me(t);if(xl(i.auth,e,kr),Jt(i.auth.app))return Promise.reject(Ln(i.auth));await i.auth._initializationPromise;const s=Ha(i.auth,n);await Cw(s,i.auth);const r=await q2(i);return s._openRedirect(i.auth,e,"reauthViaRedirect",r)}function nj(t,e,n){return ij(t,e,n)}async function ij(t,e,n){const i=Me(t);xl(i.auth,e,kr),await i.auth._initializationPromise;const s=Ha(i.auth,n);await Km(!1,i,e.providerId),await Cw(s,i.auth);const r=await q2(i);return s._openRedirect(i.auth,e,"linkViaRedirect",r)}async function sj(t,e){return await tn(t)._initializationPromise,Zm(t,e,!1)}async function Zm(t,e,n=!1){if(Jt(t.app))return Promise.reject(Ln(t));const i=tn(t),s=Ha(i,e),a=await new YB(i,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}async function q2(t){const e=Vd(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=10*60*1e3;class K2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!G2(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Cn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rj&&this.cachedEventUids.clear(),this.cachedEventUids.has(MC(e))}saveEventToCache(e){this.cachedEventUids.add(MC(e)),this.lastProcessedEventTime=Date.now()}}function MC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function G2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y2(t,e={}){return rn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cj=/^https?/;async function lj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Y2(t);for(const n of e)try{if(uj(n))return}catch{}Vn(t,"unauthorized-domain")}function uj(t){const e=td(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!cj.test(n))return!1;if(aj.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=new Dd(3e4,6e4);function NC(){const t=_n().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dj(t){return new Promise((e,n)=>{var i,s,r;function a(){NC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{NC(),n(Cn(t,"network-request-failed"))},timeout:hj.get()})}if(!((s=(i=_n().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=_n().gapi)===null||r===void 0)&&r.load)a();else{const c=E2("iframefcb");return _n()[c]=()=>{gapi.load?a():n(Cn(t,"network-request-failed"))},yw(`${e6()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw mg=null,e})}let mg=null;function fj(t){return mg=mg||dj(t),mg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=new Dd(5e3,15e3),gj="__/auth/iframe",mj="emulator/auth/iframe",yj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _j(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?gw(e,mj):`https://${t.config.authDomain}/${gj}`,i={apiKey:e.apiKey,appName:t.name,v:Oo},s=vj.get(t.config.apiHost);s&&(i.eid=s);const r=t._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${Rl(i).slice(1)}`}async function bj(t){const e=await fj(t),n=_n().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:_j(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yj,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const a=Cn(t,"network-request-failed"),c=_n().setTimeout(()=>{r(a)},pj.get());function u(){_n().clearTimeout(c),s(i)}i.ping(u).then(u,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ej=500,Ij=600,Tj="_blank",Sj="http://localhost";class LC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Aj(t,e,n,i=Ej,s=Ij){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const u=Object.assign(Object.assign({},wj),{width:i.toString(),height:s.toString(),top:r,left:a}),d=jt().toLowerCase();n&&(c=m2(d)?Tj:n),g2(d)&&(e=e||Sj,u.scrollbars="yes");const f=Object.entries(u).reduce((y,[b,E])=>`${y}${b}=${E},`,"");if(H9(d)&&c!=="_self")return Cj(e||"",c),new LC(null);const g=window.open(e||"",c,f);ee(g,t,"popup-blocked");try{g.focus()}catch{}return new LC(g)}function Cj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj="__/auth/handler",Rj="emulator/auth/handler",xj=encodeURIComponent("fac");async function $b(t,e,n,i,s,r){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Oo,eventId:s};if(e instanceof kr){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",J3(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,g]of Object.entries(r||{}))a[f]=g}if(e instanceof Ol){const f=e.getScopes().filter(g=>g!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const f of Object.keys(c))c[f]===void 0&&delete c[f];const u=await t._getAppCheckToken(),d=u?`#${xj}=${encodeURIComponent(u)}`:"";return`${kj(t)}?${Rl(c).slice(1)}${d}`}function kj({config:t}){return t.emulator?gw(t,Rj):`https://${t.authDomain}/${Pj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="webStorageSupport";class Dj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ao,this._completeRedirectFn=Zm,this._overrideRedirectResult=Pw}async _openPopup(e,n,i,s){var r;ms((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const a=await $b(e,n,i,td(),s);return Aj(e,a,Vd())}async _openRedirect(e,n,i,s){await this._originValidation(e);const r=await $b(e,n,i,td(),s);return pB(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(ms(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await bj(e),i=new K2(e);return n.register("authEvent",s=>(ee(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($_,{type:$_},s=>{var r;const a=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[$_];a!==void 0&&n(!!a),Vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return b2()||mw()||kl()}}const X2=Dj;class Oj{constructor(e){this.factorId=e}_process(e,n,i){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,i);case"signin":return this._finalizeSignIn(e,n.credential);default:return Fs("unexpected MultiFactorSessionType")}}}class Rw extends Oj{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Rw(e)}_finalizeEnroll(e,n,i){return oB(e,{idToken:n,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return TB(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Q2{constructor(){}static assertion(e){return Rw._fromCredential(e)}}Q2.FACTOR_ID="phone";var VC="@firebase/auth",FC="1.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Lj(t){So(new Tr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=i.options;ee(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:w2(t)},d=new X9(i,s,r,u);return r6(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),So(new Tr("auth-internal",e=>{const n=tn(e.getProvider("auth").getImmediate());return(i=>new Mj(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qi(VC,FC,Nj(t)),Qi(VC,FC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj=5*60,Fj=zk("authIdTokenMaxAge")||Vj;let UC=null;const Uj=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Fj)return;const s=n==null?void 0:n.token;UC!==s&&(UC=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function it(t=lw()){const e=kd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=s6(t,{popupRedirectResolver:X2,persistence:[pl,Ld,Ao]}),i=zk("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const a=Uj(r.toString());nB(n,a,()=>a(n.currentUser)),tB(n,c=>a(c))}}const s=$k("auth");return s&&I2(n,`http://${s}`),n}function Bj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Q9({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const r=Cn("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",Bj().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Lj("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=2e3;async function $j(t,e,n){var i;const{BuildInfo:s}=Ma();ms(e.sessionId,"AuthEvent did not contain a session ID");const r=await Kj(e.sessionId),a={};return kl()?a.ibi=s.packageName:Od()?a.apn=s.packageName:Vn(t,"operation-not-supported-in-this-environment"),s.displayName&&(a.appDisplayName=s.displayName),a.sessionId=r,$b(t,n,e.type,void 0,(i=e.eventId)!==null&&i!==void 0?i:void 0,a)}async function Hj(t){const{BuildInfo:e}=Ma(),n={};kl()?n.iosBundleId=e.packageName:Od()?n.androidPackageName=e.packageName:Vn(t,"operation-not-supported-in-this-environment"),await Y2(t,n)}function zj(t){const{cordova:e}=Ma();return new Promise(n=>{e.plugins.browsertab.isAvailable(i=>{let s=null;i?e.plugins.browsertab.openUrl(t):s=e.InAppBrowser.open(t,$9()?"_blank":"_system","location=yes"),n(s)})})}async function Wj(t,e,n){const{cordova:i}=Ma();let s=()=>{};try{await new Promise((r,a)=>{let c=null;function u(){var g;r();const y=(g=i.plugins.browsertab)===null||g===void 0?void 0:g.close;typeof y=="function"&&y(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function d(){c||(c=window.setTimeout(()=>{a(Cn(t,"redirect-cancelled-by-user"))},jj))}function f(){(document==null?void 0:document.visibilityState)==="visible"&&d()}e.addPassiveListener(u),document.addEventListener("resume",d,!1),Od()&&document.addEventListener("visibilitychange",f,!1),s=()=>{e.removePassiveListener(u),document.removeEventListener("resume",d,!1),document.removeEventListener("visibilitychange",f,!1),c&&window.clearTimeout(c)}})}finally{s()}}function qj(t){var e,n,i,s,r,a,c,u,d,f;const g=Ma();ee(typeof((e=g==null?void 0:g.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ee(typeof((n=g==null?void 0:g.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ee(typeof((r=(s=(i=g==null?void 0:g.cordova)===null||i===void 0?void 0:i.plugins)===null||s===void 0?void 0:s.browsertab)===null||r===void 0?void 0:r.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee(typeof((u=(c=(a=g==null?void 0:g.cordova)===null||a===void 0?void 0:a.plugins)===null||c===void 0?void 0:c.browsertab)===null||u===void 0?void 0:u.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee(typeof((f=(d=g==null?void 0:g.cordova)===null||d===void 0?void 0:d.InAppBrowser)===null||f===void 0?void 0:f.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function Kj(t){const e=Gj(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}function Gj(t){if(ms(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=20;class Xj extends K2{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function Qj(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:e$(),postBody:null,tenantId:t.tenantId,error:Cn(t,"no-auth-event")}}function Jj(t,e){return Hb()._set(zb(t),e)}async function BC(t){const e=await Hb()._get(zb(t));return e&&await Hb()._remove(zb(t)),e}function Zj(t,e){var n,i;const s=n$(e);if(s.includes("/__/auth/callback")){const r=yg(s),a=r.firebaseError?t$(decodeURIComponent(r.firebaseError)):null,c=(i=(n=a==null?void 0:a.code)===null||n===void 0?void 0:n.split("auth/"))===null||i===void 0?void 0:i[1],u=c?Cn(c):null;return u?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:s,postBody:null}}return null}function e$(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Yj;n++){const i=Math.floor(Math.random()*e.length);t.push(e.charAt(i))}return t.join("")}function Hb(){return $i(Ld)}function zb(t){return Ta("authEvent",t.config.apiKey,t.name)}function t$(t){try{return JSON.parse(t)}catch{return null}}function n$(t){const e=yg(t),n=e.link?decodeURIComponent(e.link):void 0,i=yg(n).link,s=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return yg(s).link||s||i||n||t}function yg(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return $c(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$=500;class s${constructor(){this._redirectPersistence=Ao,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Zm,this._overrideRedirectResult=Pw}async _initialize(e){const n=e._key();let i=this.eventManagers.get(n);return i||(i=new Xj(e),this.eventManagers.set(n,i),this.attachCallbackListeners(e,i)),i}_openPopup(e){Vn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,i,s){qj(e);const r=await this._initialize(e);await r.initialized(),r.resetRedirect(),QB(),await this._originValidation(e);const a=Qj(e,i,s);await Jj(e,a);const c=await $j(e,a,n),u=await zj(c);return Wj(e,r,u)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Hj(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:i,handleOpenURL:s,BuildInfo:r}=Ma(),a=setTimeout(async()=>{await BC(e),n.onEvent(jC())},i$),c=async f=>{clearTimeout(a);const g=await BC(e);let y=null;g&&(f!=null&&f.url)&&(y=Zj(g,f.url)),n.onEvent(y||jC())};typeof i<"u"&&typeof i.subscribe=="function"&&i.subscribe(null,c);const u=s,d=`${r.packageName.toLowerCase()}://`;Ma().handleOpenURL=async f=>{if(f.toLowerCase().startsWith(d)&&c({url:f}),typeof u=="function")try{u(f)}catch(g){console.error(g)}}}}const r$=s$;function jC(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Cn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(t,e){tn(t)._logFramework(e)}var a$="@firebase/auth-compat",c$="0.5.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$=1e3;function Oh(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function u$(){return Oh()==="http:"||Oh()==="https:"}function J2(t=jt()){return!!((Oh()==="file:"||Oh()==="ionic:"||Oh()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function h$(){return ow()||rw()}function d$(){return Kk()&&(document==null?void 0:document.documentMode)===11}function f$(t=jt()){return/Edge\/\d+/.test(t)}function p$(t=jt()){return d$()||f$(t)}function Z2(){try{const t=self.localStorage,e=Vd();if(t)return t.setItem(e,"1"),t.removeItem(e),p$()?Jh():!0}catch{return xw()&&Jh()}return!1}function xw(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function H_(){return(u$()||qk()||J2())&&!h$()&&Z2()&&!xw()}function eD(){return J2()&&typeof document<"u"}async function g$(){return eD()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},l$);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function m$(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi={LOCAL:"local",NONE:"none",SESSION:"session"},Zu=ee,tD="persistence";function y$(t,e){if(Zu(Object.values(Bi).includes(e),t,"invalid-persistence-type"),ow()){Zu(e!==Bi.SESSION,t,"unsupported-persistence-type");return}if(rw()){Zu(e===Bi.NONE,t,"unsupported-persistence-type");return}if(xw()){Zu(e===Bi.NONE||e===Bi.LOCAL&&Jh(),t,"unsupported-persistence-type");return}Zu(e===Bi.NONE||Z2(),t,"unsupported-persistence-type")}async function Wb(t){await t._initializationPromise;const e=nD(),n=Ta(tD,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function v$(t,e){const n=nD();if(!n)return[];const i=Ta(tD,t,e);switch(n.getItem(i)){case Bi.NONE:return[dl];case Bi.LOCAL:return[pl,Ao];case Bi.SESSION:return[Ao];default:return[]}}function nD(){var t;try{return((t=m$())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _$=ee;class lo{constructor(){this.browserResolver=$i(X2),this.cordovaResolver=$i(r$),this.underlyingResolver=null,this._redirectPersistence=Ao,this._completeRedirectFn=Zm,this._overrideRedirectResult=Pw}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,i,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,i,s)}async _openRedirect(e,n,i,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,i,s)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return eD()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _$(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await g$();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(t){return t.unwrap()}function b$(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w$(t){return sD(t)}function E$(t,e){var n;const i=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const s=e;s.resolver=new I$(t,sB(t,e))}else if(i){const s=sD(e),r=e;s&&(r.credential=s,r.tenantId=i.tenantId||void 0,r.email=i.email||void 0,r.phoneNumber=i.phoneNumber||void 0)}}function sD(t){const{_tokenResponse:e}=t instanceof mi?t.customData:t;if(!e)return null;if(!(t instanceof mi)&&"temporaryProof"in e&&"phoneNumber"in e)return Oa.credentialFromResult(t);const n=e.providerId;if(!n||n===Ju.PASSWORD)return null;let i;switch(n){case Ju.GOOGLE:i=Ms;break;case Ju.FACEBOOK:i=Os;break;case Ju.GITHUB:i=Ns;break;case Ju.TWITTER:i=Ls;break;default:const{oauthIdToken:s,oauthAccessToken:r,oauthTokenSecret:a,pendingToken:c,nonce:u}=e;return!r&&!a&&!s&&!c?null:c?n.startsWith("saml.")?fl._create(n,c):Ks._fromParams({providerId:n,signInMethod:n,pendingToken:c,idToken:s,accessToken:r}):new Zc(n).credential({idToken:s,accessToken:r,rawNonce:u})}return t instanceof mi?i.credentialFromError(t):i.credentialFromResult(t)}function Ii(t,e){return e.catch(n=>{throw n instanceof mi&&E$(t,n),n}).then(n=>{const i=n.operationType,s=n.user;return{operationType:i,credential:w$(n),additionalUserInfo:Z6(n),user:ey.getOrCreate(s)}})}async function qb(t,e){const n=await e;return{verificationId:n.verificationId,confirm:i=>Ii(t,n.confirm(i))}}class I${constructor(e,n){this.resolver=n,this.auth=b$(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Ii(iD(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ey=class fh{constructor(e){this._delegate=e,this.multiFactor=cB(e)}static getOrCreate(e){return fh.USER_MAP.has(e)||fh.USER_MAP.set(e,new fh(e)),fh.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Ii(this.auth,k2(this._delegate,e))}async linkWithPhoneNumber(e,n){return qb(this.auth,FB(this._delegate,e,n))}async linkWithPopup(e){return Ii(this.auth,KB(this._delegate,e,lo))}async linkWithRedirect(e){return await Wb(tn(this.auth)),nj(this._delegate,e,lo)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Ii(this.auth,D2(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return qb(this.auth,UB(this._delegate,e,n))}reauthenticateWithPopup(e){return Ii(this.auth,qB(this._delegate,e,lo))}async reauthenticateWithRedirect(e){return await Wb(tn(this.auth)),ej(this._delegate,e,lo)}sendEmailVerification(e){return H6(this._delegate,e)}async unlink(e){return await R6(this._delegate,e),this}updateEmail(e){return q6(this._delegate,e)}updatePassword(e){return K6(this._delegate,e)}updatePhoneNumber(e){return BB(this._delegate,e)}updateProfile(e){return Bb(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return z6(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};ey.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=ee;class Kb{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:i}=e.options;eh(i,"invalid-api-key",{appName:e.name}),eh(i,"invalid-api-key",{appName:e.name});const s=typeof window<"u"?lo:void 0;this._delegate=n.initialize({options:{persistence:T$(i,e.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(w9),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ey.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){I2(this._delegate,e,n)}applyActionCode(e){return M6(this._delegate,e)}checkActionCode(e){return O2(this._delegate,e)}confirmPasswordReset(e,n){return O6(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Ii(this._delegate,L6(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return $6(this._delegate,e)}isSignInWithEmailLink(e){return U6(this._delegate,e)}async getRedirectResult(){eh(H_(),this._delegate,"operation-not-supported-in-this-environment");const e=await sj(this._delegate,lo);return e?Ii(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){o$(this._delegate,e)}onAuthStateChanged(e,n,i){const{next:s,error:r,complete:a}=$C(e,n,i);return this._delegate.onAuthStateChanged(s,r,a)}onIdTokenChanged(e,n,i){const{next:s,error:r,complete:a}=$C(e,n,i);return this._delegate.onIdTokenChanged(s,r,a)}sendSignInLinkToEmail(e,n){return F6(this._delegate,e,n)}sendPasswordResetEmail(e,n){return D6(this._delegate,e,n||void 0)}async setPersistence(e){y$(this._delegate,e);let n;switch(e){case Bi.SESSION:n=Ao;break;case Bi.LOCAL:n=await $i(pl)._isAvailable()?pl:Ld;break;case Bi.NONE:n=dl;break;default:return Vn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Ii(this._delegate,P6(this._delegate))}signInWithCredential(e){return Ii(this._delegate,Gm(this._delegate,e))}signInWithCustomToken(e){return Ii(this._delegate,k6(this._delegate,e))}signInWithEmailAndPassword(e,n){return Ii(this._delegate,V6(this._delegate,e,n))}signInWithEmailLink(e,n){return Ii(this._delegate,B6(this._delegate,e,n))}signInWithPhoneNumber(e,n){return qb(this._delegate,VB(this._delegate,e,n))}async signInWithPopup(e){return eh(H_(),this._delegate,"operation-not-supported-in-this-environment"),Ii(this._delegate,WB(this._delegate,e,lo))}async signInWithRedirect(e){return eh(H_(),this._delegate,"operation-not-supported-in-this-environment"),await Wb(this._delegate),JB(this._delegate,e,lo)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return N6(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}Kb.Persistence=Bi;function $C(t,e,n){let i=t;typeof t!="function"&&({next:i,error:e,complete:n}=t);const s=i;return{next:a=>s(a&&ey.getOrCreate(a)),error:e,complete:n}}function T$(t,e){const n=v$(t,e);if(typeof self<"u"&&!n.includes(pl)&&n.push(pl),typeof window<"u")for(const i of[Ld,Ao])n.includes(i)||n.push(i);return n.includes(dl)||n.push(dl),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(){this.providerId="phone",this._delegate=new Oa(iD(Ee.auth()))}static credential(e,n){return Oa.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}kw.PHONE_SIGN_IN_METHOD=Oa.PHONE_SIGN_IN_METHOD;kw.PROVIDER_ID=Oa.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$=ee;class A${constructor(e,n,i=Ee.app()){var s;S$((s=i.options)===null||s===void 0?void 0:s.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new NB(i.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$="auth-compat";function P$(t){t.INTERNAL.registerComponent(new Tr(C$,e=>{const n=e.getProvider("app-compat").getImmediate(),i=e.getProvider("auth");return new Kb(n,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Mc.EMAIL_SIGNIN,PASSWORD_RESET:Mc.PASSWORD_RESET,RECOVER_EMAIL:Mc.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Mc.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Mc.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Mc.VERIFY_EMAIL}},EmailAuthProvider:Mo,FacebookAuthProvider:Os,GithubAuthProvider:Ns,GoogleAuthProvider:Ms,OAuthProvider:Zc,SAMLAuthProvider:Gg,PhoneAuthProvider:kw,PhoneMultiFactorGenerator:Q2,RecaptchaVerifier:A$,TwitterAuthProvider:Ls,Auth:Kb,AuthCredential:Dl,Error:mi}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(a$,c$)}P$(Ee);function R$(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rD={exports:{}};(function(t){(function(){var e=window.CustomEvent;(!e||typeof e=="object")&&(e=function(w,T){T=T||{};var S=document.createEvent("CustomEvent");return S.initCustomEvent(w,!!T.bubbles,!!T.cancelable,T.detail||null),S},e.prototype=window.Event.prototype);function n(_){for(;_&&_!==document.body;){var w=window.getComputedStyle(_),T=function(S,x){return!(w[S]===void 0||w[S]===x)};if(w.opacity<1||T("zIndex","auto")||T("transform","none")||T("mixBlendMode","normal")||T("filter","none")||T("perspective","none")||w.isolation==="isolate"||w.position==="fixed"||w.webkitOverflowScrolling==="touch")return!0;_=_.parentElement}return!1}function i(_){for(;_;){if(_.localName==="dialog")return _;_=_.parentElement}return null}function s(_){_&&_.blur&&_!==document.body&&_.blur()}function r(_,w){for(var T=0;T<_.length;++T)if(_[T]===w)return!0;return!1}function a(_){return!_||!_.hasAttribute("method")?!1:_.getAttribute("method").toLowerCase()==="dialog"}function c(_){if(this.dialog_=_,this.replacedStyleTop_=!1,this.openAsModal_=!1,_.hasAttribute("role")||_.setAttribute("role","dialog"),_.show=this.show.bind(this),_.showModal=this.showModal.bind(this),_.close=this.close.bind(this),"returnValue"in _||(_.returnValue=""),"MutationObserver"in window){var w=new MutationObserver(this.maybeHideModal.bind(this));w.observe(_,{attributes:!0,attributeFilter:["open"]})}else{var T=!1,S=(function(){T?this.downgradeModal():this.maybeHideModal(),T=!1}).bind(this),x,k=function(D){if(D.target===_){var N="DOMNodeRemoved";T|=D.type.substr(0,N.length)===N,window.clearTimeout(x),x=window.setTimeout(S,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(D){_.addEventListener(D,k)})}Object.defineProperty(_,"open",{set:this.setOpen.bind(this),get:_.hasAttribute.bind(_,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),u.dm.removeDialog(this))},setOpen:function(_){_?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(_){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var w=document.createElement("div");this.dialog_.insertBefore(w,this.dialog_.firstChild),w.tabIndex=-1,w.focus(),this.dialog_.removeChild(w)}var T=document.createEvent("MouseEvents");T.initMouseEvent(_.type,_.bubbles,_.cancelable,window,_.detail,_.screenX,_.screenY,_.clientX,_.clientY,_.ctrlKey,_.altKey,_.shiftKey,_.metaKey,_.button,_.relatedTarget),this.dialog_.dispatchEvent(T),_.stopPropagation()},focus_:function(){var _=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!_&&this.dialog_.tabIndex>=0&&(_=this.dialog_),!_){var w=["button","input","keygen","select","textarea"],T=w.map(function(S){return S+":not([disabled])"});T.push('[tabindex]:not([disabled]):not([tabindex=""])'),_=this.dialog_.querySelector(T.join(", "))}s(document.activeElement),_&&_.focus()},updateZIndex:function(_,w){if(_<w)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=_,this.backdrop_.style.zIndex=w},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!u.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");n(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,u.needsCentering(this.dialog_)?(u.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(_){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),_!==void 0&&(this.dialog_.returnValue=_);var w=new e("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(w)}};var u={};if(u.reposition=function(_){var w=document.body.scrollTop||document.documentElement.scrollTop,T=w+(window.innerHeight-_.offsetHeight)/2;_.style.top=Math.max(w,T)+"px"},u.isInlinePositionSetByStylesheet=function(_){for(var w=0;w<document.styleSheets.length;++w){var T=document.styleSheets[w],S=null;try{S=T.cssRules}catch{}if(S)for(var x=0;x<S.length;++x){var k=S[x],D=null;try{D=document.querySelectorAll(k.selectorText)}catch{}if(!(!D||!r(D,_))){var N=k.style.getPropertyValue("top"),O=k.style.getPropertyValue("bottom");if(N&&N!=="auto"||O&&O!=="auto")return!0}}}return!1},u.needsCentering=function(_){var w=window.getComputedStyle(_);return w.position!=="absolute"||_.style.top!=="auto"&&_.style.top!==""||_.style.bottom!=="auto"&&_.style.bottom!==""?!1:!u.isInlinePositionSetByStylesheet(_)},u.forceRegisterDialog=function(_){if((window.HTMLDialogElement||_.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",_),_.localName!=="dialog")throw new Error("Failed to register dialog: The element is not a dialog.");new c(_)},u.registerDialog=function(_){_.showModal||u.forceRegisterDialog(_)},u.DialogManager=function(){this.pendingDialogStack=[];var _=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",(function(w){this.forwardTab_=void 0,w.stopPropagation(),_([])}).bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(w){var T=[];w.forEach(function(S){for(var x=0,k;k=S.removedNodes[x];++x){if(k instanceof Element)k.localName==="dialog"&&T.push(k);else continue;T=T.concat(k.querySelectorAll("dialog"))}}),T.length&&_(T)}))},u.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},u.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},u.DialogManager.prototype.updateStacking=function(){for(var _=this.zIndexHigh_,w=0,T;T=this.pendingDialogStack[w];++w)T.updateZIndex(--_,--_),w===0&&(this.overlay.style.zIndex=--_);var S=this.pendingDialogStack[0];if(S){var x=S.dialog.parentNode||document.body;x.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},u.DialogManager.prototype.containedByTopDialog_=function(_){for(;_=i(_);){for(var w=0,T;T=this.pendingDialogStack[w];++w)if(T.dialog===_)return w===0;_=_.parentElement}return!1},u.DialogManager.prototype.handleFocus_=function(_){if(!this.containedByTopDialog_(_.target)&&(_.preventDefault(),_.stopPropagation(),s(_.target),this.forwardTab_!==void 0)){var w=this.pendingDialogStack[0],T=w.dialog,S=T.compareDocumentPosition(_.target);return S&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?w.focus_():document.documentElement.focus()),!1}},u.DialogManager.prototype.handleKey_=function(_){if(this.forwardTab_=void 0,_.keyCode===27){_.preventDefault(),_.stopPropagation();var w=new e("cancel",{bubbles:!1,cancelable:!0}),T=this.pendingDialogStack[0];T&&T.dialog.dispatchEvent(w)&&T.dialog.close()}else _.keyCode===9&&(this.forwardTab_=!_.shiftKey)},u.DialogManager.prototype.checkDOM_=function(_){var w=this.pendingDialogStack.slice();w.forEach(function(T){_.indexOf(T.dialog)!==-1?T.downgradeModal():T.maybeHideModal()})},u.DialogManager.prototype.pushDialog=function(_){var w=(this.zIndexHigh_-this.zIndexLow_)/2-1;return this.pendingDialogStack.length>=w?!1:(this.pendingDialogStack.unshift(_)===1&&this.blockDocument(),this.updateStacking(),!0)},u.DialogManager.prototype.removeDialog=function(_){var w=this.pendingDialogStack.indexOf(_);w!==-1&&(this.pendingDialogStack.splice(w,1),this.pendingDialogStack.length===0&&this.unblockDocument(),this.updateStacking())},u.dm=new u.DialogManager,u.formSubmitter=null,u.useValue=null,window.HTMLDialogElement===void 0){var d=document.createElement("form");if(d.setAttribute("method","dialog"),d.method!=="dialog"){var f=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(f){var g=f.get;f.get=function(){return a(this)?"dialog":g.call(this)};var y=f.set;f.set=function(_){return typeof _=="string"&&_.toLowerCase()==="dialog"?this.setAttribute("method",_):y.call(this,_)},Object.defineProperty(HTMLFormElement.prototype,"method",f)}}document.addEventListener("click",function(_){if(u.formSubmitter=null,u.useValue=null,!_.defaultPrevented){var w=_.target;if(!(!w||!a(w.form))){var T=w.type==="submit"&&["button","input"].indexOf(w.localName)>-1;if(!T){if(!(w.localName==="input"&&w.type==="image"))return;u.useValue=_.offsetX+","+_.offsetY}var S=i(w);S&&(u.formSubmitter=w)}}},!1);var b=HTMLFormElement.prototype.submit,E=function(){if(!a(this))return b.call(this);var _=i(this);_&&_.close()};HTMLFormElement.prototype.submit=E,document.addEventListener("submit",function(_){var w=_.target;if(a(w)){_.preventDefault();var T=i(w);if(T){var S=u.formSubmitter;S&&S.form===w?T.close(u.useValue||S.value):T.close(),u.formSubmitter=null}}},!0)}u.forceRegisterDialog=u.forceRegisterDialog,u.registerDialog=u.registerDialog,typeof t.exports=="object"?t.exports=u:window.dialogPolyfill=u})()})(rD);var x$=rD.exports;const k$=R$(x$);/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};zt=function(){var t=[],e=[],n="mdlComponentConfigInternal_";function i(_,w){for(var T=0;T<t.length;T++)if(t[T].className===_)return typeof w<"u"&&(t[T]=w),t[T];return!1}function s(_){var w=_.getAttribute("data-upgraded");return w===null?[""]:w.split(",")}function r(_,w){var T=s(_);return T.indexOf(w)!==-1}function a(_,w,T){if("CustomEvent"in window&&typeof window.CustomEvent=="function")return new CustomEvent(_,{bubbles:w,cancelable:T});var S=document.createEvent("Events");return S.initEvent(_,w,T),S}function c(_,w){if(typeof _>"u"&&typeof w>"u")for(var T=0;T<t.length;T++)c(t[T].className,t[T].cssClass);else{var S=_;if(typeof w>"u"){var x=i(S);x&&(w=x.cssClass)}for(var k=document.querySelectorAll("."+w),D=0;D<k.length;D++)u(k[D],S)}}function u(_,w){if(!(typeof _=="object"&&_ instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var T=a("mdl-componentupgrading",!0,!0);if(_.dispatchEvent(T),!T.defaultPrevented){var S=s(_),x=[];if(w)r(_,w)||x.push(i(w));else{var k=_.classList;t.forEach(function(me){k.contains(me.cssClass)&&x.indexOf(me)===-1&&!r(_,me.className)&&x.push(me)})}for(var D=0,N=x.length,O;D<N;D++){if(O=x[D],O){S.push(O.className),_.setAttribute("data-upgraded",S.join(","));var V=new O.classConstructor(_);V[n]=O,e.push(V);for(var $=0,ie=O.callbacks.length;$<ie;$++)O.callbacks[$](_);O.widget&&(_[O.className]=V)}else throw new Error("Unable to find a registered component for the given class.");var U=a("mdl-componentupgraded",!0,!1);_.dispatchEvent(U)}}}function d(_){Array.isArray(_)||(_ instanceof Element?_=[_]:_=Array.prototype.slice.call(_));for(var w=0,T=_.length,S;w<T;w++)S=_[w],S instanceof HTMLElement&&(u(S),S.children.length>0&&d(S.children))}function f(_){var w=typeof _.widget>"u"&&typeof _.widget>"u",T=!0;w||(T=_.widget||_.widget);var S={classConstructor:_.constructor||_.constructor,className:_.classAsString||_.classAsString,cssClass:_.cssClass||_.cssClass,widget:T,callbacks:[]};if(t.forEach(function(k){if(k.cssClass===S.cssClass)throw new Error("The provided cssClass has already been registered: "+k.cssClass);if(k.className===S.className)throw new Error("The provided className has already been registered")}),_.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");var x=i(_.classAsString,S);x||t.push(S)}function g(_,w){var T=i(_);T&&T.callbacks.push(w)}function y(){for(var _=0;_<t.length;_++)c(t[_].className)}function b(_){if(_){var w=e.indexOf(_);e.splice(w,1);var T=_.element_.getAttribute("data-upgraded").split(","),S=T.indexOf(_[n].classAsString);T.splice(S,1),_.element_.setAttribute("data-upgraded",T.join(","));var x=a("mdl-componentdowngraded",!0,!1);_.element_.dispatchEvent(x)}}function E(_){var w=function(S){e.filter(function(x){return x.element_===S}).forEach(b)};if(_ instanceof Array||_ instanceof NodeList)for(var T=0;T<_.length;T++)w(_[T]);else if(_ instanceof Node)w(_);else throw new Error("Invalid argument provided to downgrade MDL nodes.")}return{upgradeDom:c,upgradeElement:u,upgradeElements:d,upgradeAllRegistered:y,registerUpgradedCallback:g,register:f,downgradeElements:E}}();zt.ComponentConfigPublic;zt.ComponentConfig;zt.Component;zt.upgradeDom=zt.upgradeDom;zt.upgradeElement=zt.upgradeElement;zt.upgradeElements=zt.upgradeElements;zt.upgradeAllRegistered=zt.upgradeAllRegistered;zt.registerUpgradedCallback=zt.registerUpgradedCallback;zt.register=zt.register;zt.downgradeElements=zt.downgradeElements;window.componentHandler=zt;window.componentHandler=zt;window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),zt.upgradeAllRegistered()):(zt.upgradeElement=function(){},zt.register=function(){})});/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialButton=t,t.prototype.Constant_={},t.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},t.prototype.blurHandler_=function(e){e&&this.element_.blur()},t.prototype.disable=function(){this.element_.disabled=!0},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.element_.disabled=!1},t.prototype.enable=t.prototype.enable,t.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var e=document.createElement("span");e.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),e.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(e)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:t,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialProgress=t,t.prototype.Constant_={},t.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},t.prototype.setProgress=function(e){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=e+"%")},t.prototype.setProgress=t.prototype.setProgress,t.prototype.setBuffer=function(e){this.bufferbar_.style.width=e+"%",this.auxbar_.style.width=100-e+"%"},t.prototype.setBuffer=t.prototype.setBuffer,t.prototype.init=function(){if(this.element_){var e=document.createElement("div");e.className="progressbar bar bar1",this.element_.appendChild(e),this.progressbar_=e,e=document.createElement("div"),e.className="bufferbar bar bar2",this.element_.appendChild(e),this.bufferbar_=e,e=document.createElement("div"),e.className="auxbar bar bar3",this.element_.appendChild(e),this.auxbar_=e,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.init()};window.MaterialSpinner=t,t.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},t.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},t.prototype.createLayer=function(e){var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+e);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),r.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var a=[i,s,r],c=0;c<a.length;c++){var u=document.createElement("div");u.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),a[c].appendChild(u)}n.appendChild(i),n.appendChild(s),n.appendChild(r),this.element_.appendChild(n)},t.prototype.createLayer=t.prototype.createLayer,t.prototype.stop=function(){this.element_.classList.remove("is-active")},t.prototype.stop=t.prototype.stop,t.prototype.start=function(){this.element_.classList.add("is-active")},t.prototype.start=t.prototype.start,t.prototype.init=function(){if(this.element_){for(var e=1;e<=this.Constant_.MDL_SPINNER_LAYER_COUNT;e++)this.createLayer(e);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var t=function(n){this.element_=n,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=t,t.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},t.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},t.prototype.onKeyDown_=function(e){var n=e.target.value.split(`
`).length;e.keyCode===13&&n>=this.maxRows&&e.preventDefault()},t.prototype.onFocus_=function(e){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(e){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onReset_=function(e){this.updateClasses_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},t.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkDisabled=t.prototype.checkDisabled,t.prototype.checkFocus=function(){this.element_.querySelector(":focus")?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.checkFocus=t.prototype.checkFocus,t.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},t.prototype.checkValidity=t.prototype.checkValidity,t.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},t.prototype.checkDirty=t.prototype.checkDirty,t.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},t.prototype.disable=t.prototype.disable,t.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},t.prototype.enable=t.prototype.enable,t.prototype.change=function(e){this.input_.value=e||"",this.updateClasses_()},t.prototype.change=t.prototype.change,t.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var e=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),e&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:t,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})})();(function(){(function(){var t,e=typeof Object.create=="function"?Object.create:function(o){function l(){}return l.prototype=o,new l},n;if(typeof Object.setPrototypeOf=="function")n=Object.setPrototypeOf;else{var i;e:{var s={xb:!0},r={};try{r.__proto__=s,i=r.xb;break e}catch{}i=!1}n=i?function(o,l){if(o.__proto__=l,o.__proto__!==l)throw new TypeError(o+" is not extensible");return o}:null}var a=n;function c(o,l){if(o.prototype=e(l.prototype),o.prototype.constructor=o,a)a(o,l);else for(var h in l)if(h!="prototype")if(Object.defineProperties){var p=Object.getOwnPropertyDescriptor(l,h);p&&Object.defineProperty(o,h,p)}else o[h]=l[h];o.K=l.prototype}var u=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,l,h){o!=Array.prototype&&o!=Object.prototype&&(o[l]=h.value)},d=typeof window<"u"&&window===this?this:typeof global<"u"&&global!=null?global:this;function f(o,l){if(l){var h=d;o=o.split(".");for(var p=0;p<o.length-1;p++){var m=o[p];m in h||(h[m]={}),h=h[m]}o=o[o.length-1],p=h[o],l=l(p),l!=p&&l!=null&&u(h,o,{configurable:!0,writable:!0,value:l})}}f("Object.is",function(o){return o||function(l,h){return l===h?l!==0||1/l===1/h:l!==l&&h!==h}}),f("Array.prototype.includes",function(o){return o||function(l,h){var p=this;p instanceof String&&(p=String(p));var m=p.length;for(h=h||0,0>h&&(h=Math.max(h+m,0));h<m;h++){var v=p[h];if(v===l||Object.is(v,l))return!0}return!1}});var g=this;function y(o){return o!==void 0}function b(o){return typeof o=="string"}var E=/^[\w+/_-]+[=]{0,2}$/,_=null;function w(){}function T(o){o.W=void 0,o.Xa=function(){return o.W?o.W:o.W=new o}}function S(o){var l=typeof o;if(l=="object")if(o){if(o instanceof Array)return"array";if(o instanceof Object)return l;var h=Object.prototype.toString.call(o);if(h=="[object Window]")return"object";if(h=="[object Array]"||typeof o.length=="number"&&typeof o.splice<"u"&&typeof o.propertyIsEnumerable<"u"&&!o.propertyIsEnumerable("splice"))return"array";if(h=="[object Function]"||typeof o.call<"u"&&typeof o.propertyIsEnumerable<"u"&&!o.propertyIsEnumerable("call"))return"function"}else return"null";else if(l=="function"&&typeof o.call>"u")return"object";return l}function x(o){return S(o)=="array"}function k(o){var l=S(o);return l=="array"||l=="object"&&typeof o.length=="number"}function D(o){return S(o)=="function"}function N(o){var l=typeof o;return l=="object"&&o!=null||l=="function"}var O="closure_uid_"+(1e9*Math.random()>>>0),V=0;function $(o,l,h){return o.call.apply(o.bind,arguments)}function ie(o,l,h){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,p),o.apply(l,m)}}return function(){return o.apply(l,arguments)}}function U(o,l,h){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?U=$:U=ie,U.apply(null,arguments)}function me(o,l){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),o.apply(this,p)}}function ye(o,l){for(var h in l)o[h]=l[h]}var Ze=Date.now||function(){return+new Date};function pe(o,l){o=o.split(".");var h=g;o[0]in h||typeof h.execScript>"u"||h.execScript("var "+o[0]);for(var p;o.length&&(p=o.shift());)!o.length&&y(l)?h[p]=l:h[p]&&h[p]!==Object.prototype[p]?h=h[p]:h=h[p]={}}function Y(o,l){function h(){}h.prototype=l.prototype,o.K=l.prototype,o.prototype=new h,o.prototype.constructor=o,o.vc=function(p,m,v){for(var I=Array(arguments.length-2),C=2;C<arguments.length;C++)I[C-2]=arguments[C];return l.prototype[m].apply(p,I)}}function se(o){if(Error.captureStackTrace)Error.captureStackTrace(this,se);else{var l=Error().stack;l&&(this.stack=l)}o&&(this.message=String(o))}Y(se,Error),se.prototype.name="CustomError";var Ie;function st(o,l){o=o.split("%s");for(var h="",p=o.length-1,m=0;m<p;m++)h+=o[m]+(m<l.length?l[m]:"%s");se.call(this,h+o[p])}Y(st,se),st.prototype.name="AssertionError";function Tt(o,l){throw new st("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}var on=Array.prototype.indexOf?function(o,l){return Array.prototype.indexOf.call(o,l,void 0)}:function(o,l){if(b(o))return b(l)&&l.length==1?o.indexOf(l,0):-1;for(var h=0;h<o.length;h++)if(h in o&&o[h]===l)return h;return-1},mt=Array.prototype.forEach?function(o,l,h){Array.prototype.forEach.call(o,l,h)}:function(o,l,h){for(var p=o.length,m=b(o)?o.split(""):o,v=0;v<p;v++)v in m&&l.call(h,m[v],v,o)};function Bn(o,l){for(var h=b(o)?o.split(""):o,p=o.length-1;0<=p;--p)p in h&&l.call(void 0,h[p],p,o)}var Ct=Array.prototype.filter?function(o,l){return Array.prototype.filter.call(o,l,void 0)}:function(o,l){for(var h=o.length,p=[],m=0,v=b(o)?o.split(""):o,I=0;I<h;I++)if(I in v){var C=v[I];l.call(void 0,C,I,o)&&(p[m++]=C)}return p},yi=Array.prototype.map?function(o,l){return Array.prototype.map.call(o,l,void 0)}:function(o,l){for(var h=o.length,p=Array(h),m=b(o)?o.split(""):o,v=0;v<h;v++)v in m&&(p[v]=l.call(void 0,m[v],v,o));return p},qe=Array.prototype.some?function(o,l){return Array.prototype.some.call(o,l,void 0)}:function(o,l){for(var h=o.length,p=b(o)?o.split(""):o,m=0;m<h;m++)if(m in p&&l.call(void 0,p[m],m,o))return!0;return!1};function B(o,l){return 0<=on(o,l)}function he(o,l){l=on(o,l);var h;return(h=0<=l)&&ae(o,l),h}function ae(o,l){return Array.prototype.splice.call(o,l,1).length==1}function _e(o,l){e:{for(var h=o.length,p=b(o)?o.split(""):o,m=0;m<h;m++)if(m in p&&l.call(void 0,p[m],m,o)){l=m;break e}l=-1}0<=l&&ae(o,l)}function rt(o,l){var h=0;Bn(o,function(p,m){l.call(void 0,p,m,o)&&ae(o,m)&&h++})}function _t(o){return Array.prototype.concat.apply([],arguments)}function A(o){var l=o.length;if(0<l){for(var h=Array(l),p=0;p<l;p++)h[p]=o[p];return h}return[]}function R(o,l,h){return 2>=arguments.length?Array.prototype.slice.call(o,l):Array.prototype.slice.call(o,l,h)}var L=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},W=/&/g,j=/</g,ne=/>/g,ce=/"/g,te=/'/g,re=/\x00/g,Q=/[\x00&<>"']/;function de(o,l){return o<l?-1:o>l?1:0}function we(o){return Q.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(W,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(j,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(ne,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(ce,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(te,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(re,"&#0;"))),o}function Te(o,l,h){for(var p in o)l.call(h,o[p],p,o)}function Re(o){var l={},h;for(h in o)l[h]=o[h];return l}var He="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(o,l){for(var h,p,m=1;m<arguments.length;m++){p=arguments[m];for(h in p)o[h]=p[h];for(var v=0;v<He.length;v++)h=He[v],Object.prototype.hasOwnProperty.call(p,h)&&(o[h]=p[h])}}var ct="StopIteration"in g?g.StopIteration:{message:"StopIteration",stack:""};function St(){}St.prototype.next=function(){throw ct},St.prototype.ha=function(){return this};function dn(o){if(o instanceof St)return o;if(typeof o.ha=="function")return o.ha(!1);if(k(o)){var l=0,h=new St;return h.next=function(){for(;;){if(l>=o.length)throw ct;if(l in o)return o[l++];l++}},h}throw Error("Not implemented")}function ai(o,l){if(k(o))try{mt(o,l,void 0)}catch(h){if(h!==ct)throw h}else{o=dn(o);try{for(;;)l.call(void 0,o.next(),void 0,o)}catch(h){if(h!==ct)throw h}}}function ws(o){if(k(o))return A(o);o=dn(o);var l=[];return ai(o,function(h){l.push(h)}),l}function Kt(o,l){this.g={},this.a=[],this.j=this.h=0;var h=arguments.length;if(1<h){if(h%2)throw Error("Uneven number of arguments");for(var p=0;p<h;p+=2)this.set(arguments[p],arguments[p+1])}else if(o)if(o instanceof Kt)for(h=o.ja(),p=0;p<h.length;p++)this.set(h[p],o.get(h[p]));else for(p in o)this.set(p,o[p])}t=Kt.prototype,t.la=function(){Gn(this);for(var o=[],l=0;l<this.a.length;l++)o.push(this.g[this.a[l]]);return o},t.ja=function(){return Gn(this),this.a.concat()},t.clear=function(){this.g={},this.j=this.h=this.a.length=0};function Gn(o){if(o.h!=o.a.length){for(var l=0,h=0;l<o.a.length;){var p=o.a[l];At(o.g,p)&&(o.a[h++]=p),l++}o.a.length=h}if(o.h!=o.a.length){var m={};for(h=l=0;l<o.a.length;)p=o.a[l],At(m,p)||(o.a[h++]=p,m[p]=1),l++;o.a.length=h}}t.get=function(o,l){return At(this.g,o)?this.g[o]:l},t.set=function(o,l){At(this.g,o)||(this.h++,this.a.push(o),this.j++),this.g[o]=l},t.forEach=function(o,l){for(var h=this.ja(),p=0;p<h.length;p++){var m=h[p],v=this.get(m);o.call(l,v,m,this)}},t.ha=function(o){Gn(this);var l=0,h=this.j,p=this,m=new St;return m.next=function(){if(h!=p.j)throw Error("The map has changed since the iterator was created");if(l>=p.a.length)throw ct;var v=p.a[l++];return o?v:p.g[v]},m};function At(o,l){return Object.prototype.hasOwnProperty.call(o,l)}var vi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xa(o,l){if(o){o=o.split("&");for(var h=0;h<o.length;h++){var p=o[h].indexOf("="),m=null;if(0<=p){var v=o[h].substring(0,p);m=o[h].substring(p+1)}else v=o[h];l(v,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function af(o,l,h,p){for(var m=h.length;0<=(l=o.indexOf(h,l))&&l<p;){var v=o.charCodeAt(l-1);if((v==38||v==63)&&(v=o.charCodeAt(l+m),!v||v==61||v==38||v==35))return l;l+=m+1}return-1}var cf=/#|$/;function Qa(o,l){var h=o.search(cf),p=af(o,0,l,h);if(0>p)return null;var m=o.indexOf("&",p);return(0>m||m>h)&&(m=h),p+=l.length+1,decodeURIComponent(o.substr(p,m-p).replace(/\+/g," "))}var Ky=/[?&]($|#)/;function Es(o,l){this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1;var h;o instanceof Es?(this.i=y(l)?l:o.i,jl(this,o.j),this.A=o.A,this.h=o.h,$l(this,o.C),this.g=o.g,Hl(this,df(o.a)),this.s=o.s):o&&(h=String(o).match(vi))?(this.i=!!l,jl(this,h[1]||"",!0),this.A=Uo(h[2]||""),this.h=Uo(h[3]||"",!0),$l(this,h[4]),this.g=Uo(h[5]||"",!0),Hl(this,h[6]||"",!0),this.s=Uo(h[7]||"")):(this.i=!!l,this.a=new Vr(null,this.i))}Es.prototype.toString=function(){var o=[],l=this.j;l&&o.push(Bo(l,er,!0),":");var h=this.h;return(h||l=="file")&&(o.push("//"),(l=this.A)&&o.push(Bo(l,er,!0),"@"),o.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.C,h!=null&&o.push(":",String(h))),(h=this.g)&&(this.h&&h.charAt(0)!="/"&&o.push("/"),o.push(Bo(h,h.charAt(0)=="/"?Yy:lf,!0))),(h=this.a.toString())&&o.push("?",h),(h=this.s)&&o.push("#",Bo(h,jo)),o.join("")};function jl(o,l,h){o.j=h?Uo(l,!0):l,o.j&&(o.j=o.j.replace(/:$/,""))}function $l(o,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);o.C=l}else o.C=null}function Hl(o,l,h){l instanceof Vr?(o.a=l,ff(o.a,o.i)):(h||(l=Bo(l,uf)),o.a=new Vr(l,o.i))}function zl(o){return o instanceof Es?new Es(o):new Es(o,void 0)}function Uo(o,l){return o?l?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Bo(o,l,h){return b(o)?(o=encodeURI(o).replace(l,Gy),h&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Gy(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var er=/[#\/\?@]/g,lf=/[#\?:]/g,Yy=/[#\?]/g,uf=/[#\?@]/g,jo=/#/g;function Vr(o,l){this.g=this.a=null,this.h=o||null,this.j=!!l}function ts(o){o.a||(o.a=new Kt,o.g=0,o.h&&Xa(o.h,function(l,h){o.add(decodeURIComponent(l.replace(/\+/g," ")),h)}))}t=Vr.prototype,t.add=function(o,l){ts(this),this.h=null,o=Fr(this,o);var h=this.a.get(o);return h||this.a.set(o,h=[]),h.push(l),this.g+=1,this};function fn(o,l){ts(o),l=Fr(o,l),At(o.a.g,l)&&(o.h=null,o.g-=o.a.get(l).length,o=o.a,At(o.g,l)&&(delete o.g[l],o.h--,o.j++,o.a.length>2*o.h&&Gn(o)))}t.clear=function(){this.a=this.h=null,this.g=0};function hf(o,l){return ts(o),l=Fr(o,l),At(o.a.g,l)}t.forEach=function(o,l){ts(this),this.a.forEach(function(h,p){mt(h,function(m){o.call(l,m,p,this)},this)},this)},t.ja=function(){ts(this);for(var o=this.a.la(),l=this.a.ja(),h=[],p=0;p<l.length;p++)for(var m=o[p],v=0;v<m.length;v++)h.push(l[p]);return h},t.la=function(o){ts(this);var l=[];if(b(o))hf(this,o)&&(l=_t(l,this.a.get(Fr(this,o))));else{o=this.a.la();for(var h=0;h<o.length;h++)l=_t(l,o[h])}return l},t.set=function(o,l){return ts(this),this.h=null,o=Fr(this,o),hf(this,o)&&(this.g-=this.a.get(o).length),this.a.set(o,[l]),this.g+=1,this},t.get=function(o,l){return o?(o=this.la(o),0<o.length?String(o[0]):l):l},t.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var o=[],l=this.a.ja(),h=0;h<l.length;h++){var p=l[h],m=encodeURIComponent(String(p));p=this.la(p);for(var v=0;v<p.length;v++){var I=m;p[v]!==""&&(I+="="+encodeURIComponent(String(p[v]))),o.push(I)}}return this.h=o.join("&")};function df(o){var l=new Vr;return l.h=o.h,o.a&&(l.a=new Kt(o.a),l.g=o.g),l}function Fr(o,l){return l=String(l),o.j&&(l=l.toLowerCase()),l}function ff(o,l){l&&!o.j&&(ts(o),o.h=null,o.a.forEach(function(h,p){var m=p.toLowerCase();p!=m&&(fn(this,p),fn(this,m),0<h.length&&(this.h=null,this.a.set(Fr(this,m),A(h)),this.g+=h.length))},o)),o.j=l}function tr(o){this.a=zl(o)}function Xy(o,l){l?o.a.a.set(Gt.Sa,l):fn(o.a.a,Gt.Sa)}function Wl(o,l){l!==null?o.a.a.set(Gt.Qa,l?"1":"0"):fn(o.a.a,Gt.Qa)}function pf(o){return o.a.a.get(Gt.Pa)||null}function gf(o,l){l?o.a.a.set(Gt.PROVIDER_ID,l):fn(o.a.a,Gt.PROVIDER_ID)}tr.prototype.toString=function(){return this.a.toString()};var Gt={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"},Ur;e:{var ql=g.navigator;if(ql){var mf=ql.userAgent;if(mf){Ur=mf;break e}}Ur=""}function ze(o){return Ur.indexOf(o)!=-1}function yf(){return(ze("Chrome")||ze("CriOS"))&&!ze("Edge")}function Kl(o){return Kl[" "](o),o}Kl[" "]=w;function M(o,l){var h=XN;return Object.prototype.hasOwnProperty.call(h,o)?h[o]:h[o]=l(o)}var Z=ze("Opera"),X=ze("Trident")||ze("MSIE"),Ae=ze("Edge"),an=Ae||X,pn=ze("Gecko")&&!(Ur.toLowerCase().indexOf("webkit")!=-1&&!ze("Edge"))&&!(ze("Trident")||ze("MSIE"))&&!ze("Edge"),$t=Ur.toLowerCase().indexOf("webkit")!=-1&&!ze("Edge"),Gl=$t&&ze("Mobile"),Br=ze("Macintosh");function pE(){var o=g.document;return o?o.documentMode:void 0}var vf;e:{var Qy="",Jy=function(){var o=Ur;if(pn)return/rv:([^\);]+)(\)|;)/.exec(o);if(Ae)return/Edge\/([\d\.]+)/.exec(o);if(X)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if($t)return/WebKit\/(\S+)/.exec(o);if(Z)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(Jy&&(Qy=Jy?Jy[1]:""),X){var Zy=pE();if(Zy!=null&&Zy>parseFloat(Qy)){vf=String(Zy);break e}}vf=Qy}var XN={};function $o(o){return M(o,function(){for(var l=0,h=L(String(vf)).split("."),p=L(String(o)).split("."),m=Math.max(h.length,p.length),v=0;l==0&&v<m;v++){var I=h[v]||"",C=p[v]||"";do{if(I=/(\d*)(\D*)(.*)/.exec(I)||["","","",""],C=/(\d*)(\D*)(.*)/.exec(C)||["","","",""],I[0].length==0&&C[0].length==0)break;l=de(I[1].length==0?0:parseInt(I[1],10),C[1].length==0?0:parseInt(C[1],10))||de(I[2].length==0,C[2].length==0)||de(I[2],C[2]),I=I[3],C=C[3]}while(l==0)}return 0<=l})}var Yl,gE=g.document;Yl=gE&&X?pE()||(gE.compatMode=="CSS1Compat"?parseInt(vf,10):5):void 0;function Ja(o,l){this.a=o===yE&&l||"",this.g=mE}Ja.prototype.ma=!0,Ja.prototype.ka=function(){return this.a},Ja.prototype.toString=function(){return"Const{"+this.a+"}"};var mE={},yE={};function Ho(){this.a="",this.h=_E}Ho.prototype.ma=!0,Ho.prototype.ka=function(){return this.a.toString()},Ho.prototype.g=function(){return 1},Ho.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function vE(o){return o instanceof Ho&&o.constructor===Ho&&o.h===_E?o.a:(Tt("expected object of type TrustedResourceUrl, got '"+o+"' of type "+S(o)),"type_error:TrustedResourceUrl")}function QN(){var o=$L;o instanceof Ja&&o.constructor===Ja&&o.g===mE?o=o.a:(Tt("expected object of type Const, got '"+o+"'"),o="type_error:Const");var l=new Ho;return l.a=o,l}var _E={};function xi(){this.a="",this.h=EE}xi.prototype.ma=!0,xi.prototype.ka=function(){return this.a.toString()},xi.prototype.g=function(){return 1},xi.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function jr(o){return o instanceof xi&&o.constructor===xi&&o.h===EE?o.a:(Tt("expected object of type SafeUrl, got '"+o+"' of type "+S(o)),"type_error:SafeUrl")}var bE=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function _f(o){return o instanceof xi?o:(o=typeof o=="object"&&o.ma?o.ka():String(o),bE.test(o)||(o="about:invalid#zClosurez"),ev(o))}function wE(o){return o instanceof xi?o:(o=typeof o=="object"&&o.ma?o.ka():String(o),bE.test(o)||(o="about:invalid#zClosurez"),ev(o))}var EE={};function ev(o){var l=new xi;return l.a=o,l}ev("about:blank");function Za(){this.a="",this.g=IE}Za.prototype.ma=!0;var IE={};Za.prototype.ka=function(){return this.a},Za.prototype.toString=function(){return"SafeStyle{"+this.a+"}"};function $r(){this.a="",this.j=TE,this.h=null}$r.prototype.g=function(){return this.h},$r.prototype.ma=!0,$r.prototype.ka=function(){return this.a.toString()},$r.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function bf(o){return o instanceof $r&&o.constructor===$r&&o.j===TE?o.a:(Tt("expected object of type SafeHtml, got '"+o+"' of type "+S(o)),"type_error:SafeHtml")}var TE={};function Xl(o,l){var h=new $r;return h.a=o,h.h=l,h}Xl("<!DOCTYPE html>",0);var JN=Xl("",0);Xl("<br>",0);var ZN=function(o){var l=!1,h;return function(){return l||(h=o(),l=!0),h}}(function(){if(typeof document>"u")return!1;var o=document.createElement("div"),l=document.createElement("div");return l.appendChild(document.createElement("div")),o.appendChild(l),o.firstChild?(l=o.firstChild.firstChild,o.innerHTML=bf(JN),!l.parentElement):!1});function eL(o,l){if(o.src=vE(l),_===null)e:{if(l=g.document,(l=l.querySelector&&l.querySelector("script[nonce]"))&&(l=l.nonce||l.getAttribute("nonce"))&&E.test(l)){_=l;break e}_=""}l=_,l&&o.setAttribute("nonce",l)}function ec(o,l){l=l instanceof xi?l:wE(l),o.assign(jr(l))}function Hr(o,l){this.a=y(o)?o:0,this.g=y(l)?l:0}Hr.prototype.toString=function(){return"("+this.a+", "+this.g+")"},Hr.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},Hr.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},Hr.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this};function tv(o,l){this.width=o,this.height=l}t=tv.prototype,t.toString=function(){return"("+this.width+" x "+this.height+")"},t.aspectRatio=function(){return this.width/this.height},t.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},t.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},t.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};function wf(o){return o?new rv(Ql(o)):Ie||(Ie=new rv)}function nv(o,l){var h=l||document;return h.querySelectorAll&&h.querySelector?h.querySelectorAll("."+o):SE(document,o,l)}function iv(o,l){var h=l||document;if(h.getElementsByClassName)o=h.getElementsByClassName(o)[0];else{h=document;var p=l||h;o=p.querySelectorAll&&p.querySelector&&o?p.querySelector(o?"."+o:""):SE(h,o,l)[0]||null}return o||null}function SE(o,l,h){var p;if(o=h||o,o.querySelectorAll&&o.querySelector&&l)return o.querySelectorAll(l?"."+l:"");if(l&&o.getElementsByClassName){var m=o.getElementsByClassName(l);return m}if(m=o.getElementsByTagName("*"),l){var v={};for(h=p=0;o=m[h];h++){var I=o.className;typeof I.split=="function"&&B(I.split(/\s+/),l)&&(v[p++]=o)}return v.length=p,v}return m}function tL(o,l){Te(l,function(h,p){h&&typeof h=="object"&&h.ma&&(h=h.ka()),p=="style"?o.style.cssText=h:p=="class"?o.className=h:p=="for"?o.htmlFor=h:AE.hasOwnProperty(p)?o.setAttribute(AE[p],h):p.lastIndexOf("aria-",0)==0||p.lastIndexOf("data-",0)==0?o.setAttribute(p,h):o[p]=h})}var AE={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Ef(o){return o.scrollingElement?o.scrollingElement:($t||o.compatMode!="CSS1Compat")&&o.body||o.documentElement}function zo(o){o&&o.parentNode&&o.parentNode.removeChild(o)}function Ql(o){return o.nodeType==9?o:o.ownerDocument||o.document}function sv(o,l){if("textContent"in o)o.textContent=l;else if(o.nodeType==3)o.data=String(l);else if(o.firstChild&&o.firstChild.nodeType==3){for(;o.lastChild!=o.firstChild;)o.removeChild(o.lastChild);o.firstChild.data=String(l)}else{for(var h;h=o.firstChild;)o.removeChild(h);o.appendChild(Ql(o).createTextNode(String(l)))}}function CE(o,l){return l?nL(o,function(h){return!l||b(h.className)&&B(h.className.split(/\s+/),l)}):null}function nL(o,l){for(var h=0;o;){if(l(o))return o;o=o.parentNode,h++}return null}function rv(o){this.a=o||g.document||document}rv.prototype.N=function(){return b(void 0)?this.a.getElementById(void 0):void 0};var If={Fc:!0},PE={Hc:!0},iL={Ec:!0},RE={Gc:!0};function zr(){throw Error("Do not instantiate directly")}zr.prototype.va=null,zr.prototype.toString=function(){return this.content};function Jl(o,l,h,p){if(o=o(l||oL,void 0,h),p=(p||wf()).a.createElement("DIV"),o=sL(o),o.match(rL),o=Xl(o,null),ZN())for(;p.lastChild;)p.removeChild(p.lastChild);return p.innerHTML=bf(o),p.childNodes.length==1&&(o=p.firstChild,o.nodeType==1&&(p=o)),p}function sL(o){if(!N(o))return we(String(o));if(o instanceof zr){if(o.fa===If)return o.content;if(o.fa===RE)return we(o.content)}return Tt("Soy template output is unsafe for use as HTML: "+o),"zSoyz"}var rL=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,oL={};function aL(o){if(o!=null)switch(o.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}function Tf(){zr.call(this)}Y(Tf,zr),Tf.prototype.fa=If;function De(o){return o!=null&&o.fa===If?o:o instanceof $r?ge(bf(o).toString(),o.g()):ge(we(String(String(o))),aL(o))}function Sf(){zr.call(this)}Y(Sf,zr),Sf.prototype.fa=PE,Sf.prototype.va=1;function Af(o,l){this.content=String(o),this.va=l??null}Y(Af,zr),Af.prototype.fa=RE;function lt(o){return new Af(o,void 0)}var ge=function(o){function l(h){this.content=h}return l.prototype=o.prototype,function(h,p){return h=new l(String(h)),p!==void 0&&(h.va=p),h}}(Tf),cL=function(o){function l(h){this.content=h}return l.prototype=o.prototype,function(h){return new l(String(h))}}(Sf);function lL(o){function l(){}var h={label:Yt("New password")};l.prototype=o,o=new l;for(var p in h)o[p]=h[p];return o}function Yt(o){return(o=String(o))?new Af(o,void 0):""}var xE=function(o){function l(h){this.content=h}return l.prototype=o.prototype,function(h,p){return h=String(h),h?(h=new l(h),p!==void 0&&(h.va=p),h):""}}(Tf);function ci(o){return o!=null&&o.fa===If?String(String(o.content).replace(mL,"").replace(yL,"&lt;")).replace(fL,hL):we(String(o))}function Wo(o){return o!=null&&o.fa===PE?o=String(o).replace(av,ov):o instanceof xi?o=String(jr(o).toString()).replace(av,ov):(o=String(o),gL.test(o)?o=o.replace(av,ov):(Tt("Bad value `%s` for |filterNormalizeUri",[o]),o="#zSoyz")),o}function kE(o){return o!=null&&o.fa===iL?o=o.content:o==null?o="":o instanceof Za?o instanceof Za&&o.constructor===Za&&o.g===IE?o=o.a:(Tt("expected object of type SafeStyle, got '"+o+"' of type "+S(o)),o="type_error:SafeStyle"):(o=String(o),pL.test(o)||(Tt("Bad value `%s` for |filterCssValue",[o]),o="zSoyz")),o}var uL={"\0":"&#0;","	":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;","":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function hL(o){return uL[o]}var dL={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","\x07":"%07","\b":"%08","	":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","\x1B":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85","":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","":"%EF%BC%81","":"%EF%BC%83","":"%EF%BC%84","":"%EF%BC%86","":"%EF%BC%87","":"%EF%BC%88","":"%EF%BC%89","":"%EF%BC%8A","":"%EF%BC%8B","":"%EF%BC%8C","":"%EF%BC%8F","":"%EF%BC%9A","":"%EF%BC%9B","":"%EF%BC%9D","":"%EF%BC%9F","":"%EF%BC%A0","":"%EF%BC%BB","":"%EF%BC%BD"};function ov(o){return dL[o]}var fL=/[\x00\x22\x27\x3c\x3e]/g,av=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,pL=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,gL=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,mL=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,yL=/</g;function cv(){return lt("Enter a valid phone number")}function DE(){return lt("Unable to send password reset code to specified email")}function OE(){return lt("Something went wrong. Please try again.")}function ME(){return lt("This email already exists without any means of sign-in. Please reset the password to recover.")}function NE(o){o=o||{};var l="";switch(o.code){case"invalid-argument":l+="Client specified an invalid argument.";break;case"invalid-configuration":l+="Client specified an invalid project configuration.";break;case"failed-precondition":l+="Request can not be executed in the current system state.";break;case"out-of-range":l+="Client specified an invalid range.";break;case"unauthenticated":l+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":l+="Client does not have sufficient permission.";break;case"not-found":l+="Specified resource is not found.";break;case"aborted":l+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":l+="The resource that a client tried to create already exists.";break;case"resource-exhausted":l+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":l+="Request cancelled by the client.";break;case"data-loss":l+="Unrecoverable data loss or data corruption.";break;case"unknown":l+="Unknown server error.";break;case"internal":l+="Internal server error.";break;case"not-implemented":l+="API method not implemented by the server.";break;case"unavailable":l+="Service unavailable.";break;case"deadline-exceeded":l+="Request deadline exceeded.";break;case"auth/user-disabled":l+="The user account has been disabled by an administrator.";break;case"auth/timeout":l+="The operation has timed out.";break;case"auth/too-many-requests":l+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":l+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":l+="A network error has occurred. Try again later.";break;case"restart-process":l+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":l+="No sign-in provider is available for the given email, please try with a different email."}return lt(l)}function LE(){return lt("Please login again to perform this operation")}function Zl(o,l,h){var p=Error.call(this);if(this.message=p.message,"stack"in p&&(this.stack=p.stack),this.code=vL+o,!(o=l)){switch(o="",this.code){case"firebaseui/merge-conflict":o+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:o+=OE()}o=lt(o).toString()}this.message=o||"",this.credential=h||null}c(Zl,Error),Zl.prototype.toJSON=function(){return{code:this.code,message:this.message}};var vL="firebaseui/";function qo(){this.T=this.T,this.C=this.C}var _L=0;qo.prototype.T=!1,qo.prototype.m=function(){!this.T&&(this.T=!0,this.o(),_L!=0)&&(this[O]||(this[O]=++V))};function eu(o,l){o.T?y(void 0)?l.call(void 0):l():(o.C||(o.C=[]),o.C.push(y(void 0)?U(l,void 0):l))}qo.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tu(o){o&&typeof o.m=="function"&&o.m()}var bL=Object.freeze||function(o){return o},VE=!X||9<=Number(Yl),wL=X&&!$o("9"),EL=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,l=Object.defineProperty({},"passive",{get:function(){o=!0}});try{g.addEventListener("test",w,l),g.removeEventListener("test",w,l)}catch{}return o}();function nr(o,l){this.type=o,this.g=this.target=l,this.h=!1,this.qb=!0}nr.prototype.stopPropagation=function(){this.h=!0},nr.prototype.preventDefault=function(){this.qb=!1};function li(o,l){if(nr.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var h=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=l,l=o.relatedTarget){if(pn){e:{try{Kl(l.nodeName);var m=!0;break e}catch{}m=!1}m||(l=null)}}else h=="mouseover"?l=o.fromElement:h=="mouseout"&&(l=o.toElement);this.relatedTarget=l,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.keyCode=o.keyCode||0,this.key=o.key||"",this.j=o.charCode||(h=="keypress"?o.keyCode:0),this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=b(o.pointerType)?o.pointerType:IL[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}Y(li,nr);var IL=bL({2:"touch",3:"pen",4:"mouse"});li.prototype.stopPropagation=function(){li.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},li.prototype.preventDefault=function(){li.K.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,wL)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}};var nu="closure_listenable_"+(1e6*Math.random()|0),TL=0;function SL(o,l,h,p,m){this.listener=o,this.proxy=null,this.src=l,this.type=h,this.capture=!!p,this.La=m,this.key=++TL,this.sa=this.Ia=!1}function Cf(o){o.sa=!0,o.listener=null,o.proxy=null,o.src=null,o.La=null}function Pf(o){this.src=o,this.a={},this.g=0}Pf.prototype.add=function(o,l,h,p,m){var v=o.toString();o=this.a[v],o||(o=this.a[v]=[],this.g++);var I=uv(o,l,p,m);return-1<I?(l=o[I],h||(l.Ia=!1)):(l=new SL(l,this.src,v,!!p,m),l.Ia=h,o.push(l)),l};function lv(o,l){var h=l.type;h in o.a&&he(o.a[h],l)&&(Cf(l),o.a[h].length==0&&(delete o.a[h],o.g--))}function uv(o,l,h,p){for(var m=0;m<o.length;++m){var v=o[m];if(!v.sa&&v.listener==l&&v.capture==!!h&&v.La==p)return m}return-1}var hv="closure_lm_"+(1e6*Math.random()|0),dv={};function ns(o,l,h,p,m){if(p&&p.once)return iu(o,l,h,p,m);if(x(l)){for(var v=0;v<l.length;v++)ns(o,l[v],h,p,m);return null}return h=pv(h),o&&o[nu]?o.J.add(String(l),h,!1,N(p)?!!p.capture:!!p,m):FE(o,l,h,!1,p,m)}function FE(o,l,h,p,m,v){if(!l)throw Error("Invalid event type");var I=N(m)?!!m.capture:!!m,C=Rf(o);if(C||(o[hv]=C=new Pf(o)),h=C.add(l,h,p,I,v),h.proxy)return h;if(p=AL(),h.proxy=p,p.src=o,p.listener=h,o.addEventListener)EL||(m=I),m===void 0&&(m=!1),o.addEventListener(l.toString(),p,m);else if(o.attachEvent)o.attachEvent(UE(l.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function AL(){var o=CL,l=VE?function(h){return o.call(l.src,l.listener,h)}:function(h){if(h=o.call(l.src,l.listener,h),!h)return h};return l}function iu(o,l,h,p,m){if(x(l)){for(var v=0;v<l.length;v++)iu(o,l[v],h,p,m);return null}return h=pv(h),o&&o[nu]?o.J.add(String(l),h,!0,N(p)?!!p.capture:!!p,m):FE(o,l,h,!0,p,m)}function Ko(o,l,h,p,m){if(x(l))for(var v=0;v<l.length;v++)Ko(o,l[v],h,p,m);else p=N(p)?!!p.capture:!!p,h=pv(h),o&&o[nu]?(o=o.J,l=String(l).toString(),l in o.a&&(v=o.a[l],h=uv(v,h,p,m),-1<h&&(Cf(v[h]),ae(v,h),v.length==0&&(delete o.a[l],o.g--)))):o&&(o=Rf(o))&&(l=o.a[l.toString()],o=-1,l&&(o=uv(l,h,p,m)),(h=-1<o?l[o]:null)&&Wr(h))}function Wr(o){if(typeof o!="number"&&o&&!o.sa){var l=o.src;if(l&&l[nu])lv(l.J,o);else{var h=o.type,p=o.proxy;l.removeEventListener?l.removeEventListener(h,p,o.capture):l.detachEvent?l.detachEvent(UE(h),p):l.addListener&&l.removeListener&&l.removeListener(p),(h=Rf(l))?(lv(h,o),h.g==0&&(h.src=null,l[hv]=null)):Cf(o)}}}function UE(o){return o in dv?dv[o]:dv[o]="on"+o}function BE(o,l,h,p){var m=!0;if((o=Rf(o))&&(l=o.a[l.toString()]))for(l=l.concat(),o=0;o<l.length;o++){var v=l[o];v&&v.capture==h&&!v.sa&&(v=jE(v,p),m=m&&v!==!1)}return m}function jE(o,l){var h=o.listener,p=o.La||o.src;return o.Ia&&Wr(o),h.call(p,l)}function CL(o,l){if(o.sa)return!0;if(!VE){if(!l)e:{l=["window","event"];for(var h=g,p=0;p<l.length;p++)if(h=h[l[p]],h==null){l=null;break e}l=h}if(p=l,l=new li(p,this),h=!0,!(0>p.keyCode||p.returnValue!=null)){e:{var m=!1;if(p.keyCode==0)try{p.keyCode=-1;break e}catch{m=!0}(m||p.returnValue==null)&&(p.returnValue=!0)}for(p=[],m=l.g;m;m=m.parentNode)p.push(m);for(o=o.type,m=p.length-1;!l.h&&0<=m;m--){l.g=p[m];var v=BE(p[m],o,!0,l);h=h&&v}for(m=0;!l.h&&m<p.length;m++)l.g=p[m],v=BE(p[m],o,!1,l),h=h&&v}return h}return jE(o,new li(l,this))}function Rf(o){return o=o[hv],o instanceof Pf?o:null}var fv="__closure_events_fn_"+(1e9*Math.random()>>>0);function pv(o){return D(o)?o:(o[fv]||(o[fv]=function(l){return o.handleEvent(l)}),o[fv])}function gn(){qo.call(this),this.J=new Pf(this),this.wb=this,this.Ha=null}Y(gn,qo),gn.prototype[nu]=!0,gn.prototype.Za=function(o){this.Ha=o},gn.prototype.removeEventListener=function(o,l,h,p){Ko(this,o,l,h,p)};function qr(o,l){var h,p=o.Ha;if(p)for(h=[];p;p=p.Ha)h.push(p);if(o=o.wb,p=l.type||l,b(l))l=new nr(l,o);else if(l instanceof nr)l.target=l.target||o;else{var m=l;l=new nr(p,o),et(l,m)}if(m=!0,h)for(var v=h.length-1;!l.h&&0<=v;v--){var I=l.g=h[v];m=xf(I,p,!0,l)&&m}if(l.h||(I=l.g=o,m=xf(I,p,!0,l)&&m,l.h||(m=xf(I,p,!1,l)&&m)),h)for(v=0;!l.h&&v<h.length;v++)I=l.g=h[v],m=xf(I,p,!1,l)&&m;return m}gn.prototype.o=function(){if(gn.K.o.call(this),this.J){var o=this.J,l;for(l in o.a){for(var h=o.a[l],p=0;p<h.length;p++)Cf(h[p]);delete o.a[l],o.g--}}this.Ha=null};function xf(o,l,h,p){if(l=o.J.a[String(l)],!l)return!0;l=l.concat();for(var m=!0,v=0;v<l.length;++v){var I=l[v];if(I&&!I.sa&&I.capture==h){var C=I.listener,F=I.La||I.src;I.Ia&&lv(o.J,I),m=C.call(F,p)!==!1&&m}}return m&&p.qb!=0}var ki={},$E=0;function HE(o,l){if(!o)throw Error("Event target element must be provided!");if(o=gv(o),ki[o]&&ki[o].length)for(var h=0;h<ki[o].length;h++)qr(ki[o][h],l)}function PL(o){var l=gv(o.N());ki[l]&&ki[l].length&&(_e(ki[l],function(h){return h==o}),ki[l].length||delete ki[l])}function gv(o){return typeof o.a>"u"&&(o.a=$E,$E++),o.a}function kf(o){if(!o)throw Error("Event target element must be provided!");gn.call(this),this.a=o}c(kf,gn),kf.prototype.N=function(){return this.a},kf.prototype.register=function(){var o=gv(this.N());ki[o]?B(ki[o],this)||ki[o].push(this):ki[o]=[this]};function zE(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function mv(o,l){this.h=o,this.j=l,this.g=0,this.a=null}mv.prototype.get=function(){if(0<this.g){this.g--;var o=this.a;this.a=o.next,o.next=null}else o=this.h();return o};function WE(o,l){o.j(l),100>o.g&&(o.g++,l.next=o.a,o.a=l)}function qE(){this.g=this.a=null}var KE=new mv(function(){return new yv},function(o){o.reset()});qE.prototype.add=function(o,l){var h=KE.get();h.set(o,l),this.g?this.g.next=h:this.a=h,this.g=h};function RL(){var o=YE,l=null;return o.a&&(l=o.a,o.a=o.a.next,o.a||(o.g=null),l.next=null),l}function yv(){this.next=this.g=this.a=null}yv.prototype.set=function(o,l){this.a=o,this.g=l,this.next=null},yv.prototype.reset=function(){this.next=this.g=this.a=null};function GE(o){g.setTimeout(function(){throw o},0)}var vv;function xL(){var o=g.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!ze("Presto")&&(o=function(){var m=document.createElement("IFRAME");m.style.display="none",m.src="",document.documentElement.appendChild(m);var v=m.contentWindow;m=v.document,m.open(),m.write(""),m.close();var I="callImmediate"+Math.random(),C=v.location.protocol=="file:"?"*":v.location.protocol+"//"+v.location.host;m=U(function(F){(C=="*"||F.origin==C)&&F.data==I&&this.port1.onmessage()},this),v.addEventListener("message",m,!1),this.port1={},this.port2={postMessage:function(){v.postMessage(I,C)}}}),typeof o<"u"&&!ze("Trident")&&!ze("MSIE")){var l=new o,h={},p=h;return l.port1.onmessage=function(){if(y(h.next)){h=h.next;var m=h.gb;h.gb=null,m()}},function(m){p.next={gb:m},p=p.next,l.port2.postMessage(0)}}return typeof document<"u"&&"onreadystatechange"in document.createElement("SCRIPT")?function(m){var v=document.createElement("SCRIPT");v.onreadystatechange=function(){v.onreadystatechange=null,v.parentNode.removeChild(v),v=null,m(),m=null},document.documentElement.appendChild(v)}:function(m){g.setTimeout(m,0)}}function _v(o,l){Df||kL(),bv||(Df(),bv=!0),YE.add(o,l)}var Df;function kL(){if(g.Promise&&g.Promise.resolve){var o=g.Promise.resolve(void 0);Df=function(){o.then(XE)}}else Df=function(){var l=XE;!D(g.setImmediate)||g.Window&&g.Window.prototype&&!ze("Edge")&&g.Window.prototype.setImmediate==g.setImmediate?(vv||(vv=xL()),vv(l)):g.setImmediate(l)}}var bv=!1,YE=new qE;function XE(){for(var o;o=RL();){try{o.a.call(o.g)}catch(l){GE(l)}WE(KE,o)}bv=!1}function mn(o){if(this.a=Go,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,o!=w)try{var l=this;o.call(void 0,function(h){Yo(l,su,h)},function(h){if(!(h instanceof nc))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}Yo(l,ir,h)})}catch(h){Yo(this,ir,h)}}var Go=0,su=2,ir=3;function QE(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}QE.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var JE=new mv(function(){return new QE},function(o){o.reset()});function wv(o,l,h){var p=JE.get();return p.s=o,p.g=l,p.j=h,p}function Xt(o){if(o instanceof mn)return o;var l=new mn(w);return Yo(l,su,o),l}function tc(o){return new mn(function(l,h){h(o)})}mn.prototype.then=function(o,l,h){return eI(this,D(o)?o:null,D(l)?l:null,h)},mn.prototype.$goog_Thenable=!0,t=mn.prototype,t.fc=function(o,l){return o=wv(o,o,l),o.h=!0,Ev(this,o),this},t.Ca=function(o,l){return eI(this,null,o,l)},t.cancel=function(o){this.a==Go&&_v(function(){var l=new nc(o);ZE(this,l)},this)};function ZE(o,l){if(o.a==Go)if(o.h){var h=o.h;if(h.g){for(var p=0,m=null,v=null,I=h.g;I&&(I.h||(p++,I.a==o&&(m=I),!(m&&1<p)));I=I.next)m||(v=I);m&&(h.a==Go&&p==1?ZE(h,l):(v?(p=v,p.next==h.j&&(h.j=p),p.next=p.next.next):nI(h),iI(h,m,ir,l)))}o.h=null}else Yo(o,ir,l)}function Ev(o,l){o.g||o.a!=su&&o.a!=ir||tI(o),o.j?o.j.next=l:o.g=l,o.j=l}function eI(o,l,h,p){var m=wv(null,null,null);return m.a=new mn(function(v,I){m.s=l?function(C){try{var F=l.call(p,C);v(F)}catch(J){I(J)}}:v,m.g=h?function(C){try{var F=h.call(p,C);!y(F)&&C instanceof nc?I(C):v(F)}catch(J){I(J)}}:I}),m.a.h=o,Ev(o,m),m.a}t.hc=function(o){this.a=Go,Yo(this,su,o)},t.ic=function(o){this.a=Go,Yo(this,ir,o)};function Yo(o,l,h){if(o.a==Go){o===h&&(l=ir,h=new TypeError("Promise cannot resolve to itself")),o.a=1;e:{var p=h,m=o.hc,v=o.ic;if(p instanceof mn){Ev(p,wv(m||w,v||null,o));var I=!0}else if(zE(p))p.then(m,v,o),I=!0;else{if(N(p))try{var C=p.then;if(D(C)){DL(p,C,m,v,o),I=!0;break e}}catch(F){v.call(o,F),I=!0;break e}I=!1}}I||(o.A=h,o.a=l,o.h=null,tI(o),l!=ir||h instanceof nc||OL(o,h))}}function DL(o,l,h,p,m){function v(F){C||(C=!0,p.call(m,F))}function I(F){C||(C=!0,h.call(m,F))}var C=!1;try{l.call(o,I,v)}catch(F){v(F)}}function tI(o){o.i||(o.i=!0,_v(o.Hb,o))}function nI(o){var l=null;return o.g&&(l=o.g,o.g=l.next,l.next=null),o.g||(o.j=null),l}t.Hb=function(){for(var o;o=nI(this);)iI(this,o,this.a,this.A);this.i=!1};function iI(o,l,h,p){if(h==ir&&l.g&&!l.h)for(;o&&o.s;o=o.h)o.s=!1;if(l.a)l.a.h=null,sI(l,h,p);else try{l.h?l.s.call(l.j):sI(l,h,p)}catch(m){rI.call(null,m)}WE(JE,l)}function sI(o,l,h){l==su?o.s.call(o.j,h):o.g&&o.g.call(o.j,h)}function OL(o,l){o.s=!0,_v(function(){o.s&&rI.call(null,l)})}var rI=GE;function nc(o){se.call(this,o)}Y(nc,se),nc.prototype.name="cancel";function oI(o,l,h){l||(l={}),h=h||window;var p=o instanceof xi?o:_f(typeof o.href<"u"?o.href:String(o));o=l.target||o.target;var m=[];for(v in l)switch(v){case"width":case"height":case"top":case"left":m.push(v+"="+l[v]);break;case"target":case"noopener":case"noreferrer":break;default:m.push(v+"="+(l[v]?1:0))}var v=m.join(",");return(ze("iPhone")&&!ze("iPod")&&!ze("iPad")||ze("iPad")||ze("iPod"))&&h.navigator&&h.navigator.standalone&&o&&o!="_self"?(v=h.document.createElement("A"),p=p instanceof xi?p:wE(p),v.href=jr(p),v.setAttribute("target",o),l.noreferrer&&v.setAttribute("rel","noreferrer"),l=document.createEvent("MouseEvent"),l.initMouseEvent("click",!0,!0,h,1),v.dispatchEvent(l),h={}):l.noreferrer?(h=h.open("",o,v),l=jr(p).toString(),h&&(an&&l.indexOf(";")!=-1&&(l="'"+l.replace(/'/g,"%27")+"'"),h.opener=null,l=Xl('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+we(l)+'">',null),h.document.write(bf(l)),h.document.close())):(h=h.open(jr(p).toString(),o,v))&&l.noopener&&(h.opener=null),h}function aI(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch{}return!1}function ic(o){oI(o,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function Of(o,l){if(o=N(o)&&o.nodeType==1?o:document.querySelector(String(o)),o==null)throw Error(l||"Cannot find element.");return o}function sr(){return window.location.href}function ML(){var o=null;return new mn(function(l){g.document.readyState=="complete"?l():(o=function(){l()},iu(window,"load",o))}).Ca(function(l){throw Ko(window,"load",o),l})}function NL(){for(var o=32,l=[];0<o;)l.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return l.join("")}function LL(o,l,h){return h=h===void 0?{}:h,Object.keys(o).filter(function(p){return l.includes(p)}).reduce(function(p,m){return p[m]=o[m],p},h)}function Kr(o){var l=UL;this.s=[],this.T=l,this.O=o||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}Kr.prototype.cancel=function(o){if(this.a)this.h instanceof Kr&&this.h.cancel();else{if(this.g){var l=this.g;delete this.g,o?l.cancel(o):(l.C--,0>=l.C&&l.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(o=new ou,Mf(this),ru(this,!1,o))}},Kr.prototype.L=function(o,l){this.A=!1,ru(this,o,l)};function ru(o,l,h){o.a=!0,o.h=h,o.j=!l,uI(o)}function Mf(o){if(o.a){if(!o.J)throw new Nf;o.J=!1}}Kr.prototype.callback=function(o){Mf(this),ru(this,!0,o)};function cI(o,l,h){o.s.push([l,h,void 0]),o.a&&uI(o)}Kr.prototype.then=function(o,l,h){var p,m,v=new mn(function(I,C){p=I,m=C});return cI(this,p,function(I){I instanceof ou?v.cancel():m(I)}),v.then(o,l,h)},Kr.prototype.$goog_Thenable=!0;function lI(o){return qe(o.s,function(l){return D(l[1])})}function uI(o){if(o.i&&o.a&&lI(o)){var l=o.i,h=Lf[l];h&&(g.clearTimeout(h.a),delete Lf[l]),o.i=0}o.g&&(o.g.C--,delete o.g),l=o.h;for(var p=h=!1;o.s.length&&!o.A;){var m=o.s.shift(),v=m[0],I=m[1];if(m=m[2],v=o.j?I:v)try{var C=v.call(m||o.O,l);y(C)&&(o.j=o.j&&(C==l||C instanceof Error),o.h=l=C),(zE(l)||typeof g.Promise=="function"&&l instanceof g.Promise)&&(p=!0,o.A=!0)}catch(F){l=F,o.j=!0,lI(o)||(h=!0)}}o.h=l,p&&(C=U(o.L,o,!0),p=U(o.L,o,!1),l instanceof Kr?(cI(l,C,p),l.l=!0):l.then(C,p)),h&&(l=new hI(l),Lf[l.a]=l,o.i=l.a)}function Nf(){se.call(this)}Y(Nf,se),Nf.prototype.message="Deferred has already fired",Nf.prototype.name="AlreadyCalledError";function ou(){se.call(this)}Y(ou,se),ou.prototype.message="Deferred was canceled",ou.prototype.name="CanceledError";function hI(o){this.a=g.setTimeout(U(this.h,this),0),this.g=o}hI.prototype.h=function(){throw delete Lf[this.a],this.g};var Lf={};function VL(o){var l={},h=l.document||document,p=vE(o).toString(),m=document.createElement("SCRIPT"),v={rb:m,sb:void 0},I=new Kr(v),C=null,F=l.timeout!=null?l.timeout:5e3;return 0<F&&(C=window.setTimeout(function(){Vf(m,!0);var J=new Iv(jL,"Timeout reached for loading script "+p);Mf(I),ru(I,!1,J)},F),v.sb=C),m.onload=m.onreadystatechange=function(){m.readyState&&m.readyState!="loaded"&&m.readyState!="complete"||(Vf(m,l.xc||!1,C),I.callback(null))},m.onerror=function(){Vf(m,!0,C);var J=new Iv(BL,"Error while loading script "+p);Mf(I),ru(I,!1,J)},v=l.attributes||{},et(v,{type:"text/javascript",charset:"UTF-8"}),tL(m,v),eL(m,o),FL(h).appendChild(m),I}function FL(o){var l=(o||document).getElementsByTagName("HEAD");return l&&l.length!=0?l[0]:o.documentElement}function UL(){if(this&&this.rb){var o=this.rb;o&&o.tagName=="SCRIPT"&&Vf(o,!0,this.sb)}}function Vf(o,l,h){h!=null&&g.clearTimeout(h),o.onload=w,o.onerror=w,o.onreadystatechange=w,l&&window.setTimeout(function(){zo(o)},0)}var BL=0,jL=1;function Iv(o,l){var h="Jsloader error (code #"+o+")";l&&(h+=": "+l),se.call(this,h),this.code=o}Y(Iv,se);function au(){return g.google&&g.google.accounts&&g.google.accounts.id||null}function Tv(o){this.a=o||au(),this.h=!1,this.g=null}Tv.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())};function dI(o,l,h){if(o.a&&l)return function(){return o.h=!0,new mn(function(m){o.g=m,o.a.initialize({client_id:l,callback:m,auto_select:!h}),o.a.prompt()})}();if(l){var p=Sv.Xa().load().then(function(){return o.a=au(),dI(o,l,h)}).Ca(function(){return null});return Xt(p)}return Xt(null)}T(Tv);var $L=new Ja(yE,"https://accounts.google.com/gsi/client");function Sv(){this.a=null}Sv.prototype.load=function(){var o=this;if(this.a)return this.a;var l=QN();return au()?Xt():this.a=ML().then(function(){if(!au())return new mn(function(h,p){var m=setTimeout(function(){o.a=null,p(Error("Network error!"))},1e4);g.onGoogleLibraryLoad=function(){clearTimeout(m),h()},Xt(VL(l)).then(function(){au()&&h()}).Ca(function(v){clearTimeout(m),o.a=null,p(v)})})})},T(Sv);function Av(o,l){this.a=o,this.g=l||function(h){throw h}}Av.prototype.confirm=function(o){return Xt(this.a.confirm(o)).Ca(this.g)};function Cv(o,l,h){this.reset(o,l,h,void 0,void 0)}Cv.prototype.a=null,Cv.prototype.reset=function(o,l,h,p,m){this.h=p||Ze(),this.j=o,this.s=l,this.g=h,delete this.a};function Pv(o){this.s=o,this.a=this.h=this.j=this.g=null}function Ff(o,l){this.name=o,this.value=l}Ff.prototype.toString=function(){return this.name};var fI=new Ff("SEVERE",1e3),pI=new Ff("WARNING",900),gI=new Ff("CONFIG",700);function mI(o){return o.j?o.j:o.g?mI(o.g):(Tt("Root logger has no level set."),null)}Pv.prototype.log=function(o,l,h){if(o.value>=mI(this).value)for(D(l)&&(l=l()),o=new Cv(o,String(l),this.s),h&&(o.a=h),h=this;h;){var p=h,m=o;if(p.a)for(var v=0;l=p.a[v];v++)l(m);h=h.g}};var Rv={},cu=null;function yI(){cu||(cu=new Pv(""),Rv[""]=cu,cu.j=gI)}function vI(o){yI();var l;if(!(l=Rv[o])){l=new Pv(o);var h=o.lastIndexOf("."),p=o.substr(h+1);h=vI(o.substr(0,h)),h.h||(h.h={}),h.h[p]=l,l.g=h,Rv[o]=l}return l}function Uf(){this.a=Ze()}var xv=null;Uf.prototype.set=function(o){this.a=o},Uf.prototype.reset=function(){this.set(Ze())},Uf.prototype.get=function(){return this.a};function lu(o){this.j=o||"",xv||(xv=new Uf),this.s=xv}lu.prototype.a=!0,lu.prototype.g=!0,lu.prototype.h=!1;function Xo(o){return 10>o?"0"+o:String(o)}function HL(o,l){o=(o.h-l)/1e3,l=o.toFixed(3);var h=0;if(1>o)h=2;else for(;100>o;)h++,o*=10;for(;0<h--;)l=" "+l;return l}function _I(o){lu.call(this,o)}Y(_I,lu);function zL(o,l){var h=[];if(h.push(o.j," "),o.g){var p=new Date(l.h);h.push("[",Xo(p.getFullYear()-2e3)+Xo(p.getMonth()+1)+Xo(p.getDate())+" "+Xo(p.getHours())+":"+Xo(p.getMinutes())+":"+Xo(p.getSeconds())+"."+Xo(Math.floor(p.getMilliseconds()/10)),"] ")}return h.push("[",HL(l,o.s.get()),"s] "),h.push("[",l.g,"] "),h.push(l.s),o.h&&(l=l.a)&&h.push(`
`,l instanceof Error?l.message:l.toString()),o.a&&h.push(`
`),h.join("")}function bI(){this.s=U(this.h,this),this.a=new _I,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}bI.prototype.h=function(o){function l(v){if(v){if(v.value>=fI.value)return"error";if(v.value>=pI.value)return"warn";if(v.value>=gI.value)return"log"}return"debug"}if(!this.j[o.g]){var h=zL(this.a,o),p=WL;if(p){var m=l(o.j);qL(p,m,h,o.a)}}};var WL=g.console;function qL(o,l,h,p){o[l]?o[l](h,p||""):o.log(h,p||"")}function Di(o,l){var h=kv;h&&h.log(fI,o,l)}var kv;kv=vI("firebaseui");var Dv=new bI;if(Dv.g!=1){var Bf;yI(),Bf=cu;var KL=Dv.s;Bf.a||(Bf.a=[]),Bf.a.push(KL),Dv.g=!0}function Gr(o){var l=kv;l&&l.log(pI,o,void 0)}function wI(){this.a=(typeof document>"u"?null:document)||{cookie:""}}t=wI.prototype,t.set=function(o,l,h,p,m,v){if(/[;=\s]/.test(o))throw Error('Invalid cookie name "'+o+'"');if(/[;\r\n]/.test(l))throw Error('Invalid cookie value "'+l+'"');y(h)||(h=-1),m=m?";domain="+m:"",p=p?";path="+p:"",v=v?";secure":"",h=0>h?"":h==0?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(Ze()+1e3*h).toUTCString(),this.a.cookie=o+"="+l+m+p+h+v},t.get=function(o,l){for(var h=o+"=",p=(this.a.cookie||"").split(";"),m=0,v;m<p.length;m++){if(v=L(p[m]),v.lastIndexOf(h,0)==0)return v.substr(h.length);if(v==o)return""}return l},t.ja=function(){return Ov(this).keys},t.la=function(){return Ov(this).values},t.clear=function(){for(var o=Ov(this).keys,l=o.length-1;0<=l;l--){var h=o[l];this.get(h),this.set(h,"",0,void 0,void 0)}};function Ov(o){o=(o.a.cookie||"").split(";");for(var l=[],h=[],p,m,v=0;v<o.length;v++)m=L(o[v]),p=m.indexOf("="),p==-1?(l.push(""),h.push(m)):(l.push(m.substring(0,p)),h.push(m.substring(p+1)));return{keys:l,values:h}}var jf=new wI;function EI(){}function sc(o,l,h,p){this.h=typeof o<"u"&&o!==null?o:-1,this.g=l||null,this.a=h||null,this.j=!!p}c(sc,EI),sc.prototype.set=function(o,l){jf.set(o,l,this.h,this.g,this.a,this.j)},sc.prototype.get=function(o){return jf.get(o)||null},sc.prototype.ra=function(o){var l=this.g,h=this.a;jf.get(o),jf.set(o,"",0,l,h)};function Mv(o,l){this.g=o,this.a=l||null}function II(o){return{email:o.g,credential:o.a&&o.a.toJSON()}}function TI(o){if(o&&o.email){var l=o.credential&&Ee.auth.AuthCredential.fromJSON(o.credential);return new Mv(o.email,l)}return null}function SI(o){this.a=o||null}function AI(o){for(var l=[],h=0,p=0;p<o.length;p++){var m=o.charCodeAt(p);255<m&&(l[h++]=m&255,m>>=8),l[h++]=m}return l}function GL(o){return yi(o,function(l){return l=l.toString(16),1<l.length?l:"0"+l}).join("")}function $f(o){for(this.i=o,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(rc*(this.j+1)),o=0;o<this.g;o++)this.a[o]=[this.i[4*o],this.i[4*o+1],this.i[4*o+2],this.i[4*o+3]];var l=Array(4);for(o=this.g;o<rc*(this.j+1);o++){if(l[0]=this.a[o-1][0],l[1]=this.a[o-1][1],l[2]=this.a[o-1][2],l[3]=this.a[o-1][3],o%this.g==0){var h=l,p=h[0];h[0]=h[1],h[1]=h[2],h[2]=h[3],h[3]=p,kI(l),l[0]^=zf[o/this.g][0],l[1]^=zf[o/this.g][1],l[2]^=zf[o/this.g][2],l[3]^=zf[o/this.g][3]}else 6<this.g&&o%this.g==4&&kI(l);this.a[o]=Array(4),this.a[o][0]=this.a[o-this.g][0]^l[0],this.a[o][1]=this.a[o-this.g][1]^l[1],this.a[o][2]=this.a[o-this.g][2]^l[2],this.a[o][3]=this.a[o-this.g][3]^l[3]}}$f.prototype.A=16;var rc=$f.prototype.A/4;function CI(o,l){for(var h,p=0;p<rc;p++)for(var m=0;4>m;m++)h=4*m+p,h=l[h],o.h[p][m]=h}function PI(o){for(var l=[],h=0;h<rc;h++)for(var p=0;4>p;p++)l[4*p+h]=o.h[h][p];return l}function oc(o,l){for(var h=0;4>h;h++)for(var p=0;4>p;p++)o.h[h][p]^=o.a[4*l+p][h]}function Hf(o,l){for(var h=0;4>h;h++)for(var p=0;4>p;p++)o.h[h][p]=l[o.h[h][p]]}function RI(o){for(var l=1;4>l;l++)for(var h=0;4>h;h++)o.s[l][h]=o.h[l][h];for(l=1;4>l;l++)for(h=0;4>h;h++)o.h[l][h]=o.s[l][(h+l)%rc]}function xI(o){for(var l=1;4>l;l++)for(var h=0;4>h;h++)o.s[l][(h+l)%rc]=o.h[l][h];for(l=1;4>l;l++)for(h=0;4>h;h++)o.h[l][h]=o.s[l][h]}function kI(o){o[0]=ac[o[0]],o[1]=ac[o[1]],o[2]=ac[o[2]],o[3]=ac[o[3]]}var ac=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],DI=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],zf=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],Wf=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],qf=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],Kf=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],Gf=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],Yf=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],Xf=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function OI(o,l){o=new $f(NI(o)),l=AI(l);for(var h=l.splice(0,16),p="",m;h.length;){m=16-h.length;for(var v=0;v<m;v++)h.push(0);for(m=o,CI(m,h),oc(m,0),h=1;h<m.j;++h){Hf(m,ac),RI(m),v=m.h;for(var I=m.s[0],C=0;4>C;C++)I[0]=v[0][C],I[1]=v[1][C],I[2]=v[2][C],I[3]=v[3][C],v[0][C]=Wf[I[0]]^qf[I[1]]^I[2]^I[3],v[1][C]=I[0]^Wf[I[1]]^qf[I[2]]^I[3],v[2][C]=I[0]^I[1]^Wf[I[2]]^qf[I[3]],v[3][C]=qf[I[0]]^I[1]^I[2]^Wf[I[3]];oc(m,h)}Hf(m,ac),RI(m),oc(m,m.j),p+=GL(PI(m)),h=l.splice(0,16)}return p}function MI(o,l){o=new $f(NI(o));for(var h=[],p=0;p<l.length;p+=2)h.push(parseInt(l.substring(p,p+2),16));var m=h.splice(0,16);for(l="";m.length;){for(p=o,CI(p,m),oc(p,p.j),m=1;m<p.j;++m){xI(p),Hf(p,DI),oc(p,p.j-m);for(var v=p.h,I=p.s[0],C=0;4>C;C++)I[0]=v[0][C],I[1]=v[1][C],I[2]=v[2][C],I[3]=v[3][C],v[0][C]=Xf[I[0]]^Gf[I[1]]^Yf[I[2]]^Kf[I[3]],v[1][C]=Kf[I[0]]^Xf[I[1]]^Gf[I[2]]^Yf[I[3]],v[2][C]=Yf[I[0]]^Kf[I[1]]^Xf[I[2]]^Gf[I[3]],v[3][C]=Gf[I[0]]^Yf[I[1]]^Kf[I[2]]^Xf[I[3]]}if(xI(p),Hf(p,DI),oc(p,0),p=PI(p),8192>=p.length)p=String.fromCharCode.apply(null,p);else{for(m="",v=0;v<p.length;v+=8192)m+=String.fromCharCode.apply(null,R(p,v,v+8192));p=m}l+=p,m=h.splice(0,16)}return l.replace(/(\x00)+$/,"")}function NI(o){o=AI(o.substring(0,32));for(var l=32-o.length,h=0;h<l;h++)o.push(0);return o}function LI(o){var l=[];return Nv(new YL,o,l),l.join("")}function YL(){}function Nv(o,l,h){if(l==null)h.push("null");else{if(typeof l=="object"){if(x(l)){var p=l;l=p.length,h.push("[");for(var m="",v=0;v<l;v++)h.push(m),Nv(o,p[v],h),m=",";h.push("]");return}if(l instanceof String||l instanceof Number||l instanceof Boolean)l=l.valueOf();else{h.push("{"),m="";for(p in l)Object.prototype.hasOwnProperty.call(l,p)&&(v=l[p],typeof v!="function"&&(h.push(m),FI(p,h),h.push(":"),Nv(o,v,h),m=","));h.push("}");return}}switch(typeof l){case"string":FI(l,h);break;case"number":h.push(isFinite(l)&&!isNaN(l)?String(l):"null");break;case"boolean":h.push(String(l));break;case"function":h.push("null");break;default:throw Error("Unknown type: "+typeof l)}}}var VI={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},XL=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function FI(o,l){l.push('"',o.replace(XL,function(h){var p=VI[h];return p||(p="\\u"+(h.charCodeAt(0)|65536).toString(16).substr(1),VI[h]=p),p}),'"')}function uu(o){this.a=o}uu.prototype.set=function(o,l){y(l)?this.a.set(o,LI(l)):this.a.ra(o)},uu.prototype.get=function(o){try{var l=this.a.get(o)}catch{return}if(l!==null)try{return JSON.parse(l)}catch{throw"Storage: Invalid value was encountered"}};function Qf(){}Y(Qf,EI),Qf.prototype.clear=function(){var o=ws(this.ha(!0)),l=this;mt(o,function(h){l.ra(h)})};function Jf(o){this.a=o}Y(Jf,Qf);function Zf(o){if(!o.a)return!1;try{return o.a.setItem("__sak","1"),o.a.removeItem("__sak"),!0}catch{return!1}}t=Jf.prototype,t.set=function(o,l){try{this.a.setItem(o,l)}catch{throw this.a.length==0?"Storage mechanism: Storage disabled":"Storage mechanism: Quota exceeded"}},t.get=function(o){if(o=this.a.getItem(o),!b(o)&&o!==null)throw"Storage mechanism: Invalid value was encountered";return o},t.ra=function(o){this.a.removeItem(o)},t.ha=function(o){var l=0,h=this.a,p=new St;return p.next=function(){if(l>=h.length)throw ct;var m=h.key(l++);if(o)return m;if(m=h.getItem(m),!b(m))throw"Storage mechanism: Invalid value was encountered";return m},p},t.clear=function(){this.a.clear()},t.key=function(o){return this.a.key(o)};function Lv(){var o=null;try{o=window.localStorage||null}catch{}this.a=o}Y(Lv,Jf);function Vv(){var o=null;try{o=window.sessionStorage||null}catch{}this.a=o}Y(Vv,Jf);function cc(o,l){this.g=o,this.a=l+"::"}Y(cc,Qf),cc.prototype.set=function(o,l){this.g.set(this.a+o,l)},cc.prototype.get=function(o){return this.g.get(this.a+o)},cc.prototype.ra=function(o){this.g.ra(this.a+o)},cc.prototype.ha=function(o){var l=this.g.ha(!0),h=this,p=new St;return p.next=function(){for(var m=l.next();m.substr(0,h.a.length)!=h.a;)m=l.next();return o?m.substr(h.a.length):h.g.get(m)},p},Zf(new Lv);var UI,BI=new Vv;UI=Zf(BI)?new cc(BI,"firebaseui"):null;var Fv=new uu(UI),Uv={name:"pendingEmailCredential",storage:Fv},Qo={name:"redirectStatus",storage:Fv},hu={name:"redirectUrl",storage:Fv},lc={name:"emailForSignIn",storage:new uu(new sc(3600,"/"))},du={name:"pendingEncryptedCredential",storage:new uu(new sc(3600,"/"))};function uc(o,l){return o.storage.get(l?o.name+":"+l:o.name)}function _i(o,l){o.storage.a.ra(l?o.name+":"+l:o.name)}function hc(o,l,h){o.storage.set(h?o.name+":"+h:o.name,l)}function jI(o){return uc(hu,o)||null}function Is(o){return o=uc(Uv,o)||null,TI(o)}function Ts(o){_i(Uv,o)}function $I(o,l){hc(Uv,II(o),l)}function Bv(o){return(o=uc(Qo,o)||null)&&typeof o.tenantId<"u"?new SI(o.tenantId):null}function QL(o,l){hc(Qo,{tenantId:o.a},l)}function JL(o,l){l=uc(lc,l);var h=null;if(l)try{var p=MI(o,l),m=JSON.parse(p);h=m&&m.email||null}catch{}return h}function ZL(o,l){l=uc(du,l);var h=null;if(l)try{var p=MI(o,l);h=JSON.parse(p)}catch{}return TI(h||null)}function eV(o,l,h){hc(du,OI(o,JSON.stringify(II(l))),h)}function jv(){this.W={}}function cn(o,l,h){if(l.toLowerCase()in o.W)throw Error("Configuration "+l+" has already been defined.");o.W[l.toLowerCase()]=h}function $v(o,l,h){if(!(l.toLowerCase()in o.W))throw Error("Configuration "+l+" is not defined.");o.W[l.toLowerCase()]=h}jv.prototype.get=function(o){if(!(o.toLowerCase()in this.W))throw Error("Configuration "+o+" is not defined.");return this.W[o.toLowerCase()]};function Hv(o,l){if(o=o.get(l),!o)throw Error("Configuration "+l+" is required.");return o}function zv(){this.g=void 0,this.a={}}t=zv.prototype,t.set=function(o,l){HI(this,o,l,!1)},t.add=function(o,l){HI(this,o,l,!0)};function HI(o,l,h,p){for(var m=0;m<l.length;m++){var v=l.charAt(m);o.a[v]||(o.a[v]=new zv),o=o.a[v]}if(p&&o.g!==void 0)throw Error('The collection already contains the key "'+l+'"');o.g=h}t.get=function(o){e:{for(var l=this,h=0;h<o.length;h++)if(l=l.a[o.charAt(h)],!l){o=void 0;break e}o=l}return o?o.g:void 0},t.la=function(){var o=[];return zI(this,o),o};function zI(o,l){o.g!==void 0&&l.push(o.g);for(var h in o.a)zI(o.a[h],l)}t.ja=function(){var o=[];return WI(this,"",o),o};function WI(o,l,h){o.g!==void 0&&h.push(l);for(var p in o.a)WI(o.a[p],l+p,h)}t.clear=function(){this.a={},this.g=void 0};function qI(o){for(this.a=o,this.g=new zv,o=0;o<this.a.length;o++){var l=this.g.get("+"+this.a[o].b);l?l.push(this.a[o]):this.g.add("+"+this.a[o].b,[this.a[o]])}}function ep(o,l){o=o.g;var h={},p=0;for(o.g!==void 0&&(h[p]=o.g);p<l.length;p++){var m=l.charAt(p);if(!(m in o.a))break;o=o.a[m],o.g!==void 0&&(h[p]=o.g)}for(var v in h)if(h.hasOwnProperty(v))return h[v];return[]}function Jo(o){for(var l=0;l<ui.length;l++)if(ui[l].c===o)return ui[l];return null}function KI(o){o=o.toUpperCase();for(var l=[],h=0;h<ui.length;h++)ui[h].f===o&&l.push(ui[h]);return l}function GI(o){if(0<o.length&&o.charAt(0)=="+"){o=o.substring(1);for(var l=[],h=0;h<ui.length;h++)ui[h].b==o&&l.push(ui[h]);o=l}else o=KI(o);return o}function YI(o){o.sort(function(l,h){return l.name.localeCompare(h.name,"en")})}var ui=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Cte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Runion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthlemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"So Tom and Prncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];YI(ui);var fu=new qI(ui);function XI(o,l){this.a=o,this.Aa=l}function QI(o){o=L(o);var l=ep(fu,o);return 0<l.length?new XI(l[0].b=="1"?"1-US-0":l[0].c,L(o.substr(l[0].b.length+1))):null}function Wv(o){var l=Jo(o.a);if(!l)throw Error("Country ID "+o.a+" not found.");return"+"+l.b+o.Aa}function JI(o,l){for(var h=0;h<o.length;h++)if(!B(ZI,o[h])&&(dc!==null&&o[h]in dc||B(l,o[h])))return o[h];return null}var ZI=["emailLink","password","phone"],dc={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function tV(){this.a=new jv,cn(this.a,"autoUpgradeAnonymousUsers"),cn(this.a,"callbacks"),cn(this.a,"credentialHelper",ip),cn(this.a,"immediateFederatedRedirect",!1),cn(this.a,"popupMode",!1),cn(this.a,"privacyPolicyUrl"),cn(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),cn(this.a,"queryParameterForWidgetMode","mode"),cn(this.a,"signInFlow"),cn(this.a,"signInOptions"),cn(this.a,"signInSuccessUrl"),cn(this.a,"siteName"),cn(this.a,"tosUrl"),cn(this.a,"widgetUrl"),cn(this.a,"adminRestrictedOperation")}function tp(o){var l=!!o.a.get("autoUpgradeAnonymousUsers");return l&&!lT(o)&&Di('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),l}function np(o){o=o.a.get("signInOptions")||[];for(var l=[],h=0;h<o.length;h++){var p=o[h];p=N(p)?p:{provider:p},p.provider&&l.push(p)}return l}function Oi(o,l){o=np(o);for(var h=0;h<o.length;h++)if(o[h].provider===l)return o[h];return null}function fc(o){return np(o).map(function(l){return l.provider})}function pu(o,l){o=eT(o);for(var h=0;h<o.length;h++)if(o[h].providerId===l)return o[h];return null}function eT(o){return np(o).map(function(l){if(dc[l.provider]||B(hV,l.provider)){l={providerId:l.provider,S:l.providerName||null,V:l.fullLabel||null,ta:l.buttonColor||null,za:l.iconUrl?jr(_f(l.iconUrl)).toString():null};for(var h in l)l[h]===null&&delete l[h];return l}return{providerId:l.provider,S:l.providerName||null,V:l.fullLabel||null,ta:l.buttonColor||null,za:l.iconUrl?jr(_f(l.iconUrl)).toString():null,Ob:l.loginHintKey||null}})}function tT(o){var l=Oi(o,Ee.auth.GoogleAuthProvider.PROVIDER_ID),h;if(h=l&&l.clientId){e:{if((window.location&&window.location.protocol)==="http:"||(window.location&&window.location.protocol)==="https:"){for(p in o=o.a.get("credentialHelper"),Xv)if(Xv[p]===o){var p=Xv[p];break e}}p=ip}h=p===Yv}return h&&l.clientId||null}function nT(o){return o=Oi(o,Ee.auth.EmailAuthProvider.PROVIDER_ID),!!(o&&o.disableSignUp&&o.disableSignUp.status)}function Zo(o){return o=o.a.get("adminRestrictedOperation")||null,!(!o||!o.status)}function nV(o){var l=null;if(np(o).forEach(function(p){p.provider==Ee.auth.PhoneAuthProvider.PROVIDER_ID&&N(p.recaptchaParameters)&&!Array.isArray(p.recaptchaParameters)&&(l=Re(p.recaptchaParameters))}),l){var h=[];dV.forEach(function(p){typeof l[p]<"u"&&(h.push(p),delete l[p])}),h.length&&Gr('The following provided "recaptchaParameters" keys are not allowed: '+h.join(", "))}return l}function iV(o){return(o=o.a.get("adminRestrictedOperation"))&&o.adminEmail?o.adminEmail:null}function sV(o){if(o=o.a.get("adminRestrictedOperation")||null){var l=o.helpLink||null;if(l&&typeof l=="string")return function(){ic(l)}}return null}function rV(o){return(o=Oi(o,Ee.auth.EmailAuthProvider.PROVIDER_ID))&&o.disableSignUp&&o.disableSignUp.adminEmail||null}function oV(o){if((o=Oi(o,Ee.auth.EmailAuthProvider.PROVIDER_ID))&&o.disableSignUp){var l=o.disableSignUp.helpLink||null;if(l&&typeof l=="string")return function(){ic(l)}}return null}function iT(o,l){return o=(o=Oi(o,l))&&o.scopes,Array.isArray(o)?o:[]}function sT(o,l){return o=(o=Oi(o,l))&&o.customParameters,N(o)?(o=Re(o),l===Ee.auth.GoogleAuthProvider.PROVIDER_ID&&delete o.login_hint,l===Ee.auth.GithubAuthProvider.PROVIDER_ID&&delete o.login,o):null}function aV(o){o=Oi(o,Ee.auth.PhoneAuthProvider.PROVIDER_ID);var l=null;return o&&typeof o.loginHint=="string"&&(l=QI(o.loginHint)),o&&o.defaultNationalNumber||l&&l.Aa||null}function cV(o){var l=(o=Oi(o,Ee.auth.PhoneAuthProvider.PROVIDER_ID))&&o.defaultCountry||null;l=l&&KI(l);var h=null;return o&&typeof o.loginHint=="string"&&(h=QI(o.loginHint)),l&&l[0]||h&&Jo(h.a)||null}function qv(o){if(o=Oi(o,Ee.auth.PhoneAuthProvider.PROVIDER_ID),!o)return null;var l=o.whitelistedCountries,h=o.blacklistedCountries;if(typeof l<"u"&&(!Array.isArray(l)||l.length==0))throw Error("WhitelistedCountries must be a non-empty array.");if(typeof h<"u"&&!Array.isArray(h))throw Error("BlacklistedCountries must be an array.");if(l&&h)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!l&&!h)return ui;if(o=[],l){h={};for(var p=0;p<l.length;p++)for(var m=GI(l[p]),v=0;v<m.length;v++)h[m[v].c]=m[v];for(var I in h)h.hasOwnProperty(I)&&o.push(h[I])}else{for(I={},l=0;l<h.length;l++)for(m=GI(h[l]),p=0;p<m.length;p++)I[m[p].c]=m[p];for(m=0;m<ui.length;m++)I!==null&&ui[m].c in I||o.push(ui[m])}return o}function rT(o){return Hv(o.a,"queryParameterForWidgetMode")}function ln(o){var l=o.a.get("tosUrl")||null;if(o=o.a.get("privacyPolicyUrl")||null,l&&!o&&Gr("Privacy Policy URL is missing, the link will not be displayed."),l&&o){if(typeof l=="function")return l;if(typeof l=="string")return function(){ic(l)}}return null}function un(o){var l=o.a.get("tosUrl")||null,h=o.a.get("privacyPolicyUrl")||null;if(h&&!l&&Gr("Term of Service URL is missing, the link will not be displayed."),l&&h){if(typeof h=="function")return h;if(typeof h=="string")return function(){ic(h)}}return null}function oT(o){return(o=Oi(o,Ee.auth.EmailAuthProvider.PROVIDER_ID))&&typeof o.requireDisplayName<"u"?!!o.requireDisplayName:!0}function pc(o){return o=Oi(o,Ee.auth.EmailAuthProvider.PROVIDER_ID),!(!o||o.signInMethod!==Ee.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function lV(o){return o=Oi(o,Ee.auth.EmailAuthProvider.PROVIDER_ID),!(!o||!o.forceSameDevice)}function uV(o){if(pc(o)){var l={url:sr(),handleCodeInApp:!0};(o=Oi(o,Ee.auth.EmailAuthProvider.PROVIDER_ID))&&typeof o.emailLinkSignIn=="function"&&et(l,o.emailLinkSignIn()),o=l.url;var h=sr();h instanceof Es||(h=zl(h)),o instanceof Es||(o=zl(o));var p=h;h=new Es(p);var m=!!o.j;m?jl(h,o.j):m=!!o.A,m?h.A=o.A:m=!!o.h,m?h.h=o.h:m=o.C!=null;var v=o.g;if(m)$l(h,o.C);else if(m=!!o.g){if(v.charAt(0)!="/"&&(p.h&&!p.g?v="/"+v:(p=h.g.lastIndexOf("/"),p!=-1&&(v=h.g.substr(0,p+1)+v))),v==".."||v==".")v="";else if(v.indexOf("./")!=-1||v.indexOf("/.")!=-1){p=v.lastIndexOf("/",0)==0,v=v.split("/");for(var I=[],C=0;C<v.length;){var F=v[C++];F=="."?p&&C==v.length&&I.push(""):F==".."?((1<I.length||I.length==1&&I[0]!="")&&I.pop(),p&&C==v.length&&I.push("")):(I.push(F),p=!0)}v=I.join("/")}}return m?h.g=v:m=o.a.toString()!=="",m?Hl(h,df(o.a)):m=!!o.s,m&&(h.s=o.s),l.url=h.toString(),l}return null}function Kv(o){var l=!!o.a.get("immediateFederatedRedirect"),h=fc(o);return o=aT(o),l&&h.length==1&&!B(ZI,h[0])&&o==sp}function aT(o){o=o.a.get("signInFlow");for(var l in Qv)if(Qv[l]==o)return Qv[l];return sp}function Gv(o){return gu(o).signInSuccess||null}function cT(o){return gu(o).signInSuccessWithAuthResult||null}function lT(o){return gu(o).signInFailure||null}function gu(o){return o.a.get("callbacks")||{}}var Yv="googleyolo",ip="none",Xv={nc:Yv,NONE:ip},sp="redirect",Qv={qc:"popup",rc:sp},Jv={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},hV=["anonymous"],dV=["sitekey","tabindex","callback","expired-callback"],mu,gc,Zv,uT,ft={};function ve(o,l,h,p){ft[o].apply(null,Array.prototype.slice.call(arguments,1))}function hT(o){return o.classList?o.classList:(o=o.className,b(o)&&o.match(/\S+/g)||[])}function yu(o,l){return o.classList?o.classList.contains(l):B(hT(o),l)}function Ss(o,l){o.classList?o.classList.add(l):yu(o,l)||(o.className+=0<o.className.length?" "+l:l)}function As(o,l){o.classList?o.classList.remove(l):yu(o,l)&&(o.className=Ct(hT(o),function(h){return h!=l}).join(" "))}function xn(o){var l=o.type;switch(b(l)&&l.toLowerCase()){case"checkbox":case"radio":return o.checked?o.value:null;case"select-one":return l=o.selectedIndex,0<=l?o.options[l].value:null;case"select-multiple":l=[];for(var h,p=0;h=o.options[p];p++)h.selected&&l.push(h.value);return l.length?l:null;default:return o.value!=null?o.value:null}}function dT(o,l){var h=o.type;switch(b(h)&&h.toLowerCase()){case"checkbox":case"radio":o.checked=l;break;case"select-one":if(o.selectedIndex=-1,b(l)){for(var p=0;h=o.options[p];p++)if(h.value==l){h.selected=!0;break}}break;case"select-multiple":for(b(l)&&(l=[l]),p=0;h=o.options[p];p++)if(h.selected=!1,l)for(var m,v=0;m=l[v];v++)h.value==m&&(h.selected=!0);break;default:o.value=l??""}}function fV(o){if(o.altKey&&!o.ctrlKey||o.metaKey||112<=o.keyCode&&123>=o.keyCode)return!1;if(vu(o.keyCode))return!0;switch(o.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!pn;default:return 166>o.keyCode||183<o.keyCode}}function fT(o,l,h,p,m,v){if($t&&!$o("525"))return!0;if(Br&&m)return vu(o);if(m&&!p)return!1;if(!pn){typeof l=="number"&&(l=e_(l));var I=l==17||l==18||Br&&l==91;if((!h||Br)&&I||Br&&l==16&&(p||v))return!1}if(($t||Ae)&&p&&h)switch(o){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(X&&p&&l==o)return!1;switch(o){case 13:return pn?v||m?!1:!(h&&p):!0;case 27:return!($t||Ae||pn)}return pn&&(p||m||v)?!1:vu(o)}function vu(o){if(48<=o&&57>=o||96<=o&&106>=o||65<=o&&90>=o||($t||Ae)&&o==0)return!0;switch(o){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return pn;default:return!1}}function e_(o){if(pn)o=pV(o);else if(Br&&$t)switch(o){case 93:o=91}return o}function pV(o){switch(o){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return o}}function mc(o){gn.call(this),this.a=o,ns(o,"keydown",this.g,!1,this),ns(o,"click",this.h,!1,this)}Y(mc,gn),mc.prototype.g=function(o){(o.keyCode==13||$t&&o.keyCode==3)&&pT(this,o)},mc.prototype.h=function(o){pT(this,o)};function pT(o,l){var h=new mT(l);if(qr(o,h)){h=new gT(l);try{qr(o,h)}finally{l.stopPropagation()}}}mc.prototype.o=function(){mc.K.o.call(this),Ko(this.a,"keydown",this.g,!1,this),Ko(this.a,"click",this.h,!1,this),delete this.a};function gT(o){li.call(this,o.a),this.type="action"}Y(gT,li);function mT(o){li.call(this,o.a),this.type="beforeaction"}Y(mT,li);function yc(o){gn.call(this),this.a=o,o=X?"focusout":"blur",this.g=ns(this.a,X?"focusin":"focus",this,!X),this.h=ns(this.a,o,this,!X)}Y(yc,gn),yc.prototype.handleEvent=function(o){var l=new li(o.a);l.type=o.type=="focusin"||o.type=="focus"?"focusin":"focusout",qr(this,l)},yc.prototype.o=function(){yc.K.o.call(this),Wr(this.g),Wr(this.h),delete this.a};function rp(o,l){gn.call(this),this.g=o||1,this.a=l||g,this.h=U(this.gc,this),this.j=Ze()}Y(rp,gn),t=rp.prototype,t.Ka=!1,t.aa=null,t.gc=function(){if(this.Ka){var o=Ze()-this.j;0<o&&o<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-o):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),qr(this,"tick"),this.Ka&&(op(this),this.start()))}},t.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=Ze())};function op(o){o.Ka=!1,o.aa&&(o.a.clearTimeout(o.aa),o.aa=null)}t.o=function(){rp.K.o.call(this),op(this),delete this.a};function gV(o,l){if(D(o))l&&(o=U(o,l));else if(o&&typeof o.handleEvent=="function")o=U(o.handleEvent,o);else throw Error("Invalid listener argument");return g.setTimeout(o,0)}function vc(o){qo.call(this),this.g=o,this.a={}}Y(vc,qo);var yT=[];function _c(o,l,h,p){x(h)||(h&&(yT[0]=h.toString()),h=yT);for(var m=0;m<h.length;m++){var v=ns(l,h[m],p||o.handleEvent,!1,o.g||o);if(!v)break;o.a[v.key]=v}}function vT(o){Te(o.a,function(l,h){this.a.hasOwnProperty(h)&&Wr(l)},o),o.a={}}vc.prototype.o=function(){vc.K.o.call(this),vT(this)},vc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function _u(o){gn.call(this),this.a=null,this.g=o,o=X||Ae||$t&&!$o("531")&&o.tagName=="TEXTAREA",this.h=new vc(this),_c(this.h,this.g,o?["keydown","paste","cut","drop","input"]:"input",this)}Y(_u,gn),_u.prototype.handleEvent=function(o){if(o.type=="input")X&&$o(10)&&o.keyCode==0&&o.j==0||(t_(this),qr(this,_T(o)));else if(o.type!="keydown"||fV(o)){var l=o.type=="keydown"?this.g.value:null;X&&o.keyCode==229&&(l=null);var h=_T(o);t_(this),this.a=gV(function(){this.a=null,this.g.value!=l&&qr(this,h)},this)}};function t_(o){o.a!=null&&(g.clearTimeout(o.a),o.a=null)}function _T(o){return o=new li(o.a),o.type="input",o}_u.prototype.o=function(){_u.K.o.call(this),this.h.m(),t_(this),delete this.g};function bu(o,l){gn.call(this),o&&(this.Oa&&TT(this),this.qa=o,this.Na=ns(this.qa,"keypress",this,l),this.Ya=ns(this.qa,"keydown",this.Jb,l,this),this.Oa=ns(this.qa,"keyup",this.Kb,l,this))}Y(bu,gn),t=bu.prototype,t.qa=null,t.Na=null,t.Ya=null,t.Oa=null,t.R=-1,t.X=-1,t.Ua=!1;var bT={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},wT={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},ET=!$t||$o("525"),IT=Br&&pn;t=bu.prototype,t.Jb=function(o){($t||Ae)&&(this.R==17&&!o.ctrlKey||this.R==18&&!o.altKey||Br&&this.R==91&&!o.metaKey)&&(this.X=this.R=-1),this.R==-1&&(o.ctrlKey&&o.keyCode!=17?this.R=17:o.altKey&&o.keyCode!=18?this.R=18:o.metaKey&&o.keyCode!=91&&(this.R=91)),ET&&!fT(o.keyCode,this.R,o.shiftKey,o.ctrlKey,o.altKey,o.metaKey)?this.handleEvent(o):(this.X=e_(o.keyCode),IT&&(this.Ua=o.altKey))},t.Kb=function(o){this.X=this.R=-1,this.Ua=o.altKey},t.handleEvent=function(o){var l=o.a,h=l.altKey;if(X&&o.type=="keypress")var p=this.X,m=p!=13&&p!=27?l.keyCode:0;else($t||Ae)&&o.type=="keypress"?(p=this.X,m=0<=l.charCode&&63232>l.charCode&&vu(p)?l.charCode:0):Z&&!$t?(p=this.X,m=vu(p)?l.keyCode:0):(o.type=="keypress"?(IT&&(h=this.Ua),l.keyCode==l.charCode?32>l.keyCode?(p=l.keyCode,m=0):(p=this.X,m=l.charCode):(p=l.keyCode||this.X,m=l.charCode||0)):(p=l.keyCode||this.X,m=l.charCode||0),Br&&m==63&&p==224&&(p=191));var v=p=e_(p);p?63232<=p&&p in bT?v=bT[p]:p==25&&o.shiftKey&&(v=9):l.keyIdentifier&&l.keyIdentifier in wT&&(v=wT[l.keyIdentifier]),pn&&ET&&o.type=="keypress"&&!fT(v,this.R,o.shiftKey,o.ctrlKey,h,o.metaKey)||(o=v==this.R,this.R=v,l=new ST(v,m,o,l),l.altKey=h,qr(this,l))},t.N=function(){return this.qa};function TT(o){o.Na&&(Wr(o.Na),Wr(o.Ya),Wr(o.Oa),o.Na=null,o.Ya=null,o.Oa=null),o.qa=null,o.R=-1,o.X=-1}t.o=function(){bu.K.o.call(this),TT(this)};function ST(o,l,h,p){li.call(this,p),this.type="key",this.keyCode=o,this.j=l,this.repeat=h}Y(ST,li);function bc(o,l,h,p){this.top=o,this.right=l,this.bottom=h,this.left=p}bc.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},bc.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},bc.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},bc.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};function ap(o,l){var h=Ql(o);return h.defaultView&&h.defaultView.getComputedStyle&&(o=h.defaultView.getComputedStyle(o,null))&&(o[l]||o.getPropertyValue(l))||""}function AT(o){try{var l=o.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}return X&&o.ownerDocument.body&&(o=o.ownerDocument,l.left-=o.documentElement.clientLeft+o.body.clientLeft,l.top-=o.documentElement.clientTop+o.body.clientTop),l}function mV(o,l){l=l||Ef(document);var h=l||Ef(document),p=CT(o),m=CT(h);if(!X||9<=Number(Yl)){I=ap(h,"borderLeftWidth");var v=ap(h,"borderRightWidth");C=ap(h,"borderTopWidth"),F=ap(h,"borderBottomWidth"),v=new bc(parseFloat(C),parseFloat(v),parseFloat(F),parseFloat(I))}else{var I=cp(h,"borderLeft");v=cp(h,"borderRight");var C=cp(h,"borderTop"),F=cp(h,"borderBottom");v=new bc(C,v,F,I)}h==Ef(document)?(I=p.a-h.scrollLeft,p=p.g-h.scrollTop,!X||10<=Number(Yl)||(I+=v.left,p+=v.top)):(I=p.a-m.a-v.left,p=p.g-m.g-v.top),m=o.offsetWidth,v=o.offsetHeight,C=$t&&!m&&!v,y(m)&&!C||!o.getBoundingClientRect?o=new tv(m,v):(o=AT(o),o=new tv(o.right-o.left,o.bottom-o.top)),m=h.clientHeight-o.height,v=h.scrollLeft,C=h.scrollTop,v+=Math.min(I,Math.max(I-(h.clientWidth-o.width),0)),C+=Math.min(p,Math.max(p-m,0)),h=new Hr(v,C),l.scrollLeft=h.a,l.scrollTop=h.g}function CT(o){var l=Ql(o),h=new Hr(0,0),p=l?Ql(l):document;return p=!X||9<=Number(Yl)||wf(p).a.compatMode=="CSS1Compat"?p.documentElement:p.body,o==p||(o=AT(o),p=wf(l).a,l=Ef(p),p=p.parentWindow||p.defaultView,l=X&&$o("10")&&p.pageYOffset!=l.scrollTop?new Hr(l.scrollLeft,l.scrollTop):new Hr(p.pageXOffset||l.scrollLeft,p.pageYOffset||l.scrollTop),h.a=o.left+l.a,h.g=o.top+l.g),h}var PT={thin:2,medium:4,thick:6};function cp(o,l){if((o.currentStyle?o.currentStyle[l+"Style"]:null)=="none")return 0;var h=o.currentStyle?o.currentStyle[l+"Width"]:null;if(h in PT)o=PT[h];else if(/^\d+px?$/.test(h))o=parseInt(h,10);else{l=o.style.left;var p=o.runtimeStyle.left;o.runtimeStyle.left=o.currentStyle.left,o.style.left=h,h=o.style.pixelLeft,o.style.left=l,o.runtimeStyle.left=p,o=+h}return o}function n_(){}T(n_),n_.prototype.a=0;function ea(o){gn.call(this),this.s=o||wf(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}Y(ea,gn),t=ea.prototype,t.Lb=n_.Xa(),t.N=function(){return this.g};function tt(o,l){return o.g?iv(l,o.g||o.s.a):null}function wu(o){return o.L||(o.L=new vc(o)),o.L}t.Za=function(o){if(this.Y&&this.Y!=o)throw Error("Method not supported");ea.K.Za.call(this,o)},t.kb=function(){this.g=this.s.a.createElement("DIV")},t.render=function(o){if(this.na)throw Error("Component already rendered");this.g||this.kb(),o?o.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},t.v=function(){this.na=!0,i_(this,function(o){!o.na&&o.N()&&o.v()})},t.ya=function(){i_(this,function(o){o.na&&o.ya()}),this.L&&vT(this.L),this.na=!1},t.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),i_(this,function(o){o.m()}),this.g&&zo(this.g),this.Y=this.g=this.oa=this.Ea=null,ea.K.o.call(this)};function i_(o,l){o.Ea&&mt(o.Ea,l,void 0)}t.removeChild=function(o,l){if(o){var h=b(o)?o:o.cb||(o.cb=":"+(o.Lb.a++).toString(36));if(this.oa&&h?(o=this.oa,o=(o!==null&&h in o?o[h]:void 0)||null):o=null,h&&o){var p=this.oa;if(h in p&&delete p[h],he(this.Ea,o),l&&(o.ya(),o.g&&zo(o.g)),l=o,l==null)throw Error("Unable to set parent component");l.Y=null,ea.K.Za.call(l,null)}}if(!o)throw Error("Child is not in parent component");return o};function Qt(o,l){var h=CE(o,"firebaseui-textfield");l?(As(o,"firebaseui-input-invalid"),Ss(o,"firebaseui-input"),h&&As(h,"firebaseui-textfield-invalid")):(As(o,"firebaseui-input"),Ss(o,"firebaseui-input-invalid"),h&&Ss(h,"firebaseui-textfield-invalid"))}function wc(o,l,h){l=new _u(l),eu(o,me(tu,l)),_c(wu(o),l,"input",h)}function Eu(o,l,h){l=new bu(l),eu(o,me(tu,l)),_c(wu(o),l,"key",function(p){p.keyCode==13&&(p.stopPropagation(),p.preventDefault(),h(p))})}function yV(o,l,h){l=new yc(l),eu(o,me(tu,l)),_c(wu(o),l,"focusin",h)}function vV(o,l,h){l=new yc(l),eu(o,me(tu,l)),_c(wu(o),l,"focusout",h)}function Ht(o,l,h){l=new mc(l),eu(o,me(tu,l)),_c(wu(o),l,"action",function(p){p.stopPropagation(),p.preventDefault(),h(p)})}function Mi(o){Ss(o,"firebaseui-hidden")}function kn(o,l){l&&sv(o,l),As(o,"firebaseui-hidden")}function Ec(o){return!yu(o,"firebaseui-hidden")&&o.style.display!="none"}function Ic(o){o=o||{};var l=o.email,h=o.disabled,p='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return p=o.wc?p+"Enter new email address":p+"Email",p+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+ci(l??"")+'"'+(h?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',ge(p)}function bi(o){o=o||{},o=o.label;var l='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return l=o?l+De(o):l+"Next",ge(l+"</button>")}function s_(){var o=""+bi({label:Yt("Sign In")});return ge(o)}function RT(){var o=""+bi({label:Yt("Save")});return ge(o)}function is(){var o=""+bi({label:Yt("Continue")});return ge(o)}function xT(o){o=o||{},o=o.label;var l='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return l=o?l+De(o):l+"Choose password",ge(l+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function kT(){var o={},l='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return l=o.current?l+"Current password":l+"Password",ge(l+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function DT(){return ge('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function Ni(o){o=o||{},o=o.label;var l='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return l=o?l+De(o):l+"Cancel",ge(l+"</button>")}function jn(o){var l="";return o.F&&o.D&&(l+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),ge(l)}function Tc(o){var l="";return o.F&&o.D&&(l+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),ge(l)}function OT(o){return o='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+De(o.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',ge(o)}OT.a="firebaseui.auth.soy2.element.infoBar";function MT(o){var l=o.content;return o=o.Ab,ge('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(o?" "+ci(o):"")+'">'+De(l)+"</dialog>")}function NT(o){var l=o.message;return ge(MT({content:xE('<div class="firebaseui-dialog-icon-wrapper"><div class="'+ci(o.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+De(l)+"</div>")}))}NT.a="firebaseui.auth.soy2.element.progressDialog";function LT(o){var l='<div class="firebaseui-list-box-actions">';o=o.items;for(var h=o.length,p=0;p<h;p++){var m=o[p];l+='<button type="button" data-listboxid="'+ci(m.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(m.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+ci(m.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+De(m.label)+"</div></button>"}return l=""+MT({Ab:Yt("firebaseui-list-box-dialog"),content:xE(l+"</div>")}),ge(l)}LT.a="firebaseui.auth.soy2.element.listBoxDialog";function lp(o){return o=o||{},ge(o.tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}lp.a="firebaseui.auth.soy2.element.busyIndicator";function Yr(o,l){return o=o||{},o=o.ga,lt(o.S?o.S:l.hb[o.providerId]?""+l.hb[o.providerId]:o.providerId&&o.providerId.indexOf("saml.")==0||o.providerId&&o.providerId.indexOf("oidc.")==0?o.providerId.substring(5):""+o.providerId)}function r_(o){VT(o,"upgradeElement")}function o_(o){VT(o,"downgradeElements")}var _V=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function VT(o,l){o&&window.componentHandler&&window.componentHandler[l]&&_V.forEach(function(h){yu(o,h)&&window.componentHandler[l](o),mt(nv(h,o),function(p){window.componentHandler[l](p)})})}function FT(o,l,h){if(up.call(this),document.body.appendChild(o),o.showModal||window.dialogPolyfill.registerDialog(o),o.showModal(),r_(o),l&&Ht(this,o,function(v){var I=o.getBoundingClientRect();(v.clientX<I.left||I.left+I.width<v.clientX||v.clientY<I.top||I.top+I.height<v.clientY)&&up.call(this)}),!h){var p=this.N().parentElement||this.N().parentNode;if(p){var m=this;this.da=function(){if(o.open){var v=o.getBoundingClientRect().height,I=p.getBoundingClientRect().height,C=p.getBoundingClientRect().top-document.body.getBoundingClientRect().top,F=p.getBoundingClientRect().left-document.body.getBoundingClientRect().left,J=o.getBoundingClientRect().width,be=p.getBoundingClientRect().width;o.style.top=(C+(I-v)/2).toString()+"px",v=F+(be-J)/2,o.style.left=v.toString()+"px",o.style.right=(document.body.getBoundingClientRect().width-v-J).toString()+"px"}else window.removeEventListener("resize",m.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function up(){var o=a_.call(this);o&&(o_(o),o.open&&o.close(),zo(o),this.da&&window.removeEventListener("resize",this.da))}function a_(){return iv("firebaseui-id-dialog")}function UT(){zo(BT.call(this))}function BT(){return tt(this,"firebaseui-id-info-bar")}function jT(){return tt(this,"firebaseui-id-dismiss-info-bar")}var bV={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function c_(o,l,h){nr.call(this,o,l);for(var p in h)this[p]=h[p]}Y(c_,nr);function q(o,l,h,p,m){ea.call(this,h),this.fb=o,this.eb=l,this.Fa=!1,this.Ga=p||null,this.A=this.ca=null,this.Z=Re(bV),et(this.Z,m||{})}Y(q,ea),t=q.prototype,t.kb=function(){var o=Jl(this.fb,this.eb,this.Z,this.s);r_(o),this.g=o},t.v=function(){if(q.K.v.call(this),HE(Ft(this),new c_("pageEnter",Ft(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var o=this.Z.F;Ht(this,this.bb(),function(){o()})}if(this.ab()&&this.Z.D){var l=this.Z.D;Ht(this,this.ab(),function(){l()})}},t.ya=function(){HE(Ft(this),new c_("pageExit",Ft(this),{pageId:this.Ga})),q.K.ya.call(this)},t.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,o_(this.N()),q.K.o.call(this)};function wV(o){o.Fa=!0;var l=yu(o.N(),"firebaseui-use-spinner");o.ca=window.setTimeout(function(){o.N()&&o.A===null&&(o.A=Jl(lp,{tb:l},null,o.s),o.N().appendChild(o.A),r_(o.A))},500)}t.I=function(o,l,h,p){function m(){if(v.T)return null;v.Fa=!1,window.clearTimeout(v.ca),v.ca=null,v.A&&(o_(v.A),zo(v.A),v.A=null)}var v=this;return v.Fa?null:(wV(v),o.apply(null,l).then(h,p).then(m,m))};function Ft(o){return o.N().parentElement||o.N().parentNode}function Iu(o,l,h){Eu(o,l,function(){h.focus()})}function Sc(o,l,h){Eu(o,l,function(){h()})}ye(q.prototype,{a:function(o){UT.call(this);var l=Jl(OT,{message:o},null,this.s);this.N().appendChild(l),Ht(this,jT.call(this),function(){zo(l)})},yc:UT,Ac:BT,zc:jT,$:function(o,l){o=Jl(NT,{Ma:o,message:l},null,this.s),FT.call(this,o)},h:up,Cb:a_,Cc:function(){return tt(this,"firebaseui-tos")},bb:function(){return tt(this,"firebaseui-tos-link")},ab:function(){return tt(this,"firebaseui-pp-link")},Dc:function(){return tt(this,"firebaseui-tos-list")}});function $T(o,l,h){o=o||{},l=o.Va;var p=o.ia;return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Ic(o)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(l?Ni(null):"")+bi(null)+'</div></div><div class="firebaseui-card-footer">'+(p?Tc(h):jn(h))+"</div></form></div>",ge(o)}$T.a="firebaseui.auth.soy2.page.signIn";function HT(o,l,h){return o=o||{},l=o.ia,o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+Ic(o)+kT()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+DT()+'</div><div class="firebaseui-form-actions">'+s_()+'</div></div><div class="firebaseui-card-footer">'+(l?Tc(h):jn(h))+"</div></form></div>",ge(o)}HT.a="firebaseui.auth.soy2.page.passwordSignIn";function zT(o,l,h){o=o||{};var p=o.Tb;l=o.Ta;var m=o.ia,v='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+Ic(o);return p?(o=o||{},o=o.name,o='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+ci(o??"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',o=ge(o)):o="",h=v+o+xT(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(l?Ni(null):"")+RT()+'</div></div><div class="firebaseui-card-footer">'+(m?Tc(h):jn(h))+"</div></form></div>",ge(h)}zT.a="firebaseui.auth.soy2.page.passwordSignUp";function WT(o,l,h){return o=o||{},l=o.Ta,o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+Ic(o)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(l?Ni(null):"")+bi({label:Yt("Send")})+'</div></div><div class="firebaseui-card-footer">'+jn(h)+"</div></form></div>",ge(o)}WT.a="firebaseui.auth.soy2.page.passwordRecovery";function qT(o,l,h){l=o.G;var p="";return o="Follow the instructions sent to <strong>"+(De(o.email)+"</strong> to recover your password"),p+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+o+'</p></div><div class="firebaseui-card-actions">',l&&(p+='<div class="firebaseui-form-actions">'+bi({label:Yt("Done")})+"</div>"),p+='</div><div class="firebaseui-card-footer">'+jn(h)+"</div></div>",ge(p)}qT.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent";function KT(o,l,h){return ge('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+lp(null)+"</div></div>")}KT.a="firebaseui.auth.soy2.page.callback";function GT(o,l,h){return ge('<div class="firebaseui-container firebaseui-id-page-spinner">'+lp({tb:!0})+"</div>")}GT.a="firebaseui.auth.soy2.page.spinner";function YT(){return ge('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}YT.a="firebaseui.auth.soy2.page.blank";function XT(o,l,h){l="",o="A sign-in email with additional instructions was sent to <strong>"+(De(o.email)+"</strong>. Check your email to complete sign-in.");var p=ge('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>');return l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+o+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+p+'</div><div class="firebaseui-form-actions">'+Ni({label:Yt("Back")})+'</div></div><div class="firebaseui-card-footer">'+jn(h)+"</div></form></div>",ge(l)}XT.a="firebaseui.auth.soy2.page.emailLinkSignInSent";function QT(o,l,h){return o=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn't work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">`+ge('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+Ni({label:Yt("Back")})+'</div></div><div class="firebaseui-card-footer">'+jn(h)+"</div></form></div>",ge(o)}QT.a="firebaseui.auth.soy2.page.emailNotReceived";function JT(o,l,h){return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+Ic(o)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ni(null)+bi(null)+'</div></div><div class="firebaseui-card-footer">'+jn(h)+"</div></form></div>",ge(o)}JT.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation";function ZT(){var o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ni({label:Yt("Dismiss")})+"</div></div></div>";return ge(o)}ZT.a="firebaseui.auth.soy2.page.differentDeviceError";function eS(){var o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ni({label:Yt("Dismiss")})+"</div></div></div>";return ge(o)}eS.a="firebaseui.auth.soy2.page.anonymousUserMismatch";function tS(o,l,h){return l="",o="Youve already used <strong>"+(De(o.email)+"</strong> to sign in. Enter your password for that account."),l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+o+"</p>"+kT()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+DT()+'</div><div class="firebaseui-form-actions">'+s_()+'</div></div><div class="firebaseui-card-footer">'+jn(h)+"</div></form></div>",ge(l)}tS.a="firebaseui.auth.soy2.page.passwordLinking";function nS(o,l,h){var p=o.email;return l="",o=""+Yr(o,h),o=Yt(o),p="Youve already used <strong>"+(De(p)+("</strong>. You can connect your <strong>"+(De(o)+("</strong> account with <strong>"+(De(p)+"</strong> by signing in with email link below."))))),o="For this flow to successfully connect your "+(De(o)+" account with this email, you have to open the link on the same device or browser."),l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+p+'<p class="firebaseui-text firebaseui-text-justify">'+o+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+s_()+'</div></div><div class="firebaseui-card-footer">'+jn(h)+"</div></form></div>",ge(l)}nS.a="firebaseui.auth.soy2.page.emailLinkSignInLinking";function iS(o,l,h){l="";var p=""+Yr(o,h);return p=Yt(p),o="You originally intended to connect <strong>"+(De(p)+"</strong> to your email account but have opened the link on a different device where you are not signed in."),p="If you still want to connect your <strong>"+(De(p)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device."),l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+o+'</p><p class="firebaseui-text firebaseui-text-justify">'+p+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+is()+'</div></div><div class="firebaseui-card-footer">'+jn(h)+"</div></form></div>",ge(l)}iS.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice";function sS(o,l,h){var p=o.email;return l="",o=""+Yr(o,h),o=Yt(o),p="Youve already used <strong>"+(De(p)+("</strong>. Sign in with "+(De(o)+" to continue."))),l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+p+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+bi({label:Yt("Sign in with "+o)})+'</div></div><div class="firebaseui-card-footer">'+jn(h)+"</div></form></div>",ge(l)}sS.a="firebaseui.auth.soy2.page.federatedLinking";function rS(o,l,h){o=o||{};var p=o.kc;l=o.yb,o=o.Eb;var m='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return p?(p="<strong>"+(De(p)+"</strong> is not authorized to view the requested page."),m+=p):m+="User is not authorized to view the requested page.",m+="</p>",l&&(l="Please contact <strong>"+(De(l)+"</strong> for authorization."),m+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+l+"</p>"),m+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',o&&(m+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),m+='</div><div class="firebaseui-form-actions">'+Ni({label:Yt("Back")})+'</div></div><div class="firebaseui-card-footer">'+jn(h)+"</div></form></div>",ge(m)}rS.a="firebaseui.auth.soy2.page.unauthorizedUser";function oS(o,l,h){return l="",o="To continue sign in with <strong>"+(De(o.email)+"</strong> on this device, you have to recover the password."),l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+o+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ni(null)+bi({label:Yt("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+jn(h)+"</div></form></div>",ge(l)}oS.a="firebaseui.auth.soy2.page.unsupportedProvider";function aS(o){var l="",h='<p class="firebaseui-text">for <strong>'+(De(o.email)+"</strong></p>");return l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+h+xT(lL(o))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+RT()+"</div></div></form></div>",ge(l)}aS.a="firebaseui.auth.soy2.page.passwordReset";function cS(o){return o=o||{},o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+(o.G?'<div class="firebaseui-form-actions">'+is()+"</div>":"")+"</div></div>",ge(o)}cS.a="firebaseui.auth.soy2.page.passwordResetSuccess";function lS(o){return o=o||{},o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(o.G?'<div class="firebaseui-form-actions">'+is()+"</div>":"")+"</div></div>",ge(o)}lS.a="firebaseui.auth.soy2.page.passwordResetFailure";function uS(o){var l=o.G,h="";return o="Your sign-in email address has been changed back to <strong>"+(De(o.email)+"</strong>."),h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+o+'</p><p class="firebaseui-text">If you didnt ask to change your sign-in email, its possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(l?'<div class="firebaseui-form-actions">'+is()+"</div>":"")+"</div></form></div>",ge(h)}uS.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess";function hS(o){return o=o||{},o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still cant reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+(o.G?'<div class="firebaseui-form-actions">'+is()+"</div>":"")+"</div></div>",ge(o)}hS.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure";function dS(o){return o=o||{},o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+(o.G?'<div class="firebaseui-form-actions">'+is()+"</div>":"")+"</div></div>",ge(o)}dS.a="firebaseui.auth.soy2.page.emailVerificationSuccess";function fS(o){return o=o||{},o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(o.G?'<div class="firebaseui-form-actions">'+is()+"</div>":"")+"</div></div>",ge(o)}fS.a="firebaseui.auth.soy2.page.emailVerificationFailure";function pS(o){var l=o.G,h="";return o="You can now sign in with your new email <strong>"+(De(o.email)+"</strong>."),h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+o+'</p></div><div class="firebaseui-card-actions">'+(l?'<div class="firebaseui-form-actions">'+is()+"</div>":"")+"</div></div>",ge(h)}pS.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess";function gS(o){return o=o||{},o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+(o.G?'<div class="firebaseui-form-actions">'+is()+"</div>":"")+"</div></div>",ge(o)}gS.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure";function mS(o){var l=o.factorId,h=o.phoneNumber;o=o.G;var p='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(l){case"phone":l="The <strong>"+(De(l)+(" "+(De(h)+"</strong> was removed as a second authentication step."))),p+=l;break;default:p+="The device or app was removed as a second authentication step."}return p+=`</p><p class="firebaseui-text">If you don't recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">`+(o?'<div class="firebaseui-form-actions">'+is()+"</div>":"")+"</div></form></div>",ge(p)}mS.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess";function yS(o){return o=o||{},o=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn't remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn't work, contact support for assistance.</p></div><div class="firebaseui-card-actions">`+(o.G?'<div class="firebaseui-form-actions">'+is()+"</div>":"")+"</div></div>",ge(o)}yS.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure";function vS(o){var l=o.zb;return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+De(o.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',l&&(o+=bi({label:Yt("Retry")})),ge(o+"</div></div></div>")}vS.a="firebaseui.auth.soy2.page.recoverableError";function _S(o){return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+De(o.errorMessage)+"</p></div></div>",ge(o)}_S.a="firebaseui.auth.soy2.page.unrecoverableError";function bS(o,l,h){var p=o.Qb;return l="",o="Continue with "+(De(o.jc)+"?"),p="You originally wanted to sign in with "+De(p),l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+o+'</h2><p class="firebaseui-text">'+p+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ni(null)+bi({label:Yt("Continue")})+'</div></div><div class="firebaseui-card-footer">'+jn(h)+"</div></form></div>",ge(l)}bS.a="firebaseui.auth.soy2.page.emailMismatch";function wS(o,l,h){var p='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';o=o.Sb,l=o.length;for(var m=0;m<l;m++){var v={ga:o[m]},I=h;v=v||{};var C=v.ga,F=v;F=F||{};var J="";switch(F.ga.providerId){case"google.com":J+="firebaseui-idp-google";break;case"github.com":J+="firebaseui-idp-github";break;case"facebook.com":J+="firebaseui-idp-facebook";break;case"twitter.com":J+="firebaseui-idp-twitter";break;case"phone":J+="firebaseui-idp-phone";break;case"anonymous":J+="firebaseui-idp-anonymous";break;case"password":J+="firebaseui-idp-password";break;default:J+="firebaseui-idp-generic"}F='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+ci(lt(J))+' firebaseui-id-idp-button" data-provider-id="'+ci(C.providerId)+'" style="background-color:',J=(J=v)||{},J=J.ga,F=F+ci(kE(lt(J.ta?J.ta:I.wa[J.providerId]?""+I.wa[J.providerId]:J.providerId.indexOf("saml.")==0?""+I.wa.saml:J.providerId.indexOf("oidc.")==0?""+I.wa.oidc:""+I.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var be=v;J=I,be=be||{},be=be.ga,J=cL(be.za?Wo(be.za):J.xa[be.providerId]?Wo(J.xa[be.providerId]):be.providerId.indexOf("saml.")==0?Wo(J.xa.saml):be.providerId.indexOf("oidc.")==0?Wo(J.xa.oidc):Wo(J.xa.password)),F=F+ci(Wo(J))+'"></span>',C.providerId=="password"?(F+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',C.V?F+=De(C.V):C.S?(v="Sign in with "+De(Yr(v,I)),F+=v):F+="Sign in with email",F+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',F=C.S?F+De(C.S):F+"Email",F+="</span>"):C.providerId=="phone"?(F+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',C.V?F+=De(C.V):C.S?(v="Sign in with "+De(Yr(v,I)),F+=v):F+="Sign in with phone",F+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',F=C.S?F+De(C.S):F+"Phone",F+="</span>"):C.providerId=="anonymous"?(F+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',C.V?F+=De(C.V):C.S?(v="Sign in with "+De(Yr(v,I)),F+=v):F+="Continue as guest",F+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',F=C.S?F+De(C.S):F+"Guest",F+="</span>"):(F+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',C.V?F+=De(C.V):(J="Sign in with "+De(Yr(v,I)),F+=J),F+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(C.S?De(C.S):De(Yr(v,I)))+"</span>"),C=ge(F+"</button>"),p+='<li class="firebaseui-list-item">'+C+"</li>"}return p+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+Tc(h)+"</div></div>",ge(p)}wS.a="firebaseui.auth.soy2.page.providerSignIn";function ES(o,l,h){o=o||{};var p=o.Gb,m=o.Va;l=o.ia,o=o||{},o=o.Aa,o='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+ci(o??"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ge(o);var v;return p?v=ge('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):v="",v=o+v+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(m?Ni(null):"")+bi({label:Yt("Verify")})+'</div></div><div class="firebaseui-card-footer">',l?(l='<p class="firebaseui-tos firebaseui-phone-tos">',l=h.F&&h.D?l+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':l+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",h=ge(l+"</p>")):h=ge('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+jn(h),ge(v+h+"</div></form></div>")}ES.a="firebaseui.auth.soy2.page.phoneSignInStart";function IS(o,l,h){o=o||{},l=o.phoneNumber;var p="";return o='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+(De(l)+"</a>"),De(l),l=p,p=ge('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'),h='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+o+"</p>"+p+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ni(null)+bi({label:Yt("Continue")})+'</div></div><div class="firebaseui-card-footer">'+jn(h)+"</div></form>",o=ge('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),ge(l+(h+o+"</div>"))}IS.a="firebaseui.auth.soy2.page.phoneSignInFinish";function TS(){return ge('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}TS.a="firebaseui.auth.soy2.page.signOut";function SS(o,l,h){var p='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';o=o.ec,l=o.length;for(var m=0;m<l;m++){var v=o[m],I="",C=De(v.displayName),F=v.tenantId?v.tenantId:"top-level-project";F=Yt(F),I+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+ci(F)+' firebaseui-id-tenant-selection-button"'+(v.tenantId?'data-tenant-id="'+ci(v.tenantId)+'"':"")+'style="background-color:'+ci(kE(v.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+ci(Wo(v.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',v.V?I+=De(v.V):(v="Sign in to "+De(v.displayName),I+=v),I=ge(I+('</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+C+"</span></button>")),p+='<li class="firebaseui-list-item">'+I+"</li>"}return p+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+Tc(h)+"</div></div>",ge(p)}SS.a="firebaseui.auth.soy2.page.selectTenant";function AS(o,l,h){return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Ic(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+bi(null)+'</div></div><div class="firebaseui-card-footer">'+Tc(h)+"</div></form></div>",ge(o)}AS.a="firebaseui.auth.soy2.page.providerMatchByEmail";function Tn(){return tt(this,"firebaseui-id-submit")}function yn(){return tt(this,"firebaseui-id-secondary-link")}function Dn(o,l){Ht(this,Tn.call(this),function(p){o(p)});var h=yn.call(this);h&&l&&Ht(this,h,function(p){l(p)})}function hp(){return tt(this,"firebaseui-id-password")}function dp(){return tt(this,"firebaseui-id-password-error")}function CS(){var o=hp.call(this),l=dp.call(this);wc(this,o,function(){Ec(l)&&(Qt(o,!0),Mi(l))})}function PS(){var o=hp.call(this),l=dp.call(this);return xn(o)?(Qt(o,!0),Mi(l),l=!0):(Qt(o,!1),kn(l,lt("Enter your password").toString()),l=!1),l?xn(o):null}function Ac(o,l,h,p,m,v){q.call(this,tS,{email:o},v,"passwordLinking",{F:p,D:m}),this.w=l,this.H=h}c(Ac,q),Ac.prototype.v=function(){this.P(),this.M(this.w,this.H),Sc(this,this.i(),this.w),this.i().focus(),q.prototype.v.call(this)},Ac.prototype.o=function(){this.w=null,q.prototype.o.call(this)},Ac.prototype.j=function(){return xn(tt(this,"firebaseui-id-email"))},ye(Ac.prototype,{i:hp,B:dp,P:CS,u:PS,ea:Tn,ba:yn,M:Dn});var EV=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function rr(){return tt(this,"firebaseui-id-email")}function Xr(){return tt(this,"firebaseui-id-email-error")}function Cc(o){var l=rr.call(this),h=Xr.call(this);wc(this,l,function(){Ec(h)&&(Qt(l,!0),Mi(h))}),o&&Eu(this,l,function(){o()})}function Pc(){return L(xn(rr.call(this))||"")}function Rc(){var o=rr.call(this),l=Xr.call(this),h=xn(o)||"";return h?EV.test(h)?(Qt(o,!0),Mi(l),l=!0):(Qt(o,!1),kn(l,lt("That email address isn't correct").toString()),l=!1):(Qt(o,!1),kn(l,lt("Enter your email address to continue").toString()),l=!1),l?L(xn(o)):null}function Tu(o,l,h,p,m,v,I){q.call(this,HT,{email:h,ia:!!v},I,"passwordSignIn",{F:p,D:m}),this.w=o,this.H=l}c(Tu,q),Tu.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),Iu(this,this.l(),this.i()),Sc(this,this.i(),this.w),xn(this.l())?this.i().focus():this.l().focus(),q.prototype.v.call(this)},Tu.prototype.o=function(){this.H=this.w=null,q.prototype.o.call(this)},ye(Tu.prototype,{l:rr,U:Xr,P:Cc,M:Pc,j:Rc,i:hp,B:dp,ea:CS,u:PS,ua:Tn,pa:yn,ba:Dn});function yt(o,l,h,p,m,v){q.call(this,o,l,p,m||"notice",v),this.i=h||null}Y(yt,q),yt.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),yt.K.v.call(this)},yt.prototype.o=function(){this.i=null,yt.K.o.call(this)},ye(yt.prototype,{l:Tn,w:yn,u:Dn});function fp(o,l,h,p,m){yt.call(this,qT,{email:o,G:!!l},l,m,"passwordRecoveryEmailSent",{F:h,D:p})}Y(fp,yt);function RS(o,l){yt.call(this,dS,{G:!!o},o,l,"emailVerificationSuccess")}Y(RS,yt);function xS(o,l){yt.call(this,fS,{G:!!o},o,l,"emailVerificationFailure")}Y(xS,yt);function kS(o,l,h){yt.call(this,pS,{email:o,G:!!l},l,h,"verifyAndChangeEmailSuccess")}Y(kS,yt);function DS(o,l){yt.call(this,gS,{G:!!o},o,l,"verifyAndChangeEmailFailure")}Y(DS,yt);function OS(o,l){yt.call(this,yS,{G:!!o},o,l,"revertSecondFactorAdditionFailure")}Y(OS,yt);function MS(o){yt.call(this,TS,void 0,void 0,o,"signOut")}Y(MS,yt);function NS(o,l){yt.call(this,cS,{G:!!o},o,l,"passwordResetSuccess")}Y(NS,yt);function LS(o,l){yt.call(this,lS,{G:!!o},o,l,"passwordResetFailure")}Y(LS,yt);function VS(o,l){yt.call(this,hS,{G:!!o},o,l,"emailChangeRevokeFailure")}Y(VS,yt);function FS(o,l,h){yt.call(this,vS,{errorMessage:o,zb:!!l},l,h,"recoverableError")}Y(FS,yt);function US(o,l){yt.call(this,_S,{errorMessage:o},void 0,l,"unrecoverableError")}Y(US,yt);function Su(o){if(o.code==="auth/invalid-credential"&&o.message&&o.message.indexOf("error=consent_required")!==-1)return{code:"auth/user-cancelled"};if(o.message&&o.message.indexOf("HTTP Cloud Function returned an error:")!==-1){var l=JSON.parse(o.message.substring(o.message.indexOf("{"),o.message.lastIndexOf("}")+1));return{code:o.code,message:l&&l.error&&l.error.message||o.message}}return o}function or(o,l,h,p){function m(I){if(!I.name||I.name!="cancel"){e:{var C=I.message;try{var F=((JSON.parse(C).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(F&&F.length){var J=!0;break e}}catch{}J=!1}if(J)I=Ft(l),l.m(),Pt(o,I,void 0,lt("Your sign-in session has expired. Please try again.").toString());else{if(J=I&&I.message||"",I.code){if(I.code=="auth/email-already-in-use"||I.code=="auth/credential-already-in-use")return;J=bt(I)}l.a(J)}}}if(aA(o),p)return BS(o,h),Xt();if(!h.credential)throw Error("No credential found!");if(!Ke(o).currentUser&&!h.user)throw Error("User not logged in.");try{var v=eF(o,h)}catch(I){return Di(I.code||I.message,I),l.a(I.code||I.message),Xt()}return h=v.then(function(I){BS(o,I)},m).then(void 0,m),Ue(o,v),Xt(h)}function BS(o,l){if(!l.user)throw Error("No user found");var h=cT(K(o));if(Gv(K(o))&&h&&Gr("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),h){h=cT(K(o));var p=jI(ke(o))||void 0;_i(hu,ke(o));var m=!1;aI()?((!h||h(l,p))&&(m=!0,ec(window.opener.location,pp(o,p))),h||window.close()):(!h||h(l,p))&&(m=!0,ec(window.location,pp(o,p))),m||o.reset()}else{h=l.user,l=l.credential,p=Gv(K(o)),m=jI(ke(o))||void 0,_i(hu,ke(o));var v=!1;aI()?((!p||p(h,l,m))&&(v=!0,ec(window.opener.location,pp(o,m))),p||window.close()):(!p||p(h,l,m))&&(v=!0,ec(window.location,pp(o,m))),v||o.reset()}}function pp(o,l){if(o=l||K(o).a.get("signInSuccessUrl"),!o)throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return o}function bt(o){var l={code:o.code};l=l||{};var h="";switch(l.code){case"auth/email-already-in-use":h+="The email address is already used by another account";break;case"auth/requires-recent-login":h+=LE();break;case"auth/too-many-requests":h+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":h+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":h+="That email address doesn't match an existing account";break;case"auth/user-token-expired":h+=LE();break;case"auth/weak-password":h+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":h+="The email and password you entered don't match";break;case"auth/network-request-failed":h+="A network error has occurred";break;case"auth/invalid-phone-number":h+=cv();break;case"auth/invalid-verification-code":h+=lt("Wrong code. Try again.");break;case"auth/code-expired":h+="This code is no longer valid";break;case"auth/expired-action-code":h+="This code has expired.";break;case"auth/invalid-action-code":h+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(l=lt(h).toString())return l;try{return JSON.parse(o.message),Di("Internal error: "+o.message,void 0),OE().toString()}catch{return o.message}}function IV(o,l,h){var p=dc[l]&&Ee.auth[dc[l]]?new Ee.auth[dc[l]]:l.indexOf("saml.")==0?new Ee.auth.SAMLAuthProvider(l):new Ee.auth.OAuthProvider(l);if(!p)throw Error("Invalid Firebase Auth provider!");var m=iT(K(o),l);if(p.addScope)for(var v=0;v<m.length;v++)p.addScope(m[v]);return m=sT(K(o),l)||{},h&&(l==Ee.auth.GoogleAuthProvider.PROVIDER_ID?o="login_hint":l==Ee.auth.GithubAuthProvider.PROVIDER_ID?o="login":o=(o=pu(K(o),l))&&o.Ob,o&&(m[o]=h)),p.setCustomParameters&&p.setCustomParameters(m),p}function Au(o,l,h,p){function m(){QL(new SI(o.h.tenantId||null),ke(o)),Ue(o,l.I(U(o.dc,o),[F],function(){if((window.location&&window.location.protocol)==="file:")return Ue(o,nA(o).then(function(J){l.m(),_i(Qo,ke(o)),ve("callback",o,C,Xt(J))},v))},I))}function v(J){if(_i(Qo,ke(o)),!J.name||J.name!="cancel")switch(J=Su(J),J.code){case"auth/popup-blocked":m();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":break;case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":l.a(bt(J));break;case"auth/admin-restricted-operation":l.m(),Zo(K(o))?ve("handleUnauthorizedUser",o,C,null,h):ve("callback",o,C,tc(J));break;default:l.m(),ve("callback",o,C,tc(J))}}function I(J){_i(Qo,ke(o)),J.name&&J.name=="cancel"||(Di("signInWithRedirect: "+J.code,void 0),J=bt(J),l.Ga=="blank"&&Kv(K(o))?(l.m(),ve("providerSignIn",o,C,J)):l.a(J))}var C=Ft(l),F=IV(o,h,p);aT(K(o))==sp?m():Ue(o,ZV(o,F).then(function(J){l.m(),ve("callback",o,C,Xt(J))},v))}function TV(o,l){Ue(o,l.I(U(o.$b,o),[],function(h){return l.m(),or(o,l,h,!0)},function(h){h.name&&h.name=="cancel"||(Di("ContinueAsGuest: "+h.code,void 0),h=bt(h),l.a(h))}))}function SV(o,l,h){function p(v){var I=!1;return v=l.I(U(o.ac,o),[v],function(C){var F=Ft(l);l.m(),ve("callback",o,F,Xt(C)),I=!0},function(C){if((!C.name||C.name!="cancel")&&(!C||C.code!="auth/credential-already-in-use"))if(C&&C.code=="auth/email-already-in-use"&&C.email&&C.credential){var F=Ft(l);l.m(),ve("callback",o,F,tc(C))}else C&&C.code=="auth/admin-restricted-operation"&&Zo(K(o))?(C=Ft(l),l.m(),ve("handleUnauthorizedUser",o,C,null,Ee.auth.GoogleAuthProvider.PROVIDER_ID)):(C=bt(C),l.a(C))}),Ue(o,v),v.then(function(){return I},function(){return!1})}if(h&&h.credential&&h.clientId===tT(K(o))){if(iT(K(o),Ee.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var m=JSON.parse(atob(h.credential.split(".")[1])).email}catch{}return Au(o,l,Ee.auth.GoogleAuthProvider.PROVIDER_ID,m),Xt(!0)}return p(Ee.auth.GoogleAuthProvider.credential(h.credential))}return h&&l.a(lt("The selected credential for the authentication provider is not supported!").toString()),Xt(!1)}function AV(o,l){var h=l.j(),p=l.u();if(h)if(p){var m=Ee.auth.EmailAuthProvider.credential(h,p);Ue(o,l.I(U(o.bc,o),[h,p],function(v){return or(o,l,{user:v.user,credential:m,operationType:v.operationType,additionalUserInfo:v.additionalUserInfo})},function(v){if(!v.name||v.name!="cancel")switch(v.code){case"auth/email-already-in-use":break;case"auth/email-exists":Qt(l.l(),!1),kn(l.U(),bt(v));break;case"auth/too-many-requests":case"auth/wrong-password":Qt(l.i(),!1),kn(l.B(),bt(v));break;default:Di("verifyPassword: "+v.message,void 0),l.a(bt(v))}}))}else l.i().focus();else l.l().focus()}function gp(o){return o=fc(K(o)),o.length==1&&o[0]==Ee.auth.EmailAuthProvider.PROVIDER_ID}function jS(o){return o=fc(K(o)),o.length==1&&o[0]==Ee.auth.PhoneAuthProvider.PROVIDER_ID}function Pt(o,l,h,p){gp(o)?p?ve("signIn",o,l,h,p):u_(o,l,h):o&&jS(o)&&!p?ve("phoneSignInStart",o,l):o&&Kv(K(o))&&!p?ve("federatedRedirect",o,l,h):ve("providerSignIn",o,l,p,h)}function $S(o,l,h,p){var m=Ft(l);Ue(o,l.I(U(Ke(o).fetchSignInMethodsForEmail,Ke(o)),[h],function(v){l.m(),HS(o,m,v,h,p)},function(v){v=bt(v),l.a(v)}))}function HS(o,l,h,p,m,v){h.length||pc(K(o))&&!pc(K(o))?B(h,Ee.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ve("passwordSignIn",o,l,p,v):h.length==1&&h[0]===Ee.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?pc(K(o))?ve("sendEmailLinkForSignIn",o,l,p,function(){ve("signIn",o,l)}):ve("unsupportedProvider",o,l,p):(h=JI(h,fc(K(o))))?($I(new Mv(p),ke(o)),ve("federatedSignIn",o,l,p,h,m)):ve("unsupportedProvider",o,l,p):nT(K(o))?ve("handleUnauthorizedUser",o,l,p,Ee.auth.EmailAuthProvider.PROVIDER_ID):pc(K(o))?ve("sendEmailLinkForSignIn",o,l,p,function(){ve("signIn",o,l)}):ve("passwordSignUp",o,l,p,void 0,void 0,v)}function l_(o,l,h,p,m,v){var I=Ft(l);Ue(o,l.I(U(o.Ib,o),[h,v],function(){l.m(),ve("emailLinkSignInSent",o,I,h,p,v)},m))}function u_(o,l,h){h?ve("prefilledEmailSignIn",o,l,h):ve("signIn",o,l)}function Cu(){return Qa(sr(),"oobCode")}function h_(){var o=Qa(sr(),"continueUrl");return o?function(){ec(window.location,o)}:null}function Pu(o,l){q.call(this,eS,void 0,l,"anonymousUserMismatch"),this.i=o}c(Pu,q),Pu.prototype.v=function(){var o=this;Ht(this,this.l(),function(){o.i()}),this.l().focus(),q.prototype.v.call(this)},Pu.prototype.o=function(){this.i=null,q.prototype.o.call(this)},ye(Pu.prototype,{l:yn}),ft.anonymousUserMismatch=function(o,l){var h=new Pu(function(){h.m(),Pt(o,l)});h.render(l),We(o,h)};function mp(o){q.call(this,KT,void 0,o,"callback")}c(mp,q),mp.prototype.I=function(o,l,h,p){return o.apply(null,l).then(h,p)};function zS(o,l,h){if(h.user){var p={user:h.user,credential:h.credential,operationType:h.operationType,additionalUserInfo:h.additionalUserInfo},m=Is(ke(o)),v=m&&m.g;if(v&&!PV(h.user,v))CV(o,l,p);else{var I=m&&m.a;I?Ue(o,h.user.linkWithCredential(I).then(function(C){p={user:C.user,credential:I,operationType:C.operationType,additionalUserInfo:C.additionalUserInfo},WS(o,l,p)},function(C){yp(o,l,C)})):WS(o,l,p)}}else h=Ft(l),l.m(),Ts(ke(o)),Pt(o,h)}function WS(o,l,h){Ts(ke(o)),or(o,l,h)}function yp(o,l,h){var p=Ft(l);Ts(ke(o)),h=bt(h),l.m(),Pt(o,p,void 0,h)}function qS(o,l,h,p){var m=Ft(l);Ue(o,Ke(o).fetchSignInMethodsForEmail(h).then(function(v){l.m(),v.length?B(v,Ee.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ve("passwordLinking",o,m,h):v.length==1&&v[0]===Ee.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?ve("emailLinkSignInLinking",o,m,h):(v=JI(v,fc(K(o))))?ve("federatedLinking",o,m,h,v,p):(Ts(ke(o)),ve("unsupportedProvider",o,m,h)):(Ts(ke(o)),ve("passwordRecovery",o,m,h,!1,ME().toString()))},function(v){yp(o,l,v)}))}function CV(o,l,h){var p=Ft(l);Ue(o,Qr(o).then(function(){l.m(),ve("emailMismatch",o,p,h)},function(m){m.name&&m.name=="cancel"||(m=bt(m.code),l.a(m))}))}function PV(o,l){if(l==o.email)return!0;if(o.providerData){for(var h=0;h<o.providerData.length;h++)if(l==o.providerData[h].email)return!0}return!1}ft.callback=function(o,l,h){var p=new mp;p.render(l),We(o,p),h=h||nA(o),Ue(o,h.then(function(m){zS(o,p,m)},function(m){if((m=Su(m))&&(m.code=="auth/account-exists-with-different-credential"||m.code=="auth/email-already-in-use")&&m.email&&m.credential)$I(new Mv(m.email,m.credential),ke(o)),qS(o,p,m.email);else if(m&&m.code=="auth/user-cancelled"){var v=Is(ke(o)),I=bt(m);v&&v.a?qS(o,p,v.g,I):v?$S(o,p,v.g,I):yp(o,p,m)}else m&&m.code=="auth/credential-already-in-use"||(m&&m.code=="auth/operation-not-supported-in-this-environment"&&gp(o)?zS(o,p,{user:null,credential:null}):m&&m.code=="auth/admin-restricted-operation"&&Zo(K(o))?(p.m(),Ts(ke(o)),ve("handleUnauthorizedUser",o,l,null,null)):yp(o,p,m))}))};function Ru(o,l){q.call(this,ZT,void 0,l,"differentDeviceError"),this.i=o}c(Ru,q),Ru.prototype.v=function(){var o=this;Ht(this,this.l(),function(){o.i()}),this.l().focus(),q.prototype.v.call(this)},Ru.prototype.o=function(){this.i=null,q.prototype.o.call(this)},ye(Ru.prototype,{l:yn}),ft.differentDeviceError=function(o,l){var h=new Ru(function(){h.m(),Pt(o,l)});h.render(l),We(o,h)};function xu(o,l,h,p){q.call(this,uS,{email:o,G:!!h},p,"emailChangeRevoke"),this.l=l,this.i=h||null}c(xu,q),xu.prototype.v=function(){var o=this;Ht(this,tt(this,"firebaseui-id-reset-password-link"),function(){o.l()}),this.i&&(this.w(this.i),this.u().focus()),q.prototype.v.call(this)},xu.prototype.o=function(){this.l=this.i=null,q.prototype.o.call(this)},ye(xu.prototype,{u:Tn,B:yn,w:Dn});function ku(){return tt(this,"firebaseui-id-new-password")}function vp(){return tt(this,"firebaseui-id-password-toggle")}function RV(){this.Ra=!this.Ra;var o=vp.call(this),l=ku.call(this);this.Ra?(l.type="text",Ss(o,"firebaseui-input-toggle-off"),As(o,"firebaseui-input-toggle-on")):(l.type="password",Ss(o,"firebaseui-input-toggle-on"),As(o,"firebaseui-input-toggle-off")),l.focus()}function _p(){return tt(this,"firebaseui-id-new-password-error")}function KS(){this.Ra=!1;var o=ku.call(this);o.type="password";var l=_p.call(this);wc(this,o,function(){Ec(l)&&(Qt(o,!0),Mi(l))});var h=vp.call(this);Ss(h,"firebaseui-input-toggle-on"),As(h,"firebaseui-input-toggle-off"),yV(this,o,function(){Ss(h,"firebaseui-input-toggle-focus"),As(h,"firebaseui-input-toggle-blur")}),vV(this,o,function(){Ss(h,"firebaseui-input-toggle-blur"),As(h,"firebaseui-input-toggle-focus")}),Ht(this,h,U(RV,this))}function GS(){var o=ku.call(this),l=_p.call(this);return xn(o)?(Qt(o,!0),Mi(l),l=!0):(Qt(o,!1),kn(l,lt("Enter your password").toString()),l=!1),l?xn(o):null}function Du(o,l,h){q.call(this,aS,{email:o},h,"passwordReset"),this.l=l}c(Du,q),Du.prototype.v=function(){this.H(),this.B(this.l),Sc(this,this.i(),this.l),this.i().focus(),q.prototype.v.call(this)},Du.prototype.o=function(){this.l=null,q.prototype.o.call(this)},ye(Du.prototype,{i:ku,w:_p,M:vp,H:KS,u:GS,U:Tn,P:yn,B:Dn});function Ou(o,l,h,p,m){q.call(this,mS,{factorId:o,phoneNumber:h||null,G:!!p},m,"revertSecondFactorAdditionSuccess"),this.l=l,this.i=p||null}c(Ou,q),Ou.prototype.v=function(){var o=this;Ht(this,tt(this,"firebaseui-id-reset-password-link"),function(){o.l()}),this.i&&(this.w(this.i),this.u().focus()),q.prototype.v.call(this)},Ou.prototype.o=function(){this.l=this.i=null,q.prototype.o.call(this)},ye(Ou.prototype,{u:Tn,B:yn,w:Dn});function xV(o,l,h,p,m){var v=h.u();v&&Ue(o,h.I(U(Ke(o).confirmPasswordReset,Ke(o)),[p,v],function(){h.m();var I=new NS(m);I.render(l),We(o,I)},function(I){YS(o,l,h,I)}))}function YS(o,l,h,p){(p&&p.code)=="auth/weak-password"?(o=bt(p),Qt(h.i(),!1),kn(h.w(),o),h.i().focus()):(h&&h.m(),h=new LS,h.render(l),We(o,h))}function kV(o,l,h){var p=new xu(h,function(){Ue(o,p.I(U(Ke(o).sendPasswordResetEmail,Ke(o)),[h],function(){p.m(),p=new fp(h,void 0,ln(K(o)),un(K(o))),p.render(l),We(o,p)},function(){p.a(DE().toString())}))});p.render(l),We(o,p)}function DV(o,l,h,p){var m=new Ou(p.factorId,function(){m.I(U(Ke(o).sendPasswordResetEmail,Ke(o)),[h],function(){m.m(),m=new fp(h,void 0,ln(K(o)),un(K(o))),m.render(l),We(o,m)},function(){m.a(DE().toString())})},p.phoneNumber);m.render(l),We(o,m)}ft.passwordReset=function(o,l,h,p){Ue(o,Ke(o).verifyPasswordResetCode(h).then(function(m){var v=new Du(m,function(){xV(o,l,v,h,p)});v.render(l),We(o,v)},function(){YS(o,l)}))},ft.emailChangeRevocation=function(o,l,h){var p=null;Ue(o,Ke(o).checkActionCode(h).then(function(m){return p=m.data.email,Ke(o).applyActionCode(h)}).then(function(){kV(o,l,p)},function(){var m=new VS;m.render(l),We(o,m)}))},ft.emailVerification=function(o,l,h,p){Ue(o,Ke(o).applyActionCode(h).then(function(){var m=new RS(p);m.render(l),We(o,m)},function(){var m=new xS;m.render(l),We(o,m)}))},ft.revertSecondFactorAddition=function(o,l,h){var p=null,m=null;Ue(o,Ke(o).checkActionCode(h).then(function(v){return p=v.data.email,m=v.data.multiFactorInfo,Ke(o).applyActionCode(h)}).then(function(){DV(o,l,p,m)},function(){var v=new OS;v.render(l),We(o,v)}))},ft.verifyAndChangeEmail=function(o,l,h,p){var m=null;Ue(o,Ke(o).checkActionCode(h).then(function(v){return m=v.data.email,Ke(o).applyActionCode(h)}).then(function(){var v=new kS(m,p);v.render(l),We(o,v)},function(){var v=new DS;v.render(l),We(o,v)}))};function bp(o,l){try{var h=typeof o.selectionStart=="number"}catch{h=!1}h?(o.selectionStart=l,o.selectionEnd=l):X&&!$o("9")&&(o.type=="textarea"&&(l=o.value.substring(0,l).replace(/(\r\n|\r|\n)/g,`
`).length),o=o.createTextRange(),o.collapse(!0),o.move("character",l),o.select())}function Mu(o,l,h,p,m,v){q.call(this,JT,{email:h},v,"emailLinkSignInConfirmation",{F:p,D:m}),this.l=o,this.u=l}c(Mu,q),Mu.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),bp(this.i(),(this.i().value||"").length),q.prototype.v.call(this)},Mu.prototype.o=function(){this.u=this.l=null,q.prototype.o.call(this)},ye(Mu.prototype,{i:rr,M:Xr,w:Cc,H:Pc,j:Rc,U:Tn,P:yn,B:Dn}),ft.emailLinkConfirmation=function(o,l,h,p,m,v){var I=new Mu(function(){var C=I.j();C?(I.m(),p(o,l,C,h)):I.i().focus()},function(){I.m(),Pt(o,l,m||void 0)},m||void 0,ln(K(o)),un(K(o)));I.render(l),We(o,I),v&&I.a(v)};function Nu(o,l,h,p,m){q.call(this,iS,{ga:o},m,"emailLinkSignInLinkingDifferentDevice",{F:h,D:p}),this.i=l}c(Nu,q),Nu.prototype.v=function(){this.u(this.i),this.l().focus(),q.prototype.v.call(this)},Nu.prototype.o=function(){this.i=null,q.prototype.o.call(this)},ye(Nu.prototype,{l:Tn,u:Dn}),ft.emailLinkNewDeviceLinking=function(o,l,h,p){var m=new tr(h);if(h=m.a.a.get(Gt.PROVIDER_ID)||null,gf(m,null),h){var v=new Nu(pu(K(o),h),function(){v.m(),p(o,l,m.toString())},ln(K(o)),un(K(o)));v.render(l),We(o,v)}else Pt(o,l)};function wp(o){q.call(this,YT,void 0,o,"blank")}c(wp,q);function d_(o,l,h,p,m){var v=new wp,I=new tr(h),C=I.a.a.get(Gt.$a)||"",F=I.a.a.get(Gt.Sa)||"",J=I.a.a.get(Gt.Qa)==="1",be=pf(I),vt=I.a.a.get(Gt.PROVIDER_ID)||null;I=I.a.a.get(Gt.vb)||null,cA(o,I);var os=!uc(lc,ke(o)),fA=p||JL(F,ke(o)),Gu=(p=ZL(F,ke(o)))&&p.a;vt&&Gu&&Gu.providerId!==vt&&(Gu=null),v.render(l),We(o,v),Ue(o,v.I(function(){var qi=Xt(null);qi=be&&os||os&&J?tc(Error("anonymous-user-not-found")):XV(o,h).then(function(I_){if(vt&&!Gu)throw Error("pending-credential-not-found");return I_});var Yu=null;return qi.then(function(I_){return Yu=I_,m?null:Ke(o).checkActionCode(C)}).then(function(){return Yu})},[],function(qi){fA?MV(o,v,fA,h,Gu,qi):J?(v.m(),ve("differentDeviceError",o,l)):(v.m(),ve("emailLinkConfirmation",o,l,h,XS))},function(qi){var Yu=void 0;if(!qi||!qi.name||qi.name!="cancel")switch(v.m(),qi&&qi.message){case"anonymous-user-not-found":ve("differentDeviceError",o,l);break;case"anonymous-user-mismatch":ve("anonymousUserMismatch",o,l);break;case"pending-credential-not-found":ve("emailLinkNewDeviceLinking",o,l,h,OV);break;default:qi&&(Yu=bt(qi)),Pt(o,l,void 0,Yu)}}))}function XS(o,l,h,p){d_(o,l,p,h,!0)}function OV(o,l,h){d_(o,l,h)}function MV(o,l,h,p,m,v){var I=Ft(l);l.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",lt("Signing in...").toString());var C=null;m=(v?QV(o,v,h,p,m):JV(o,h,p,m)).then(function(F){_i(du,ke(o)),_i(lc,ke(o)),l.h(),l.$("firebaseui-icon-done",lt("Signed in!").toString()),C=setTimeout(function(){l.h(),or(o,l,F,!0)},1e3),Ue(o,function(){l&&(l.h(),l.m()),clearTimeout(C)})},function(F){if(l.h(),l.m(),!F.name||F.name!="cancel"){F=Su(F);var J=bt(F);F.code=="auth/email-already-in-use"||F.code=="auth/credential-already-in-use"?(_i(du,ke(o)),_i(lc,ke(o))):F.code=="auth/invalid-email"?(J=lt("The email provided does not match the current sign-in session.").toString(),ve("emailLinkConfirmation",o,I,p,XS,null,J)):Pt(o,I,h,J)}}),Ue(o,m)}ft.emailLinkSignInCallback=d_;function Lu(o,l,h,p,m,v){q.call(this,nS,{email:o,ga:l},v,"emailLinkSignInLinking",{F:p,D:m}),this.i=h}c(Lu,q),Lu.prototype.v=function(){this.u(this.i),this.l().focus(),q.prototype.v.call(this)},Lu.prototype.o=function(){this.i=null,q.prototype.o.call(this)},ye(Lu.prototype,{l:Tn,u:Dn});function NV(o,l,h,p){var m=Ft(l);l_(o,l,h,function(){Pt(o,m,h)},function(v){if(!v.name||v.name!="cancel"){var I=bt(v);v&&v.code=="auth/network-request-failed"?l.a(I):(l.m(),Pt(o,m,h,I))}},p)}ft.emailLinkSignInLinking=function(o,l,h){var p=Is(ke(o));if(Ts(ke(o)),p){var m=p.a.providerId,v=new Lu(h,pu(K(o),m),function(){NV(o,v,h,p)},ln(K(o)),un(K(o)));v.render(l),We(o,v)}else Pt(o,l)};function Vu(o,l,h,p,m,v){q.call(this,XT,{email:o},v,"emailLinkSignInSent",{F:p,D:m}),this.u=l,this.i=h}c(Vu,q),Vu.prototype.v=function(){var o=this;Ht(this,this.l(),function(){o.i()}),Ht(this,tt(this,"firebaseui-id-trouble-getting-email-link"),function(){o.u()}),this.l().focus(),q.prototype.v.call(this)},Vu.prototype.o=function(){this.i=this.u=null,q.prototype.o.call(this)},ye(Vu.prototype,{l:yn}),ft.emailLinkSignInSent=function(o,l,h,p,m){var v=new Vu(h,function(){v.m(),ve("emailNotReceived",o,l,h,p,m)},function(){v.m(),p()},ln(K(o)),un(K(o)));v.render(l),We(o,v)};function Fu(o,l,h,p,m,v,I){q.call(this,bS,{jc:o,Qb:l},I,"emailMismatch",{F:m,D:v}),this.l=h,this.i=p}c(Fu,q),Fu.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),q.prototype.v.call(this)},Fu.prototype.o=function(){this.i=null,q.prototype.o.call(this)},ye(Fu.prototype,{u:Tn,B:yn,w:Dn}),ft.emailMismatch=function(o,l,h){var p=Is(ke(o));if(p){var m=new Fu(h.user.email,p.g,function(){var v=m;Ts(ke(o)),or(o,v,h)},function(){var v=h.credential.providerId,I=Ft(m);m.m(),p.a?ve("federatedLinking",o,I,p.g,v):ve("federatedSignIn",o,I,p.g,v)},ln(K(o)),un(K(o)));m.render(l),We(o,m)}else Pt(o,l)};function xc(o,l,h,p,m){q.call(this,QT,void 0,m,"emailNotReceived",{F:h,D:p}),this.l=o,this.i=l}c(xc,q),xc.prototype.v=function(){var o=this;Ht(this,this.u(),function(){o.i()}),Ht(this,this.Da(),function(){o.l()}),this.u().focus(),q.prototype.v.call(this)},xc.prototype.Da=function(){return tt(this,"firebaseui-id-resend-email-link")},xc.prototype.o=function(){this.i=this.l=null,q.prototype.o.call(this)},ye(xc.prototype,{u:yn}),ft.emailNotReceived=function(o,l,h,p,m){var v=new xc(function(){l_(o,v,h,p,function(I){I=bt(I),v.a(I)},m)},function(){v.m(),Pt(o,l,h)},ln(K(o)),un(K(o)));v.render(l),We(o,v)};function kc(o,l,h,p,m,v){q.call(this,sS,{email:o,ga:l},v,"federatedLinking",{F:p,D:m}),this.i=h}c(kc,q),kc.prototype.v=function(){this.u(this.i),this.l().focus(),q.prototype.v.call(this)},kc.prototype.o=function(){this.i=null,q.prototype.o.call(this)},ye(kc.prototype,{l:Tn,u:Dn}),ft.federatedLinking=function(o,l,h,p,m){var v=Is(ke(o));if(v&&v.a){var I=new kc(h,pu(K(o),p),function(){Au(o,I,p,h)},ln(K(o)),un(K(o)));I.render(l),We(o,I),m&&I.a(m)}else Pt(o,l)},ft.federatedRedirect=function(o,l,h){var p=new wp;p.render(l),We(o,p),l=fc(K(o))[0],Au(o,p,l,h)},ft.federatedSignIn=function(o,l,h,p,m){var v=new kc(h,pu(K(o),p),function(){Au(o,v,p,h)},ln(K(o)),un(K(o)));v.render(l),We(o,v),m&&v.a(m)};function LV(o,l,h,p){var m=l.u();m?Ue(o,l.I(U(o.Xb,o),[h,m],function(v){return v=v.user.linkWithCredential(p).then(function(I){return or(o,l,{user:I.user,credential:p,operationType:I.operationType,additionalUserInfo:I.additionalUserInfo})}),Ue(o,v),v},function(v){if(!v.name||v.name!="cancel")switch(v.code){case"auth/wrong-password":Qt(l.i(),!1),kn(l.B(),bt(v));break;case"auth/too-many-requests":l.a(bt(v));break;default:Di("signInWithEmailAndPassword: "+v.message,void 0),l.a(bt(v))}})):l.i().focus()}ft.passwordLinking=function(o,l,h){var p=Is(ke(o));Ts(ke(o));var m=p&&p.a;if(m){var v=new Ac(h,function(){LV(o,v,h,m)},function(){v.m(),ve("passwordRecovery",o,l,h)},ln(K(o)),un(K(o)));v.render(l),We(o,v)}else Pt(o,l)};function Uu(o,l,h,p,m,v){q.call(this,WT,{email:h,Ta:!!l},v,"passwordRecovery",{F:p,D:m}),this.l=o,this.u=l}c(Uu,q),Uu.prototype.v=function(){this.B(),this.H(this.l,this.u),xn(this.i())||this.i().focus(),Sc(this,this.i(),this.l),q.prototype.v.call(this)},Uu.prototype.o=function(){this.u=this.l=null,q.prototype.o.call(this)},ye(Uu.prototype,{i:rr,w:Xr,B:Cc,M:Pc,j:Rc,U:Tn,P:yn,H:Dn});function VV(o,l){var h=l.j();if(h){var p=Ft(l);Ue(o,l.I(U(Ke(o).sendPasswordResetEmail,Ke(o)),[h],function(){l.m();var m=new fp(h,function(){m.m(),Pt(o,p)},ln(K(o)),un(K(o)));m.render(p),We(o,m)},function(m){Qt(l.i(),!1),kn(l.w(),bt(m))}))}else l.i().focus()}ft.passwordRecovery=function(o,l,h,p,m){var v=new Uu(function(){VV(o,v)},p?void 0:function(){v.m(),Pt(o,l)},h,ln(K(o)),un(K(o)));v.render(l),We(o,v),m&&v.a(m)},ft.passwordSignIn=function(o,l,h,p){var m=new Tu(function(){AV(o,m)},function(){var v=m.M();m.m(),ve("passwordRecovery",o,l,v)},h,ln(K(o)),un(K(o)),p);m.render(l),We(o,m)};function f_(){return tt(this,"firebaseui-id-name")}function p_(){return tt(this,"firebaseui-id-name-error")}function Bu(o,l,h,p,m,v,I,C,F){q.call(this,zT,{email:p,Tb:o,name:m,Ta:!!h,ia:!!C},F,"passwordSignUp",{F:v,D:I}),this.w=l,this.H=h,this.B=o}c(Bu,q),Bu.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(Iu(this,this.i(),this.u()),Iu(this,this.u(),this.l())):Iu(this,this.i(),this.l()),this.w&&Sc(this,this.l(),this.w),xn(this.i())?this.B&&!xn(this.u())?this.u().focus():this.l().focus():this.i().focus(),q.prototype.v.call(this)},Bu.prototype.o=function(){this.H=this.w=null,q.prototype.o.call(this)},ye(Bu.prototype,{i:rr,U:Xr,ea:Cc,jb:Pc,j:Rc,u:f_,Bc:p_,Ja:function(){var o=f_.call(this),l=p_.call(this);wc(this,o,function(){Ec(l)&&(Qt(o,!0),Mi(l))})},M:function(){var o=f_.call(this),l=p_.call(this),h=xn(o);return h=!/^[\s\xa0]*$/.test(h==null?"":String(h)),Qt(o,h),h?(Mi(l),l=!0):(kn(l,lt("Enter your account name").toString()),l=!1),l?L(xn(o)):null},l:ku,ba:_p,lb:vp,ua:KS,P:GS,Nb:Tn,Mb:yn,pa:Dn});function FV(o,l){var h=oT(K(o)),p=l.j(),m=null;h&&(m=l.M());var v=l.P();if(p){if(h)if(m)m=we(m);else{l.u().focus();return}if(v){var I=Ee.auth.EmailAuthProvider.credential(p,v);Ue(o,l.I(U(o.Yb,o),[p,v],function(C){var F={user:C.user,credential:I,operationType:C.operationType,additionalUserInfo:C.additionalUserInfo};return h?(C=C.user.updateProfile({displayName:m}).then(function(){return or(o,l,F)}),Ue(o,C),C):or(o,l,F)},function(C){if(!C.name||C.name!="cancel"){var F=Su(C);switch(C=bt(F),F.code){case"auth/email-already-in-use":return UV(o,l,p,F);case"auth/too-many-requests":C=lt("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":Qt(l.l(),!1),kn(l.ba(),C);break;case"auth/admin-restricted-operation":Zo(K(o))?(C=Ft(l),l.m(),ve("handleUnauthorizedUser",o,C,p,Ee.auth.EmailAuthProvider.PROVIDER_ID)):l.a(C);break;default:F="setAccountInfo: "+LI(F),Di(F,void 0),l.a(C)}}}))}else l.l().focus()}else l.i().focus()}function UV(o,l,h,p){function m(){var I=bt(p);Qt(l.i(),!1),kn(l.U(),I),l.i().focus()}var v=Ke(o).fetchSignInMethodsForEmail(h).then(function(I){I.length?m():(I=Ft(l),l.m(),ve("passwordRecovery",o,I,h,!1,ME().toString()))},function(){m()});return Ue(o,v),v}ft.passwordSignUp=function(o,l,h,p,m,v){function I(){C.m(),Pt(o,l)}var C=new Bu(oT(K(o)),function(){FV(o,C)},m?void 0:I,h,p,ln(K(o)),un(K(o)),v);C.render(l),We(o,C)};function g_(){return tt(this,"firebaseui-id-phone-confirmation-code")}function QS(){return tt(this,"firebaseui-id-phone-confirmation-code-error")}function JS(){return tt(this,"firebaseui-id-resend-countdown")}function Dc(o,l,h,p,m,v,I,C,F){q.call(this,IS,{phoneNumber:m},F,"phoneSignInFinish",{F:I,D:C}),this.jb=v,this.i=new rp(1e3),this.B=v,this.P=o,this.l=l,this.H=h,this.M=p}c(Dc,q),Dc.prototype.v=function(){var o=this;this.U(this.jb),ns(this.i,"tick",this.w,!1,this),this.i.start(),Ht(this,tt(this,"firebaseui-id-change-phone-number-link"),function(){o.P()}),Ht(this,this.Da(),function(){o.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),q.prototype.v.call(this)},Dc.prototype.o=function(){this.M=this.H=this.l=this.P=null,op(this.i),Ko(this.i,"tick",this.w),this.i=null,q.prototype.o.call(this)},Dc.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(op(this.i),Ko(this.i,"tick",this.w),this.ua(),this.lb())},ye(Dc.prototype,{u:g_,pa:QS,Ja:function(o){var l=g_.call(this),h=QS.call(this);wc(this,l,function(){Ec(h)&&(Qt(l,!0),Mi(h))}),o&&Eu(this,l,function(){o()})},ba:function(){var o=L(xn(g_.call(this))||"");return/^\d{6}$/.test(o)?o:null},Fb:JS,U:function(o){sv(JS.call(this),lt("Resend code in "+((9<o?"0:":"0:0")+o)).toString())},ua:function(){Mi(this.Fb())},Da:function(){return tt(this,"firebaseui-id-resend-link")},lb:function(){kn(this.Da())},Nb:Tn,Mb:yn,ea:Dn});function BV(o,l,h,p){function m(I){l.u().focus(),Qt(l.u(),!1),kn(l.pa(),I)}var v=l.ba();v?(l.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",lt("Verifying...").toString()),Ue(o,l.I(U(p.confirm,p),[v],function(I){l.h(),l.$("firebaseui-icon-done",lt("Verified!").toString());var C=setTimeout(function(){l.h(),l.m();var F={user:ss(o).currentUser,credential:null,operationType:I.operationType,additionalUserInfo:I.additionalUserInfo};or(o,l,F,!0)},1e3);Ue(o,function(){l&&l.h(),clearTimeout(C)})},function(I){if(I.name&&I.name=="cancel")l.h();else{var C=Su(I);switch(I=bt(C),C.code){case"auth/credential-already-in-use":l.h();break;case"auth/code-expired":C=Ft(l),l.h(),l.m(),ve("phoneSignInStart",o,C,h,I);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":l.h(),m(I);break;default:l.h(),l.a(I)}}}))):m(lt("Wrong code. Try again.").toString())}ft.phoneSignInFinish=function(o,l,h,p,m,v){var I=new Dc(function(){I.m(),ve("phoneSignInStart",o,l,h)},function(){BV(o,I,h,m)},function(){I.m(),Pt(o,l)},function(){I.m(),ve("phoneSignInStart",o,l,h)},Wv(h),p,ln(K(o)),un(K(o)));I.render(l),We(o,I),v&&I.a(v)};var jV=!X&&!(ze("Safari")&&!(yf()||ze("Coast")||ze("Opera")||ze("Edge")||ze("Firefox")||ze("FxiOS")||ze("Silk")||ze("Android")));function Ep(o,l){return/-[a-z]/.test(l)?null:jV&&o.dataset?!ze("Android")||yf()||ze("Firefox")||ze("FxiOS")||ze("Opera")||ze("Silk")||l in o.dataset?(o=o.dataset[l],o===void 0?null:o):null:o.getAttribute("data-"+String(l).replace(/([A-Z])/g,"-$1").toLowerCase())}function $V(o,l,h){var p=this;o=Jl(LT,{items:o},null,this.s),FT.call(this,o,!0,!0),h&&(h=HV(o,h))&&(h.focus(),mV(h,o)),Ht(this,o,function(m){(m=(m=CE(m.target,"firebaseui-id-list-box-dialog-button"))&&Ep(m,"listboxid"))&&(up.call(p),l(m))})}function HV(o,l){o=(o||document).getElementsByTagName("BUTTON");for(var h=0;h<o.length;h++)if(Ep(o[h],"listboxid")===l)return o[h];return null}function ta(){return tt(this,"firebaseui-id-phone-number")}function ZS(){return tt(this,"firebaseui-id-country-selector")}function m_(){return tt(this,"firebaseui-id-phone-number-error")}function zV(o,l){var h=o.a,p=y_("1-US-0",h),m=null;if(l&&y_(l,h)?m=l:p?m="1-US-0":m=0<h.length?h[0].c:null,!m)throw Error("No available default country");Ip.call(this,m,o)}function y_(o,l){return o=Jo(o),!(!o||!B(l,o))}function WV(o){return o.map(function(l){return{id:l.c,Ma:"firebaseui-flag "+v_(l),label:l.name+" "+("+"+l.b)}})}function v_(o){return"firebaseui-flag-"+o.f}function qV(o){var l=this;$V.call(this,WV(o.a),function(h){Ip.call(l,h,o,!0),l.O().focus()},this.Ba)}function Ip(o,l,h){var p=Jo(o);p&&(h&&(h=L(xn(ta.call(this))||""),l=ep(l,h),l.length&&l[0].b!=p.b&&(h="+"+p.b+h.substr(l[0].b.length+1),dT(ta.call(this),h))),l=Jo(this.Ba),this.Ba=o,o=tt(this,"firebaseui-id-country-selector-flag"),l&&As(o,v_(l)),Ss(o,v_(p)),sv(tt(this,"firebaseui-id-country-selector-code"),"+"+p.b))}function ju(o,l,h,p,m,v,I,C,F,J){q.call(this,ES,{Gb:l,Aa:F||null,Va:!!h,ia:!!v},J,"phoneSignInStart",{F:p,D:m}),this.H=C||null,this.M=l,this.l=o,this.w=h||null,this.pa=I||null}c(ju,q),ju.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||Iu(this,this.O(),this.i()),Sc(this,this.i(),this.l),this.O().focus(),bp(this.O(),(this.O().value||"").length),q.prototype.v.call(this)},ju.prototype.o=function(){this.w=this.l=null,q.prototype.o.call(this)},ye(ju.prototype,{Cb:a_,O:ta,B:m_,ea:function(o,l,h){var p=this,m=ta.call(this),v=ZS.call(this),I=m_.call(this),C=o||fu,F=C.a;if(F.length==0)throw Error("No available countries provided.");zV.call(p,C,l),Ht(this,v,function(){qV.call(p,C)}),wc(this,m,function(){Ec(I)&&(Qt(m,!0),Mi(I));var J=L(xn(m)||""),be=Jo(this.Ba),vt=ep(C,J);J=y_("1-US-0",F),vt.length&&vt[0].b!=be.b&&(be=vt[0],Ip.call(p,be.b=="1"&&J?"1-US-0":be.c,C))}),h&&Eu(this,m,function(){h()})},U:function(o){var l=L(xn(ta.call(this))||"");o=o||fu;var h=o.a,p=ep(fu,l);if(p.length&&!B(h,p[0]))throw dT(ta.call(this)),ta.call(this).focus(),kn(m_.call(this),lt("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return h=Jo(this.Ba),p.length&&p[0].b!=h.b&&Ip.call(this,p[0].c,o),p.length&&(l=l.substr(p[0].b.length+1)),l?new XI(this.Ba,l):null},Ja:ZS,ba:function(){return tt(this,"firebaseui-recaptcha-container")},u:function(){return tt(this,"firebaseui-id-recaptcha-error")},i:Tn,ua:yn,P:Dn});function eA(o,l,h,p){try{var m=l.U(Zv)}catch{return}m?mu?(l.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",lt("Verifying...").toString()),Ue(o,l.I(U(o.cc,o),[Wv(m),h],function(v){var I=Ft(l);l.$("firebaseui-icon-done",lt("Code sent!").toString());var C=setTimeout(function(){l.h(),l.m(),ve("phoneSignInFinish",o,I,m,15,v)},1e3);Ue(o,function(){l&&l.h(),clearTimeout(C)})},function(v){if(l.h(),!v.name||v.name!="cancel"){grecaptcha.reset(uT),mu=null;var I=v&&v.message||"";if(v.code)switch(v.code){case"auth/too-many-requests":I=lt("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":l.O().focus(),kn(l.B(),cv().toString());return;case"auth/admin-restricted-operation":if(Zo(K(o))){v=Ft(l),l.m(),ve("handleUnauthorizedUser",o,v,Wv(m),Ee.auth.PhoneAuthProvider.PROVIDER_ID);return}I=bt(v);break;default:I=bt(v)}l.a(I)}}))):gc?kn(l.u(),lt("Solve the reCAPTCHA").toString()):!gc&&p&&l.i().click():(l.O().focus(),kn(l.B(),cv().toString()))}ft.phoneSignInStart=function(o,l,h,p){var m=nV(K(o))||{};mu=null,gc=!(m&&m.size==="invisible");var v=jS(o),I=cV(K(o)),C=v?aV(K(o)):null;I=h&&h.a||I&&I.c||null,h=h&&h.Aa||C,(C=qv(K(o)))&&YI(C),Zv=C?new qI(qv(K(o))):fu;var F=new ju(function(be){eA(o,F,J,!(!be||!be.keyCode))},gc,v?null:function(){J.clear(),F.m(),Pt(o,l)},ln(K(o)),un(K(o)),v,Zv,I,h);F.render(l),We(o,F),p&&F.a(p),m.callback=function(be){F.u()&&Mi(F.u()),mu=be,gc||eA(o,F,J)},m["expired-callback"]=function(){mu=null};var J=new Ee.auth.RecaptchaVerifier(gc?F.ba():F.i(),m,ss(o).app);Ue(o,F.I(U(J.render,J),[],function(be){uT=be},function(be){be.name&&be.name=="cancel"||(be=bt(be),F.m(),Pt(o,l,void 0,be))}))},ft.prefilledEmailSignIn=function(o,l,h){var p=new wp;p.render(l),We(o,p),Ue(o,p.I(U(Ke(o).fetchSignInMethodsForEmail,Ke(o)),[h],function(m){p.m();var v=!(!gp(o)||!iA(o));HS(o,l,m,h,void 0,v)},function(m){m=bt(m),p.m(),ve("signIn",o,l,h,m)}))};function $u(o,l,h,p,m){q.call(this,wS,{Sb:l},m,"providerSignIn",{F:h,D:p}),this.i=o}c($u,q),$u.prototype.v=function(){this.l(this.i),q.prototype.v.call(this)},$u.prototype.o=function(){this.i=null,q.prototype.o.call(this)},ye($u.prototype,{l:function(o){function l(I){o(I)}for(var h=this.g?nv("firebaseui-id-idp-button",this.g||this.s.a):[],p=0;p<h.length;p++){var m=h[p],v=Ep(m,"providerId");Ht(this,m,me(l,v))}}}),ft.providerSignIn=function(o,l,h,p){var m=new $u(function(v){v==Ee.auth.EmailAuthProvider.PROVIDER_ID?(m.m(),u_(o,l,p)):v==Ee.auth.PhoneAuthProvider.PROVIDER_ID?(m.m(),ve("phoneSignInStart",o,l)):v=="anonymous"?TV(o,m):Au(o,m,v,p),nt(o),o.l.cancel()},eT(K(o)),ln(K(o)),un(K(o)));m.render(l),We(o,m),h&&m.a(h),YV(o)},ft.sendEmailLinkForSignIn=function(o,l,h,p){var m=new mp;m.render(l),We(o,m),l_(o,m,h,p,function(v){m.m(),v&&v.code=="auth/admin-restricted-operation"&&Zo(K(o))?ve("handleUnauthorizedUser",o,l,h,Ee.auth.EmailAuthProvider.PROVIDER_ID):(v=bt(v),ve("signIn",o,l,h,v))})};function Hu(o,l,h,p,m,v,I){q.call(this,$T,{email:h,Va:!!l,ia:!!v},I,"signIn",{F:p,D:m}),this.i=o,this.u=l}c(Hu,q),Hu.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),bp(this.l(),(this.l().value||"").length),q.prototype.v.call(this)},Hu.prototype.o=function(){this.u=this.i=null,q.prototype.o.call(this)},ye(Hu.prototype,{l:rr,M:Xr,w:Cc,H:Pc,j:Rc,U:Tn,P:yn,B:Dn}),ft.signIn=function(o,l,h,p){var m=gp(o),v=new Hu(function(){var I=v,C=I.j()||"";C&&$S(o,I,C)},m?null:function(){v.m(),Pt(o,l,h)},h,ln(K(o)),un(K(o)),m);v.render(l),We(o,v),p&&v.a(p)};function zu(o,l,h,p,m,v,I){q.call(this,rS,{kc:o,yb:h,Eb:!!p},I,"unauthorizedUser",{F:m,D:v}),this.l=l,this.i=p}c(zu,q),zu.prototype.v=function(){var o=this,l=tt(this,"firebaseui-id-unauthorized-user-help-link");this.i&&l&&Ht(this,l,function(){o.i()}),Ht(this,this.u(),function(){o.l()}),this.u().focus(),q.prototype.v.call(this)},zu.prototype.o=function(){this.i=this.l=null,q.prototype.o.call(this)},ye(zu.prototype,{u:yn}),ft.handleUnauthorizedUser=function(o,l,h,p){function m(){Pt(o,l)}p===Ee.auth.EmailAuthProvider.PROVIDER_ID?m=function(){u_(o,l)}:p===Ee.auth.PhoneAuthProvider.PROVIDER_ID&&(m=function(){ve("phoneSignInStart",o,l)});var v=null,I=null;p===Ee.auth.EmailAuthProvider.PROVIDER_ID&&nT(K(o))?(v=rV(K(o)),I=oV(K(o))):Zo(K(o))&&(v=iV(K(o)),I=sV(K(o)));var C=new zu(h,function(){C.m(),m()},v,I,ln(K(o)),un(K(o)));C.render(l),We(o,C)};function Wu(o,l,h,p,m,v){q.call(this,oS,{email:o},v,"unsupportedProvider",{F:p,D:m}),this.l=l,this.i=h}c(Wu,q),Wu.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),q.prototype.v.call(this)},Wu.prototype.o=function(){this.i=this.l=null,q.prototype.o.call(this)},ye(Wu.prototype,{u:Tn,B:yn,w:Dn}),ft.unsupportedProvider=function(o,l,h){var p=new Wu(h,function(){p.m(),ve("passwordRecovery",o,l,h)},function(){p.m(),Pt(o,l,h)},ln(K(o)),un(K(o)));p.render(l),We(o,p)};function Cs(o,l){this.$=!1;var h=__(l);if(qu[h])throw Error('An AuthUI instance already exists for the key "'+h+'"');qu[h]=this,this.a=o,this.u=null,this.Y=!1,tA(this.a),this.h=Ee.initializeApp({apiKey:o.app.options.apiKey,authDomain:o.app.options.authDomain},o.app.name+"-firebaseui-temp").auth(),(o=o.emulatorConfig)&&(h=o.port,this.h.useEmulator(o.protocol+"://"+o.host+(h===null?"":":"+h),o.options)),tA(this.h),this.h.setPersistence&&this.h.setPersistence(Ee.auth.Auth.Persistence.SESSION),this.oa=l,this.ca=new tV,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=Tv.Xa(),this.j=this.C=null,this.da=this.A=!1}function tA(o){o&&o.INTERNAL&&o.INTERNAL.logFramework&&o.INTERNAL.logFramework("FirebaseUI-web")}var qu={};function __(o){return o||"[DEFAULT]"}function nA(o){return nt(o),o.i||(o.i=ar(o,function(l){return l&&!Is(ke(o))?Xt(ss(o).getRedirectResult().then(function(h){return h},function(h){if(h&&h.code=="auth/email-already-in-use"&&h.email&&h.credential)throw h;return Jr(o,h)})):Xt(Ke(o).getRedirectResult().then(function(h){return tp(K(o))&&!h.user&&o.j&&!o.j.isAnonymous?ss(o).getRedirectResult():h}))})),o.i}function We(o,l){nt(o),o.g=l}var Oc=null;function Ke(o){return nt(o),o.h}function ss(o){return nt(o),o.a}function ke(o){return nt(o),o.oa}function iA(o){return nt(o),o.O?o.O.emailHint:void 0}t=Cs.prototype,t.nb=function(){return nt(this),!!Bv(ke(this))||sA(sr())};function sA(o){return o=new tr(o),(o.a.a.get(Gt.ub)||null)==="signIn"&&!!o.a.a.get(Gt.$a)}t.start=function(o,l){rA(this,o,l)};function rA(o,l,h,p){nt(o),typeof o.a.languageCode<"u"&&(o.u=o.a.languageCode);var m="en".replace(/_/g,"-");o.a.languageCode=m,o.h.languageCode=m,o.Y=!0,typeof o.a.tenantId<"u"&&(o.h.tenantId=o.a.tenantId),o.ib(h),o.O=p||null;var v=g.document;o.C?o.C.then(function(){v.readyState=="complete"?Tp(o,l):iu(window,"load",function(){Tp(o,l)})}):v.readyState=="complete"?Tp(o,l):iu(window,"load",function(){Tp(o,l)})}function Tp(o,l){var h=Of(l,"Could not find the FirebaseUI widget element on the page.");if(h.setAttribute("lang","en".replace(/_/g,"-")),Oc){var p=Oc;nt(p),Is(ke(p))&&Gr("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),Oc.reset()}if(Oc=o,o.T=h,GV(o,h),Zf(new Lv)&&Zf(new Vv)){l=Of(l,"Could not find the FirebaseUI widget element on the page."),h=sr(),p=Hv(K(o).a,"queryParameterForSignInSuccessUrl"),h=(h=Qa(h,p))?jr(_f(h)).toString():null;e:{p=sr();var m=rT(K(o));p=Qa(p,m)||"";for(v in Jv)if(Jv[v].toLowerCase()==p.toLowerCase()){var v=Jv[v];break e}v="callback"}switch(v){case"callback":h&&(v=ke(o),hc(hu,h,v)),o.nb()?ve("callback",o,l):Pt(o,l,iA(o));break;case"resetPassword":ve("passwordReset",o,l,Cu(),h_());break;case"recoverEmail":ve("emailChangeRevocation",o,l,Cu());break;case"revertSecondFactorAddition":ve("revertSecondFactorAddition",o,l,Cu());break;case"verifyEmail":ve("emailVerification",o,l,Cu(),h_());break;case"verifyAndChangeEmail":ve("verifyAndChangeEmail",o,l,Cu(),h_());break;case"signIn":ve("emailLinkSignInCallback",o,l,sr()),lA();break;case"select":h&&(v=ke(o),hc(hu,h,v)),Pt(o,l);break;default:throw Error("Unhandled widget operation.")}l=K(o),(l=gu(l).uiShown||null)&&l()}else l=Of(l,"Could not find the FirebaseUI widget element on the page."),v=new US(lt("The browser you are using does not support Web Storage. Please try again in a different browser.").toString()),v.render(l),We(o,v);l=o.g&&o.g.Ga=="blank"&&Kv(K(o)),Bv(ke(o))&&!l&&(l=Bv(ke(o)),cA(o,l.a),_i(Qo,ke(o)))}function ar(o,l){if(o.A)return l(oA(o));if(Ue(o,function(){o.A=!1}),tp(K(o))){var h=new mn(function(p){Ue(o,o.a.onAuthStateChanged(function(m){o.j=m,o.A||(o.A=!0,p(l(oA(o))))}))});return Ue(o,h),h}return o.A=!0,l(null)}function oA(o){return nt(o),tp(K(o))&&o.j&&o.j.isAnonymous?o.j:null}function Ue(o,l){if(nt(o),l){o.s.push(l);var h=function(){rt(o.s,function(p){return p==l})};typeof l!="function"&&l.then(h,h)}}t.Db=function(){nt(this),this.Z=!0};function KV(o){nt(o);var l;return(l=o.Z)||(o=K(o),o=sT(o,Ee.auth.GoogleAuthProvider.PROVIDER_ID),l=!(!o||o.prompt!=="select_account")),l}function aA(o){typeof o.a.languageCode<"u"&&o.Y&&(o.Y=!1,o.a.languageCode=o.u)}function cA(o,l){o.a.tenantId=l,o.h.tenantId=l}t.reset=function(){nt(this);var o=this;this.T&&this.T.removeAttribute("lang"),this.J&&PL(this.J),aA(this),this.O=null,lA(),_i(Qo,ke(this)),nt(this),this.l.cancel(),this.i=Xt({user:null,credential:null}),Oc==this&&(Oc=null),this.T=null;for(var l=0;l<this.s.length;l++)typeof this.s[l]=="function"?this.s[l]():this.s[l].cancel&&this.s[l].cancel();this.s=[],Ts(ke(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=Qr(this).then(function(){o.C=null},function(){o.C=null}))};function GV(o,l){o.L=null,o.J=new kf(l),o.J.register(),ns(o.J,"pageEnter",function(h){if(h=h&&h.pageId,o.L!=h){var p=K(o);(p=gu(p).uiChanged||null)&&p(o.L,h),o.L=h}})}t.ib=function(o){nt(this);var l=this.ca,h;for(h in o)try{$v(l.a,h,o[h])}catch{Di('Invalid config: "'+h+'"',void 0)}Gl&&$v(l.a,"popupMode",!1),qv(l),!this.da&&Gv(K(this))&&(Gr("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)};function K(o){return nt(o),o.ca}t.Wb=function(){nt(this);var o=K(this),l=Hv(o.a,"widgetUrl");o=rT(o);for(var h=l.search(cf),p=0,m,v=[];0<=(m=af(l,p,o,h));)v.push(l.substring(p,m)),p=Math.min(l.indexOf("&",m)+1||h,h);v.push(l.substr(p)),l=v.join("").replace(Ky,"$1"),h="="+encodeURIComponent("select"),(o+=h)?(h=l.indexOf("#"),0>h&&(h=l.length),p=l.indexOf("?"),0>p||p>h?(p=h,m=""):m=l.substring(p+1,h),l=[l.substr(0,p),m,l.substr(h)],h=l[1],l[1]=o?h?h+"&"+o:o:h,h=l[0]+(l[1]?"?"+l[1]:"")+l[2]):h=l,K(this).a.get("popupMode")?(o=(window.screen.availHeight-600)/2,l=(window.screen.availWidth-500)/2,h=h||"about:blank",o={width:500,height:600,top:0<o?o:0,left:0<l?l:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},o.target=o.target||h.target||"google_popup",o.width=o.width||690,o.height=o.height||500,(o=oI(h,o))&&o.focus()):ec(window.location,h)};function nt(o){if(o.$)throw Error("AuthUI instance is deleted!")}t.Wa=function(){var o=this;return nt(this),this.h.app.delete().then(function(){var l=__(ke(o));delete qu[l],o.reset(),o.$=!0})};function YV(o){nt(o);try{dI(o.l,tT(K(o)),KV(o)).then(function(l){return o.g?SV(o,o.g,l):!1})}catch{}}t.Ib=function(o,l){nt(this);var h=this,p=NL();if(!pc(K(this)))return tc(Error("Email link sign-in should be enabled to trigger email sending."));var m=uV(K(this)),v=new tr(m.url);return Xy(v,p),l&&l.a&&(eV(p,l,ke(this)),gf(v,l.a.providerId)),Wl(v,lV(K(this))),ar(this,function(I){return I&&((I=I.uid)?v.a.a.set(Gt.Pa,I):fn(v.a.a,Gt.Pa)),m.url=v.toString(),Ke(h).sendSignInLinkToEmail(o,m)}).then(function(){var I=ke(h),C={};C.email=o,hc(lc,OI(p,JSON.stringify(C)),I)},function(I){throw _i(du,ke(h)),_i(lc,ke(h)),I})};function XV(o,l){var h=pf(new tr(l));return h?(l=new mn(function(p,m){var v=ss(o).onAuthStateChanged(function(I){v(),I&&I.isAnonymous&&I.uid===h?p(I):I&&I.isAnonymous&&I.uid!==h?m(Error("anonymous-user-mismatch")):m(Error("anonymous-user-not-found"))});Ue(o,v)}),Ue(o,l),l):Xt(null)}function QV(o,l,h,p,m){nt(o);var v=m||null,I=Ee.auth.EmailAuthProvider.credentialWithLink(h,p);return h=v?Ke(o).signInWithEmailLink(h,p).then(function(C){return C.user.linkWithCredential(v)}).then(function(){return Qr(o)}).then(function(){return Jr(o,{code:"auth/email-already-in-use"},v)}):Ke(o).fetchSignInMethodsForEmail(h).then(function(C){return C.length?Jr(o,{code:"auth/email-already-in-use"},I):l.linkWithCredential(I)}),Ue(o,h),h}function JV(o,l,h,p){nt(o);var m=p||null,v;return l=Ke(o).signInWithEmailLink(l,h).then(function(I){if(v={user:I.user,credential:null,operationType:I.operationType,additionalUserInfo:I.additionalUserInfo},m)return I.user.linkWithCredential(m).then(function(C){v={user:C.user,credential:m,operationType:v.operationType,additionalUserInfo:C.additionalUserInfo}})}).then(function(){Qr(o)}).then(function(){return ss(o).updateCurrentUser(v.user)}).then(function(){return v.user=ss(o).currentUser,v}),Ue(o,l),l}function lA(){var o=sr();if(sA(o)){o=new tr(o);for(var l in Gt)Gt.hasOwnProperty(l)&&fn(o.a.a,Gt[l]);l={state:"signIn",mode:"emailLink",operation:"clear"};var h=g.document.title;g.history&&g.history.replaceState&&g.history.replaceState(l,h,o.toString())}}t.bc=function(o,l){nt(this);var h=this;return Ke(this).signInWithEmailAndPassword(o,l).then(function(p){return ar(h,function(m){return m?Qr(h).then(function(){return Jr(h,{code:"auth/email-already-in-use"},Ee.auth.EmailAuthProvider.credential(o,l))}):p})})},t.Yb=function(o,l){nt(this);var h=this;return ar(this,function(p){if(p){var m=Ee.auth.EmailAuthProvider.credential(o,l);return p.linkWithCredential(m)}return Ke(h).createUserWithEmailAndPassword(o,l)})},t.ac=function(o){nt(this);var l=this;return ar(this,function(h){return h?h.linkWithCredential(o).then(function(p){return p},function(p){if(p&&p.code=="auth/email-already-in-use"&&p.email&&p.credential)throw p;return Jr(l,p,o)}):Ke(l).signInWithCredential(o)})};function ZV(o,l){return nt(o),ar(o,function(h){return h&&!Is(ke(o))?h.linkWithPopup(l).then(function(p){return p},function(p){if(p&&p.code=="auth/email-already-in-use"&&p.email&&p.credential)throw p;return Jr(o,p)}):Ke(o).signInWithPopup(l)})}t.dc=function(o){nt(this);var l=this,h=this.i;return this.i=null,ar(this,function(p){return p&&!Is(ke(l))?p.linkWithRedirect(o):Ke(l).signInWithRedirect(o)}).then(function(){},function(p){throw l.i=h,p})},t.cc=function(o,l){nt(this);var h=this;return ar(this,function(p){return p?p.linkWithPhoneNumber(o,l).then(function(m){return new Av(m,function(v){if(v.code=="auth/credential-already-in-use")return Jr(h,v);throw v})}):ss(h).signInWithPhoneNumber(o,l).then(function(m){return new Av(m)})})},t.$b=function(){return nt(this),ss(this).signInAnonymously()};function eF(o,l){return nt(o),ar(o,function(h){if(o.j&&!o.j.isAnonymous&&tp(K(o))&&!Ke(o).currentUser)return Qr(o).then(function(){return l.credential.providerId=="password"&&(l.credential=null),l});if(h)return Qr(o).then(function(){return h.linkWithCredential(l.credential)}).then(function(p){return l.user=p.user,l.credential=p.credential,l.operationType=p.operationType,l.additionalUserInfo=p.additionalUserInfo,l},function(p){if(p&&p.code=="auth/email-already-in-use"&&p.email&&p.credential)throw p;return Jr(o,p,l.credential)});if(!l.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return Qr(o).then(function(){return ss(o).updateCurrentUser(l.user)}).then(function(){return l.user=ss(o).currentUser,l.operationType="signIn",l.credential&&l.credential.providerId&&l.credential.providerId=="password"&&(l.credential=null),l})})}t.Xb=function(o,l){return nt(this),Ke(this).signInWithEmailAndPassword(o,l)};function Qr(o){return nt(o),Ke(o).signOut()}function Jr(o,l,h){if(nt(o),l&&l.code&&(l.code=="auth/email-already-in-use"||l.code=="auth/credential-already-in-use")){var p=lT(K(o));return Xt().then(function(){return p(new Zl("anonymous-upgrade-merge-conflict",null,h||l.credential))}).then(function(){throw o.g&&(o.g.m(),o.g=null),l})}return tc(l)}function Ku(o,l,h,p){q.call(this,AS,void 0,p,"providerMatchByEmail",{F:l,D:h}),this.i=o}c(Ku,q),Ku.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),bp(this.l(),(this.l().value||"").length),q.prototype.v.call(this)},Ku.prototype.o=function(){this.i=null,q.prototype.o.call(this)},ye(Ku.prototype,{l:rr,H:Xr,u:Cc,B:Pc,j:Rc,M:Tn,w:Dn});function Sp(o,l,h,p,m){q.call(this,SS,{ec:l},m,"selectTenant",{F:h,D:p}),this.i=o}c(Sp,q),Sp.prototype.v=function(){tF(this,this.i),q.prototype.v.call(this)},Sp.prototype.o=function(){this.i=null,q.prototype.o.call(this)};function tF(o,l){function h(C){l(C)}for(var p=o.g?nv("firebaseui-id-tenant-selection-button",o.g||o.s.a):[],m=0;m<p.length;m++){var v=p[m],I=Ep(v,"tenantId");Ht(o,v,me(h,I))}}function b_(o){q.call(this,GT,void 0,o,"spinner")}c(b_,q);function nF(o){this.a=new jv,cn(this.a,"authDomain"),cn(this.a,"displayMode",Cp),cn(this.a,"tenants"),cn(this.a,"callbacks"),cn(this.a,"tosUrl"),cn(this.a,"privacyPolicyUrl");for(var l in o)if(o.hasOwnProperty(l))try{$v(this.a,l,o[l])}catch{Di('Invalid config: "'+l+'"',void 0)}}function iF(o){o=o.a.get("displayMode");for(var l in E_)if(E_[l]===o)return E_[l];return Cp}function Ap(o){return o.a.get("callbacks")||{}}function uA(o){var l=o.a.get("tosUrl")||null;if(o=o.a.get("privacyPolicyUrl")||null,l&&!o&&Gr("Privacy Policy URL is missing, the link will not be displayed."),l&&o){if(typeof l=="function")return l;if(typeof l=="string")return function(){ic(l)}}return null}function hA(o){var l=o.a.get("tosUrl")||null,h=o.a.get("privacyPolicyUrl")||null;if(h&&!l&&Gr("Terms of Service URL is missing, the link will not be displayed."),l&&h){if(typeof h=="function")return h;if(typeof h=="string")return function(){ic(h)}}return null}function w_(o,l){if(o=o.a.get("tenants"),!o||!o.hasOwnProperty(l)&&!o.hasOwnProperty(Pp))throw Error("Invalid tenant configuration!")}function dA(o,l,h){if(o=o.a.get("tenants"),!o)throw Error("Invalid tenant configuration!");var p=[];if(o=o[l]||o[Pp],!o)return Di("Invalid tenant configuration: "+(l+" is not configured!"),void 0),p;if(l=o.signInOptions,!l)throw Error("Invalid tenant configuration: signInOptions are invalid!");return l.forEach(function(m){if(typeof m=="string")p.push(m);else if(typeof m.provider=="string"){var v=m.hd;v&&h?(v instanceof RegExp?v:new RegExp("@"+v.replace(".","\\.")+"$")).test(h)&&p.push(m.provider):p.push(m.provider)}else m="Invalid tenant configuration: signInOption "+(JSON.stringify(m)+" is invalid!"),Di(m,void 0)}),p}function sF(o,l,h){return o=rF(o,l),(l=o.signInOptions)&&h&&(l=l.filter(function(p){return typeof p=="string"?h.includes(p):h.includes(p.provider)}),o.signInOptions=l),o}function rF(o,l){var h=oF,p=p===void 0?{}:p;return w_(o,l),o=o.a.get("tenants"),LL(o[l]||o[Pp],h,p)}var oF=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],Cp="optionFirst",E_={pc:Cp,oc:"identifierFirst"},Pp="*";function rs(o,l){var h=this;this.s=Of(o),this.a={},Object.keys(l).forEach(function(p){h.a[p]=new nF(l[p])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(p){this.ob=p||null},enumerable:!1})}t=rs.prototype,t.Ub=function(o,l){var h=this;Zr(this);var p=o.apiKey;return new mn(function(m,v){if(h.a.hasOwnProperty(p)){var I=Ap(h.a[p]).selectTenantUiHidden||null;if(iF(h.a[p])===Cp){var C=[];l.forEach(function(be){be=be||"_";var vt=h.a[p].a.get("tenants");if(!vt)throw Error("Invalid tenant configuration!");(vt=vt[be]||vt[Pp])?be={tenantId:be!=="_"?be:null,V:vt.fullLabel||null,displayName:vt.displayName,za:vt.iconUrl,ta:vt.buttonColor}:(Di("Invalid tenant configuration: "+(be+" is not configured!"),void 0),be=null),be&&C.push(be)});var F=function(be){be={tenantId:be,providerIds:dA(h.a[p],be||"_")},m(be)};if(C.length===1){F(C[0].tenantId);return}h.g=new Sp(function(be){Zr(h),I&&I(),F(be)},C,uA(h.a[p]),hA(h.a[p]))}else h.g=new Ku(function(){var be=h.g.j();if(be){for(var vt=0;vt<l.length;vt++){var os=dA(h.a[p],l[vt]||"_",be);if(os.length!==0){be={tenantId:l[vt],providerIds:os,email:be},Zr(h),I&&I(),m(be);return}}h.g.a(NE({code:"no-matching-tenant-for-email"}).toString())}},uA(h.a[p]),hA(h.a[p]));h.g.render(h.s),(v=Ap(h.a[p]).selectTenantUiShown||null)&&v()}else{var J=Error("Invalid project configuration: API key is invalid!");J.code="invalid-configuration",h.pb(J),v(J)}})},t.Pb=function(o,l){if(!this.a.hasOwnProperty(o))throw Error("Invalid project configuration: API key is invalid!");var h=l||void 0;w_(this.a[o],l||"_");try{this.i=Ee.app(h).auth()}catch{var p=this.a[o].a.get("authDomain");if(!p)throw Error("Invalid project configuration: authDomain is required!");o=Ee.initializeApp({apiKey:o,authDomain:p},h),o.auth().tenantId=l,this.i=o.auth()}return this.i},t.Zb=function(o,l){var h=this;return new mn(function(p,m){function v(vt,os){h.j=new Cs(o),rA(h.j,h.s,vt,os)}var I=o.app.options.apiKey;h.a.hasOwnProperty(I)||m(Error("Invalid project configuration: API key is invalid!"));var C=sF(h.a[I],o.tenantId||"_",l&&l.providerIds);Zr(h),m={signInSuccessWithAuthResult:function(vt){return p(vt),!1}};var F=Ap(h.a[I]).signInUiShown||null,J=!1;m.uiChanged=function(vt,os){vt===null&&os==="callback"?((vt=iv("firebaseui-id-page-callback",h.s))&&Mi(vt),h.h=new b_,h.h.render(h.s)):J||vt===null&&os==="spinner"||os==="blank"||(h.h&&(h.h.m(),h.h=null),J=!0,F&&F(o.tenantId))},C.callbacks=m,C.credentialHelper="none";var be;l&&l.email&&(be={emailHint:l.email}),h.j?h.j.Wa().then(function(){v(C,be)}):v(C,be)})},t.reset=function(){var o=this;return Xt().then(function(){o.j&&o.j.Wa()}).then(function(){o.j=null,Zr(o)})},t.Vb=function(){var o=this;this.h||this.A||(this.A=window.setTimeout(function(){Zr(o),o.h=new b_,o.g=o.h,o.h.render(o.s),o.A=null},500))},t.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},t.Bb=function(){return Zr(this),this.g=new MS,this.g.render(this.s),Xt()};function Zr(o){o.j&&o.j.reset(),o.mb(),o.g&&o.g.m()}t.pb=function(o){var l=this,h=NE({code:o.code}).toString()||o.message;Zr(this);var p;o.retry&&typeof o.retry=="function"&&(p=function(){l.reset(),o.retry()}),this.g=new FS(h,p),this.g.render(this.s)},t.Rb=function(o){var l=this;return Xt().then(function(){var h=l.i&&l.i.app.options.apiKey;if(!l.a.hasOwnProperty(h))throw Error("Invalid project configuration: API key is invalid!");if(w_(l.a[h],o.tenantId||"_"),!l.i.currentUser||l.i.currentUser.uid!==o.uid)throw Error("The user being processed does not match the signed in user!");return(h=Ap(l.a[h]).beforeSignInSuccess||null)?h(o):o}).then(function(h){if(h.uid!==o.uid)throw Error("User with mismatching UID returned.");return h})},pe("firebaseui.auth.FirebaseUiHandler",rs),pe("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",rs.prototype.Ub),pe("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",rs.prototype.Pb),pe("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",rs.prototype.Zb),pe("firebaseui.auth.FirebaseUiHandler.prototype.reset",rs.prototype.reset),pe("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",rs.prototype.Vb),pe("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",rs.prototype.mb),pe("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",rs.prototype.Bb),pe("firebaseui.auth.FirebaseUiHandler.prototype.handleError",rs.prototype.pb),pe("firebaseui.auth.FirebaseUiHandler.prototype.processUser",rs.prototype.Rb),pe("firebaseui.auth.AuthUI",Cs),pe("firebaseui.auth.AuthUI.getInstance",function(o){return o=__(o),qu[o]?qu[o]:null}),pe("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",Cs.prototype.Db),pe("firebaseui.auth.AuthUI.prototype.start",Cs.prototype.start),pe("firebaseui.auth.AuthUI.prototype.setConfig",Cs.prototype.ib),pe("firebaseui.auth.AuthUI.prototype.signIn",Cs.prototype.Wb),pe("firebaseui.auth.AuthUI.prototype.reset",Cs.prototype.reset),pe("firebaseui.auth.AuthUI.prototype.delete",Cs.prototype.Wa),pe("firebaseui.auth.AuthUI.prototype.isPendingRedirect",Cs.prototype.nb),pe("firebaseui.auth.AuthUIError",Zl),pe("firebaseui.auth.AuthUIError.prototype.toJSON",Zl.prototype.toJSON),pe("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",Yv),pe("firebaseui.auth.CredentialHelper.NONE",ip),pe("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),mn.prototype.catch=mn.prototype.Ca,mn.prototype.finally=mn.prototype.fc}).apply(typeof global<"u"?global:typeof self<"u"?self:window)}).apply(typeof global<"u"?global:typeof self<"u"?self:window);typeof window<"u"&&(window.dialogPolyfill=k$);var HC=firebaseui.auth,D$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ue,Dw=Dw||{},Le=D$||self;function ty(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ud(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function O$(t){return Object.prototype.hasOwnProperty.call(t,z_)&&t[z_]||(t[z_]=++M$)}var z_="closure_uid_"+(1e9*Math.random()>>>0),M$=0;function N$(t,e,n){return t.call.apply(t.bind,arguments)}function L$(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function ni(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ni=N$:ni=L$,ni.apply(null,arguments)}function Lp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function Un(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,s,r){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return e.prototype[s].apply(i,a)}}function No(){this.s=this.s,this.o=this.o}var V$=0;No.prototype.s=!1;No.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),V$!=0)&&O$(this)};No.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const oD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Ow(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function zC(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(ty(i)){const s=t.length||0,r=i.length||0;t.length=s+r;for(let a=0;a<r;a++)t[s+a]=i[a]}else t.push(i)}}function ii(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ii.prototype.h=function(){this.defaultPrevented=!0};var F$=function(){if(!Le.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Le.addEventListener("test",n,e),Le.removeEventListener("test",n,e)}catch{}return t}();function rd(t){return/^[\s\xa0]*$/.test(t)}function ny(){var t=Le.navigator;return t&&(t=t.userAgent)?t:""}function Vs(t){return ny().indexOf(t)!=-1}function Mw(t){return Mw[" "](t),t}Mw[" "]=function(){};function U$(t,e){var n=k7;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var B$=Vs("Opera"),gl=Vs("Trident")||Vs("MSIE"),aD=Vs("Edge"),Gb=aD||gl,cD=Vs("Gecko")&&!(ny().toLowerCase().indexOf("webkit")!=-1&&!Vs("Edge"))&&!(Vs("Trident")||Vs("MSIE"))&&!Vs("Edge"),j$=ny().toLowerCase().indexOf("webkit")!=-1&&!Vs("Edge");function lD(){var t=Le.document;return t?t.documentMode:void 0}var Yb;e:{var W_="",q_=function(){var t=ny();if(cD)return/rv:([^\);]+)(\)|;)/.exec(t);if(aD)return/Edge\/([\d\.]+)/.exec(t);if(gl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(j$)return/WebKit\/(\S+)/.exec(t);if(B$)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(q_&&(W_=q_?q_[1]:""),gl){var K_=lD();if(K_!=null&&K_>parseFloat(W_)){Yb=String(K_);break e}}Yb=W_}var Xb;if(Le.document&&gl){var WC=lD();Xb=WC||parseInt(Yb,10)||void 0}else Xb=void 0;var $$=Xb;function od(t,e){if(ii.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(cD){e:{try{Mw(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:H$[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&od.$.h.call(this)}}Un(od,ii);var H$={2:"touch",3:"pen",4:"mouse"};od.prototype.h=function(){od.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Bd="closure_listenable_"+(1e6*Math.random()|0),z$=0;function W$(t,e,n,i,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=s,this.key=++z$,this.fa=this.ia=!1}function iy(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Nw(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function q$(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function uD(t){const e={};for(const n in t)e[n]=t[n];return e}const qC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hD(t,e){let n,i;for(let s=1;s<arguments.length;s++){i=arguments[s];for(n in i)t[n]=i[n];for(let r=0;r<qC.length;r++)n=qC[r],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function sy(t){this.src=t,this.g={},this.h=0}sy.prototype.add=function(t,e,n,i,s){var r=t.toString();t=this.g[r],t||(t=this.g[r]=[],this.h++);var a=Jb(t,e,i,s);return-1<a?(e=t[a],n||(e.ia=!1)):(e=new W$(e,this.src,r,!!i,s),e.ia=n,t.push(e)),e};function Qb(t,e){var n=e.type;if(n in t.g){var i=t.g[n],s=oD(i,e),r;(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(iy(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Jb(t,e,n,i){for(var s=0;s<t.length;++s){var r=t[s];if(!r.fa&&r.listener==e&&r.capture==!!n&&r.la==i)return s}return-1}var Lw="closure_lm_"+(1e6*Math.random()|0),G_={};function dD(t,e,n,i,s){if(i&&i.once)return pD(t,e,n,i,s);if(Array.isArray(e)){for(var r=0;r<e.length;r++)dD(t,e[r],n,i,s);return null}return n=Uw(n),t&&t[Bd]?t.O(e,n,Ud(i)?!!i.capture:!!i,s):fD(t,e,n,!1,i,s)}function fD(t,e,n,i,s,r){if(!e)throw Error("Invalid event type");var a=Ud(s)?!!s.capture:!!s,c=Fw(t);if(c||(t[Lw]=c=new sy(t)),n=c.add(e,n,i,a,r),n.proxy)return n;if(i=K$(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)F$||(s=a),s===void 0&&(s=!1),t.addEventListener(e.toString(),i,s);else if(t.attachEvent)t.attachEvent(mD(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function K$(){function t(n){return e.call(t.src,t.listener,n)}const e=G$;return t}function pD(t,e,n,i,s){if(Array.isArray(e)){for(var r=0;r<e.length;r++)pD(t,e[r],n,i,s);return null}return n=Uw(n),t&&t[Bd]?t.P(e,n,Ud(i)?!!i.capture:!!i,s):fD(t,e,n,!0,i,s)}function gD(t,e,n,i,s){if(Array.isArray(e))for(var r=0;r<e.length;r++)gD(t,e[r],n,i,s);else i=Ud(i)?!!i.capture:!!i,n=Uw(n),t&&t[Bd]?(t=t.i,e=String(e).toString(),e in t.g&&(r=t.g[e],n=Jb(r,n,i,s),-1<n&&(iy(r[n]),Array.prototype.splice.call(r,n,1),r.length==0&&(delete t.g[e],t.h--)))):t&&(t=Fw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Jb(e,n,i,s)),(n=-1<t?e[t]:null)&&Vw(n))}function Vw(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Bd])Qb(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(mD(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Fw(e))?(Qb(n,t),n.h==0&&(n.src=null,e[Lw]=null)):iy(t)}}}function mD(t){return t in G_?G_[t]:G_[t]="on"+t}function G$(t,e){if(t.fa)t=!0;else{e=new od(e,this);var n=t.listener,i=t.la||t.src;t.ia&&Vw(t),t=n.call(i,e)}return t}function Fw(t){return t=t[Lw],t instanceof sy?t:null}var Y_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uw(t){return typeof t=="function"?t:(t[Y_]||(t[Y_]=function(e){return t.handleEvent(e)}),t[Y_])}function Fn(){No.call(this),this.i=new sy(this),this.S=this,this.J=null}Un(Fn,No);Fn.prototype[Bd]=!0;Fn.prototype.removeEventListener=function(t,e,n,i){gD(this,t,e,n,i)};function Wn(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new ii(e,t);else if(e instanceof ii)e.target=e.target||t;else{var s=e;e=new ii(i,t),hD(e,s)}if(s=!0,n)for(var r=n.length-1;0<=r;r--){var a=e.g=n[r];s=Vp(a,i,!0,e)&&s}if(a=e.g=t,s=Vp(a,i,!0,e)&&s,s=Vp(a,i,!1,e)&&s,n)for(r=0;r<n.length;r++)a=e.g=n[r],s=Vp(a,i,!1,e)&&s}Fn.prototype.N=function(){if(Fn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)iy(n[i]);delete t.g[e],t.h--}}this.J=null};Fn.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};Fn.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function Vp(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,r=0;r<e.length;++r){var a=e[r];if(a&&!a.fa&&a.capture==n){var c=a.listener,u=a.la||a.src;a.ia&&Qb(t.i,a),s=c.call(u,i)!==!1&&s}}return s&&!i.defaultPrevented}var Bw=Le.JSON.stringify;class Y${constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function X$(){var t=jw;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Q${constructor(){this.h=this.g=null}add(e,n){const i=yD.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}}var yD=new Y$(()=>new J$,t=>t.reset());class J${constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Z$(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function e7(t){Le.setTimeout(()=>{throw t},0)}let ad,cd=!1,jw=new Q$,vD=()=>{const t=Le.Promise.resolve(void 0);ad=()=>{t.then(t7)}};var t7=()=>{for(var t;t=X$();){try{t.h.call(t.g)}catch(n){e7(n)}var e=yD;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}cd=!1};function ry(t,e){Fn.call(this),this.h=t||1,this.g=e||Le,this.j=ni(this.qb,this),this.l=Date.now()}Un(ry,Fn);ue=ry.prototype;ue.ga=!1;ue.T=null;ue.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Wn(this,"tick"),this.ga&&($w(this),this.start()))}};ue.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function $w(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ue.N=function(){ry.$.N.call(this),$w(this),delete this.g};function Hw(t,e,n){if(typeof t=="function")n&&(t=ni(t,n));else if(t&&typeof t.handleEvent=="function")t=ni(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Le.setTimeout(t,e||0)}function _D(t){t.g=Hw(()=>{t.g=null,t.i&&(t.i=!1,_D(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class n7 extends No{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_D(this)}N(){super.N(),this.g&&(Le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ld(t){No.call(this),this.h=t,this.g={}}Un(ld,No);var KC=[];function bD(t,e,n,i){Array.isArray(n)||(n&&(KC[0]=n.toString()),n=KC);for(var s=0;s<n.length;s++){var r=dD(e,n[s],i||t.handleEvent,!1,t.h||t);if(!r)break;t.g[r.key]=r}}function wD(t){Nw(t.g,function(e,n){this.g.hasOwnProperty(n)&&Vw(e)},t),t.g={}}ld.prototype.N=function(){ld.$.N.call(this),wD(this)};ld.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function oy(){this.g=!0}oy.prototype.Ea=function(){this.g=!1};function i7(t,e,n,i,s,r){t.info(function(){if(t.g)if(r)for(var a="",c=r.split("&"),u=0;u<c.length;u++){var d=c[u].split("=");if(1<d.length){var f=d[0];d=d[1];var g=f.split("_");a=2<=g.length&&g[1]=="type"?a+(f+"="+d+"&"):a+(f+"=redacted&")}}else a=null;else a=r;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+e+`
`+n+`
`+a})}function s7(t,e,n,i,s,r,a){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+e+`
`+n+`
`+r+" "+a})}function Hc(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+o7(t,n)+(i?" "+i:"")})}function r7(t,e){t.info(function(){return"TIMEOUT: "+e})}oy.prototype.info=function(){};function o7(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var r=s[0];if(r!="noop"&&r!="stop"&&r!="close")for(var a=1;a<s.length;a++)s[a]=""}}}}return Bw(n)}catch{return e}}var za={},GC=null;function ay(){return GC=GC||new Fn}za.Ta="serverreachability";function ED(t){ii.call(this,za.Ta,t)}Un(ED,ii);function ud(t){const e=ay();Wn(e,new ED(e))}za.STAT_EVENT="statevent";function ID(t,e){ii.call(this,za.STAT_EVENT,t),this.stat=e}Un(ID,ii);function gi(t){const e=ay();Wn(e,new ID(e,t))}za.Ua="timingevent";function TD(t,e){ii.call(this,za.Ua,t),this.size=e}Un(TD,ii);function jd(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Le.setTimeout(function(){t()},e)}var cy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},SD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function zw(){}zw.prototype.h=null;function YC(t){return t.h||(t.h=t.i())}function AD(){}var $d={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ww(){ii.call(this,"d")}Un(Ww,ii);function qw(){ii.call(this,"c")}Un(qw,ii);var Zb;function ly(){}Un(ly,zw);ly.prototype.g=function(){return new XMLHttpRequest};ly.prototype.i=function(){return{}};Zb=new ly;function Hd(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new ld(this),this.P=a7,t=Gb?125:void 0,this.V=new ry(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new CD}function CD(){this.i=null,this.g="",this.h=!1}var a7=45e3,PD={},e0={};ue=Hd.prototype;ue.setTimeout=function(t){this.P=t};function t0(t,e,n){t.L=1,t.A=hy(Ar(e)),t.u=n,t.S=!0,RD(t,null)}function RD(t,e){t.G=Date.now(),zd(t),t.B=Ar(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),VD(n.i,"t",i),t.o=0,n=t.l.J,t.h=new CD,t.g=sO(t.l,n?e:null,!t.u),0<t.O&&(t.M=new n7(ni(t.Pa,t,t.g),t.O)),bD(t.U,t.g,"readystatechange",t.nb),e=t.I?uD(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),ud(),i7(t.j,t.v,t.B,t.m,t.W,t.u)}ue.nb=function(t){t=t.target;const e=this.M;e&&Us(t)==3?e.l():this.Pa(t)};ue.Pa=function(t){try{if(t==this.g)e:{const f=Us(this.g);var e=this.g.Ia();const g=this.g.da();if(!(3>f)&&(f!=3||Gb||this.g&&(this.h.h||this.g.ja()||ZC(this.g)))){this.J||f!=4||e==7||(e==8||0>=g?ud(3):ud(2)),uy(this);var n=this.g.da();this.ca=n;t:if(xD(this)){var i=ZC(this.g);t="";var s=i.length,r=Us(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ma(this),Mh(this);var a="";break t}this.h.i=new Le.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:r&&e==s-1});i.length=0,this.h.g+=t,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,s7(this.j,this.v,this.B,this.m,this.W,f,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var c,u=this.g;if((c=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rd(c)){var d=c;break t}}d=null}if(n=d)Hc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,n0(this,n);else{this.i=!1,this.s=3,gi(12),ma(this),Mh(this);break e}}this.S?(kD(this,f,a),Gb&&this.i&&f==3&&(bD(this.U,this.V,"tick",this.mb),this.V.start())):(Hc(this.j,this.m,a,null),n0(this,a)),f==4&&ma(this),this.i&&!this.J&&(f==4?eO(this.l,this):(this.i=!1,zd(this)))}else P7(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.s=3,gi(12)):(this.s=0,gi(13)),ma(this),Mh(this)}}}catch{}finally{}};function xD(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function kD(t,e,n){let i=!0,s;for(;!t.J&&t.o<n.length;)if(s=c7(t,n),s==e0){e==4&&(t.s=4,gi(14),i=!1),Hc(t.j,t.m,null,"[Incomplete Response]");break}else if(s==PD){t.s=4,gi(15),Hc(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Hc(t.j,t.m,s,null),n0(t,s);xD(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,gi(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jw(e),e.M=!0,gi(11))):(Hc(t.j,t.m,n,"[Invalid Chunked Response]"),ma(t),Mh(t))}ue.mb=function(){if(this.g){var t=Us(this.g),e=this.g.ja();this.o<e.length&&(uy(this),kD(this,t,e),this.i&&t!=4&&zd(this))}};function c7(t,e){var n=t.o,i=e.indexOf(`
`,n);return i==-1?e0:(n=Number(e.substring(n,i)),isNaN(n)?PD:(i+=1,i+n>e.length?e0:(e=e.slice(i,i+n),t.o=i+n,e)))}ue.cancel=function(){this.J=!0,ma(this)};function zd(t){t.Y=Date.now()+t.P,DD(t,t.P)}function DD(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=jd(ni(t.lb,t),e)}function uy(t){t.C&&(Le.clearTimeout(t.C),t.C=null)}ue.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(r7(this.j,this.B),this.L!=2&&(ud(),gi(17)),ma(this),this.s=2,Mh(this)):DD(this,this.Y-t)};function Mh(t){t.l.H==0||t.J||eO(t.l,t)}function ma(t){uy(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,$w(t.V),wD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function n0(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||i0(n.i,t))){if(!t.K&&i0(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var s=i;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)em(n),gy(n);else break e;Qw(n),gi(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=jd(ni(n.ib,n),6e3));if(1>=BD(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ya(n,11)}else if((t.K||n.g==t)&&em(n),!rd(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let d=s[e];if(n.V=d[0],d=d[1],n.H==2)if(d[0]=="c"){n.K=d[1],n.pa=d[2];const f=d[3];f!=null&&(n.ra=f,n.l.info("VER="+n.ra));const g=d[4];g!=null&&(n.Ga=g,n.l.info("SVER="+n.Ga));const y=d[5];y!=null&&typeof y=="number"&&0<y&&(i=1.5*y,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const b=t.g;if(b){const E=b.g?b.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var r=i.i;r.g||E.indexOf("spdy")==-1&&E.indexOf("quic")==-1&&E.indexOf("h2")==-1||(r.j=r.l,r.g=new Set,r.h&&(Kw(r,r.h),r.h=null))}if(i.F){const _=b.g?b.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(i.Da=_,Ot(i.I,i.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var a=t;if(i.wa=iO(i,i.J?i.pa:null,i.Y),a.K){jD(i.i,a);var c=a,u=i.L;u&&c.setTimeout(u),c.C&&(uy(c),zd(c)),i.g=a}else JD(i);0<n.j.length&&my(n)}else d[0]!="stop"&&d[0]!="close"||ya(n,7);else n.H==3&&(d[0]=="stop"||d[0]=="close"?d[0]=="stop"?ya(n,7):Xw(n):d[0]!="noop"&&n.h&&n.h.Aa(d),n.A=0)}}ud(4)}catch{}}function l7(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ty(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function u7(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ty(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function OD(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ty(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=u7(t),i=l7(t),s=i.length,r=0;r<s;r++)e.call(void 0,i[r],n&&n[r],t)}var MD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function h7(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),s=null;if(0<=i){var r=t[n].substring(0,i);s=t[n].substring(i+1)}else r=t[n];e(r,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Aa(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Aa){this.h=t.h,Jg(this,t.j),this.s=t.s,this.g=t.g,Zg(this,t.m),this.l=t.l;var e=t.i,n=new hd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),XC(this,n),this.o=t.o}else t&&(e=String(t).match(MD))?(this.h=!1,Jg(this,e[1]||"",!0),this.s=ph(e[2]||""),this.g=ph(e[3]||"",!0),Zg(this,e[4]),this.l=ph(e[5]||"",!0),XC(this,e[6]||"",!0),this.o=ph(e[7]||"")):(this.h=!1,this.i=new hd(null,this.h))}Aa.prototype.toString=function(){var t=[],e=this.j;e&&t.push(gh(e,QC,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(gh(e,QC,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(gh(n,n.charAt(0)=="/"?p7:f7,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",gh(n,m7)),t.join("")};function Ar(t){return new Aa(t)}function Jg(t,e,n){t.j=n?ph(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Zg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function XC(t,e,n){e instanceof hd?(t.i=e,y7(t.i,t.h)):(n||(e=gh(e,g7)),t.i=new hd(e,t.h))}function Ot(t,e,n){t.i.set(e,n)}function hy(t){return Ot(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ph(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function gh(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,d7),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function d7(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var QC=/[#\/\?@]/g,f7=/[#\?:]/g,p7=/[#\?]/g,g7=/[#\?@]/g,m7=/#/g;function hd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Lo(t){t.g||(t.g=new Map,t.h=0,t.i&&h7(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ue=hd.prototype;ue.add=function(t,e){Lo(this),this.i=null,t=Ml(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function ND(t,e){Lo(t),e=Ml(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function LD(t,e){return Lo(t),e=Ml(t,e),t.g.has(e)}ue.forEach=function(t,e){Lo(this),this.g.forEach(function(n,i){n.forEach(function(s){t.call(e,s,i,this)},this)},this)};ue.ta=function(){Lo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const s=t[i];for(let r=0;r<s.length;r++)n.push(e[i])}return n};ue.Z=function(t){Lo(this);let e=[];if(typeof t=="string")LD(this,t)&&(e=e.concat(this.g.get(Ml(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ue.set=function(t,e){return Lo(this),this.i=null,t=Ml(this,t),LD(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ue.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function VD(t,e,n){ND(t,e),0<n.length&&(t.i=null,t.g.set(Ml(t,e),Ow(n)),t.h+=n.length)}ue.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const r=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var s=r;a[i]!==""&&(s+="="+encodeURIComponent(String(a[i]))),t.push(s)}}return this.i=t.join("&")};function Ml(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function y7(t,e){e&&!t.j&&(Lo(t),t.i=null,t.g.forEach(function(n,i){var s=i.toLowerCase();i!=s&&(ND(this,i),VD(this,s,n))},t)),t.j=e}var v7=class{constructor(t,e){this.g=t,this.map=e}};function FD(t){this.l=t||_7,Le.PerformanceNavigationTiming?(t=Le.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Le.g&&Le.g.Ka&&Le.g.Ka()&&Le.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var _7=10;function UD(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function BD(t){return t.h?1:t.g?t.g.size:0}function i0(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Kw(t,e){t.g?t.g.add(e):t.h=e}function jD(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}FD.prototype.cancel=function(){if(this.i=$D(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function $D(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Ow(t.i)}var b7=class{stringify(t){return Le.JSON.stringify(t,void 0)}parse(t){return Le.JSON.parse(t,void 0)}};function w7(){this.g=new b7}function E7(t,e,n){const i=n||"";try{OD(t,function(s,r){let a=s;Ud(s)&&(a=Bw(s)),e.push(i+r+"="+encodeURIComponent(a))})}catch(s){throw e.push(i+"type="+encodeURIComponent("_badmap")),s}}function I7(t,e){const n=new oy;if(Le.Image){const i=new Image;i.onload=Lp(Fp,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Lp(Fp,n,i,"TestLoadImage: error",!1,e),i.onabort=Lp(Fp,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Lp(Fp,n,i,"TestLoadImage: timeout",!1,e),Le.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function Fp(t,e,n,i,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(i)}catch{}}function dy(t){this.l=t.ec||null,this.j=t.ob||!1}Un(dy,zw);dy.prototype.g=function(){return new fy(this.l,this.j)};dy.prototype.i=function(t){return function(){return t}}({});function fy(t,e){Fn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Gw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Un(fy,Fn);var Gw=0;ue=fy.prototype;ue.open=function(t,e){if(this.readyState!=Gw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,dd(this)};ue.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Le).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ue.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wd(this)),this.readyState=Gw};ue.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,dd(this)),this.g&&(this.readyState=3,dd(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Le.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;HD(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function HD(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ue.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Wd(this):dd(this),this.readyState==3&&HD(this)}};ue.Za=function(t){this.g&&(this.response=this.responseText=t,Wd(this))};ue.Ya=function(t){this.g&&(this.response=t,Wd(this))};ue.ka=function(){this.g&&Wd(this)};function Wd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,dd(t)}ue.setRequestHeader=function(t,e){this.v.append(t,e)};ue.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ue.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function dd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(fy.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var T7=Le.JSON.parse;function nn(t){Fn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=zD,this.L=this.M=!1}Un(nn,Fn);var zD="",S7=/^https?$/i,A7=["POST","PUT"];ue=nn.prototype;ue.Oa=function(t){this.M=t};ue.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Zb.g(),this.C=this.u?YC(this.u):YC(Zb),this.g.onreadystatechange=ni(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(r){JC(this,r);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const r of i.keys())n.set(r,i.get(r));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(r=>r.toLowerCase()=="content-type"),s=Le.FormData&&t instanceof Le.FormData,!(0<=oD(A7,e))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,a]of n)this.g.setRequestHeader(r,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{KD(this),0<this.B&&((this.L=C7(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ni(this.ua,this)):this.A=Hw(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(r){JC(this,r)}};function C7(t){return gl&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ue.ua=function(){typeof Dw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wn(this,"timeout"),this.abort(8))};function JC(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,WD(t),py(t)}function WD(t){t.F||(t.F=!0,Wn(t,"complete"),Wn(t,"error"))}ue.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Wn(this,"complete"),Wn(this,"abort"),py(this))};ue.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),py(this,!0)),nn.$.N.call(this)};ue.La=function(){this.s||(this.G||this.v||this.l?qD(this):this.kb())};ue.kb=function(){qD(this)};function qD(t){if(t.h&&typeof Dw<"u"&&(!t.C[1]||Us(t)!=4||t.da()!=2)){if(t.v&&Us(t)==4)Hw(t.La,0,t);else if(Wn(t,"readystatechange"),Us(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=a===0){var s=String(t.I).match(MD)[1]||null;!s&&Le.self&&Le.self.location&&(s=Le.self.location.protocol.slice(0,-1)),i=!S7.test(s?s.toLowerCase():"")}n=i}if(n)Wn(t,"complete"),Wn(t,"success");else{t.m=6;try{var r=2<Us(t)?t.g.statusText:""}catch{r=""}t.j=r+" ["+t.da()+"]",WD(t)}}finally{py(t)}}}}function py(t,e){if(t.g){KD(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Wn(t,"ready");try{n.onreadystatechange=i}catch{}}}function KD(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Le.clearTimeout(t.A),t.A=null)}ue.isActive=function(){return!!this.g};function Us(t){return t.g?t.g.readyState:0}ue.da=function(){try{return 2<Us(this)?this.g.status:-1}catch{return-1}};ue.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ue.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),T7(e)}};function ZC(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case zD:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function P7(t){const e={};t=(t.g&&2<=Us(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(rd(t[i]))continue;var n=Z$(t[i]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const r=e[s]||[];e[s]=r,r.push(n)}q$(e,function(i){return i.join(", ")})}ue.Ia=function(){return this.m};ue.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function GD(t){let e="";return Nw(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function Yw(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=GD(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ot(t,e,n))}function th(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function YD(t){this.Ga=0,this.j=[],this.l=new oy,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=th("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=th("baseRetryDelayMs",5e3,t),this.hb=th("retryDelaySeedMs",1e4,t),this.eb=th("forwardChannelMaxRetries",2,t),this.xa=th("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new FD(t&&t.concurrentRequestLimit),this.Ja=new w7,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ue=YD.prototype;ue.ra=8;ue.H=1;function Xw(t){if(XD(t),t.H==3){var e=t.W++,n=Ar(t.I);if(Ot(n,"SID",t.K),Ot(n,"RID",e),Ot(n,"TYPE","terminate"),qd(t,n),e=new Hd(t,t.l,e),e.L=2,e.A=hy(Ar(n)),n=!1,Le.navigator&&Le.navigator.sendBeacon)try{n=Le.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Le.Image&&(new Image().src=e.A,n=!0),n||(e.g=sO(e.l,null),e.g.ha(e.A)),e.G=Date.now(),zd(e)}nO(t)}function gy(t){t.g&&(Jw(t),t.g.cancel(),t.g=null)}function XD(t){gy(t),t.u&&(Le.clearTimeout(t.u),t.u=null),em(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Le.clearTimeout(t.m),t.m=null)}function my(t){if(!UD(t.i)&&!t.m){t.m=!0;var e=t.Na;ad||vD(),cd||(ad(),cd=!0),jw.add(e,t),t.C=0}}function R7(t,e){return BD(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=jd(ni(t.Na,t,e),tO(t,t.C)),t.C++,!0)}ue.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Hd(this,this.l,t);let r=this.s;if(this.U&&(r?(r=uD(r),hD(r,this.U)):r=this.U),this.o!==null||this.O||(s.I=r,r=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=QD(this,s,e),n=Ar(this.I),Ot(n,"RID",t),Ot(n,"CVER",22),this.F&&Ot(n,"X-HTTP-Session-Id",this.F),qd(this,n),r&&(this.O?e="headers="+encodeURIComponent(String(GD(r)))+"&"+e:this.o&&Yw(n,this.o,r)),Kw(this.i,s),this.bb&&Ot(n,"TYPE","init"),this.P?(Ot(n,"$req",e),Ot(n,"SID","null"),s.aa=!0,t0(s,n,null)):t0(s,n,e),this.H=2}}else this.H==3&&(t?eP(this,t):this.j.length==0||UD(this.i)||eP(this))};function eP(t,e){var n;e?n=e.m:n=t.W++;const i=Ar(t.I);Ot(i,"SID",t.K),Ot(i,"RID",n),Ot(i,"AID",t.V),qd(t,i),t.o&&t.s&&Yw(i,t.o,t.s),n=new Hd(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=QD(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Kw(t.i,n),t0(n,i,e)}function qd(t,e){t.na&&Nw(t.na,function(n,i){Ot(e,i,n)}),t.h&&OD({},function(n,i){Ot(e,i,n)})}function QD(t,e,n){n=Math.min(t.j.length,n);var i=t.h?ni(t.h.Va,t.h,t):null;e:{var s=t.j;let r=-1;for(;;){const a=["count="+n];r==-1?0<n?(r=s[0].g,a.push("ofs="+r)):r=0:a.push("ofs="+r);let c=!0;for(let u=0;u<n;u++){let d=s[u].g;const f=s[u].map;if(d-=r,0>d)r=Math.max(0,s[u].g-100),c=!1;else try{E7(f,a,"req"+d+"_")}catch{i&&i(f)}}if(c){i=a.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function JD(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ad||vD(),cd||(ad(),cd=!0),jw.add(e,t),t.A=0}}function Qw(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=jd(ni(t.Ma,t),tO(t,t.A)),t.A++,!0)}ue.Ma=function(){if(this.u=null,ZD(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=jd(ni(this.jb,this),t)}};ue.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,gi(10),gy(this),ZD(this))};function Jw(t){t.B!=null&&(Le.clearTimeout(t.B),t.B=null)}function ZD(t){t.g=new Hd(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ar(t.wa);Ot(e,"RID","rpc"),Ot(e,"SID",t.K),Ot(e,"AID",t.V),Ot(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ot(e,"TO",t.qa),Ot(e,"TYPE","xmlhttp"),qd(t,e),t.o&&t.s&&Yw(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=hy(Ar(e)),n.u=null,n.S=!0,RD(n,t)}ue.ib=function(){this.v!=null&&(this.v=null,gy(this),Qw(this),gi(19))};function em(t){t.v!=null&&(Le.clearTimeout(t.v),t.v=null)}function eO(t,e){var n=null;if(t.g==e){em(t),Jw(t),t.g=null;var i=2}else if(i0(t.i,e))n=e.F,jD(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var s=t.C;i=ay(),Wn(i,new TD(i,n)),my(t)}else JD(t);else if(s=e.s,s==3||s==0&&0<e.ca||!(i==1&&R7(t,e)||i==2&&Qw(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:ya(t,5);break;case 4:ya(t,10);break;case 3:ya(t,6);break;default:ya(t,2)}}}function tO(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ya(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=ni(t.pb,t);n||(n=new Aa("//www.google.com/images/cleardot.gif"),Le.location&&Le.location.protocol=="http"||Jg(n,"https"),hy(n)),I7(n.toString(),i)}else gi(2);t.H=0,t.h&&t.h.za(e),nO(t),XD(t)}ue.pb=function(t){t?(this.l.info("Successfully pinged google.com"),gi(2)):(this.l.info("Failed to ping google.com"),gi(1))};function nO(t){if(t.H=0,t.ma=[],t.h){const e=$D(t.i);(e.length!=0||t.j.length!=0)&&(zC(t.ma,e),zC(t.ma,t.j),t.i.i.length=0,Ow(t.j),t.j.length=0),t.h.ya()}}function iO(t,e,n){var i=n instanceof Aa?Ar(n):new Aa(n);if(i.g!="")e&&(i.g=e+"."+i.g),Zg(i,i.m);else{var s=Le.location;i=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var r=new Aa(null);i&&Jg(r,i),e&&(r.g=e),s&&Zg(r,s),n&&(r.l=n),i=r}return n=t.F,e=t.Da,n&&e&&Ot(i,n,e),Ot(i,"VER",t.ra),qd(t,i),i}function sO(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new nn(new dy({ob:n})):new nn(t.va),e.Oa(t.J),e}ue.isActive=function(){return!!this.h&&this.h.isActive(this)};function rO(){}ue=rO.prototype;ue.Ba=function(){};ue.Aa=function(){};ue.za=function(){};ue.ya=function(){};ue.isActive=function(){return!0};ue.Va=function(){};function tm(){if(gl&&!(10<=Number($$)))throw Error("Environmental error: no available transport.")}tm.prototype.g=function(t,e){return new Wi(t,e)};function Wi(t,e){Fn.call(this),this.g=new YD(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!rd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!rd(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Nl(this)}Un(Wi,Fn);Wi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;gi(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=iO(t,null,t.Y),my(t)};Wi.prototype.close=function(){Xw(this.g)};Wi.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Bw(t),t=n);e.j.push(new v7(e.fb++,t)),e.H==3&&my(e)};Wi.prototype.N=function(){this.g.h=null,delete this.j,Xw(this.g),delete this.g,Wi.$.N.call(this)};function oO(t){Ww.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Un(oO,Ww);function aO(){qw.call(this),this.status=1}Un(aO,qw);function Nl(t){this.g=t}Un(Nl,rO);Nl.prototype.Ba=function(){Wn(this.g,"a")};Nl.prototype.Aa=function(t){Wn(this.g,new oO(t))};Nl.prototype.za=function(t){Wn(this.g,new aO)};Nl.prototype.ya=function(){Wn(this.g,"b")};function x7(){this.blockSize=-1}function ys(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Un(ys,x7);ys.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function X_(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)i[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)i[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var r=t.g[3],a=e+(r^n&(s^r))+i[0]+3614090360&4294967295;e=n+(a<<7&4294967295|a>>>25),a=r+(s^e&(n^s))+i[1]+3905402710&4294967295,r=e+(a<<12&4294967295|a>>>20),a=s+(n^r&(e^n))+i[2]+606105819&4294967295,s=r+(a<<17&4294967295|a>>>15),a=n+(e^s&(r^e))+i[3]+3250441966&4294967295,n=s+(a<<22&4294967295|a>>>10),a=e+(r^n&(s^r))+i[4]+4118548399&4294967295,e=n+(a<<7&4294967295|a>>>25),a=r+(s^e&(n^s))+i[5]+1200080426&4294967295,r=e+(a<<12&4294967295|a>>>20),a=s+(n^r&(e^n))+i[6]+2821735955&4294967295,s=r+(a<<17&4294967295|a>>>15),a=n+(e^s&(r^e))+i[7]+4249261313&4294967295,n=s+(a<<22&4294967295|a>>>10),a=e+(r^n&(s^r))+i[8]+1770035416&4294967295,e=n+(a<<7&4294967295|a>>>25),a=r+(s^e&(n^s))+i[9]+2336552879&4294967295,r=e+(a<<12&4294967295|a>>>20),a=s+(n^r&(e^n))+i[10]+4294925233&4294967295,s=r+(a<<17&4294967295|a>>>15),a=n+(e^s&(r^e))+i[11]+2304563134&4294967295,n=s+(a<<22&4294967295|a>>>10),a=e+(r^n&(s^r))+i[12]+1804603682&4294967295,e=n+(a<<7&4294967295|a>>>25),a=r+(s^e&(n^s))+i[13]+4254626195&4294967295,r=e+(a<<12&4294967295|a>>>20),a=s+(n^r&(e^n))+i[14]+2792965006&4294967295,s=r+(a<<17&4294967295|a>>>15),a=n+(e^s&(r^e))+i[15]+1236535329&4294967295,n=s+(a<<22&4294967295|a>>>10),a=e+(s^r&(n^s))+i[1]+4129170786&4294967295,e=n+(a<<5&4294967295|a>>>27),a=r+(n^s&(e^n))+i[6]+3225465664&4294967295,r=e+(a<<9&4294967295|a>>>23),a=s+(e^n&(r^e))+i[11]+643717713&4294967295,s=r+(a<<14&4294967295|a>>>18),a=n+(r^e&(s^r))+i[0]+3921069994&4294967295,n=s+(a<<20&4294967295|a>>>12),a=e+(s^r&(n^s))+i[5]+3593408605&4294967295,e=n+(a<<5&4294967295|a>>>27),a=r+(n^s&(e^n))+i[10]+38016083&4294967295,r=e+(a<<9&4294967295|a>>>23),a=s+(e^n&(r^e))+i[15]+3634488961&4294967295,s=r+(a<<14&4294967295|a>>>18),a=n+(r^e&(s^r))+i[4]+3889429448&4294967295,n=s+(a<<20&4294967295|a>>>12),a=e+(s^r&(n^s))+i[9]+568446438&4294967295,e=n+(a<<5&4294967295|a>>>27),a=r+(n^s&(e^n))+i[14]+3275163606&4294967295,r=e+(a<<9&4294967295|a>>>23),a=s+(e^n&(r^e))+i[3]+4107603335&4294967295,s=r+(a<<14&4294967295|a>>>18),a=n+(r^e&(s^r))+i[8]+1163531501&4294967295,n=s+(a<<20&4294967295|a>>>12),a=e+(s^r&(n^s))+i[13]+2850285829&4294967295,e=n+(a<<5&4294967295|a>>>27),a=r+(n^s&(e^n))+i[2]+4243563512&4294967295,r=e+(a<<9&4294967295|a>>>23),a=s+(e^n&(r^e))+i[7]+1735328473&4294967295,s=r+(a<<14&4294967295|a>>>18),a=n+(r^e&(s^r))+i[12]+2368359562&4294967295,n=s+(a<<20&4294967295|a>>>12),a=e+(n^s^r)+i[5]+4294588738&4294967295,e=n+(a<<4&4294967295|a>>>28),a=r+(e^n^s)+i[8]+2272392833&4294967295,r=e+(a<<11&4294967295|a>>>21),a=s+(r^e^n)+i[11]+1839030562&4294967295,s=r+(a<<16&4294967295|a>>>16),a=n+(s^r^e)+i[14]+4259657740&4294967295,n=s+(a<<23&4294967295|a>>>9),a=e+(n^s^r)+i[1]+2763975236&4294967295,e=n+(a<<4&4294967295|a>>>28),a=r+(e^n^s)+i[4]+1272893353&4294967295,r=e+(a<<11&4294967295|a>>>21),a=s+(r^e^n)+i[7]+4139469664&4294967295,s=r+(a<<16&4294967295|a>>>16),a=n+(s^r^e)+i[10]+3200236656&4294967295,n=s+(a<<23&4294967295|a>>>9),a=e+(n^s^r)+i[13]+681279174&4294967295,e=n+(a<<4&4294967295|a>>>28),a=r+(e^n^s)+i[0]+3936430074&4294967295,r=e+(a<<11&4294967295|a>>>21),a=s+(r^e^n)+i[3]+3572445317&4294967295,s=r+(a<<16&4294967295|a>>>16),a=n+(s^r^e)+i[6]+76029189&4294967295,n=s+(a<<23&4294967295|a>>>9),a=e+(n^s^r)+i[9]+3654602809&4294967295,e=n+(a<<4&4294967295|a>>>28),a=r+(e^n^s)+i[12]+3873151461&4294967295,r=e+(a<<11&4294967295|a>>>21),a=s+(r^e^n)+i[15]+530742520&4294967295,s=r+(a<<16&4294967295|a>>>16),a=n+(s^r^e)+i[2]+3299628645&4294967295,n=s+(a<<23&4294967295|a>>>9),a=e+(s^(n|~r))+i[0]+4096336452&4294967295,e=n+(a<<6&4294967295|a>>>26),a=r+(n^(e|~s))+i[7]+1126891415&4294967295,r=e+(a<<10&4294967295|a>>>22),a=s+(e^(r|~n))+i[14]+2878612391&4294967295,s=r+(a<<15&4294967295|a>>>17),a=n+(r^(s|~e))+i[5]+4237533241&4294967295,n=s+(a<<21&4294967295|a>>>11),a=e+(s^(n|~r))+i[12]+1700485571&4294967295,e=n+(a<<6&4294967295|a>>>26),a=r+(n^(e|~s))+i[3]+2399980690&4294967295,r=e+(a<<10&4294967295|a>>>22),a=s+(e^(r|~n))+i[10]+4293915773&4294967295,s=r+(a<<15&4294967295|a>>>17),a=n+(r^(s|~e))+i[1]+2240044497&4294967295,n=s+(a<<21&4294967295|a>>>11),a=e+(s^(n|~r))+i[8]+1873313359&4294967295,e=n+(a<<6&4294967295|a>>>26),a=r+(n^(e|~s))+i[15]+4264355552&4294967295,r=e+(a<<10&4294967295|a>>>22),a=s+(e^(r|~n))+i[6]+2734768916&4294967295,s=r+(a<<15&4294967295|a>>>17),a=n+(r^(s|~e))+i[13]+1309151649&4294967295,n=s+(a<<21&4294967295|a>>>11),a=e+(s^(n|~r))+i[4]+4149444226&4294967295,e=n+(a<<6&4294967295|a>>>26),a=r+(n^(e|~s))+i[11]+3174756917&4294967295,r=e+(a<<10&4294967295|a>>>22),a=s+(e^(r|~n))+i[2]+718787259&4294967295,s=r+(a<<15&4294967295|a>>>17),a=n+(r^(s|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+r&4294967295}ys.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,s=this.h,r=0;r<e;){if(s==0)for(;r<=n;)X_(this,t,r),r+=this.blockSize;if(typeof t=="string"){for(;r<e;)if(i[s++]=t.charCodeAt(r++),s==this.blockSize){X_(this,i),s=0;break}}else for(;r<e;)if(i[s++]=t[r++],s==this.blockSize){X_(this,i),s=0;break}}this.h=s,this.i+=e};ys.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function It(t,e){this.h=e;for(var n=[],i=!0,s=t.length-1;0<=s;s--){var r=t[s]|0;i&&r==e||(n[s]=r,i=!1)}this.g=n}var k7={};function Zw(t){return-128<=t&&128>t?U$(t,function(e){return new It([e|0],0>e?-1:0)}):new It([t|0],0>t?-1:0)}function Bs(t){if(isNaN(t)||!isFinite(t))return tl;if(0>t)return Hn(Bs(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=s0;return new It(e,0)}function cO(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Hn(cO(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Bs(Math.pow(e,8)),i=tl,s=0;s<t.length;s+=8){var r=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+r),e);8>r?(r=Bs(Math.pow(e,r)),i=i.R(r).add(Bs(a))):(i=i.R(n),i=i.add(Bs(a)))}return i}var s0=4294967296,tl=Zw(0),r0=Zw(1),tP=Zw(16777216);ue=It.prototype;ue.ea=function(){if(Gi(this))return-Hn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:s0+i)*e,e*=s0}return t};ue.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(gr(this))return"0";if(Gi(this))return"-"+Hn(this).toString(t);for(var e=Bs(Math.pow(t,6)),n=this,i="";;){var s=im(n,e).g;n=nm(n,s.R(e));var r=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,gr(n))return r+i;for(;6>r.length;)r="0"+r;i=r+i}};ue.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function gr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Gi(t){return t.h==-1}ue.X=function(t){return t=nm(this,t),Gi(t)?-1:gr(t)?0:1};function Hn(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new It(n,~t.h).add(r0)}ue.abs=function(){return Gi(this)?Hn(this):this};ue.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,s=0;s<=e;s++){var r=i+(this.D(s)&65535)+(t.D(s)&65535),a=(r>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);i=a>>>16,r&=65535,a&=65535,n[s]=a<<16|r}return new It(n,n[n.length-1]&-2147483648?-1:0)};function nm(t,e){return t.add(Hn(e))}ue.R=function(t){if(gr(this)||gr(t))return tl;if(Gi(this))return Gi(t)?Hn(this).R(Hn(t)):Hn(Hn(this).R(t));if(Gi(t))return Hn(this.R(Hn(t)));if(0>this.X(tP)&&0>t.X(tP))return Bs(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<t.g.length;s++){var r=this.D(i)>>>16,a=this.D(i)&65535,c=t.D(s)>>>16,u=t.D(s)&65535;n[2*i+2*s]+=a*u,Up(n,2*i+2*s),n[2*i+2*s+1]+=r*u,Up(n,2*i+2*s+1),n[2*i+2*s+1]+=a*c,Up(n,2*i+2*s+1),n[2*i+2*s+2]+=r*c,Up(n,2*i+2*s+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new It(n,0)};function Up(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function nh(t,e){this.g=t,this.h=e}function im(t,e){if(gr(e))throw Error("division by zero");if(gr(t))return new nh(tl,tl);if(Gi(t))return e=im(Hn(t),e),new nh(Hn(e.g),Hn(e.h));if(Gi(e))return e=im(t,Hn(e)),new nh(Hn(e.g),e.h);if(30<t.g.length){if(Gi(t)||Gi(e))throw Error("slowDivide_ only works with positive integers.");for(var n=r0,i=e;0>=i.X(t);)n=nP(n),i=nP(i);var s=Nc(n,1),r=Nc(i,1);for(i=Nc(i,2),n=Nc(n,2);!gr(i);){var a=r.add(i);0>=a.X(t)&&(s=s.add(n),r=a),i=Nc(i,1),n=Nc(n,1)}return e=nm(t,s.R(e)),new nh(s,e)}for(s=tl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),r=Bs(n),a=r.R(e);Gi(a)||0<a.X(t);)n-=i,r=Bs(n),a=r.R(e);gr(r)&&(r=r0),s=s.add(r),t=nm(t,a)}return new nh(s,t)}ue.gb=function(t){return im(this,t).h};ue.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new It(n,this.h&t.h)};ue.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new It(n,this.h|t.h)};ue.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new It(n,this.h^t.h)};function nP(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new It(n,t.h)}function Nc(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,s=[],r=0;r<i;r++)s[r]=0<e?t.D(r+n)>>>e|t.D(r+n+1)<<32-e:t.D(r+n);return new It(s,t.h)}tm.prototype.createWebChannel=tm.prototype.g;Wi.prototype.send=Wi.prototype.u;Wi.prototype.open=Wi.prototype.m;Wi.prototype.close=Wi.prototype.close;cy.NO_ERROR=0;cy.TIMEOUT=8;cy.HTTP_ERROR=6;SD.COMPLETE="complete";AD.EventType=$d;$d.OPEN="a";$d.CLOSE="b";$d.ERROR="c";$d.MESSAGE="d";Fn.prototype.listen=Fn.prototype.O;nn.prototype.listenOnce=nn.prototype.P;nn.prototype.getLastError=nn.prototype.Sa;nn.prototype.getLastErrorCode=nn.prototype.Ia;nn.prototype.getStatus=nn.prototype.da;nn.prototype.getResponseJson=nn.prototype.Wa;nn.prototype.getResponseText=nn.prototype.ja;nn.prototype.send=nn.prototype.ha;nn.prototype.setWithCredentials=nn.prototype.Oa;ys.prototype.digest=ys.prototype.l;ys.prototype.reset=ys.prototype.reset;ys.prototype.update=ys.prototype.j;It.prototype.add=It.prototype.add;It.prototype.multiply=It.prototype.R;It.prototype.modulo=It.prototype.gb;It.prototype.compare=It.prototype.X;It.prototype.toNumber=It.prototype.ea;It.prototype.toString=It.prototype.toString;It.prototype.getBits=It.prototype.D;It.fromNumber=Bs;It.fromString=cO;var D7=function(){return new tm},O7=function(){return ay()},Q_=cy,M7=SD,N7=za,iP={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Bp=AD,L7=nn,V7=ys,nl=It;const sP="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qn.UNAUTHENTICATED=new Qn(null),Qn.GOOGLE_CREDENTIALS=new Qn("google-credentials-uid"),Qn.FIRST_PARTY=new Qn("first-party-uid"),Qn.MOCK_USER=new Qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ll="10.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=new $m("@firebase/firestore");function ih(){return Na.logLevel}function le(t,...e){if(Na.logLevel<=Ye.DEBUG){const n=e.map(e1);Na.debug(`Firestore (${Ll}): ${t}`,...n)}}function Gs(t,...e){if(Na.logLevel<=Ye.ERROR){const n=e.map(e1);Na.error(`Firestore (${Ll}): ${t}`,...n)}}function ml(t,...e){if(Na.logLevel<=Ye.WARN){const n=e.map(e1);Na.warn(`Firestore (${Ll}): ${t}`,...n)}}function e1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t="Unexpected state"){const e=`FIRESTORE (${Ll}) INTERNAL ASSERTION FAILED: `+t;throw Gs(e),new Error(e)}function xt(t,e){t||Ne()}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class F7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qn.UNAUTHENTICATED))}shutdown(){}}class U7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class B7{constructor(e){this.t=e,this.currentUser=Qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i;const s=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let r=new $s;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new $s,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=r;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},c=u=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new $s)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(xt(typeof i.accessToken=="string"),new lO(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xt(e===null||typeof e=="string"),new Qn(e)}}class j7{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Qn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $7{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new j7(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H7{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z7{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const i=r=>{r.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.R;return this.R=r.token,le("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.A.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.A.getImmediate({optional:!0});r?s(r):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xt(typeof n.token=="string"),this.R=n.token,new H7(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=W7(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=e.charAt(s[r]%e.length))}return i}}function pt(t,e){return t<e?-1:t>e?1:0}function yl(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new fe(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pn.fromMillis(Date.now())}static fromDate(e){return Pn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new Pn(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pt(this.nanoseconds,e.nanoseconds):pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new Pn(0,0))}static max(){return new Ve(new Pn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ne(),i===void 0?i=e.length-n:i>e.length-n&&Ne(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return fd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fd?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const r=e.get(s),a=n.get(s);if(r<a)return-1;if(r>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Mt extends fd{construct(e,n,i){return new Mt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new fe(z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Mt(n)}static emptyPath(){return new Mt([])}}const q7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zn extends fd{construct(e,n,i){return new zn(e,n,i)}static isValidIdentifier(e){return q7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new zn(["__name__"])}static fromServerFormat(e){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new fe(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new fe(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new fe(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,s+=2}else c==="`"?(a=!a,s++):c!=="."||a?(i+=c,s++):(r(),s++)}if(r(),a)throw new fe(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zn(n)}static emptyPath(){return new zn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Mt.fromString(e))}static fromName(e){return new Pe(Mt.fromString(e).popFirst(5))}static empty(){return new Pe(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Mt(e.slice()))}}function K7(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=Ve.fromTimestamp(i===1e9?new Pn(n+1,0):new Pn(n,i));return new Co(s,Pe.empty(),e)}function G7(t){return new Co(t.readTime,t.key,-1)}class Co{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Co(Ve.min(),Pe.empty(),-1)}static max(){return new Co(Ve.max(),Pe.empty(),-1)}}function Y7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:pt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Q7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kd(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==X7)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new G((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof G?n:G.resolve(n)}catch(n){return G.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):G.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):G.reject(n)}static resolve(e){return new G((n,i)=>{n(e)})}static reject(e){return new G((n,i)=>{i(e)})}static waitFor(e){return new G((n,i)=>{let s=0,r=0,a=!1;e.forEach(c=>{++s,c.next(()=>{++r,a&&r===s&&n()},u=>i(u))}),a=!0,r===s&&n()})}static or(e){let n=G.resolve(!1);for(const i of e)n=n.next(s=>s?G.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(e,n){return new G((i,s)=>{const r=e.length,a=new Array(r);let c=0;for(let u=0;u<r;u++){const d=u;n(e[d]).next(f=>{a[d]=f,++c,c===r&&i(a)},f=>s(f))}})}static doWhile(e,n){return new G((i,s)=>{const r=()=>{e()===!0?n().next(()=>{r()},s):i()};r()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new $s,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Nh(e,n.error)):this.V.resolve()},this.transaction.onerror=i=>{const s=n1(i.target.error);this.V.reject(new Nh(e,s))}}static open(e,n,i,s){try{return new t1(n,e.transaction(s,i))}catch(r){throw new Nh(n,r)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(le("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Z7(n)}}class va{constructor(e,n,i){this.name=e,this.version=n,this.p=i,va.S(jt())===12.2&&Gs("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return le("SimpleDb","Removing database:",e),fa(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Jh())return!1;if(va.C())return!0;const e=jt(),n=va.S(e),i=0<n&&n<10,s=va.v(e),r=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||r)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){const n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}async O(e){return this.db||(le("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,i)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=r=>{const a=r.target.result;n(a)},s.onblocked=()=>{i(new Nh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=r=>{const a=r.target.error;a.name==="VersionError"?i(new fe(z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?i(new fe(z.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):i(new Nh(e,a))},s.onupgradeneeded=r=>{le("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',r.oldVersion);const a=r.target.result;this.p.N(a,s.transaction,r.oldVersion,this.version).next(()=>{le("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,i,s){const r=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.O(e);const c=t1.open(this.db,e,r?"readonly":"readwrite",i),u=s(c).next(d=>(c.g(),d)).catch(d=>(c.abort(d),G.reject(d))).toPromise();return u.catch(()=>{}),await c.m,u}catch(c){const u=c,d=u.name!=="FirebaseError"&&a<3;if(le("SimpleDb","Transaction failed with error:",u.message,"Retrying:",d),this.close(),!d)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}class J7{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return fa(this.k.delete())}}class Nh extends fe{constructor(e,n){super(z.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Gd(t){return t.name==="IndexedDbTransactionError"}class Z7{constructor(e){this.store=e}put(e,n){let i;return n!==void 0?(le("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(le("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),fa(i)}add(e){return le("SimpleDb","ADD",this.store.name,e,e),fa(this.store.add(e))}get(e){return fa(this.store.get(e)).next(n=>(n===void 0&&(n=null),le("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return le("SimpleDb","DELETE",this.store.name,e),fa(this.store.delete(e))}count(){return le("SimpleDb","COUNT",this.store.name),fa(this.store.count())}W(e,n){const i=this.options(e,n),s=i.index?this.store.index(i.index):this.store;if(typeof s.getAll=="function"){const r=s.getAll(i.range);return new G((a,c)=>{r.onerror=u=>{c(u.target.error)},r.onsuccess=u=>{a(u.target.result)}})}{const r=this.cursor(i),a=[];return this.G(r,(c,u)=>{a.push(u)}).next(()=>a)}}j(e,n){const i=this.store.getAll(e,n===null?void 0:n);return new G((s,r)=>{i.onerror=a=>{r(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}H(e,n){le("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,n);i.J=!1;const s=this.cursor(i);return this.G(s,(r,a,c)=>c.delete())}Y(e,n){let i;n?i=e:(i={},n=e);const s=this.cursor(i);return this.G(s,n)}Z(e){const n=this.cursor({});return new G((i,s)=>{n.onerror=r=>{const a=n1(r.target.error);s(a)},n.onsuccess=r=>{const a=r.target.result;a?e(a.primaryKey,a.value).next(c=>{c?a.continue():i()}):i()}})}G(e,n){const i=[];return new G((s,r)=>{e.onerror=a=>{r(a.target.error)},e.onsuccess=a=>{const c=a.target.result;if(!c)return void s();const u=new J7(c),d=n(c.primaryKey,c.value,u);if(d instanceof G){const f=d.catch(g=>(u.done(),G.reject(g)));i.push(f)}u.isDone?s():u.$===null?c.continue():c.continue(u.$)}}).next(()=>G.waitFor(i))}options(e,n){let i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function fa(t){return new G((e,n)=>{t.onsuccess=i=>{const s=i.target.result;e(s)},t.onerror=i=>{const s=n1(i.target.error);n(s)}})}let rP=!1;function n1(t){const e=va.S(jt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const i=new fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return rP||(rP=!0,setTimeout(()=>{throw i},0)),i}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.se(i),this.oe=i=>n.writeSequenceNumber(i))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}i1._e=-1;function yy(t){return t==null}function sm(t){return t===0&&1/t==-1/0}function e8(t){return typeof t=="number"&&Number.isInteger(t)&&!sm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n){this.comparator=e,this.root=n||$n.EMPTY}insert(e,n){return new Wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$n.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jp(this.root,e,this.comparator,!1)}getReverseIterator(){return new jp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jp(this.root,e,this.comparator,!0)}}class jp{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?i(e.key,n):1,n&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $n{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??$n.RED,this.left=s??$n.EMPTY,this.right=r??$n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,r){return new $n(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return $n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return $n.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ne();const e=this.left.check();if(e!==this.right.check())throw Ne();return e+(this.isRed()?0:1)}}$n.EMPTY=null,$n.RED=!0,$n.BLACK=!1;$n.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne()}get value(){throw Ne()}get color(){throw Ne()}get left(){throw Ne()}get right(){throw Ne()}copy(e,n,i,s,r){return this}insert(e,n,i){return new $n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new aP(this.data.getIterator())}getIteratorFrom(e){return new aP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof qn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new qn(this.comparator);return n.data=e,n}}class aP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this.fields=e,e.sort(zn.comparator)}static empty(){return new Hi([])}unionWith(e){let n=new qn(zn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Hi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yl(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new dO("Invalid base64 string: "+r):r}}(e);return new ri(n)}static fromUint8Array(e){const n=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(e);return new ri(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ri.EMPTY_BYTE_STRING=new ri("");const t8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Po(t){if(xt(!!t),typeof t=="string"){let e=0;const n=t8.exec(t);if(xt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:bn(t.seconds),nanos:bn(t.nanos)}}function bn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function La(t){return typeof t=="string"?ri.fromBase64String(t):ri.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function r1(t){const e=t.mapValue.fields.__previous_value__;return s1(e)?r1(e):e}function pd(t){const e=Po(t.mapValue.fields.__local_write_time__.timestampValue);return new Pn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e,n,i,s,r,a,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d}}class gd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new gd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof gd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Va(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?s1(t)?4:i8(t)?9007199254740991:10:Ne()}function Ys(t,e){if(t===e)return!0;const n=Va(t);if(n!==Va(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pd(t).isEqual(pd(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const a=Po(s.timestampValue),c=Po(r.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return La(s.bytesValue).isEqual(La(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return bn(s.geoPointValue.latitude)===bn(r.geoPointValue.latitude)&&bn(s.geoPointValue.longitude)===bn(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return bn(s.integerValue)===bn(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const a=bn(s.doubleValue),c=bn(r.doubleValue);return a===c?sm(a)===sm(c):isNaN(a)&&isNaN(c)}return!1}(t,e);case 9:return yl(t.arrayValue.values||[],e.arrayValue.values||[],Ys);case 10:return function(s,r){const a=s.mapValue.fields||{},c=r.mapValue.fields||{};if(oP(a)!==oP(c))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(c[u]===void 0||!Ys(a[u],c[u])))return!1;return!0}(t,e);default:return Ne()}}function md(t,e){return(t.values||[]).find(n=>Ys(n,e))!==void 0}function vl(t,e){if(t===e)return 0;const n=Va(t),i=Va(e);if(n!==i)return pt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return pt(t.booleanValue,e.booleanValue);case 2:return function(r,a){const c=bn(r.integerValue||r.doubleValue),u=bn(a.integerValue||a.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return cP(t.timestampValue,e.timestampValue);case 4:return cP(pd(t),pd(e));case 5:return pt(t.stringValue,e.stringValue);case 6:return function(r,a){const c=La(r),u=La(a);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(r,a){const c=r.split("/"),u=a.split("/");for(let d=0;d<c.length&&d<u.length;d++){const f=pt(c[d],u[d]);if(f!==0)return f}return pt(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,a){const c=pt(bn(r.latitude),bn(a.latitude));return c!==0?c:pt(bn(r.longitude),bn(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,a){const c=r.values||[],u=a.values||[];for(let d=0;d<c.length&&d<u.length;++d){const f=vl(c[d],u[d]);if(f)return f}return pt(c.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===$p.mapValue&&a===$p.mapValue)return 0;if(r===$p.mapValue)return 1;if(a===$p.mapValue)return-1;const c=r.fields||{},u=Object.keys(c),d=a.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){const y=pt(u[g],f[g]);if(y!==0)return y;const b=vl(c[u[g]],d[f[g]]);if(b!==0)return b}return pt(u.length,f.length)}(t.mapValue,e.mapValue);default:throw Ne()}}function cP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pt(t,e);const n=Po(t),i=Po(e),s=pt(n.seconds,i.seconds);return s!==0?s:pt(n.nanos,i.nanos)}function _l(t){return o0(t)}function o0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Po(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return La(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=o0(r);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const a of i)r?r=!1:s+=",",s+=`${a}:${o0(n.fields[a])}`;return s+"}"}(t.mapValue):Ne()}function lP(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function a0(t){return!!t&&"integerValue"in t}function o1(t){return!!t&&"arrayValue"in t}function uP(t){return!!t&&"nullValue"in t}function hP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vg(t){return!!t&&"mapValue"in t}function Lh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wa(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Lh(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function i8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.value=e}static empty(){return new Ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!vg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lh(n)}setAll(e){let n=zn.emptyPath(),i={},s=[];e.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,i,s),i={},s=[],n=c.popLast()}a?i[c.lastSegment()]=Lh(a):s.push(c.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(e){const n=this.field(e.popLast());vg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ys(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];vg(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){Wa(n,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new Ti(Lh(this.value))}}function fO(t){const e=[];return Wa(t.fields,(n,i)=>{const s=new zn([n]);if(vg(i)){const r=fO(i.mapValue).fields;if(r.length===0)e.push(s);else for(const a of r)e.push(s.child(a))}else e.push(s)}),new Hi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,n,i,s,r,a,c){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Jn(e,0,Ve.min(),Ve.min(),Ve.min(),Ti.empty(),0)}static newFoundDocument(e,n,i,s){return new Jn(e,1,n,Ve.min(),i,s,0)}static newNoDocument(e,n){return new Jn(e,2,n,Ve.min(),Ve.min(),Ti.empty(),0)}static newUnknownDocument(e,n){return new Jn(e,3,n,Ve.min(),Ve.min(),Ti.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,n){this.position=e,this.inclusive=n}}function dP(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const r=e[s],a=t.position[s];if(r.field.isKeyField()?i=Pe.comparator(Pe.fromName(a.referenceValue),n.key):i=vl(a,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function fP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ys(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n="asc"){this.field=e,this.dir=n}}function s8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{}class En extends pO{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new o8(e,n,i):n==="array-contains"?new l8(e,i):n==="in"?new u8(e,i):n==="not-in"?new h8(e,i):n==="array-contains-any"?new d8(e,i):new En(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new a8(e,i):new c8(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(vl(n,this.value)):n!==null&&Va(this.value)===Va(n)&&this.matchesComparison(vl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vs extends pO{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new vs(e,n)}matches(e){return gO(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function gO(t){return t.op==="and"}function mO(t){return r8(t)&&gO(t)}function r8(t){for(const e of t.filters)if(e instanceof vs)return!1;return!0}function c0(t){if(t instanceof En)return t.field.canonicalString()+t.op.toString()+_l(t.value);if(mO(t))return t.filters.map(e=>c0(e)).join(",");{const e=t.filters.map(n=>c0(n)).join(",");return`${t.op}(${e})`}}function yO(t,e){return t instanceof En?function(i,s){return s instanceof En&&i.op===s.op&&i.field.isEqual(s.field)&&Ys(i.value,s.value)}(t,e):t instanceof vs?function(i,s){return s instanceof vs&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,a,c)=>r&&yO(a,s.filters[c]),!0):!1}(t,e):void Ne()}function vO(t){return t instanceof En?function(n){return`${n.field.canonicalString()} ${n.op} ${_l(n.value)}`}(t):t instanceof vs?function(n){return n.op.toString()+" {"+n.getFilters().map(vO).join(" ,")+"}"}(t):"Filter"}class o8 extends En{constructor(e,n,i){super(e,n,i),this.key=Pe.fromName(i.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class a8 extends En{constructor(e,n){super(e,"in",n),this.keys=_O("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class c8 extends En{constructor(e,n){super(e,"not-in",n),this.keys=_O("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _O(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Pe.fromName(i.referenceValue))}class l8 extends En{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return o1(n)&&md(n.arrayValue,this.value)}}class u8 extends En{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&md(this.value.arrayValue,n)}}class h8 extends En{constructor(e,n){super(e,"not-in",n)}matches(e){if(md(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!md(this.value.arrayValue,n)}}class d8 extends En{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!o1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>md(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(e,n=null,i=[],s=[],r=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=a,this.endAt=c,this.ce=null}}function pP(t,e=null,n=[],i=[],s=null,r=null,a=null){return new f8(t,e,n,i,s,r,a)}function a1(t){const e=Fe(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>c0(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),yy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>_l(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>_l(i)).join(",")),e.ce=n}return e.ce}function c1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!s8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fP(t.startAt,e.startAt)&&fP(t.endAt,e.endAt)}function l0(t){return Pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n=null,i=[],s=[],r=null,a="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=a,this.startAt=c,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function p8(t,e,n,i,s,r,a,c){return new Vl(t,e,n,i,s,r,a,c)}function vy(t){return new Vl(t)}function gP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bO(t){return t.collectionGroup!==null}function Vh(t){const e=Fe(t);if(e.le===null){e.le=[];const n=new Set;for(const r of e.explicitOrderBy)e.le.push(r),n.add(r.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new qn(zn.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.le.push(new yd(r,i))}),n.has(zn.keyField().canonicalString())||e.le.push(new yd(zn.keyField(),i))}return e.le}function Hs(t){const e=Fe(t);return e.he||(e.he=g8(e,Vh(t))),e.he}function g8(t,e){if(t.limitType==="F")return pP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new yd(s.field,r)});const n=t.endAt?new rm(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new rm(t.startAt.position,t.startAt.inclusive):null;return pP(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function u0(t,e){const n=t.filters.concat([e]);return new Vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function om(t,e,n){return new Vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _y(t,e){return c1(Hs(t),Hs(e))&&t.limitType===e.limitType}function wO(t){return`${a1(Hs(t))}|lt:${t.limitType}`}function Uc(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>vO(s)).join(", ")}]`),yy(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>_l(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>_l(s)).join(",")),`Target(${i})`}(Hs(t))}; limitType=${t.limitType})`}function by(t,e){return e.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):Pe.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(t,e)&&function(i,s){for(const r of Vh(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(a,c,u){const d=dP(a,c,u);return a.inclusive?d<=0:d<0}(i.startAt,Vh(i),s)||i.endAt&&!function(a,c,u){const d=dP(a,c,u);return a.inclusive?d>=0:d>0}(i.endAt,Vh(i),s))}(t,e)}function m8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function EO(t){return(e,n)=>{let i=!1;for(const s of Vh(t)){const r=y8(s,e,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function y8(t,e,n){const i=t.field.isKeyField()?Pe.comparator(e.key,n.key):function(r,a,c){const u=a.data.field(r),d=c.data.field(r);return u!==null&&d!==null?vl(u,d):Ne()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Wa(this.inner,(n,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return hO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8=new Wt(Pe.comparator);function Cr(){return v8}const IO=new Wt(Pe.comparator);function mh(...t){let e=IO;for(const n of t)e=e.insert(n.key,n);return e}function TO(t){let e=IO;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function _a(){return Fh()}function SO(){return Fh()}function Fh(){return new Fl(t=>t.toString(),(t,e)=>t.isEqual(e))}const _8=new Wt(Pe.comparator),b8=new qn(Pe.comparator);function Xe(...t){let e=b8;for(const n of t)e=e.add(n);return e}const w8=new qn(pt);function E8(){return w8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sm(e)?"-0":e}}function CO(t){return{integerValue:""+t}}function I8(t,e){return e8(e)?CO(e):AO(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(){this._=void 0}}function T8(t,e,n){return t instanceof am?function(s,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&s1(r)&&(r=r1(r)),r&&(a.fields.__previous_value__=r),{mapValue:a}}(n,e):t instanceof vd?RO(t,e):t instanceof _d?xO(t,e):function(s,r){const a=PO(s,r),c=mP(a)+mP(s.Ie);return a0(a)&&a0(s.Ie)?CO(c):AO(s.serializer,c)}(t,e)}function S8(t,e,n){return t instanceof vd?RO(t,e):t instanceof _d?xO(t,e):n}function PO(t,e){return t instanceof cm?function(i){return a0(i)||function(r){return!!r&&"doubleValue"in r}(i)}(e)?e:{integerValue:0}:null}class am extends wy{}class vd extends wy{constructor(e){super(),this.elements=e}}function RO(t,e){const n=kO(e);for(const i of t.elements)n.some(s=>Ys(s,i))||n.push(i);return{arrayValue:{values:n}}}class _d extends wy{constructor(e){super(),this.elements=e}}function xO(t,e){let n=kO(e);for(const i of t.elements)n=n.filter(s=>!Ys(s,i));return{arrayValue:{values:n}}}class cm extends wy{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function mP(t){return bn(t.integerValue||t.doubleValue)}function kO(t){return o1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function A8(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof vd&&s instanceof vd||i instanceof _d&&s instanceof _d?yl(i.elements,s.elements,Ys):i instanceof cm&&s instanceof cm?Ys(i.Ie,s.Ie):i instanceof am&&s instanceof am}(t.transform,e.transform)}class C8{constructor(e,n){this.version=e,this.transformResults=n}}class Ji{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ji}static exists(e){return new Ji(void 0,e)}static updateTime(e){return new Ji(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _g(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ey{}function DO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new l1(t.key,Ji.none()):new Yd(t.key,t.data,Ji.none());{const n=t.data,i=Ti.empty();let s=new qn(zn.comparator);for(let r of e.fields)if(!s.has(r)){let a=n.field(r);a===null&&r.length>1&&(r=r.popLast(),a=n.field(r)),a===null?i.delete(r):i.set(r,a),s=s.add(r)}return new Vo(t.key,i,new Hi(s.toArray()),Ji.none())}}function P8(t,e,n){t instanceof Yd?function(s,r,a){const c=s.value.clone(),u=vP(s.fieldTransforms,r,a.transformResults);c.setAll(u),r.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Vo?function(s,r,a){if(!_g(s.precondition,r))return void r.convertToUnknownDocument(a.version);const c=vP(s.fieldTransforms,r,a.transformResults),u=r.data;u.setAll(OO(s)),u.setAll(c),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(s,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Uh(t,e,n,i){return t instanceof Yd?function(r,a,c,u){if(!_g(r.precondition,a))return c;const d=r.value.clone(),f=_P(r.fieldTransforms,u,a);return d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,i):t instanceof Vo?function(r,a,c,u){if(!_g(r.precondition,a))return c;const d=_P(r.fieldTransforms,u,a),f=a.data;return f.setAll(OO(r)),f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),c===null?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(g=>g.field))}(t,e,n,i):function(r,a,c){return _g(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(t,e,n)}function R8(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),r=PO(i.transform,s||null);r!=null&&(n===null&&(n=Ti.empty()),n.set(i.field,r))}return n||null}function yP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&yl(i,s,(r,a)=>A8(r,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Yd extends Ey{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Vo extends Ey{constructor(e,n,i,s,r=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function OO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function vP(t,e,n){const i=new Map;xt(t.length===n.length);for(let s=0;s<n.length;s++){const r=t[s],a=r.transform,c=e.data.field(r.field);i.set(r.field,S8(a,c,n[s]))}return i}function _P(t,e,n){const i=new Map;for(const s of t){const r=s.transform,a=n.data.field(s.field);i.set(s.field,T8(r,a,e))}return i}class l1 extends Ey{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class x8 extends Ey{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&P8(r,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Uh(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Uh(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=SO();return this.mutations.forEach(s=>{const r=e.get(s.key),a=r.overlayedDocument;let c=this.applyToLocalView(a,r.mutatedFields);c=n.has(s.key)?null:c;const u=DO(a,c);u!==null&&i.set(s.key,u),a.isValidDocument()||a.convertToNoDocument(Ve.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xe())}isEqual(e){return this.batchId===e.batchId&&yl(this.mutations,e.mutations,(n,i)=>yP(n,i))&&yl(this.baseMutations,e.baseMutations,(n,i)=>yP(n,i))}}class u1{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){xt(e.mutations.length===i.length);let s=function(){return _8}();const r=e.mutations;for(let a=0;a<r.length;a++)s=s.insert(r[a].key,i[a].version);return new u1(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vn,ot;function M8(t){switch(t){default:return Ne();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function MO(t){if(t===void 0)return Gs("GRPC error has no .code"),z.UNKNOWN;switch(t){case vn.OK:return z.OK;case vn.CANCELLED:return z.CANCELLED;case vn.UNKNOWN:return z.UNKNOWN;case vn.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case vn.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case vn.INTERNAL:return z.INTERNAL;case vn.UNAVAILABLE:return z.UNAVAILABLE;case vn.UNAUTHENTICATED:return z.UNAUTHENTICATED;case vn.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case vn.NOT_FOUND:return z.NOT_FOUND;case vn.ALREADY_EXISTS:return z.ALREADY_EXISTS;case vn.PERMISSION_DENIED:return z.PERMISSION_DENIED;case vn.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case vn.ABORTED:return z.ABORTED;case vn.OUT_OF_RANGE:return z.OUT_OF_RANGE;case vn.UNIMPLEMENTED:return z.UNIMPLEMENTED;case vn.DATA_LOSS:return z.DATA_LOSS;default:return Ne()}}(ot=vn||(vn={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8=new nl([4294967295,4294967295],0);function bP(t){const e=N8().encode(t),n=new V7;return n.update(e),new Uint8Array(n.digest())}function wP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new nl([n,i],0),new nl([s,r],0)]}class h1{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new yh(`Invalid padding: ${n}`);if(i<0)throw new yh(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new yh(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new yh(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=nl.fromNumber(this.Te)}de(e,n,i){let s=e.add(n.multiply(nl.fromNumber(i)));return s.compare(L8)===1&&(s=new nl([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=bP(e),[i,s]=wP(n);for(let r=0;r<this.hashCount;r++){const a=this.de(i,s,r);if(!this.Ae(a))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),a=new h1(r,s,n);return i.forEach(c=>a.insert(c)),a}insert(e){if(this.Te===0)return;const n=bP(e),[i,s]=wP(n);for(let r=0;r<this.hashCount;r++){const a=this.de(i,s,r);this.Re(a)}}Re(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class yh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,n,i,s,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Xd.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Iy(Ve.min(),s,new Wt(pt),Cr(),Xe())}}class Xd{constructor(e,n,i,s,r){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Xd(i,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n,i,s){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=s}}class NO{constructor(e,n){this.targetId=e,this.fe=n}}class LO{constructor(e,n,i=ri.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class EP{constructor(){this.ge=0,this.pe=TP(),this.ye=ri.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Xe(),n=Xe(),i=Xe();return this.pe.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Ne()}}),new Xd(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=TP()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,xt(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class V8{constructor(e){this.Be=e,this.ke=new Map,this.qe=Cr(),this.Qe=IP(),this.Ke=new Wt(pt)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:Ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,i=e.fe.count,s=this.Ye(n);if(s){const r=s.target;if(l0(r))if(i===0){const a=new Pe(r.path);this.We(n,a,Jn.newNoDocument(a,Ve.min()))}else xt(i===1);else{const a=this.Ze(n);if(a!==i){const c=this.Xe(e),u=c?this.et(c,e,a):1;if(u!==0){this.He(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,d)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=n;let a,c;try{a=La(i).toUint8Array()}catch(u){if(u instanceof dO)return ml("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new h1(a,s,r)}catch(u){return ml(u instanceof yh?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Te===0?null:c}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){const i=this.Be.getRemoteKeysForTarget(n);let s=0;return i.forEach(r=>{const a=this.Be.nt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;e.mightContain(c)||(this.We(n,r,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((r,a)=>{const c=this.Ye(a);if(c){if(r.current&&l0(c.target)){const u=new Pe(c.target.path);this.qe.get(u)!==null||this.st(a,u)||this.We(a,u,Jn.newNoDocument(u,e))}r.De&&(n.set(a,r.ve()),r.Fe())}});let i=Xe();this.Qe.forEach((r,a)=>{let c=!0;a.forEachWhile(u=>{const d=this.Ye(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(r))}),this.qe.forEach((r,a)=>a.setReadTime(e));const s=new Iy(e,n,this.Ke,this.qe,i);return this.qe=Cr(),this.Qe=IP(),this.Ke=new Wt(pt),s}Ue(e,n){if(!this.je(e))return;const i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new EP,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new qn(pt),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new EP),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function IP(){return new Wt(Pe.comparator)}function TP(){return new Wt(Pe.comparator)}const F8={asc:"ASCENDING",desc:"DESCENDING"},U8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B8={and:"AND",or:"OR"};class j8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function h0(t,e){return t.useProto3Json||yy(e)?e:{value:e}}function lm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function $8(t,e){return lm(t,e.toTimestamp())}function zs(t){return xt(!!t),Ve.fromTimestamp(function(n){const i=Po(n);return new Pn(i.seconds,i.nanos)}(t))}function d1(t,e){return d0(t,e).canonicalString()}function d0(t,e){const n=function(s){return new Mt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function FO(t){const e=Mt.fromString(t);return xt(HO(e)),e}function f0(t,e){return d1(t.databaseId,e.path)}function J_(t,e){const n=FO(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pe(BO(n))}function UO(t,e){return d1(t.databaseId,e)}function H8(t){const e=FO(t);return e.length===4?Mt.emptyPath():BO(e)}function p0(t){return new Mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BO(t){return xt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function SP(t,e,n){return{name:f0(t,e),fields:n.value.mapValue.fields}}function z8(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(d,f){return d.useProto3Json?(xt(f===void 0||typeof f=="string"),ri.fromBase64String(f||"")):(xt(f===void 0||f instanceof Uint8Array),ri.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(d){const f=d.code===void 0?z.UNKNOWN:MO(d.code);return new fe(f,d.message||"")}(a);n=new LO(i,s,r,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=J_(t,i.document.name),r=zs(i.document.updateTime),a=i.document.createTime?zs(i.document.createTime):Ve.min(),c=new Ti({mapValue:{fields:i.document.fields}}),u=Jn.newFoundDocument(s,r,a,c),d=i.targetIds||[],f=i.removedTargetIds||[];n=new bg(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=J_(t,i.document),r=i.readTime?zs(i.readTime):Ve.min(),a=Jn.newNoDocument(s,r),c=i.removedTargetIds||[];n=new bg([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=J_(t,i.document),r=i.removedTargetIds||[];n=new bg([],r,s,null)}else{if(!("filter"in e))return Ne();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,a=new O8(s,r),c=i.targetId;n=new NO(c,a)}}return n}function W8(t,e){let n;if(e instanceof Yd)n={update:SP(t,e.key,e.value)};else if(e instanceof l1)n={delete:f0(t,e.key)};else if(e instanceof Vo)n={update:SP(t,e.key,e.data),updateMask:eH(e.fieldMask)};else{if(!(e instanceof x8))return Ne();n={verify:f0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const c=a.transform;if(c instanceof am)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof vd)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof _d)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof cm)return{fieldPath:a.field.canonicalString(),increment:c.Ie};throw Ne()}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:$8(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Ne()}(t,e.precondition)),n}function q8(t,e){return t&&t.length>0?(xt(e!==void 0),t.map(n=>function(s,r){let a=s.updateTime?zs(s.updateTime):zs(r);return a.isEqual(Ve.min())&&(a=zs(r)),new C8(a,s.transformResults||[])}(n,e))):[]}function K8(t,e){return{documents:[UO(t,e.path)]}}function G8(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=UO(t,s);const r=function(d){if(d.length!==0)return $O(vs.create(d,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const a=function(d){if(d.length!==0)return d.map(f=>function(y){return{field:Bc(y.field),direction:Q8(y.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const c=h0(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ut:n,parent:s}}function Y8(t){let e=H8(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){xt(i===1);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let r=[];n.where&&(r=function(g){const y=jO(g);return y instanceof vs&&mO(y)?y.getFilters():[y]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(y=>function(E){return new yd(jc(E.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(g){let y;return y=typeof g=="object"?g.value:g,yy(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(g){const y=!!g.before,b=g.values||[];return new rm(b,y)}(n.startAt));let d=null;return n.endAt&&(d=function(g){const y=!g.before,b=g.values||[];return new rm(b,y)}(n.endAt)),p8(e,s,a,r,c,"F",u,d)}function X8(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=jc(n.unaryFilter.field);return En.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=jc(n.unaryFilter.field);return En.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=jc(n.unaryFilter.field);return En.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=jc(n.unaryFilter.field);return En.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Ne()}}(t):t.fieldFilter!==void 0?function(n){return En.create(jc(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return vs.create(n.compositeFilter.filters.map(i=>jO(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ne()}}(n.compositeFilter.op))}(t):Ne()}function Q8(t){return F8[t]}function J8(t){return U8[t]}function Z8(t){return B8[t]}function Bc(t){return{fieldPath:t.canonicalString()}}function jc(t){return zn.fromServerFormat(t.fieldPath)}function $O(t){return t instanceof En?function(n){if(n.op==="=="){if(hP(n.value))return{unaryFilter:{field:Bc(n.field),op:"IS_NAN"}};if(uP(n.value))return{unaryFilter:{field:Bc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hP(n.value))return{unaryFilter:{field:Bc(n.field),op:"IS_NOT_NAN"}};if(uP(n.value))return{unaryFilter:{field:Bc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bc(n.field),op:J8(n.op),value:n.value}}}(t):t instanceof vs?function(n){const i=n.getFilters().map(s=>$O(s));return i.length===1?i[0]:{compositeFilter:{op:Z8(n.op),filters:i}}}(t):Ne()}function eH(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function HO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n,i,s,r=Ve.min(),a=Ve.min(),c=ri.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new uo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(e){this.ct=e}}function nH(t){const e=Y8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?om(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{constructor(){this._n=new sH}addToCollectionParentIndex(e,n){return this._n.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(Co.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(Co.min())}updateCollectionGroup(e,n,i){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}}class sH{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new qn(Mt.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new qn(Mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new bl(0)}static Ln(){return new bl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rH{constructor(){this.changes=new Fl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?G.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aH{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&Uh(i.mutation,s,Hi.empty(),Pn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Xe()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Xe()){const s=_a();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(r=>{let a=mh();return r.forEach((c,u)=>{a=a.insert(c,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=_a();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Xe()))}populateOverlays(e,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((a,c)=>{n.set(a,c)})})}computeViews(e,n,i,s){let r=Cr();const a=Fh(),c=function(){return Fh()}();return n.forEach((u,d)=>{const f=i.get(d.key);s.has(d.key)&&(f===void 0||f.mutation instanceof Vo)?r=r.insert(d.key,d):f!==void 0?(a.set(d.key,f.mutation.getFieldMask()),Uh(f.mutation,d,f.mutation.getFieldMask(),Pn.now())):a.set(d.key,Hi.empty())}),this.recalculateAndSaveOverlays(e,r).next(u=>(u.forEach((d,f)=>a.set(d,f)),n.forEach((d,f)=>{var g;return c.set(d,new oH(f,(g=a.get(d))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){const i=Fh();let s=new Wt((a,c)=>a-c),r=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const c of a)c.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let f=i.get(u)||Hi.empty();f=c.applyToLocalView(d,f),i.set(u,f);const g=(s.get(c.batchId)||Xe()).add(u);s=s.insert(c.batchId,g)})}).next(()=>{const a=[],c=s.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),d=u.key,f=u.value,g=SO();f.forEach(y=>{if(!r.has(y)){const b=DO(n.get(y),i.get(y));b!==null&&g.set(y,b),r=r.add(y)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,g))}return G.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(a){return Pe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(r=>{const a=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-r.size):G.resolve(_a());let c=-1,u=r;return a.next(d=>G.forEach(d,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),r.get(f)?G.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{u=u.insert(f,y)}))).next(()=>this.populateOverlays(e,d,r)).next(()=>this.computeViews(e,u,d,Xe())).next(f=>({batchId:c,changes:TO(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next(i=>{let s=mh();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const r=n.collectionGroup;let a=mh();return this.indexManager.getCollectionParents(e,r).next(c=>G.forEach(c,u=>{const d=function(g,y){return new Vl(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(r));return this.getDocumentsMatchingCollectionQuery(e,d,i,s).next(f=>{f.forEach((g,y)=>{a=a.insert(g,y)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,r,s))).next(a=>{r.forEach((u,d)=>{const f=d.getKey();a.get(f)===null&&(a=a.insert(f,Jn.newInvalidDocument(f)))});let c=mh();return a.forEach((u,d)=>{const f=r.get(u);f!==void 0&&Uh(f.mutation,d,Hi.empty(),Pn.now()),by(n,d)&&(c=c.insert(u,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cH{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return G.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:zs(s.createTime)}}(n)),G.resolve()}getNamedQuery(e,n){return G.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(s){return{name:s.name,query:nH(s.bundledQuery),readTime:zs(s.readTime)}}(n)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(){this.overlays=new Wt(Pe.comparator),this.hr=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){const i=_a();return G.forEach(n,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,r)=>{this.ht(e,n,r)}),G.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.hr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.hr.delete(i)),G.resolve()}getOverlaysForCollection(e,n,i){const s=_a(),r=n.length+1,a=new Pe(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const u=c.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===r&&u.largestBatchId>i&&s.set(u.getKey(),u)}return G.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let r=new Wt((d,f)=>d-f);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>i){let f=r.get(d.largestBatchId);f===null&&(f=_a(),r=r.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const c=_a(),u=r.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=s)););return G.resolve(c)}ht(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const a=this.hr.get(s.largestBatchId).delete(i.key);this.hr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new D8(n,i));let r=this.hr.get(n);r===void 0&&(r=Xe(),this.hr.set(n,r)),this.hr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.Pr=new qn(Mn.Ir),this.Tr=new qn(Mn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const i=new Mn(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new Mn(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){const n=new Pe(new Mt([])),i=new Mn(n,e),s=new Mn(n,e+1),r=[];return this.Tr.forEachInRange([i,s],a=>{this.Ar(a),r.push(a.key)}),r}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Pe(new Mt([])),i=new Mn(n,e),s=new Mn(n,e+1);let r=Xe();return this.Tr.forEachInRange([i,s],a=>{r=r.add(a.key)}),r}containsKey(e){const n=new Mn(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Mn{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Pe.comparator(e.key,n.key)||pt(e.pr,n.pr)}static Er(e,n){return pt(e.pr,n.pr)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new qn(Mn.Ir)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const r=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new k8(r,n,i,s);this.mutationQueue.push(a);for(const c of s)this.wr=this.wr.add(new Mn(c.key,r)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return G.resolve(a)}lookupMutationBatch(e,n){return G.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.br(i),r=s<0?0:s;return G.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Mn(n,0),s=new Mn(n,Number.POSITIVE_INFINITY),r=[];return this.wr.forEachInRange([i,s],a=>{const c=this.Sr(a.pr);r.push(c)}),G.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new qn(pt);return n.forEach(s=>{const r=new Mn(s,0),a=new Mn(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([r,a],c=>{i=i.add(c.pr)})}),G.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let r=i;Pe.isDocumentKey(r)||(r=r.child(""));const a=new Mn(new Pe(r),0);let c=new qn(pt);return this.wr.forEachWhile(u=>{const d=u.key.path;return!!i.isPrefixOf(d)&&(d.length===s&&(c=c.add(u.pr)),!0)},a),G.resolve(this.Dr(c))}Dr(e){const n=[];return e.forEach(i=>{const s=this.Sr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){xt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return G.forEach(n.mutations,s=>{const r=new Mn(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){const i=new Mn(n,0),s=this.wr.firstAfterOrEqual(i);return G.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(e){this.vr=e,this.docs=function(){return new Wt(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,a=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return G.resolve(i?i.document.mutableCopy():Jn.newInvalidDocument(n))}getEntries(e,n){let i=Cr();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():Jn.newInvalidDocument(s))}),G.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let r=Cr();const a=n.path,c=new Pe(a.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||Y7(G7(f),i)<=0||(s.has(f.key)||by(n,f))&&(r=r.insert(f.key,f.mutableCopy()))}return G.resolve(r)}getAllFromCollectionGroup(e,n,i,s){Ne()}Fr(e,n){return G.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new dH(this)}getSize(e){return G.resolve(this.size)}}class dH extends rH{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(e,s)):this.ar.removeEntry(i)}),G.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(e){this.persistence=e,this.Mr=new Fl(n=>a1(n),c1),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.Or=0,this.Nr=new f1,this.targetCount=0,this.Lr=bl.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,s)=>n(s)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),G.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new bl(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.qn(n),G.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,i){let s=0;const r=[];return this.Mr.forEach((a,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.Mr.delete(a),r.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),G.waitFor(r).next(()=>s)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){const i=this.Mr.get(n)||null;return G.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),G.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(a=>{r.push(s.markPotentiallyOrphaned(e,a))}),G.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),G.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Nr.gr(n);return G.resolve(i)}containsKey(e,n){return G.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pH{constructor(e,n){this.Br={},this.overlays={},this.kr=new i1(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new fH(this),this.indexManager=new iH,this.remoteDocumentCache=function(s){return new hH(s)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new tH(n),this.$r=new cH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new uH(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){le("MemoryPersistence","Starting transaction:",e);const s=new gH(this.kr.next());return this.referenceDelegate.Ur(),i(s).next(r=>this.referenceDelegate.Wr(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Gr(e,n){return G.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}}class gH extends Q7{constructor(e){super(),this.currentSequenceNumber=e}}class p1{constructor(e){this.persistence=e,this.zr=new f1,this.jr=null}static Hr(e){return new p1(e)}get Jr(){if(this.jr)return this.jr;throw Ne()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),G.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),G.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(r=>this.Jr.add(r.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.Jr,i=>{const s=Pe.fromPath(i);return this.Yr(e,s).next(r=>{r||n.removeEntry(s,Ve.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return G.or([()=>G.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=s}static Ki(e,n){let i=Xe(),s=Xe();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new g1(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return K3()?8:va.v(jt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,s){const r={result:null};return this.ji(e,n).next(a=>{r.result=a}).next(()=>{if(!r.result)return this.Hi(e,n,s,i).next(a=>{r.result=a})}).next(()=>{if(r.result)return;const a=new mH;return this.Ji(e,n,a).next(c=>{if(r.result=c,this.Ui)return this.Yi(e,n,a,c.size)})}).next(()=>r.result)}Yi(e,n,i,s){return i.documentReadCount<this.Wi?(ih()<=Ye.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Uc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),G.resolve()):(ih()<=Ye.DEBUG&&le("QueryEngine","Query:",Uc(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Gi*s?(ih()<=Ye.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Uc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hs(n))):G.resolve())}ji(e,n){if(gP(n))return G.resolve(null);let i=Hs(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=om(n,null,"F"),i=Hs(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{const a=Xe(...r);return this.zi.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,i).next(u=>{const d=this.Zi(n,c);return this.Xi(n,d,a,u.readTime)?this.ji(e,om(n,null,"F")):this.es(e,d,n,u)}))})))}Hi(e,n,i,s){return gP(n)||s.isEqual(Ve.min())?G.resolve(null):this.zi.getDocuments(e,i).next(r=>{const a=this.Zi(n,r);return this.Xi(n,a,i,s)?G.resolve(null):(ih()<=Ye.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Uc(n)),this.es(e,a,n,K7(s,-1)).next(c=>c))})}Zi(e,n){let i=new qn(EO(e));return n.forEach((s,r)=>{by(e,r)&&(i=i.add(r))}),i}Xi(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Ji(e,n,i){return ih()<=Ye.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Uc(n)),this.zi.getDocumentsMatchingQuery(e,n,Co.min(),i)}es(e,n,i,s){return this.zi.getDocumentsMatchingQuery(e,i,s).next(r=>(n.forEach(a=>{r=r.insert(a.key,a)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(e,n,i,s){this.persistence=e,this.ts=n,this.serializer=s,this.ns=new Wt(pt),this.rs=new Fl(r=>a1(r),c1),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aH(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function _H(t,e,n,i){return new vH(t,e,n,i)}async function zO(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const a=[],c=[];let u=Xe();for(const d of s){a.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of r){c.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(i,u).next(d=>({us:d,removedBatchIds:a,addedBatchIds:c}))})})}function bH(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),r=n.os.newChangeBuffer({trackRemovals:!0});return function(c,u,d,f){const g=d.batch,y=g.keys();let b=G.resolve();return y.forEach(E=>{b=b.next(()=>f.getEntry(u,E)).next(_=>{const w=d.docVersions.get(E);xt(w!==null),_.version.compareTo(w)<0&&(g.applyToRemoteDocument(_,d),_.isValidDocument()&&(_.setReadTime(d.commitVersion),f.addEntry(_)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(u,g))}(n,i,e,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let u=Xe();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function WO(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function wH(t,e){const n=Fe(t),i=e.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const a=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const c=[];e.targetChanges.forEach((f,g)=>{const y=s.get(g);if(!y)return;c.push(n.Qr.removeMatchingKeys(r,f.removedDocuments,g).next(()=>n.Qr.addMatchingKeys(r,f.addedDocuments,g)));let b=y.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(g)!==null?b=b.withResumeToken(ri.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):f.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(f.resumeToken,i)),s=s.insert(g,b),function(_,w,T){return _.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(y,b,f)&&c.push(n.Qr.updateTargetData(r,b))});let u=Cr(),d=Xe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(r,f))}),c.push(EH(r,a,e.documentUpdates).next(f=>{u=f.cs,d=f.ls})),!i.isEqual(Ve.min())){const f=n.Qr.getLastRemoteSnapshotVersion(r).next(g=>n.Qr.setTargetsMetadata(r,r.currentSequenceNumber,i));c.push(f)}return G.waitFor(c).next(()=>a.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,u,d)).next(()=>u)}).then(r=>(n.ns=s,r))}function EH(t,e,n){let i=Xe(),s=Xe();return n.forEach(r=>i=i.add(r)),e.getEntries(t,i).next(r=>{let a=Cr();return n.forEach((c,u)=>{const d=r.get(c);u.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),u.isNoDocument()&&u.version.isEqual(Ve.min())?(e.removeEntry(c,u.readTime),a=a.insert(c,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),a=a.insert(c,u)):le("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",u.version)}),{cs:a,ls:s}})}function IH(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function TH(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Qr.getTargetData(i,e).next(r=>r?(s=r,G.resolve(s)):n.Qr.allocateTargetId(i).next(a=>(s=new uo(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.ns.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}async function g0(t,e,n){const i=Fe(t),s=i.ns.get(e),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Gd(a))throw a;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}i.ns=i.ns.remove(e),i.rs.delete(s.target)}function AP(t,e,n){const i=Fe(t);let s=Ve.min(),r=Xe();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,d,f){const g=Fe(u),y=g.rs.get(f);return y!==void 0?G.resolve(g.ns.get(y)):g.Qr.getTargetData(d,f)}(i,a,Hs(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(a,c.targetId).next(u=>{r=u})}).next(()=>i.ts.getDocumentsMatchingQuery(a,e,n?s:Ve.min(),n?r:Xe())).next(c=>(SH(i,m8(e),c),{documents:c,hs:r})))}function SH(t,e,n){let i=t.ss.get(e)||Ve.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),t.ss.set(e,i)}class CP{constructor(){this.activeTargetIds=E8()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AH{constructor(){this.no=new CP,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new CP,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hp=null;function Z_(){return Hp===null?Hp=function(){return 268435456+Math.round(2147483648*Math.random())}():Hp++,"0x"+Hp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn="WebChannelConnection";class xH extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=i+"://"+n.host,this.po=`projects/${s}/databases/${r}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${r}`}get wo(){return!1}So(n,i,s,r,a){const c=Z_(),u=this.bo(n,i.toUriEncodedString());le("RestConnection",`Sending RPC '${n}' ${c}:`,u,s);const d={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(d,r,a),this.Co(n,u,d,s).then(f=>(le("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw ml("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",s),f})}vo(n,i,s,r,a,c){return this.So(n,i,s,r,a)}Do(n,i,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ll}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((r,a)=>n[a]=r),s&&s.headers.forEach((r,a)=>n[a]=r)}bo(n,i){const s=PH[n];return`${this.fo}/v1/${i}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,i,s){const r=Z_();return new Promise((a,c)=>{const u=new L7;u.setWithCredentials(!0),u.listenOnce(M7.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Q_.NO_ERROR:const f=u.getResponseJson();le(Yn,`XHR for RPC '${e}' ${r} received:`,JSON.stringify(f)),a(f);break;case Q_.TIMEOUT:le(Yn,`RPC '${e}' ${r} timed out`),c(new fe(z.DEADLINE_EXCEEDED,"Request time out"));break;case Q_.HTTP_ERROR:const g=u.getStatus();if(le(Yn,`RPC '${e}' ${r} failed with status:`,g,"response text:",u.getResponseText()),g>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const b=y==null?void 0:y.error;if(b&&b.status&&b.message){const E=function(w){const T=w.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(T)>=0?T:z.UNKNOWN}(b.status);c(new fe(E,b.message))}else c(new fe(z.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new fe(z.UNAVAILABLE,"Connection failed."));break;default:Ne()}}finally{le(Yn,`RPC '${e}' ${r} completed.`)}});const d=JSON.stringify(s);le(Yn,`RPC '${e}' ${r} sending request:`,s),u.send(n,"POST",d,i,15)})}Fo(e,n,i){const s=Z_(),r=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=D7(),c=O7(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const f=r.join("");le(Yn,`Creating RPC '${e}' stream ${s}: ${f}`,u);const g=a.createWebChannel(f,u);let y=!1,b=!1;const E=new RH({lo:w=>{b?le(Yn,`Not sending because RPC '${e}' stream ${s} is closed:`,w):(y||(le(Yn,`Opening RPC '${e}' stream ${s} transport.`),g.open(),y=!0),le(Yn,`RPC '${e}' stream ${s} sending:`,w),g.send(w))},ho:()=>g.close()}),_=(w,T,S)=>{w.listen(T,x=>{try{S(x)}catch(k){setTimeout(()=>{throw k},0)}})};return _(g,Bp.EventType.OPEN,()=>{b||le(Yn,`RPC '${e}' stream ${s} transport opened.`)}),_(g,Bp.EventType.CLOSE,()=>{b||(b=!0,le(Yn,`RPC '${e}' stream ${s} transport closed`),E.Vo())}),_(g,Bp.EventType.ERROR,w=>{b||(b=!0,ml(Yn,`RPC '${e}' stream ${s} transport errored:`,w),E.Vo(new fe(z.UNAVAILABLE,"The operation could not be completed")))}),_(g,Bp.EventType.MESSAGE,w=>{var T;if(!b){const S=w.data[0];xt(!!S);const x=S,k=x.error||((T=x[0])===null||T===void 0?void 0:T.error);if(k){le(Yn,`RPC '${e}' stream ${s} received error:`,k);const D=k.status;let N=function($){const ie=vn[$];if(ie!==void 0)return MO(ie)}(D),O=k.message;N===void 0&&(N=z.INTERNAL,O="Unknown error status: "+D+" with message "+k.message),b=!0,E.Vo(new fe(N,O)),g.close()}else le(Yn,`RPC '${e}' stream ${s} received:`,S),E.mo(S)}}),_(c,N7.STAT_EVENT,w=>{w.stat===iP.PROXY?le(Yn,`RPC '${e}' stream ${s} detected buffering proxy`):w.stat===iP.NOPROXY&&le(Yn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.Ro()},0),E}}function eb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(t){return new j8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,n,i=1e3,s=1.5,r=6e4){this.oi=e,this.timerId=n,this.Mo=i,this.xo=s,this.Oo=r,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),i=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-i);s>0&&le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n,i,s,r,a,c,u){this.oi=e,this.$o=i,this.Uo=s,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new qO(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Gs(n.toString()),Gs("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Wo===n&&this.o_(i,s)},i=>{e(()=>{const s=new fe(z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.__(s)})})}o_(e,n){const i=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{i(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{i(()=>this.__(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kH extends KO{constructor(e,n,i,s,r,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=z8(this.serializer,e),i=function(r){if(!("targetChange"in r))return Ve.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Ve.min():a.readTime?zs(a.readTime):Ve.min()}(e);return this.listener.u_(n,i)}c_(e){const n={};n.database=p0(this.serializer),n.addTarget=function(r,a){let c;const u=a.target;if(c=l0(u)?{documents:K8(r,u)}:{query:G8(r,u).ut},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=VO(r,a.resumeToken);const d=h0(r,a.expectedCount);d!==null&&(c.expectedCount=d)}else if(a.snapshotVersion.compareTo(Ve.min())>0){c.readTime=lm(r,a.snapshotVersion.toTimestamp());const d=h0(r,a.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const i=X8(this.serializer,e);i&&(n.labels=i),this.t_(n)}l_(e){const n={};n.database=p0(this.serializer),n.removeTarget=e,this.t_(n)}}class DH extends KO{constructor(e,n,i,s,r,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=q8(e.writeResults,e.commitTime),i=zs(e.commitTime);return this.listener.T_(i,n)}return xt(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=p0(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>W8(this.serializer,i))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH extends class{}{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new fe(z.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.So(e,d0(n,i),s,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new fe(z.UNKNOWN,r.toString())})}vo(e,n,i,s,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.vo(e,d0(n,i),s,a,c,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(z.UNKNOWN,a.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class MH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Gs(n),this.g_=!1):le("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(e,n,i,s,r){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=r,this.M_.io(a=>{i.enqueueAndForget(async()=>{qa(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(u){const d=Fe(u);d.v_.add(4),await Qd(d),d.x_.set("Unknown"),d.v_.delete(4),await Sy(d)}(this))})}),this.x_=new MH(i,s)}}async function Sy(t){if(qa(t))for(const e of t.F_)await e(!0)}async function Qd(t){for(const e of t.F_)await e(!1)}function GO(t,e){const n=Fe(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),_1(n)?v1(n):Ul(n).Jo()&&y1(n,e))}function m1(t,e){const n=Fe(t),i=Ul(n);n.C_.delete(e),i.Jo()&&YO(n,e),n.C_.size===0&&(i.Jo()?i.Xo():qa(n)&&n.x_.set("Unknown"))}function y1(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ul(t).c_(e)}function YO(t,e){t.O_.Oe(e),Ul(t).l_(e)}function v1(t){t.O_=new V8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ul(t).start(),t.x_.p_()}function _1(t){return qa(t)&&!Ul(t).Ho()&&t.C_.size>0}function qa(t){return Fe(t).v_.size===0}function XO(t){t.O_=void 0}async function LH(t){t.C_.forEach((e,n)=>{y1(t,e)})}async function VH(t,e){XO(t),_1(t)?(t.x_.S_(e),v1(t)):t.x_.set("Unknown")}async function FH(t,e,n){if(t.x_.set("Online"),e instanceof LO&&e.state===2&&e.cause)try{await async function(s,r){const a=r.cause;for(const c of r.targetIds)s.C_.has(c)&&(await s.remoteSyncer.rejectListen(c,a),s.C_.delete(c),s.O_.removeTarget(c))}(t,e)}catch(i){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await um(t,i)}else if(e instanceof bg?t.O_.$e(e):e instanceof NO?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Ve.min()))try{const i=await WO(t.localStore);n.compareTo(i)>=0&&await function(r,a){const c=r.O_.it(a);return c.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=r.C_.get(d);f&&r.C_.set(d,f.withResumeToken(u.resumeToken,a))}}),c.targetMismatches.forEach((u,d)=>{const f=r.C_.get(u);if(!f)return;r.C_.set(u,f.withResumeToken(ri.EMPTY_BYTE_STRING,f.snapshotVersion)),YO(r,u);const g=new uo(f.target,u,d,f.sequenceNumber);y1(r,g)}),r.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(i){le("RemoteStore","Failed to raise snapshot:",i),await um(t,i)}}async function um(t,e,n){if(!Gd(e))throw e;t.v_.add(1),await Qd(t),t.x_.set("Offline"),n||(n=()=>WO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Sy(t)})}function QO(t,e){return e().catch(n=>um(t,n,e))}async function Ay(t){const e=Fe(t),n=Ro(e);let i=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;UH(e);)try{const s=await IH(e.localStore,i);if(s===null){e.D_.length===0&&n.Xo();break}i=s.batchId,BH(e,s)}catch(s){await um(e,s)}JO(e)&&ZO(e)}function UH(t){return qa(t)&&t.D_.length<10}function BH(t,e){t.D_.push(e);const n=Ro(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function JO(t){return qa(t)&&!Ro(t).Ho()&&t.D_.length>0}function ZO(t){Ro(t).start()}async function jH(t){Ro(t).d_()}async function $H(t){const e=Ro(t);for(const n of t.D_)e.I_(n.mutations)}async function HH(t,e,n){const i=t.D_.shift(),s=u1.from(i,e,n);await QO(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Ay(t)}async function zH(t,e){e&&Ro(t).P_&&await async function(i,s){if(function(a){return M8(a)&&a!==z.ABORTED}(s.code)){const r=i.D_.shift();Ro(i).Zo(),await QO(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await Ay(i)}}(t,e),JO(t)&&ZO(t)}async function RP(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const i=qa(n);n.v_.add(3),await Qd(n),i&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Sy(n)}async function WH(t,e){const n=Fe(t);e?(n.v_.delete(2),await Sy(n)):e||(n.v_.add(2),await Qd(n),n.x_.set("Unknown"))}function Ul(t){return t.N_||(t.N_=function(n,i,s){const r=Fe(n);return r.R_(),new kH(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{Po:LH.bind(null,t),To:VH.bind(null,t),u_:FH.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),_1(t)?v1(t):t.x_.set("Unknown")):(await t.N_.stop(),XO(t))})),t.N_}function Ro(t){return t.L_||(t.L_=function(n,i,s){const r=Fe(n);return r.R_(),new DH(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{Po:jH.bind(null,t),To:zH.bind(null,t),E_:$H.bind(null,t),T_:HH.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await Ay(t)):(await t.L_.stop(),t.D_.length>0&&(le("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n,i,s,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new $s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,r){const a=Date.now()+i,c=new b1(e,n,a,s,r);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function w1(t,e){if(Gs("AsyncQueue",`${e}: ${t}`),Gd(t))return new fe(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this.comparator=e?(n,i)=>e(n,i)||Pe.comparator(n.key,i.key):(n,i)=>Pe.comparator(n.key,i.key),this.keyedMap=mh(),this.sortedSet=new Wt(this.comparator)}static emptySet(e){return new il(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof il)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new il;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(){this.B_=new Wt(Pe.comparator)}track(e){const n=e.doc.key,i=this.B_.get(n);i?e.type!==0&&i.type===3?this.B_=this.B_.insert(n,e):e.type===3&&i.type!==1?this.B_=this.B_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.B_=this.B_.remove(n):e.type===1&&i.type===2?this.B_=this.B_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Ne():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,i)=>{e.push(i)}),e}}class wl{constructor(e,n,i,s,r,a,c,u,d){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,i,s,r){const a=[];return n.forEach(c=>{a.push({type:0,doc:c})}),new wl(e,n,il.emptySet(n),a,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_y(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class KH{constructor(){this.queries=new Fl(e=>wO(e),_y),this.onlineState="Unknown",this.W_=new Set}}async function E1(t,e){const n=Fe(t);let i=3;const s=e.query;let r=n.queries.get(s);r?!r.K_()&&e.U_()&&(i=2):(r=new qH,i=e.U_()?0:1);try{switch(i){case 0:r.q_=await n.onListen(s,!0);break;case 1:r.q_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const c=w1(a,`Initialization of query '${Uc(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,r),r.Q_.push(e),e.G_(n.onlineState),r.q_&&e.z_(r.q_)&&T1(n)}async function I1(t,e){const n=Fe(t),i=e.query;let s=3;const r=n.queries.get(i);if(r){const a=r.Q_.indexOf(e);a>=0&&(r.Q_.splice(a,1),r.Q_.length===0?s=e.U_()?0:1:!r.K_()&&e.U_()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function GH(t,e){const n=Fe(t);let i=!1;for(const s of e){const r=s.query,a=n.queries.get(r);if(a){for(const c of a.Q_)c.z_(s)&&(i=!0);a.q_=s}}i&&T1(n)}function YH(t,e,n){const i=Fe(t),s=i.queries.get(e);if(s)for(const r of s.Q_)r.onError(n);i.queries.delete(e)}function T1(t){t.W_.forEach(e=>{e.next()})}var m0,kP;(kP=m0||(m0={})).j_="default",kP.Cache="cache";class S1{constructor(e,n,i){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=i||{}}z_(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new wl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const i=n!=="Offline";return(!this.options.ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=wl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==m0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.key=e}}class tM{constructor(e){this.key=e}}class XH{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=Xe(),this.mutatedKeys=Xe(),this.ha=EO(e),this.Pa=new il(this.ha)}get Ia(){return this.ua}Ta(e,n){const i=n?n.Ea:new xP,s=n?n.Pa:this.Pa;let r=n?n.mutatedKeys:this.mutatedKeys,a=s,c=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,g)=>{const y=s.get(f),b=by(this.query,g)?g:null,E=!!y&&this.mutatedKeys.has(y.key),_=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let w=!1;y&&b?y.data.isEqual(b.data)?E!==_&&(i.track({type:3,doc:b}),w=!0):this.da(y,b)||(i.track({type:2,doc:b}),w=!0,(u&&this.ha(b,u)>0||d&&this.ha(b,d)<0)&&(c=!0)):!y&&b?(i.track({type:0,doc:b}),w=!0):y&&!b&&(i.track({type:1,doc:y}),w=!0,(u||d)&&(c=!0)),w&&(b?(a=a.add(b),r=_?r.add(f):r.delete(f)):(a=a.delete(f),r=r.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),r=r.delete(f.key),i.track({type:1,doc:f})}return{Pa:a,Ea:i,Xi:c,mutatedKeys:r}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const r=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const a=e.Ea.k_();a.sort((f,g)=>function(b,E){const _=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne()}};return _(b)-_(E)}(f.type,g.type)||this.ha(f.doc,g.doc)),this.Aa(i),s=s!=null&&s;const c=n&&!s?this.Ra():[],u=this.la.size===0&&this.current&&!s?1:0,d=u!==this.ca;return this.ca=u,a.length!==0||d?{snapshot:new wl(this.query,e.Pa,r,a,e.mutatedKeys,u===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),Va:c}:{Va:c}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new xP,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=Xe(),this.Pa.forEach(i=>{this.ma(i.key)&&(this.la=this.la.add(i.key))});const n=[];return e.forEach(i=>{this.la.has(i)||n.push(new tM(i))}),this.la.forEach(i=>{e.has(i)||n.push(new eM(i))}),n}fa(e){this.ua=e.hs,this.la=Xe();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return wl.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class QH{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class JH{constructor(e){this.key=e,this.pa=!1}}class ZH{constructor(e,n,i,s,r,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.ya={},this.wa=new Fl(c=>wO(c),_y),this.Sa=new Map,this.ba=new Set,this.Da=new Wt(Pe.comparator),this.Ca=new Map,this.va=new f1,this.Fa={},this.Ma=new Map,this.xa=bl.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function ez(t,e,n=!0){const i=aM(t);let s;const r=i.wa.get(e);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.ga()):s=await nM(i,e,n,!0),s}async function tz(t,e){const n=aM(t);await nM(n,e,!0,!1)}async function nM(t,e,n,i){const s=await TH(t.localStore,Hs(e)),r=s.targetId,a=n?t.sharedClientState.addLocalQueryTarget(r):"not-current";let c;return i&&(c=await nz(t,e,r,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&GO(t.remoteStore,s),c}async function nz(t,e,n,i,s){t.Na=(g,y,b)=>async function(_,w,T,S){let x=w.view.Ta(T);x.Xi&&(x=await AP(_.localStore,w.query,!1).then(({documents:O})=>w.view.Ta(O,x)));const k=S&&S.targetChanges.get(w.targetId),D=S&&S.targetMismatches.get(w.targetId)!=null,N=w.view.applyChanges(x,_.isPrimaryClient,k,D);return OP(_,w.targetId,N.Va),N.snapshot}(t,g,y,b);const r=await AP(t.localStore,e,!0),a=new XH(e,r.hs),c=a.Ta(r.documents),u=Xd.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),d=a.applyChanges(c,t.isPrimaryClient,u);OP(t,n,d.Va);const f=new QH(e,n,a);return t.wa.set(e,f),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),d.snapshot}async function iz(t,e,n){const i=Fe(t),s=i.wa.get(e),r=i.Sa.get(s.targetId);if(r.length>1)return i.Sa.set(s.targetId,r.filter(a=>!_y(a,e))),void i.wa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await g0(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&m1(i.remoteStore,s.targetId),y0(i,s.targetId)}).catch(Kd)):(y0(i,s.targetId),await g0(i.localStore,s.targetId,!0))}async function sz(t,e){const n=Fe(t),i=n.wa.get(e),s=n.Sa.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),m1(n.remoteStore,i.targetId))}async function rz(t,e,n){const i=dz(t);try{const s=await function(a,c){const u=Fe(a),d=Pn.now(),f=c.reduce((b,E)=>b.add(E.key),Xe());let g,y;return u.persistence.runTransaction("Locally write mutations","readwrite",b=>{let E=Cr(),_=Xe();return u.os.getEntries(b,f).next(w=>{E=w,E.forEach((T,S)=>{S.isValidDocument()||(_=_.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(b,E)).next(w=>{g=w;const T=[];for(const S of c){const x=R8(S,g.get(S.key).overlayedDocument);x!=null&&T.push(new Vo(S.key,x,fO(x.value.mapValue),Ji.exists(!0)))}return u.mutationQueue.addMutationBatch(b,d,T,c)}).next(w=>{y=w;const T=w.applyToLocalDocumentSet(g,_);return u.documentOverlayCache.saveOverlays(b,w.batchId,T)})}).then(()=>({batchId:y.batchId,changes:TO(g)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(a,c,u){let d=a.Fa[a.currentUser.toKey()];d||(d=new Wt(pt)),d=d.insert(c,u),a.Fa[a.currentUser.toKey()]=d}(i,s.batchId,n),await Jd(i,s.changes),await Ay(i.remoteStore)}catch(s){const r=w1(s,"Failed to persist write");n.reject(r)}}async function iM(t,e){const n=Fe(t);try{const i=await wH(n.localStore,e);e.targetChanges.forEach((s,r)=>{const a=n.Ca.get(r);a&&(xt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.pa=!0:s.modifiedDocuments.size>0?xt(a.pa):s.removedDocuments.size>0&&(xt(a.pa),a.pa=!1))}),await Jd(n,i,e)}catch(i){await Kd(i)}}function DP(t,e,n){const i=Fe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.wa.forEach((r,a)=>{const c=a.view.G_(e);c.snapshot&&s.push(c.snapshot)}),function(a,c){const u=Fe(a);u.onlineState=c;let d=!1;u.queries.forEach((f,g)=>{for(const y of g.Q_)y.G_(c)&&(d=!0)}),d&&T1(u)}(i.eventManager,e),s.length&&i.ya.u_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function oz(t,e,n){const i=Fe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Ca.get(e),r=s&&s.key;if(r){let a=new Wt(Pe.comparator);a=a.insert(r,Jn.newNoDocument(r,Ve.min()));const c=Xe().add(r),u=new Iy(Ve.min(),new Map,new Wt(pt),a,c);await iM(i,u),i.Da=i.Da.remove(r),i.Ca.delete(e),A1(i)}else await g0(i.localStore,e,!1).then(()=>y0(i,e,n)).catch(Kd)}async function az(t,e){const n=Fe(t),i=e.batch.batchId;try{const s=await bH(n.localStore,e);rM(n,i,null),sM(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Jd(n,s)}catch(s){await Kd(s)}}async function cz(t,e,n){const i=Fe(t);try{const s=await function(a,c){const u=Fe(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,c).next(g=>(xt(g!==null),f=g.keys(),u.mutationQueue.removeMutationBatch(d,g))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(i.localStore,e);rM(i,e,n),sM(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Jd(i,s)}catch(s){await Kd(s)}}function sM(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function rM(t,e,n){const i=Fe(t);let s=i.Fa[i.currentUser.toKey()];if(s){const r=s.get(e);r&&(n?r.reject(n):r.resolve(),s=s.remove(e)),i.Fa[i.currentUser.toKey()]=s}}function y0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Sa.get(e))t.wa.delete(i),n&&t.ya.La(i,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(i=>{t.va.containsKey(i)||oM(t,i)})}function oM(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(m1(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),A1(t))}function OP(t,e,n){for(const i of n)i instanceof eM?(t.va.addReference(i.key,e),lz(t,i)):i instanceof tM?(le("SyncEngine","Document no longer in limbo: "+i.key),t.va.removeReference(i.key,e),t.va.containsKey(i.key)||oM(t,i.key)):Ne()}function lz(t,e){const n=e.key,i=n.path.canonicalString();t.Da.get(n)||t.ba.has(i)||(le("SyncEngine","New document in limbo: "+n),t.ba.add(i),A1(t))}function A1(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new Pe(Mt.fromString(e)),i=t.xa.next();t.Ca.set(i,new JH(n)),t.Da=t.Da.insert(n,i),GO(t.remoteStore,new uo(Hs(vy(n.path)),i,"TargetPurposeLimboResolution",i1._e))}}async function Jd(t,e,n){const i=Fe(t),s=[],r=[],a=[];i.wa.isEmpty()||(i.wa.forEach((c,u)=>{a.push(i.Na(u,e,n).then(d=>{if((d||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(u.targetId,d!=null&&d.fromCache?"not-current":"current"),d){s.push(d);const f=g1.Ki(u.targetId,d);r.push(f)}}))}),await Promise.all(a),i.ya.u_(s),await async function(u,d){const f=Fe(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>G.forEach(d,y=>G.forEach(y.qi,b=>f.persistence.referenceDelegate.addReference(g,y.targetId,b)).next(()=>G.forEach(y.Qi,b=>f.persistence.referenceDelegate.removeReference(g,y.targetId,b)))))}catch(g){if(!Gd(g))throw g;le("LocalStore","Failed to update sequence numbers: "+g)}for(const g of d){const y=g.targetId;if(!g.fromCache){const b=f.ns.get(y),E=b.snapshotVersion,_=b.withLastLimboFreeSnapshotVersion(E);f.ns=f.ns.insert(y,_)}}}(i.localStore,r))}async function uz(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const i=await zO(n.localStore,e);n.currentUser=e,function(r,a){r.Ma.forEach(c=>{c.forEach(u=>{u.reject(new fe(z.CANCELLED,a))})}),r.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Jd(n,i.us)}}function hz(t,e){const n=Fe(t),i=n.Ca.get(e);if(i&&i.pa)return Xe().add(i.key);{let s=Xe();const r=n.Sa.get(e);if(!r)return s;for(const a of r){const c=n.wa.get(a);s=s.unionWith(c.view.Ia)}return s}}function aM(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oz.bind(null,e),e.ya.u_=GH.bind(null,e.eventManager),e.ya.La=YH.bind(null,e.eventManager),e}function dz(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=az.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cz.bind(null,e),e}class MP{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ty(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return _H(this.persistence,new yH,e.initialUser,this.serializer)}createPersistence(e){return new pH(p1.Hr,this.serializer)}createSharedClientState(e){return new AH}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class fz{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>DP(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=uz.bind(null,this.syncEngine),await WH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new KH}()}createDatastore(e){const n=Ty(e.databaseInfo.databaseId),i=function(r){return new xH(r)}(e.databaseInfo);return function(r,a,c,u){return new OH(r,a,c,u)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,r,a,c){return new NH(i,s,r,a,c)}(this.localStore,this.datastore,e.asyncQueue,n=>DP(this.syncEngine,n,0),function(){return PP.D()?new PP:new CH}())}createSyncEngine(e,n){return function(s,r,a,c,u,d,f){const g=new ZH(s,r,a,c,u,d);return f&&(g.Oa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(i){const s=Fe(i);le("RemoteStore","RemoteStore shutting down."),s.v_.add(5),await Qd(s),s.M_.shutdown(),s.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Gs("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e,n,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Qn.UNAUTHENTICATED,this.clientId=uO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async r=>{le("FirestoreClient","Received user=",r.uid),await this.authCredentialListener(r),this.user=r}),this.appCheckCredentials.start(i,r=>(le("FirestoreClient","Received new app check token=",r),this.appCheckCredentialListener(r,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new fe(z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=w1(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function tb(t,e){t.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await zO(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function NP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await mz(t);le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>RP(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>RP(e.remoteStore,s)),t._onlineComponents=e}function gz(t){return t.name==="FirebaseError"?t.code===z.FAILED_PRECONDITION||t.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function mz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await tb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!gz(n))throw n;ml("Error using user provided cache. Falling back to memory cache: "+n),await tb(t,new MP)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await tb(t,new MP);return t._offlineComponents}async function cM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await NP(t,t._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await NP(t,new fz))),t._onlineComponents}function yz(t){return cM(t).then(e=>e.syncEngine)}async function hm(t){const e=await cM(t),n=e.eventManager;return n.onListen=ez.bind(null,e.syncEngine),n.onUnlisten=iz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sz.bind(null,e.syncEngine),n}function vz(t,e,n={}){const i=new $s;return t.asyncQueue.enqueueAndForget(async()=>function(r,a,c,u,d){const f=new C1({next:y=>{a.enqueueAndForget(()=>I1(r,g));const b=y.docs.has(c);!b&&y.fromCache?d.reject(new fe(z.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&y.fromCache&&u&&u.source==="server"?d.reject(new fe(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),g=new S1(vy(c.path),f,{includeMetadataChanges:!0,ta:!0});return E1(r,g)}(await hm(t),t.asyncQueue,e,n,i)),i.promise}function _z(t,e,n={}){const i=new $s;return t.asyncQueue.enqueueAndForget(async()=>function(r,a,c,u,d){const f=new C1({next:y=>{a.enqueueAndForget(()=>I1(r,g)),y.fromCache&&u.source==="server"?d.reject(new fe(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),g=new S1(c,f,{includeMetadataChanges:!0,ta:!0});return E1(r,g)}(await hm(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(t,e,n){if(!n)throw new fe(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bz(t,e,n,i){if(e===!0&&i===!0)throw new fe(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function VP(t){if(!Pe.isDocumentKey(t))throw new fe(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function FP(t){if(Pe.isDocumentKey(t))throw new fe(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Cy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne()}function Ci(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cy(t);throw new fe(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function wz(t,e){if(e<=0)throw new fe(z.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lM((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Py{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new fe(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new fe(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UP(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new F7;switch(i.type){case"firstParty":return new $7(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new fe(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=LP.get(n);i&&(le("ComponentProvider","Removing Datastore"),LP.delete(n),i.terminate())}(this),Promise.resolve()}}function Ez(t,e,n,i={}){var s;const r=(t=Ci(t,Py))._getSettings(),a=`${e}:${n}`;if(r.host!=="firestore.googleapis.com"&&r.host!==a&&ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},r),{host:a,ssl:!1})),i.mockUserToken){let c,u;if(typeof i.mockUserToken=="string")c=i.mockUserToken,u=Qn.MOCK_USER;else{c=W3(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new fe(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Qn(d)}t._authCredentials=new U7(new lO(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Dr(this.firestore,e,this._query)}}class si{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _o(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new si(this.firestore,e,this._key)}}class _o extends Dr{constructor(e,n,i){super(e,n,vy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new si(this.firestore,null,new Pe(e))}withConverter(e){return new _o(this.firestore,e,this._path)}}function zi(t,e,...n){if(t=Me(t),uM("collection","path",e),t instanceof Py){const i=Mt.fromString(e,...n);return FP(i),new _o(t,null,i)}{if(!(t instanceof si||t instanceof _o))throw new fe(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Mt.fromString(e,...n));return FP(i),new _o(t.firestore,null,i)}}function xo(t,e,...n){if(t=Me(t),arguments.length===1&&(e=uO.newId()),uM("doc","path",e),t instanceof Py){const i=Mt.fromString(e,...n);return VP(i),new si(t,null,new Pe(i))}{if(!(t instanceof si||t instanceof _o))throw new fe(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Mt.fromString(e,...n));return VP(i),new si(t.firestore,t instanceof _o?t.converter:null,new Pe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new qO(this,"async_queue_retry"),this.cu=()=>{const n=eb();n&&le("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=eb();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=eb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new $s;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Gd(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(i=>{this.ou=i,this._u=!1;const s=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(i);throw Gs("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this._u=!1,i))));return this.nu=n,n}enqueueAfterDelay(e,n,i){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const s=b1.createAndSchedule(this,e,n,i,r=>this.Iu(r));return this.su.push(s),s}lu(){this.ou&&Ne()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}function BP(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const r of i)if(r in s&&typeof s[r]=="function")return!0;return!1}(t,["next","error","complete"])}class Pr extends Py{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=function(){return new Iz}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||hM(this),this._firestoreClient.terminate()}}function Sn(t,e){const n=typeof t=="object"?t:lw(),i=typeof t=="string"?t:e||"(default)",s=kd(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=H3("firestore");r&&Ez(s,...r)}return s}function Ry(t){return t._firestoreClient||hM(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function hM(t){var e,n,i;const s=t._freezeSettings(),r=function(c,u,d,f){return new n8(c,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,lM(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new pz(t._authCredentials,t._appCheckCredentials,t._queue,r),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this._byteString=e}static fromBase64String(e){try{return new El(ri.fromBase64String(e))}catch(n){throw new fe(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new El(ri.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pt(this._lat,e._lat)||pt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tz=/^__.*__$/;class Sz{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Vo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yd(e,this.data,n,this.fieldTransforms)}}class dM{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Vo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne()}}class x1{constructor(e,n,i,s,r,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.Ru(),this.fieldTransforms=r||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new x1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:i,gu:!1});return s.pu(e),s}yu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:i,gu:!1});return s.Ru(),s}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return dm(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(fM(this.Vu)&&Tz.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class Az{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Ty(e)}Cu(e,n,i,s=!1){return new x1({Vu:e,methodName:n,Du:i,path:zn.emptyPath(),gu:!1,bu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ky(t){const e=t._freezeSettings(),n=Ty(t._databaseId);return new Az(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pM(t,e,n,i,s,r={}){const a=t.Cu(r.merge||r.mergeFields?2:0,e,n,s);k1("Data must be an object, but it was:",a,i);const c=gM(i,a);let u,d;if(r.merge)u=new Hi(a.fieldMask),d=a.fieldTransforms;else if(r.mergeFields){const f=[];for(const g of r.mergeFields){const y=v0(e,g,n);if(!a.contains(y))throw new fe(z.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);yM(f,y)||f.push(y)}u=new Hi(f),d=a.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,d=a.fieldTransforms;return new Sz(new Ti(c),u,d)}class Zd extends P1{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zd}}function Cz(t,e,n,i){const s=t.Cu(1,e,n);k1("Data must be an object, but it was:",s,i);const r=[],a=Ti.empty();Wa(i,(u,d)=>{const f=D1(e,u,n);d=Me(d);const g=s.yu(f);if(d instanceof Zd)r.push(f);else{const y=ef(d,g);y!=null&&(r.push(f),a.set(f,y))}});const c=new Hi(r);return new dM(a,c,s.fieldTransforms)}function Pz(t,e,n,i,s,r){const a=t.Cu(1,e,n),c=[v0(e,i,n)],u=[s];if(r.length%2!=0)throw new fe(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<r.length;y+=2)c.push(v0(e,r[y])),u.push(r[y+1]);const d=[],f=Ti.empty();for(let y=c.length-1;y>=0;--y)if(!yM(d,c[y])){const b=c[y];let E=u[y];E=Me(E);const _=a.yu(b);if(E instanceof Zd)d.push(b);else{const w=ef(E,_);w!=null&&(d.push(b),f.set(b,w))}}const g=new Hi(d);return new dM(f,g,a.fieldTransforms)}function Rz(t,e,n,i=!1){return ef(n,t.Cu(i?4:3,e))}function ef(t,e){if(mM(t=Me(t)))return k1("Unsupported field value:",e,t),gM(t,e);if(t instanceof P1)return function(i,s){if(!fM(s.Vu))throw s.Su(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Su(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(i,s){const r=[];let a=0;for(const c of i){let u=ef(c,s.wu(a));u==null&&(u={nullValue:"NULL_VALUE"}),r.push(u),a++}return{arrayValue:{values:r}}}(t,e)}return function(i,s){if((i=Me(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return I8(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=Pn.fromDate(i);return{timestampValue:lm(s.serializer,r)}}if(i instanceof Pn){const r=new Pn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:lm(s.serializer,r)}}if(i instanceof R1)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof El)return{bytesValue:VO(s.serializer,i._byteString)};if(i instanceof si){const r=s.databaseId,a=i.firestore._databaseId;if(!a.isEqual(r))throw s.Su(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:d1(i.firestore._databaseId||s.databaseId,i._key.path)}}throw s.Su(`Unsupported field value: ${Cy(i)}`)}(t,e)}function gM(t,e){const n={};return hO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wa(t,(i,s)=>{const r=ef(s,e.fu(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function mM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pn||t instanceof R1||t instanceof El||t instanceof si||t instanceof P1)}function k1(t,e,n){if(!mM(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=Cy(n);throw i==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+i)}}function v0(t,e,n){if((e=Me(e))instanceof xy)return e._internalPath;if(typeof e=="string")return D1(t,e);throw dm("Field path arguments must be of type string or ",t,!1,void 0,n)}const xz=new RegExp("[~\\*/\\[\\]]");function D1(t,e,n){if(e.search(xz)>=0)throw dm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xy(...e.split("."))._internalPath}catch{throw dm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dm(t,e,n,i,s){const r=i&&!i.isEmpty(),a=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(r||a)&&(u+=" (found",r&&(u+=` in field ${i}`),a&&(u+=` in document ${s}`),u+=")"),new fe(z.INVALID_ARGUMENT,c+t+u)}function yM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n,i,s,r){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new si(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Dy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kz extends vM{data(){return super.data()}}function Dy(t,e){return typeof e=="string"?D1(t,e):e instanceof xy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class O1{}class M1 extends O1{}function sl(t,e,...n){let i=[];e instanceof O1&&i.push(e),i=i.concat(n),function(r){const a=r.filter(u=>u instanceof N1).length,c=r.filter(u=>u instanceof Oy).length;if(a>1||a>0&&c>0)throw new fe(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class Oy extends M1{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Oy(e,n,i)}_apply(e){const n=this._parse(e);return bM(e._query,n),new Dr(e.firestore,e.converter,u0(e._query,n))}_parse(e){const n=ky(e.firestore);return function(r,a,c,u,d,f,g){let y;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new fe(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){HP(g,f);const b=[];for(const E of g)b.push($P(u,r,E));y={arrayValue:{values:b}}}else y=$P(u,r,g)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||HP(g,f),y=Rz(c,a,g,f==="in"||f==="not-in");return En.create(d,f,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function zp(t,e,n){const i=e,s=Dy("where",t);return Oy._create(s,i,n)}class N1 extends O1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new N1(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:vs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,r){let a=s;const c=r.getFlattenedFilters();for(const u of c)bM(a,u),a=u0(a,u)}(e._query,n),new Dr(e.firestore,e.converter,u0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class L1 extends M1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new L1(e,n)}_apply(e){const n=function(s,r,a){if(s.startAt!==null)throw new fe(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new fe(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yd(r,a)}(e._query,this._field,this._direction);return new Dr(e.firestore,e.converter,function(s,r){const a=s.explicitOrderBy.concat([r]);return new Vl(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function wg(t,e="asc"){const n=e,i=Dy("orderBy",t);return L1._create(i,n)}class V1 extends M1{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new V1(e,n,i)}_apply(e){return new Dr(e.firestore,e.converter,om(e._query,this._limit,this._limitType))}}function jP(t){return wz("limit",t),V1._create("limit",t,"F")}function $P(t,e,n){if(typeof(n=Me(n))=="string"){if(n==="")throw new fe(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bO(e)&&n.indexOf("/")!==-1)throw new fe(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Mt.fromString(n));if(!Pe.isDocumentKey(i))throw new fe(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return lP(t,new Pe(i))}if(n instanceof si)return lP(t,n._key);throw new fe(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cy(n)}.`)}function HP(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bM(t,e){const n=function(s,r){for(const a of s)for(const c of a.getFlattenedFilters())if(r.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new fe(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Dz{convertValue(e,n="none"){switch(Va(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(La(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Wa(e,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertGeoPoint(e){return new R1(bn(e.latitude),bn(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=r1(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(pd(e));default:return null}}convertTimestamp(e){const n=Po(e);return new Pn(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Mt.fromString(e);xt(HO(i));const s=new gd(i.get(1),i.get(3)),r=new Pe(i.popFirst(5));return s.isEqual(n)||Gs(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class EM extends vM{constructor(e,n,i,s,r,a){super(e,n,i,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Eg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Dy("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Eg extends EM{data(e={}){return super.data(e)}}class IM{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new vh(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Eg(this._firestore,this._userDataWriter,i.key,i,new vh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(c=>{const u=new Eg(s._firestore,s._userDataWriter,c.doc.key,c.doc,new vh(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>r||c.type!==3).map(c=>{const u=new Eg(s._firestore,s._userDataWriter,c.doc.key,c.doc,new vh(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,f=-1;return c.type!==0&&(d=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),f=a.indexOf(c.doc.key)),{type:Oz(c.type),doc:u,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Oz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mz(t){t=Ci(t,si);const e=Ci(t.firestore,Pr);return vz(Ry(e),t._key).then(n=>SM(e,t,n))}class F1 extends Dz{constructor(e){super(),this.firestore=e}convertBytes(e){return new El(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new si(this.firestore,null,n)}}function Er(t){t=Ci(t,Dr);const e=Ci(t.firestore,Pr),n=Ry(e),i=new F1(e);return _M(t._query),_z(n,t._query).then(s=>new IM(e,i,t,s))}function Nz(t,e,n){t=Ci(t,si);const i=Ci(t.firestore,Pr),s=wM(t.converter,e,n);return Ny(i,[pM(ky(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Ji.none())])}function My(t,e,n,...i){t=Ci(t,si);const s=Ci(t.firestore,Pr),r=ky(s);let a;return a=typeof(e=Me(e))=="string"||e instanceof xy?Pz(r,"updateDoc",t._key,e,n,i):Cz(r,"updateDoc",t._key,e),Ny(s,[a.toMutation(t._key,Ji.exists(!0))])}function U1(t){return Ny(Ci(t.firestore,Pr),[new l1(t._key,Ji.none())])}function B1(t,e){const n=Ci(t.firestore,Pr),i=xo(t),s=wM(t.converter,e);return Ny(n,[pM(ky(t.firestore),"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,Ji.exists(!1))]).then(()=>i)}function TM(t,...e){var n,i,s;t=Me(t);let r={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||BP(e[a])||(r=e[a],a++);const c={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(BP(e[a])){const g=e[a];e[a]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[a+1]=(i=g.error)===null||i===void 0?void 0:i.bind(g),e[a+2]=(s=g.complete)===null||s===void 0?void 0:s.bind(g)}let u,d,f;if(t instanceof si)d=Ci(t.firestore,Pr),f=vy(t._key.path),u={next:g=>{e[a]&&e[a](SM(d,t,g))},error:e[a+1],complete:e[a+2]};else{const g=Ci(t,Dr);d=Ci(g.firestore,Pr),f=g._query;const y=new F1(d);u={next:b=>{e[a]&&e[a](new IM(d,y,g,b))},error:e[a+1],complete:e[a+2]},_M(t._query)}return function(y,b,E,_){const w=new C1(_),T=new S1(b,w,E);return y.asyncQueue.enqueueAndForget(async()=>E1(await hm(y),T)),()=>{w.Qa(),y.asyncQueue.enqueueAndForget(async()=>I1(await hm(y),T))}}(Ry(d),f,c,u)}function Ny(t,e){return function(i,s){const r=new $s;return i.asyncQueue.enqueueAndForget(async()=>rz(await yz(i),s,r)),r.promise}(Ry(t),e)}function SM(t,e,n){const i=n.docs.get(e._key),s=new F1(t);return new EM(t,s,e._key,i,new vh(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(){return new Zd("deleteField")}(function(e,n=!0){(function(s){Ll=s})(Oo),So(new Tr("firestore",(i,{instanceIdentifier:s,options:r})=>{const a=i.getProvider("app").getImmediate(),c=new Pr(new B7(i.getProvider("auth-internal")),new z7(i.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new fe(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gd(d.options.projectId,f)}(a,s),a);return r=Object.assign({useFetchStreams:n},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),Qi(sP,"4.5.1",e),Qi(sP,"4.5.1","esm2017")})();const Lz={name:"loginPage",mounted(){const t=HC.AuthUI.getInstance()||new HC.AuthUI(Ee.auth()),e=Sn(),n={signInOptions:[Ee.auth.GoogleAuthProvider.PROVIDER_ID,Ee.auth.EmailAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:async i=>{console.log("Auth result:",i);const s=xo(e,"users",i.user.uid);console.log("Document Reference:",s);const r=await Mz(s);return console.log("Document Snapshot Exists:",r.exists()),console.log("Document Data:",r.data()),i.additionalUserInfo.isNewUser||!r.exists()?(console.log("Setting new user data..."),Nz(s,{email:i.user.email,createdAt:new Date},{merge:!0}).then(()=>{console.log("New user data set successfully."),this.$router.push("/dashboardPage")}).catch(a=>{console.error("Error initializing user data:",a)})):(console.log("User already exists, checking for missing email..."),r.data().email?(console.log("Redirecting to dashboard..."),this.$router.push("/dashboardPage")):(console.log("Updating email..."),My(s,{email:i.user.email}).then(()=>{console.log("Email updated successfully."),this.$router.push("/dashboardPage")}).catch(a=>{console.error("Error updating user data for new features:",a)}))),!1}}};t.start("#firebaseui-auth-container",n)}},Vz=t=>(_s("data-v-ed9f0e48"),t=t(),bs(),t),Fz={class:"login-container",style:{"text-align":"center"}},Uz=Vz(()=>P("div",{class:"word-container"},[P("h1",{id:"mainHead"},"Welcome to BudgetBuddy"),P("div",{id:"firebaseui-auth-container"}),P("div",{id:"pagecontent"},[On(" BudgetBuddy is an app to track your budgets and expenditures. "),P("br"),On(" Feel free to explore our application! ")])],-1)),Bz=[Uz];function jz(t,e,n,i,s,r){return Ce(),xe("div",Fz,Bz)}const $z=qt(Lz,[["render",jz],["__scopeId","data-v-ed9f0e48"]]);var Hz="firebase",zz="10.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qi(Hz,zz,"app");const Wz={apiKey:"AIzaSyAN-vVW46wKoqjR2WfhKoc7G2KwbjSsb6k",authDomain:"budgetbuddy-190c9.firebaseapp.com",projectId:"budgetbuddy-190c9",storageBucket:"budgetbuddy-190c9.appspot.com",messagingSenderId:"923067373606",appId:"1:923067373606:web:fa85b8338713ccef936ee7",measurementId:"G-31CY8FVMSB"},Be=Hm(Wz),qz=it(Be);eB(qz,Ld).then(()=>{console.log("Persistence set to local")}).catch(t=>{console.error("Error setting persistence:",t)});const Kz={name:"Logout",props:["user"],methods:{signOut(){const t=it();iB(t).then(()=>{this.$router.push("/")}).catch(e=>{console.error("Logout Error:",e)})}}};function Gz(t,e,n,i,s,r){return n.user?(Ce(),xe("button",{key:0,id:"btn",onClick:e[0]||(e[0]=a=>r.signOut())},"Logout")):pi("",!0)}const Or=qt(Kz,[["render",Gz],["__scopeId","data-v-89c0cd67"]]),Yz={name:"sidebar"},Qs=t=>(_s("data-v-e9206936"),t=t(),bs(),t),Xz={class:"sidebar"},Qz=Qs(()=>P("h2",null,"BudgetBuddy",-1)),Jz={class:"menu"},Zz=Qs(()=>P("ion-icon",{name:"list-circle"},null,-1)),eW=Qs(()=>P("ion-icon",{name:"analytics-outline"},null,-1)),tW=Qs(()=>P("ion-icon",{name:"card"},null,-1)),nW=Qs(()=>P("ion-icon",{name:"chatbubble-ellipses"},null,-1)),iW=Qs(()=>P("ion-icon",{name:"alarm"},null,-1)),sW=Qs(()=>P("ion-icon",{name:"calendar"},null,-1)),rW=Qs(()=>P("ion-icon",{name:"alarm"},null,-1)),oW=Qs(()=>P("ion-icon",{name:"chatbubble-ellipses"},null,-1)),aW=Qs(()=>P("ion-icon",{name:"person-circle"},null,-1));function cW(t,e,n,i,s,r){const a=Je("router-link");return Ce(),xe("div",Xz,[Qz,P("nav",null,[P("ul",Jz,[P("li",{class:di(["item",{active:t.$route.path==="/dashboardPage"}])},[Zz,Se(a,{to:"/dashboardPage"},{default:fi(()=>[On("Dashboard")]),_:1})],2),P("li",{class:di(["item",{active:t.$route.path==="/analyticsPage"}])},[eW,Se(a,{to:"/analyticsPage"},{default:fi(()=>[On("Analytics")]),_:1})],2),P("li",{class:di(["item",{active:t.$route.path==="/addTransaction"}])},[tW,Se(a,{to:"/addTransaction"},{default:fi(()=>[On("Add Transaction")]),_:1})],2),P("li",{class:di(["item",{active:t.$route.path==="/addBudget"}])},[nW,Se(a,{to:"/addBudget"},{default:fi(()=>[On("Add Budget")]),_:1})],2),P("li",{class:di(["item",{active:t.$route.path==="/addScheduledTransaction"}])},[iW,Se(a,{to:"/addScheduledTransaction"},{default:fi(()=>[On("Add Scheduled Transactions")]),_:1})],2),P("li",{class:di(["item",{active:t.$route.path==="/transactionHistory"}])},[sW,Se(a,{to:"/transactionHistory"},{default:fi(()=>[On("Transaction History")]),_:1})],2),P("li",{class:di(["item",{active:t.$route.path==="/viewScheduledTransactions"}])},[rW,Se(a,{to:"/viewScheduledTransactions"},{default:fi(()=>[On("View Scheduled Transactions")]),_:1})],2),P("li",{class:di(["item",{active:t.$route.path==="/goalSetting"}])},[oW,Se(a,{to:"/goalSetting"},{default:fi(()=>[On("View Budgets")]),_:1})],2),P("li",{class:di(["item",{active:t.$route.path==="/userProfile"}])},[aW,Se(a,{to:"/userProfile"},{default:fi(()=>[On("User Profile")]),_:1})],2)])])])}const Js=qt(Yz,[["render",cW],["__scopeId","data-v-e9206936"]]);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function tf(t){return t+.5|0}const ho=(t,e,n)=>Math.max(Math.min(t,n),e);function _h(t){return ho(tf(t*2.55),0,255)}function bo(t){return ho(tf(t*255),0,255)}function dr(t){return ho(tf(t/2.55)/100,0,1)}function zP(t){return ho(tf(t*100),0,100)}const Ki={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},_0=[..."0123456789ABCDEF"],lW=t=>_0[t&15],uW=t=>_0[(t&240)>>4]+_0[t&15],Wp=t=>(t&240)>>4===(t&15),hW=t=>Wp(t.r)&&Wp(t.g)&&Wp(t.b)&&Wp(t.a);function dW(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Ki[t[1]]*17,g:255&Ki[t[2]]*17,b:255&Ki[t[3]]*17,a:e===5?Ki[t[4]]*17:255}:(e===7||e===9)&&(n={r:Ki[t[1]]<<4|Ki[t[2]],g:Ki[t[3]]<<4|Ki[t[4]],b:Ki[t[5]]<<4|Ki[t[6]],a:e===9?Ki[t[7]]<<4|Ki[t[8]]:255})),n}const fW=(t,e)=>t<255?e(t):"";function pW(t){var e=hW(t)?lW:uW;return t?"#"+e(t.r)+e(t.g)+e(t.b)+fW(t.a,e):void 0}const gW=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function CM(t,e,n){const i=e*Math.min(n,1-n),s=(r,a=(r+t/30)%12)=>n-i*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function mW(t,e,n){const i=(s,r=(s+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function yW(t,e,n){const i=CM(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)i[s]*=1-e-n,i[s]+=e;return i}function vW(t,e,n,i,s){return t===s?(e-n)/i+(e<n?6:0):e===s?(n-t)/i+2:(t-e)/i+4}function j1(t){const n=t.r/255,i=t.g/255,s=t.b/255,r=Math.max(n,i,s),a=Math.min(n,i,s),c=(r+a)/2;let u,d,f;return r!==a&&(f=r-a,d=c>.5?f/(2-r-a):f/(r+a),u=vW(n,i,s,f,r),u=u*60+.5),[u|0,d||0,c]}function $1(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(bo)}function H1(t,e,n){return $1(CM,t,e,n)}function _W(t,e,n){return $1(yW,t,e,n)}function bW(t,e,n){return $1(mW,t,e,n)}function PM(t){return(t%360+360)%360}function wW(t){const e=gW.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?_h(+e[5]):bo(+e[5]));const s=PM(+e[2]),r=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?i=_W(s,r,a):e[1]==="hsv"?i=bW(s,r,a):i=H1(s,r,a),{r:i[0],g:i[1],b:i[2],a:n}}function EW(t,e){var n=j1(t);n[0]=PM(n[0]+e),n=H1(n),t.r=n[0],t.g=n[1],t.b=n[2]}function IW(t){if(!t)return;const e=j1(t),n=e[0],i=zP(e[1]),s=zP(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${s}%, ${dr(t.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const WP={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},qP={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function TW(){const t={},e=Object.keys(qP),n=Object.keys(WP);let i,s,r,a,c;for(i=0;i<e.length;i++){for(a=c=e[i],s=0;s<n.length;s++)r=n[s],c=c.replace(r,WP[r]);r=parseInt(qP[a],16),t[c]=[r>>16&255,r>>8&255,r&255]}return t}let qp;function SW(t){qp||(qp=TW(),qp.transparent=[0,0,0,0]);const e=qp[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const AW=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function CW(t){const e=AW.exec(t);let n=255,i,s,r;if(e){if(e[7]!==i){const a=+e[7];n=e[8]?_h(a):ho(a*255,0,255)}return i=+e[1],s=+e[3],r=+e[5],i=255&(e[2]?_h(i):ho(i,0,255)),s=255&(e[4]?_h(s):ho(s,0,255)),r=255&(e[6]?_h(r):ho(r,0,255)),{r:i,g:s,b:r,a:n}}}function PW(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${dr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const nb=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Lc=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function RW(t,e,n){const i=Lc(dr(t.r)),s=Lc(dr(t.g)),r=Lc(dr(t.b));return{r:bo(nb(i+n*(Lc(dr(e.r))-i))),g:bo(nb(s+n*(Lc(dr(e.g))-s))),b:bo(nb(r+n*(Lc(dr(e.b))-r))),a:t.a+n*(e.a-t.a)}}function Kp(t,e,n){if(t){let i=j1(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=H1(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function RM(t,e){return t&&Object.assign(e||{},t)}function KP(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=bo(t[3]))):(e=RM(t,{r:0,g:0,b:0,a:1}),e.a=bo(e.a)),e}function xW(t){return t.charAt(0)==="r"?CW(t):wW(t)}class bd{constructor(e){if(e instanceof bd)return e;const n=typeof e;let i;n==="object"?i=KP(e):n==="string"&&(i=dW(e)||SW(e)||xW(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=RM(this._rgb);return e&&(e.a=dr(e.a)),e}set rgb(e){this._rgb=KP(e)}rgbString(){return this._valid?PW(this._rgb):void 0}hexString(){return this._valid?pW(this._rgb):void 0}hslString(){return this._valid?IW(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,s=e.rgb;let r;const a=n===r?.5:n,c=2*a-1,u=i.a-s.a,d=((c*u===-1?c:(c+u)/(1+c*u))+1)/2;r=1-d,i.r=255&d*i.r+r*s.r+.5,i.g=255&d*i.g+r*s.g+.5,i.b=255&d*i.b+r*s.b+.5,i.a=a*i.a+(1-a)*s.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=RW(this._rgb,e._rgb,n)),this}clone(){return new bd(this.rgb)}alpha(e){return this._rgb.a=bo(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=tf(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Kp(this._rgb,2,e),this}darken(e){return Kp(this._rgb,2,-e),this}saturate(e){return Kp(this._rgb,1,e),this}desaturate(e){return Kp(this._rgb,1,-e),this}rotate(e){return EW(this._rgb,e),this}}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function lr(){}const kW=(()=>{let t=0;return()=>t++})();function dt(t){return t===null||typeof t>"u"}function Nt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Qe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Zt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Fi(t,e){return Zt(t)?t:e}function je(t,e){return typeof t>"u"?e:t}const DW=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,xM=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Rt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Et(t,e,n,i){let s,r,a;if(Nt(t))if(r=t.length,i)for(s=r-1;s>=0;s--)e.call(n,t[s],s);else for(s=0;s<r;s++)e.call(n,t[s],s);else if(Qe(t))for(a=Object.keys(t),r=a.length,s=0;s<r;s++)e.call(n,t[a[s]],a[s])}function fm(t,e){let n,i,s,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(s=t[n],r=e[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function pm(t){if(Nt(t))return t.map(pm);if(Qe(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let s=0;for(;s<i;++s)e[n[s]]=pm(t[n[s]]);return e}return t}function kM(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function OW(t,e,n,i){if(!kM(t))return;const s=e[t],r=n[t];Qe(s)&&Qe(r)?wd(s,r,i):e[t]=pm(r)}function wd(t,e,n){const i=Nt(e)?e:[e],s=i.length;if(!Qe(t))return t;n=n||{};const r=n.merger||OW;let a;for(let c=0;c<s;++c){if(a=i[c],!Qe(a))continue;const u=Object.keys(a);for(let d=0,f=u.length;d<f;++d)r(u[d],t,a,n)}return t}function Bh(t,e){return wd(t,e,{merger:MW})}function MW(t,e,n){if(!kM(t))return;const i=e[t],s=n[t];Qe(i)&&Qe(s)?Bh(i,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=pm(s))}const GP={"":t=>t,x:t=>t.x,y:t=>t.y};function NW(t){const e=t.split("."),n=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function LW(t){const e=NW(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function ko(t,e){return(GP[e]||(GP[e]=LW(e)))(t)}function z1(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ed=t=>typeof t<"u",Do=t=>typeof t=="function",YP=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function VW(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Vt=Math.PI,Lt=2*Vt,FW=Lt+Vt,gm=Number.POSITIVE_INFINITY,UW=Vt/180,hn=Vt/2,sa=Vt/4,XP=Vt*2/3,fo=Math.log10,Ws=Math.sign;function jh(t,e,n){return Math.abs(t-e)<n}function QP(t){const e=Math.round(t);t=jh(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(fo(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function BW(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((s,r)=>s-r).pop(),e}function Il(t){return!isNaN(parseFloat(t))&&isFinite(t)}function jW(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function DM(t,e,n){let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function ds(t){return t*(Vt/180)}function W1(t){return t*(180/Vt)}function JP(t){if(!Zt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function OM(t,e){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*Vt&&(r+=Lt),{angle:r,distance:s}}function b0(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function $W(t,e){return(t-e+FW)%Lt-Vt}function Ui(t){return(t%Lt+Lt)%Lt}function Id(t,e,n,i){const s=Ui(t),r=Ui(e),a=Ui(n),c=Ui(r-s),u=Ui(a-s),d=Ui(s-r),f=Ui(s-a);return s===r||s===a||i&&r===a||c>u&&d<f}function Nn(t,e,n){return Math.max(e,Math.min(n,t))}function HW(t){return Nn(t,-32768,32767)}function mr(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function q1(t,e,n){n=n||(a=>t[a]<e);let i=t.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const yr=(t,e,n,i)=>q1(t,n,i?s=>{const r=t[s][e];return r<n||r===n&&t[s+1][e]===n}:s=>t[s][e]<n),zW=(t,e,n)=>q1(t,n,i=>t[i][e]>=n);function WW(t,e,n){let i=0,s=t.length;for(;i<s&&t[i]<e;)i++;for(;s>i&&t[s-1]>n;)s--;return i>0||s<t.length?t.slice(i,s):t}const MM=["push","pop","shift","splice","unshift"];function qW(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),MM.forEach(n=>{const i="_onData"+z1(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const a=s.apply(this,r);return t._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...r)}),a}})})}function ZP(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(MM.forEach(r=>{delete t[r]}),delete t._chartjs)}function NM(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const LM=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function VM(t,e){let n=[],i=!1;return function(...s){n=s,i||(i=!0,LM.call(window,()=>{i=!1,t.apply(e,n)}))}}function KW(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const K1=t=>t==="start"?"left":t==="end"?"right":"center",Xn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,GW=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function FM(t,e,n){const i=e.length;let s=0,r=i;if(t._sorted){const{iScale:a,_parsed:c}=t,u=a.axis,{min:d,max:f,minDefined:g,maxDefined:y}=a.getUserBounds();g&&(s=Nn(Math.min(yr(c,u,d).lo,n?i:yr(e,u,a.getPixelForValue(d)).lo),0,i-1)),y?r=Nn(Math.max(yr(c,a.axis,f,!0).hi+1,n?0:yr(e,u,a.getPixelForValue(f),!0).hi+1),s,i)-s:r=i-s}return{start:s,count:r}}function UM(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=s,!0;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const Gp=t=>t===0||t===1,eR=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Lt/n)),tR=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Lt/n)+1,$h={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*hn)+1,easeOutSine:t=>Math.sin(t*hn),easeInOutSine:t=>-.5*(Math.cos(Vt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Gp(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Gp(t)?t:eR(t,.075,.3),easeOutElastic:t=>Gp(t)?t:tR(t,.075,.3),easeInOutElastic(t){return Gp(t)?t:t<.5?.5*eR(t*2,.1125,.45):.5+.5*tR(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-$h.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?$h.easeInBounce(t*2)*.5:$h.easeOutBounce(t*2-1)*.5+.5};function G1(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function nR(t){return G1(t)?t:new bd(t)}function ib(t){return G1(t)?t:new bd(t).saturate(.5).darken(.1).hexString()}const YW=["x","y","borderWidth","radius","tension"],XW=["color","borderColor","backgroundColor"];function QW(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:XW},numbers:{type:"number",properties:YW}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function JW(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const iR=new Map;function ZW(t,e){e=e||{};const n=t+JSON.stringify(e);let i=iR.get(n);return i||(i=new Intl.NumberFormat(t,e),iR.set(n,i)),i}function nf(t,e,n){return ZW(e,n).format(t)}const BM={values(t){return Nt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let s,r=t;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),r=eq(t,n)}const a=fo(Math.abs(r)),c=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),u={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),nf(t,i,u)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(fo(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?BM.numeric.call(this,t,e,n):""}};function eq(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Ly={formatters:BM};function tq(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ly.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Fa=Object.create(null),w0=Object.create(null);function Hh(t,e){if(!e)return t;const n=e.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];t=t[r]||(t[r]=Object.create(null))}return t}function sb(t,e,n){return typeof e=="string"?wd(Hh(t,e),n):wd(Hh(t,""),e)}class nq{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>ib(s.backgroundColor),this.hoverBorderColor=(i,s)=>ib(s.borderColor),this.hoverColor=(i,s)=>ib(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return sb(this,e,n)}get(e){return Hh(this,e)}describe(e,n){return sb(w0,e,n)}override(e,n){return sb(Fa,e,n)}route(e,n,i,s){const r=Hh(this,e),a=Hh(this,i),c="_"+n;Object.defineProperties(r,{[c]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[c],d=a[s];return Qe(u)?Object.assign({},d,u):je(u,d)},set(u){this[c]=u}}})}apply(e){e.forEach(n=>n(this))}}var en=new nq({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[QW,JW,tq]);function iq(t){return!t||dt(t.size)||dt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function mm(t,e,n,i,s){let r=e[s];return r||(r=e[s]=t.measureText(s).width,n.push(s)),r>i&&(i=r),i}function sq(t,e,n,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(s=i.data={},r=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let a=0;const c=n.length;let u,d,f,g,y;for(u=0;u<c;u++)if(g=n[u],g!=null&&!Nt(g))a=mm(t,s,r,a,g);else if(Nt(g))for(d=0,f=g.length;d<f;d++)y=g[d],y!=null&&!Nt(y)&&(a=mm(t,s,r,a,y));t.restore();const b=r.length/2;if(b>n.length){for(u=0;u<b;u++)delete s[r[u]];r.splice(0,b)}return a}function ra(t,e,n){const i=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*i)/i+s}function sR(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function E0(t,e,n,i){jM(t,e,n,i,null)}function jM(t,e,n,i,s){let r,a,c,u,d,f,g,y;const b=e.pointStyle,E=e.rotation,_=e.radius;let w=(E||0)*UW;if(b&&typeof b=="object"&&(r=b.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(w),t.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),t.restore();return}if(!(isNaN(_)||_<=0)){switch(t.beginPath(),b){default:s?t.ellipse(n,i,s/2,_,0,0,Lt):t.arc(n,i,_,0,Lt),t.closePath();break;case"triangle":f=s?s/2:_,t.moveTo(n+Math.sin(w)*f,i-Math.cos(w)*_),w+=XP,t.lineTo(n+Math.sin(w)*f,i-Math.cos(w)*_),w+=XP,t.lineTo(n+Math.sin(w)*f,i-Math.cos(w)*_),t.closePath();break;case"rectRounded":d=_*.516,u=_-d,a=Math.cos(w+sa)*u,g=Math.cos(w+sa)*(s?s/2-d:u),c=Math.sin(w+sa)*u,y=Math.sin(w+sa)*(s?s/2-d:u),t.arc(n-g,i-c,d,w-Vt,w-hn),t.arc(n+y,i-a,d,w-hn,w),t.arc(n+g,i+c,d,w,w+hn),t.arc(n-y,i+a,d,w+hn,w+Vt),t.closePath();break;case"rect":if(!E){u=Math.SQRT1_2*_,f=s?s/2:u,t.rect(n-f,i-u,2*f,2*u);break}w+=sa;case"rectRot":g=Math.cos(w)*(s?s/2:_),a=Math.cos(w)*_,c=Math.sin(w)*_,y=Math.sin(w)*(s?s/2:_),t.moveTo(n-g,i-c),t.lineTo(n+y,i-a),t.lineTo(n+g,i+c),t.lineTo(n-y,i+a),t.closePath();break;case"crossRot":w+=sa;case"cross":g=Math.cos(w)*(s?s/2:_),a=Math.cos(w)*_,c=Math.sin(w)*_,y=Math.sin(w)*(s?s/2:_),t.moveTo(n-g,i-c),t.lineTo(n+g,i+c),t.moveTo(n+y,i-a),t.lineTo(n-y,i+a);break;case"star":g=Math.cos(w)*(s?s/2:_),a=Math.cos(w)*_,c=Math.sin(w)*_,y=Math.sin(w)*(s?s/2:_),t.moveTo(n-g,i-c),t.lineTo(n+g,i+c),t.moveTo(n+y,i-a),t.lineTo(n-y,i+a),w+=sa,g=Math.cos(w)*(s?s/2:_),a=Math.cos(w)*_,c=Math.sin(w)*_,y=Math.sin(w)*(s?s/2:_),t.moveTo(n-g,i-c),t.lineTo(n+g,i+c),t.moveTo(n+y,i-a),t.lineTo(n-y,i+a);break;case"line":a=s?s/2:Math.cos(w)*_,c=Math.sin(w)*_,t.moveTo(n-a,i-c),t.lineTo(n+a,i+c);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(w)*(s?s/2:_),i+Math.sin(w)*_);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function vr(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Vy(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Fy(t){t.restore()}function rq(t,e,n,i,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else s==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function oq(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function aq(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),dt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function cq(t,e,n,i,s){if(s.strikethrough||s.underline){const r=t.measureText(i),a=e-r.actualBoundingBoxLeft,c=e+r.actualBoundingBoxRight,u=n-r.actualBoundingBoxAscent,d=n+r.actualBoundingBoxDescent,f=s.strikethrough?(u+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(a,f),t.lineTo(c,f),t.stroke()}}function lq(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Ua(t,e,n,i,s,r={}){const a=Nt(e)?e:[e],c=r.strokeWidth>0&&r.strokeColor!=="";let u,d;for(t.save(),t.font=s.string,aq(t,r),u=0;u<a.length;++u)d=a[u],r.backdrop&&lq(t,r.backdrop),c&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),dt(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(d,n,i,r.maxWidth)),t.fillText(d,n,i,r.maxWidth),cq(t,n,i,d,r),i+=Number(s.lineHeight);t.restore()}function Td(t,e){const{x:n,y:i,w:s,h:r,radius:a}=e;t.arc(n+a.topLeft,i+a.topLeft,a.topLeft,1.5*Vt,Vt,!0),t.lineTo(n,i+r-a.bottomLeft),t.arc(n+a.bottomLeft,i+r-a.bottomLeft,a.bottomLeft,Vt,hn,!0),t.lineTo(n+s-a.bottomRight,i+r),t.arc(n+s-a.bottomRight,i+r-a.bottomRight,a.bottomRight,hn,0,!0),t.lineTo(n+s,i+a.topRight),t.arc(n+s-a.topRight,i+a.topRight,a.topRight,0,-hn,!0),t.lineTo(n+a.topLeft,i)}const uq=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,hq=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function dq(t,e){const n=(""+t).match(uq);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const fq=t=>+t||0;function Y1(t,e){const n={},i=Qe(e),s=i?Object.keys(e):e,r=Qe(t)?i?a=>je(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of s)n[a]=fq(r(a));return n}function $M(t){return Y1(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ca(t){return Y1(t,["topLeft","topRight","bottomLeft","bottomRight"])}function oi(t){const e=$M(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function An(t,e){t=t||{},e=e||en.font;let n=je(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=je(t.style,e.style);i&&!(""+i).match(hq)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:je(t.family,e.family),lineHeight:dq(je(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:je(t.weight,e.weight),string:""};return s.string=iq(s),s}function bh(t,e,n,i){let s=!0,r,a,c;for(r=0,a=t.length;r<a;++r)if(c=t[r],c!==void 0&&(e!==void 0&&typeof c=="function"&&(c=c(e),s=!1),n!==void 0&&Nt(c)&&(c=c[n%c.length],s=!1),c!==void 0))return i&&!s&&(i.cacheable=!1),c}function pq(t,e,n){const{min:i,max:s}=t,r=xM(e,(s-i)/2),a=(c,u)=>n&&c===0?0:c+u;return{min:a(i,-Math.abs(r)),max:a(s,r)}}function Fo(t,e){return Object.assign(Object.create(t),e)}function X1(t,e=[""],n,i,s=()=>t[0]){const r=n||t;typeof i>"u"&&(i=qM("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:i,_getTarget:s,override:c=>X1([c,...t],e,r,i)};return new Proxy(a,{deleteProperty(c,u){return delete c[u],delete c._keys,delete t[0][u],!0},get(c,u){return zM(c,u,()=>Eq(u,e,t,c))},getOwnPropertyDescriptor(c,u){return Reflect.getOwnPropertyDescriptor(c._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(c,u){return oR(c).includes(u)},ownKeys(c){return oR(c)},set(c,u,d){const f=c._storage||(c._storage=s());return c[u]=f[u]=d,delete c._keys,!0}})}function Tl(t,e,n,i){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:HM(t,i),setContext:r=>Tl(t,r,n,i),override:r=>Tl(t.override(r),e,n,i)};return new Proxy(s,{deleteProperty(r,a){return delete r[a],delete t[a],!0},get(r,a,c){return zM(r,a,()=>mq(r,a,c))},getOwnPropertyDescriptor(r,a){return r._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(r,a,c){return t[a]=c,delete r[a],!0}})}function HM(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:i,isScriptable:Do(n)?n:()=>n,isIndexable:Do(i)?i:()=>i}}const gq=(t,e)=>t?t+z1(e):e,Q1=(t,e)=>Qe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function zM(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const i=n();return t[e]=i,i}function mq(t,e,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:a}=t;let c=i[e];return Do(c)&&a.isScriptable(e)&&(c=yq(e,c,t,n)),Nt(c)&&c.length&&(c=vq(e,c,t,a.isIndexable)),Q1(e,c)&&(c=Tl(c,s,r&&r[e],a)),c}function yq(t,e,n,i){const{_proxy:s,_context:r,_subProxy:a,_stack:c}=n;if(c.has(t))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+t);c.add(t);let u=e(r,a||i);return c.delete(t),Q1(t,u)&&(u=J1(s._scopes,s,t,u)),u}function vq(t,e,n,i){const{_proxy:s,_context:r,_subProxy:a,_descriptors:c}=n;if(typeof r.index<"u"&&i(t))return e[r.index%e.length];if(Qe(e[0])){const u=e,d=s._scopes.filter(f=>f!==u);e=[];for(const f of u){const g=J1(d,s,t,f);e.push(Tl(g,r,a&&a[t],c))}}return e}function WM(t,e,n){return Do(t)?t(e,n):t}const _q=(t,e)=>t===!0?e:typeof t=="string"?ko(e,t):void 0;function bq(t,e,n,i,s){for(const r of e){const a=_q(n,r);if(a){t.add(a);const c=WM(a._fallback,n,s);if(typeof c<"u"&&c!==n&&c!==i)return c}else if(a===!1&&typeof i<"u"&&n!==i)return null}return!1}function J1(t,e,n,i){const s=e._rootScopes,r=WM(e._fallback,n,i),a=[...t,...s],c=new Set;c.add(i);let u=rR(c,a,n,r||n,i);return u===null||typeof r<"u"&&r!==n&&(u=rR(c,a,r,u,i),u===null)?!1:X1(Array.from(c),[""],s,r,()=>wq(e,n,i))}function rR(t,e,n,i,s){for(;n;)n=bq(t,e,n,i,s);return n}function wq(t,e,n){const i=t._getTarget();e in i||(i[e]={});const s=i[e];return Nt(s)&&Qe(n)?n:s||{}}function Eq(t,e,n,i){let s;for(const r of e)if(s=qM(gq(r,t),n),typeof s<"u")return Q1(t,s)?J1(n,i,t,s):s}function qM(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function oR(t){let e=t._keys;return e||(e=t._keys=Iq(t._scopes)),e}function Iq(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}function KM(t,e,n,i){const{iScale:s}=t,{key:r="r"}=this._parsing,a=new Array(i);let c,u,d,f;for(c=0,u=i;c<u;++c)d=c+n,f=e[d],a[c]={r:s.parse(ko(f,r),d)};return a}const Tq=Number.EPSILON||1e-14,Sl=(t,e)=>e<t.length&&!t[e].skip&&t[e],GM=t=>t==="x"?"y":"x";function Sq(t,e,n,i){const s=t.skip?e:t,r=e,a=n.skip?e:n,c=b0(r,s),u=b0(a,r);let d=c/(c+u),f=u/(c+u);d=isNaN(d)?0:d,f=isNaN(f)?0:f;const g=i*d,y=i*f;return{previous:{x:r.x-g*(a.x-s.x),y:r.y-g*(a.y-s.y)},next:{x:r.x+y*(a.x-s.x),y:r.y+y*(a.y-s.y)}}}function Aq(t,e,n){const i=t.length;let s,r,a,c,u,d=Sl(t,0);for(let f=0;f<i-1;++f)if(u=d,d=Sl(t,f+1),!(!u||!d)){if(jh(e[f],0,Tq)){n[f]=n[f+1]=0;continue}s=n[f]/e[f],r=n[f+1]/e[f],c=Math.pow(s,2)+Math.pow(r,2),!(c<=9)&&(a=3/Math.sqrt(c),n[f]=s*a*e[f],n[f+1]=r*a*e[f])}}function Cq(t,e,n="x"){const i=GM(n),s=t.length;let r,a,c,u=Sl(t,0);for(let d=0;d<s;++d){if(a=c,c=u,u=Sl(t,d+1),!c)continue;const f=c[n],g=c[i];a&&(r=(f-a[n])/3,c[`cp1${n}`]=f-r,c[`cp1${i}`]=g-r*e[d]),u&&(r=(u[n]-f)/3,c[`cp2${n}`]=f+r,c[`cp2${i}`]=g+r*e[d])}}function Pq(t,e="x"){const n=GM(e),i=t.length,s=Array(i).fill(0),r=Array(i);let a,c,u,d=Sl(t,0);for(a=0;a<i;++a)if(c=u,u=d,d=Sl(t,a+1),!!u){if(d){const f=d[e]-u[e];s[a]=f!==0?(d[n]-u[n])/f:0}r[a]=c?d?Ws(s[a-1])!==Ws(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}Aq(t,s,r),Cq(t,r,e)}function Yp(t,e,n){return Math.max(Math.min(t,n),e)}function Rq(t,e){let n,i,s,r,a,c=vr(t[0],e);for(n=0,i=t.length;n<i;++n)a=r,r=c,c=n<i-1&&vr(t[n+1],e),r&&(s=t[n],a&&(s.cp1x=Yp(s.cp1x,e.left,e.right),s.cp1y=Yp(s.cp1y,e.top,e.bottom)),c&&(s.cp2x=Yp(s.cp2x,e.left,e.right),s.cp2y=Yp(s.cp2y,e.top,e.bottom)))}function xq(t,e,n,i,s){let r,a,c,u;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")Pq(t,s);else{let d=i?t[t.length-1]:t[0];for(r=0,a=t.length;r<a;++r)c=t[r],u=Sq(d,c,t[Math.min(r+1,a-(i?0:1))%a],e.tension),c.cp1x=u.previous.x,c.cp1y=u.previous.y,c.cp2x=u.next.x,c.cp2y=u.next.y,d=c}e.capBezierPoints&&Rq(t,n)}function Z1(){return typeof window<"u"&&typeof document<"u"}function eE(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ym(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Uy=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function kq(t,e){return Uy(t).getPropertyValue(e)}const Dq=["top","right","bottom","left"];function Pa(t,e,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=Dq[s];i[r]=parseFloat(t[e+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Oq=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Mq(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:s,offsetY:r}=i;let a=!1,c,u;if(Oq(s,r,t.target))c=s,u=r;else{const d=e.getBoundingClientRect();c=i.clientX-d.left,u=i.clientY-d.top,a=!0}return{x:c,y:u,box:a}}function la(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,s=Uy(n),r=s.boxSizing==="border-box",a=Pa(s,"padding"),c=Pa(s,"border","width"),{x:u,y:d,box:f}=Mq(t,n),g=a.left+(f&&c.left),y=a.top+(f&&c.top);let{width:b,height:E}=e;return r&&(b-=a.width+c.width,E-=a.height+c.height),{x:Math.round((u-g)/b*n.width/i),y:Math.round((d-y)/E*n.height/i)}}function Nq(t,e,n){let i,s;if(e===void 0||n===void 0){const r=eE(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const a=r.getBoundingClientRect(),c=Uy(r),u=Pa(c,"border","width"),d=Pa(c,"padding");e=a.width-d.width-u.width,n=a.height-d.height-u.height,i=ym(c.maxWidth,r,"clientWidth"),s=ym(c.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:i||gm,maxHeight:s||gm}}const Xp=t=>Math.round(t*10)/10;function Lq(t,e,n,i){const s=Uy(t),r=Pa(s,"margin"),a=ym(s.maxWidth,t,"clientWidth")||gm,c=ym(s.maxHeight,t,"clientHeight")||gm,u=Nq(t,e,n);let{width:d,height:f}=u;if(s.boxSizing==="content-box"){const y=Pa(s,"border","width"),b=Pa(s,"padding");d-=b.width+y.width,f-=b.height+y.height}return d=Math.max(0,d-r.width),f=Math.max(0,i?d/i:f-r.height),d=Xp(Math.min(d,a,u.maxWidth)),f=Xp(Math.min(f,c,u.maxHeight)),d&&!f&&(f=Xp(d/2)),(e!==void 0||n!==void 0)&&i&&u.height&&f>u.height&&(f=u.height,d=Xp(Math.floor(f*i))),{width:d,height:f}}function aR(t,e,n){const i=e||1,s=Math.floor(t.height*i),r=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||a.height!==s||a.width!==r?(t.currentDevicePixelRatio=i,a.height=s,a.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Vq=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Z1()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function cR(t,e){const n=kq(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ua(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Fq(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function Uq(t,e,n,i){const s={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},a=ua(t,s,n),c=ua(s,r,n),u=ua(r,e,n),d=ua(a,c,n),f=ua(c,u,n);return ua(d,f,n)}const Bq=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},jq=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function rl(t,e,n){return t?Bq(e,n):jq()}function YM(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function XM(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function QM(t){return t==="angle"?{between:Id,compare:$W,normalize:Ui}:{between:mr,compare:(e,n)=>e-n,normalize:e=>e}}function lR({start:t,end:e,count:n,loop:i,style:s}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:s}}function $q(t,e,n){const{property:i,start:s,end:r}=n,{between:a,normalize:c}=QM(i),u=e.length;let{start:d,end:f,loop:g}=t,y,b;if(g){for(d+=u,f+=u,y=0,b=u;y<b&&a(c(e[d%u][i]),s,r);++y)d--,f--;d%=u,f%=u}return f<d&&(f+=u),{start:d,end:f,loop:g,style:t.style}}function JM(t,e,n){if(!n)return[t];const{property:i,start:s,end:r}=n,a=e.length,{compare:c,between:u,normalize:d}=QM(i),{start:f,end:g,loop:y,style:b}=$q(t,e,n),E=[];let _=!1,w=null,T,S,x;const k=()=>u(s,x,T)&&c(s,x)!==0,D=()=>c(r,T)===0||u(r,x,T),N=()=>_||k(),O=()=>!_||D();for(let V=f,$=f;V<=g;++V)S=e[V%a],!S.skip&&(T=d(S[i]),T!==x&&(_=u(T,s,r),w===null&&N()&&(w=c(T,s)===0?V:$),w!==null&&O()&&(E.push(lR({start:w,end:V,loop:y,count:a,style:b})),w=null),$=V,x=T));return w!==null&&E.push(lR({start:w,end:g,loop:y,count:a,style:b})),E}function ZM(t,e){const n=[],i=t.segments;for(let s=0;s<i.length;s++){const r=JM(i[s],t.points,e);r.length&&n.push(...r)}return n}function Hq(t,e,n,i){let s=0,r=e-1;if(n&&!i)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(r+=s);r>s&&t[r%e].skip;)r--;return r%=e,{start:s,end:r}}function zq(t,e,n,i){const s=t.length,r=[];let a=e,c=t[e],u;for(u=e+1;u<=n;++u){const d=t[u%s];d.skip||d.stop?c.skip||(i=!1,r.push({start:e%s,end:(u-1)%s,loop:i}),e=a=d.stop?u:null):(a=u,c.skip&&(e=u)),c=d}return a!==null&&r.push({start:e%s,end:a%s,loop:i}),r}function Wq(t,e){const n=t.points,i=t.options.spanGaps,s=n.length;if(!s)return[];const r=!!t._loop,{start:a,end:c}=Hq(n,s,r,i);if(i===!0)return uR(t,[{start:a,end:c,loop:r}],n,e);const u=c<a?c+s:c,d=!!t._fullLoop&&a===0&&c===s-1;return uR(t,zq(n,a,u,d),n,e)}function uR(t,e,n,i){return!i||!i.setContext||!n?e:qq(t,e,n,i)}function qq(t,e,n,i){const s=t._chart.getContext(),r=hR(t.options),{_datasetIndex:a,options:{spanGaps:c}}=t,u=n.length,d=[];let f=r,g=e[0].start,y=g;function b(E,_,w,T){const S=c?-1:1;if(E!==_){for(E+=u;n[E%u].skip;)E-=S;for(;n[_%u].skip;)_+=S;E%u!==_%u&&(d.push({start:E%u,end:_%u,loop:w,style:T}),f=T,g=_%u)}}for(const E of e){g=c?g:E.start;let _=n[g%u],w;for(y=g+1;y<=E.end;y++){const T=n[y%u];w=hR(i.setContext(Fo(s,{type:"segment",p0:_,p1:T,p0DataIndex:(y-1)%u,p1DataIndex:y%u,datasetIndex:a}))),Kq(w,f)&&b(g,y-1,E.loop,f),_=T,f=w}g<y-1&&b(g,y-1,E.loop,f)}return d}function hR(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Kq(t,e){if(!e)return!1;const n=[],i=function(s,r){return G1(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(t,i)!==JSON.stringify(e,i)}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class Gq{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,s){const r=n.listeners[s],a=n.duration;r.forEach(c=>c({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(i-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=LM.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let a=r.length-1,c=!1,u;for(;a>=0;--a)u=r[a],u._active?(u._total>i.duration&&(i.duration=u._total),u.tick(e),c=!0):(r[a]=r[r.length-1],r.pop());c&&(s.draw(),this._notify(s,i,e,"progress")),r.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ur=new Gq;const dR="transparent",Yq={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=nR(t||dR),s=i.valid&&nR(e||dR);return s&&s.valid?s.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Xq{constructor(e,n,i,s){const r=n[i];s=bh([e.to,s,r,e.from]);const a=bh([e.from,r,s]);this._active=!0,this._fn=e.fn||Yq[e.type||typeof a],this._easing=$h[e.easing]||$h.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,a=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=bh([e.to,n,s,e.from]),this._from=bh([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,s=this._prop,r=this._from,a=this._loop,c=this._to;let u;if(this._active=r!==c&&(a||n<i),!this._active){this._target[s]=c,this._notify(!0);return}if(n<0){this._target[s]=r;return}u=n/i%2,u=a&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[s]=this._fn(r,c,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class eN{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Qe(e))return;const n=Object.keys(en.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const r=e[s];if(!Qe(r))return;const a={};for(const c of n)a[c]=r[c];(Nt(r.properties)&&r.properties||[s]).forEach(c=>{(c===s||!i.has(c))&&i.set(c,a)})})}_animateOptions(e,n){const i=n.options,s=Jq(e,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&Qq(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,n){const i=this._properties,s=[],r=e.$animations||(e.$animations={}),a=Object.keys(n),c=Date.now();let u;for(u=a.length-1;u>=0;--u){const d=a[u];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(e,n));continue}const f=n[d];let g=r[d];const y=i.get(d);if(g)if(y&&g.active()){g.update(y,f,c);continue}else g.cancel();if(!y||!y.duration){e[d]=f;continue}r[d]=g=new Xq(y,e,d,f),s.push(g)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return ur.add(this._chart,i),!0}}function Qq(t,e){const n=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const r=t[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function Jq(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function fR(t,e){const n=t&&t.options||{},i=n.reverse,s=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:i?r:s,end:i?s:r}}function Zq(t,e,n){if(n===!1)return!1;const i=fR(t,n),s=fR(e,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function eK(t){let e,n,i,s;return Qe(t)?(e=t.top,n=t.right,i=t.bottom,s=t.left):e=n=i=s=t,{top:e,right:n,bottom:i,left:s,disabled:t===!1}}function tN(t,e){const n=[],i=t._getSortedDatasetMetas(e);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function pR(t,e,n,i={}){const s=t.keys,r=i.mode==="single";let a,c,u,d;if(e!==null){for(a=0,c=s.length;a<c;++a){if(u=+s[a],u===n){if(i.all)continue;break}d=t.values[u],Zt(d)&&(r||e===0||Ws(e)===Ws(d))&&(e+=d)}return e}}function tK(t){const e=Object.keys(t),n=new Array(e.length);let i,s,r;for(i=0,s=e.length;i<s;++i)r=e[i],n[i]={x:r,y:t[r]};return n}function gR(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function nK(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function iK(t){const{min:e,max:n,minDefined:i,maxDefined:s}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function sK(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function mR(t,e,n,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const r=t[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function yR(t,e){const{chart:n,_cachedMeta:i}=t,s=n._stacks||(n._stacks={}),{iScale:r,vScale:a,index:c}=i,u=r.axis,d=a.axis,f=nK(r,a,i),g=e.length;let y;for(let b=0;b<g;++b){const E=e[b],{[u]:_,[d]:w}=E,T=E._stacks||(E._stacks={});y=T[d]=sK(s,f,_),y[c]=w,y._top=mR(y,a,!0,i.type),y._bottom=mR(y,a,!1,i.type);const S=y._visualValues||(y._visualValues={});S[c]=w}}function rb(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function rK(t,e){return Fo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function oK(t,e,n){return Fo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function sh(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const s of e){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const ob=t=>t==="reset"||t==="none",vR=(t,e)=>e?t:Object.assign({},t),aK=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:tN(n,!0),values:null};class ps{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=gR(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&sh(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(g,y,b,E)=>g==="x"?y:g==="r"?E:b,r=n.xAxisID=je(i.xAxisID,rb(e,"x")),a=n.yAxisID=je(i.yAxisID,rb(e,"y")),c=n.rAxisID=je(i.rAxisID,rb(e,"r")),u=n.indexAxis,d=n.iAxisID=s(u,r,a,c),f=n.vAxisID=s(u,a,r,c);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ZP(this._data,this),e._stacked&&sh(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(Qe(n))this._data=tK(n);else if(i!==n){if(i){ZP(i,this);const s=this._cachedMeta;sh(s),s._parsed=[]}n&&Object.isExtensible(n)&&qW(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=gR(n.vScale,n),n.stack!==i.stack&&(s=!0,sh(n),n.stack=i.stack),this._resyncElements(e),(s||r!==n._stacked)&&yR(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:a}=i,c=r.axis;let u=e===0&&n===s.length?!0:i._sorted,d=e>0&&i._parsed[e-1],f,g,y;if(this._parsing===!1)i._parsed=s,i._sorted=!0,y=s;else{Nt(s[e])?y=this.parseArrayData(i,s,e,n):Qe(s[e])?y=this.parseObjectData(i,s,e,n):y=this.parsePrimitiveData(i,s,e,n);const b=()=>g[c]===null||d&&g[c]<d[c];for(f=0;f<n;++f)i._parsed[f+e]=g=y[f],u&&(b()&&(u=!1),d=g);i._sorted=u}a&&yR(this,y)}parsePrimitiveData(e,n,i,s){const{iScale:r,vScale:a}=e,c=r.axis,u=a.axis,d=r.getLabels(),f=r===a,g=new Array(s);let y,b,E;for(y=0,b=s;y<b;++y)E=y+i,g[y]={[c]:f||r.parse(d[E],E),[u]:a.parse(n[E],E)};return g}parseArrayData(e,n,i,s){const{xScale:r,yScale:a}=e,c=new Array(s);let u,d,f,g;for(u=0,d=s;u<d;++u)f=u+i,g=n[f],c[u]={x:r.parse(g[0],f),y:a.parse(g[1],f)};return c}parseObjectData(e,n,i,s){const{xScale:r,yScale:a}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,d=new Array(s);let f,g,y,b;for(f=0,g=s;f<g;++f)y=f+i,b=n[y],d[f]={x:r.parse(ko(b,c),y),y:a.parse(ko(b,u),y)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const s=this.chart,r=this._cachedMeta,a=n[e.axis],c={keys:tN(s,!0),values:n._stacks[e.axis]._visualValues};return pR(c,a,r.index,{mode:i})}updateRangeFromParsed(e,n,i,s){const r=i[n.axis];let a=r===null?NaN:r;const c=s&&i._stacks[n.axis];s&&c&&(s.values=c,a=pR(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&e===i.iScale,a=s.length,c=this._getOtherScale(e),u=aK(n,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:g}=iK(c);let y,b;function E(){b=s[y];const _=b[c.axis];return!Zt(b[e.axis])||f>_||g<_}for(y=0;y<a&&!(!E()&&(this.updateRangeFromParsed(d,e,b,u),r));++y);if(r){for(y=a-1;y>=0;--y)if(!E()){this.updateRangeFromParsed(d,e,b,u);break}}return d}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let s,r,a;for(s=0,r=n.length;s<r;++s)a=n[s][e.axis],Zt(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=eK(je(this.options.clip,Zq(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,a=[],c=this._drawStart||0,u=this._drawCount||s.length-c,d=this.options.drawActiveElementsOnTop;let f;for(i.dataset&&i.dataset.draw(e,r,c,u),f=c;f<c+u;++f){const g=s[f];g.hidden||(g.active&&d?a.push(g):g.draw(e,r))}for(f=0;f<a.length;++f)a[f].draw(e,r)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const s=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];r=a.$context||(a.$context=oK(this.getContext(),e,a)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=rK(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const s=n==="active",r=this._cachedDataOpts,a=e+"-"+n,c=r[a],u=this.enableOptionSharing&&Ed(i);if(c)return vR(c,u);const d=this.chart.config,f=d.datasetElementScopeKeys(this._type,e),g=s?[`${e}Hover`,"hover",e,""]:[e,""],y=d.getOptionScopes(this.getDataset(),f),b=Object.keys(en.elements[e]),E=()=>this.getContext(i,s,n),_=d.resolveNamedOptions(y,b,E,g);return _.$shared&&(_.$shared=u,r[a]=Object.freeze(vR(_,u))),_}_resolveAnimations(e,n,i){const s=this.chart,r=this._cachedDataOpts,a=`animation-${n}`,c=r[a];if(c)return c;let u;if(s.options.animation!==!1){const f=this.chart.config,g=f.datasetAnimationScopeKeys(this._type,n),y=f.getOptionScopes(this.getDataset(),g);u=f.createResolver(y,this.getContext(e,i,n))}const d=new eN(s,u&&u.animations);return u&&u._cacheable&&(r[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||ob(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),s=this._sharedOptions,r=this.getSharedOptions(i),a=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:a}}updateElement(e,n,i,s){ob(s)?Object.assign(e,i):this._resolveAnimations(n,s).update(e,i)}updateSharedOptions(e,n,i){e&&!ob(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,s){e.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[c,u,d]of this._syncList)this[c](u,d);this._syncList=[];const s=i.length,r=n.length,a=Math.min(r,s);a&&this.parse(0,a),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,n,i=!0){const s=this._cachedMeta,r=s.data,a=e+n;let c;const u=d=>{for(d.length+=n,c=d.length-1;c>=a;c--)d[c]=d[c-n]};for(u(r),c=e;c<a;++c)r[c]=new this.dataElementType;this._parsing&&u(s._parsed),this.parse(e,n),i&&this.updateElements(r,e,n,"reset")}updateElements(e,n,i,s){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,n);i._stacked&&sh(i,s)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,s]=e;this[n](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}oe(ps,"defaults",{}),oe(ps,"datasetElementType",null),oe(ps,"dataElementType",null);function cK(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=NM(i.sort((s,r)=>s-r))}return t._cache.$bar}function lK(t){const e=t.iScale,n=cK(e,t.type);let i=e._length,s,r,a,c;const u=()=>{a===32767||a===-32768||(Ed(c)&&(i=Math.min(i,Math.abs(a-c)||i)),c=a)};for(s=0,r=n.length;s<r;++s)a=e.getPixelForValue(n[s]),u();for(c=void 0,s=0,r=e.ticks.length;s<r;++s)a=e.getPixelForTick(s),u();return i}function uK(t,e,n,i){const s=n.barThickness;let r,a;return dt(s)?(r=e.min*n.categoryPercentage,a=n.barPercentage):(r=s*i,a=1),{chunk:r/i,ratio:a,start:e.pixels[t]-r/2}}function hK(t,e,n,i){const s=e.pixels,r=s[t];let a=t>0?s[t-1]:null,c=t<s.length-1?s[t+1]:null;const u=n.categoryPercentage;a===null&&(a=r-(c===null?e.end-e.start:c-r)),c===null&&(c=r+r-a);const d=r-(r-Math.min(a,c))/2*u;return{chunk:Math.abs(c-a)/2*u/i,ratio:n.barPercentage,start:d}}function dK(t,e,n,i){const s=n.parse(t[0],i),r=n.parse(t[1],i),a=Math.min(s,r),c=Math.max(s,r);let u=a,d=c;Math.abs(a)>Math.abs(c)&&(u=c,d=a),e[n.axis]=d,e._custom={barStart:u,barEnd:d,start:s,end:r,min:a,max:c}}function nN(t,e,n,i){return Nt(t)?dK(t,e,n,i):e[n.axis]=n.parse(t,i),e}function _R(t,e,n,i){const s=t.iScale,r=t.vScale,a=s.getLabels(),c=s===r,u=[];let d,f,g,y;for(d=n,f=n+i;d<f;++d)y=e[d],g={},g[s.axis]=c||s.parse(a[d],d),u.push(nN(y,g,r,d));return u}function ab(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function fK(t,e,n){return t!==0?Ws(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function pK(t){let e,n,i,s,r;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:e,top:s,bottom:r}}function gK(t,e,n,i){let s=e.borderSkipped;const r={};if(!s){t.borderSkipped=r;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:c,reverse:u,top:d,bottom:f}=pK(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?s=d:(n._bottom||0)===i?s=f:(r[bR(f,a,c,u)]=!0,s=d)),r[bR(s,a,c,u)]=!0,t.borderSkipped=r}function bR(t,e,n,i){return i?(t=mK(t,e,n),t=wR(t,n,e)):t=wR(t,e,n),t}function mK(t,e,n){return t===e?n:t===n?e:t}function wR(t,e,n){return t==="start"?e:t==="end"?n:t}function yK(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Ig extends ps{parsePrimitiveData(e,n,i,s){return _R(e,n,i,s)}parseArrayData(e,n,i,s){return _R(e,n,i,s)}parseObjectData(e,n,i,s){const{iScale:r,vScale:a}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,d=r.axis==="x"?c:u,f=a.axis==="x"?c:u,g=[];let y,b,E,_;for(y=i,b=i+s;y<b;++y)_=n[y],E={},E[r.axis]=r.parse(ko(_,d),y),g.push(nN(ko(_,f),E,a,y));return g}updateRangeFromParsed(e,n,i,s){super.updateRangeFromParsed(e,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(e),a=r._custom,c=ab(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,s){const r=s==="reset",{index:a,_cachedMeta:{vScale:c}}=this,u=c.getBasePixel(),d=c.isHorizontal(),f=this._getRuler(),{sharedOptions:g,includeOptions:y}=this._getSharedOptions(n,s);for(let b=n;b<n+i;b++){const E=this.getParsed(b),_=r||dt(E[c.axis])?{base:u,head:u}:this._calculateBarValuePixels(b),w=this._calculateBarIndexPixels(b,f),T=(E._stacks||{})[c.axis],S={horizontal:d,base:_.base,enableBorderRadius:!T||ab(E._custom)||a===T._top||a===T._bottom,x:d?_.head:w.center,y:d?w.center:_.head,height:d?w.size:Math.abs(_.size),width:d?Math.abs(_.size):w.size};y&&(S.options=g||this.resolveDataElementOptions(b,e[b].active?"active":s));const x=S.options||e[b].options;gK(S,x,T,a),yK(S,x,f.ratio),this.updateElement(e[b],b,S,s)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=i.options.stacked,a=[],c=u=>{const d=u.controller.getParsed(n),f=d&&d[u.vScale.axis];if(dt(f)||isNaN(f))return!0};for(const u of s)if(!(n!==void 0&&c(u))&&((r===!1||a.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const s=this._getStacks(e,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,a;for(r=0,a=n.data.length;r<a;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const c=e.barThickness;return{min:c||lK(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:a}}=this,c=r||0,u=this.getParsed(e),d=u._custom,f=ab(d);let g=u[n.axis],y=0,b=i?this.applyStack(n,u,i):g,E,_;b!==g&&(y=b-g,b=g),f&&(g=d.barStart,b=d.barEnd-d.barStart,g!==0&&Ws(g)!==Ws(d.barEnd)&&(y=0),y+=g);const w=!dt(r)&&!f?r:y;let T=n.getPixelForValue(w);if(this.chart.getDataVisibility(e)?E=n.getPixelForValue(y+b):E=T,_=E-T,Math.abs(_)<a){_=fK(_,n,c)*a,g===c&&(T-=_/2);const S=n.getPixelForDecimal(0),x=n.getPixelForDecimal(1),k=Math.min(S,x),D=Math.max(S,x);T=Math.max(Math.min(T,D),k),E=T+_,i&&!f&&(u._stacks[n.axis]._visualValues[s]=n.getValueForPixel(E)-n.getValueForPixel(T))}if(T===n.getPixelForValue(c)){const S=Ws(_)*n.getLineWidthForValue(c)/2;T+=S,_-=S}return{size:_,base:T,head:E,center:E+_/2}}_calculateBarIndexPixels(e,n){const i=n.scale,s=this.options,r=s.skipNull,a=je(s.maxBarThickness,1/0);let c,u;if(n.grouped){const d=r?this._getStackCount(e):n.stackCount,f=s.barThickness==="flex"?hK(e,n,s,d):uK(e,n,s,d),g=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);c=f.start+f.chunk*g+f.chunk/2,u=Math.min(a,f.chunk*f.ratio)}else c=i.getPixelForValue(this.getParsed(e)[i.axis],e),u=Math.min(a,n.min*n.ratio);return{base:c-u/2,head:c+u/2,center:c,size:u}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&i[r].draw(this._ctx)}}oe(Ig,"id","bar"),oe(Ig,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),oe(Ig,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Tg extends ps{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,i,s){const r=super.parsePrimitiveData(e,n,i,s);for(let a=0;a<r.length;a++)r[a]._custom=this.resolveDataElementOptions(a+i).radius;return r}parseArrayData(e,n,i,s){const r=super.parseArrayData(e,n,i,s);for(let a=0;a<r.length;a++){const c=n[i+a];r[a]._custom=je(c[2],this.resolveDataElementOptions(a+i).radius)}return r}parseObjectData(e,n,i,s){const r=super.parseObjectData(e,n,i,s);for(let a=0;a<r.length;a++){const c=n[i+a];r[a]._custom=je(c&&c.r&&+c.r,this.resolveDataElementOptions(a+i).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let i=e.length-1;i>=0;--i)n=Math.max(n,e[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,a=this.getParsed(e),c=s.getLabelForValue(a.x),u=r.getLabelForValue(a.y),d=a._custom;return{label:i[e]||"",value:"("+c+", "+u+(d?", "+d:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,s),f=a.axis,g=c.axis;for(let y=n;y<n+i;y++){const b=e[y],E=!r&&this.getParsed(y),_={},w=_[f]=r?a.getPixelForDecimal(.5):a.getPixelForValue(E[f]),T=_[g]=r?c.getBasePixel():c.getPixelForValue(E[g]);_.skip=isNaN(w)||isNaN(T),d&&(_.options=u||this.resolveDataElementOptions(y,b.active?"active":s),r&&(_.options.radius=0)),this.updateElement(b,y,_,s)}}resolveDataElementOptions(e,n){const i=this.getParsed(e);let s=super.resolveDataElementOptions(e,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return n!=="active"&&(s.radius=0),s.radius+=je(i&&i._custom,r),s}}oe(Tg,"id","bubble"),oe(Tg,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),oe(Tg,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function vK(t,e,n){let i=1,s=1,r=0,a=0;if(e<Lt){const c=t,u=c+e,d=Math.cos(c),f=Math.sin(c),g=Math.cos(u),y=Math.sin(u),b=(x,k,D)=>Id(x,c,u,!0)?1:Math.max(k,k*n,D,D*n),E=(x,k,D)=>Id(x,c,u,!0)?-1:Math.min(k,k*n,D,D*n),_=b(0,d,g),w=b(hn,f,y),T=E(Vt,d,g),S=E(Vt+hn,f,y);i=(_-T)/2,s=(w-S)/2,r=-(_+T)/2,a=-(w+S)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:a}}class ba extends ps{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=u=>+i[u];if(Qe(i[e])){const{key:u="value"}=this._parsing;r=d=>+ko(i[d],u)}let a,c;for(a=e,c=e+n;a<c;++a)s._parsed[a]=r(a)}}_getRotation(){return ds(this.options.rotation-90)}_getCircumference(){return ds(this.options.circumference)}_getRotationExtents(){let e=Lt,n=-Lt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),a=s._getCircumference();e=Math.min(e,r),n=Math.max(n,r+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,r=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-a)/2,0),u=Math.min(DW(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:f,rotation:g}=this._getRotationExtents(),{ratioX:y,ratioY:b,offsetX:E,offsetY:_}=vK(g,f,u),w=(i.width-a)/y,T=(i.height-a)/b,S=Math.max(Math.min(w,T)/2,0),x=xM(this.options.radius,S),k=Math.max(x*u,0),D=(x-k)/this._getVisibleDatasetWeightTotal();this.offsetX=E*x,this.offsetY=_*x,s.total=this.calculateTotal(),this.outerRadius=x-D*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-D*d,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*r/Lt)}updateElements(e,n,i,s){const r=s==="reset",a=this.chart,c=a.chartArea,d=a.options.animation,f=(c.left+c.right)/2,g=(c.top+c.bottom)/2,y=r&&d.animateScale,b=y?0:this.innerRadius,E=y?0:this.outerRadius,{sharedOptions:_,includeOptions:w}=this._getSharedOptions(n,s);let T=this._getRotation(),S;for(S=0;S<n;++S)T+=this._circumference(S,r);for(S=n;S<n+i;++S){const x=this._circumference(S,r),k=e[S],D={x:f+this.offsetX,y:g+this.offsetY,startAngle:T,endAngle:T+x,circumference:x,outerRadius:E,innerRadius:b};w&&(D.options=_||this.resolveDataElementOptions(S,k.active?"active":s)),T+=x,this.updateElement(k,S,D,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,s;for(s=0;s<n.length;s++){const r=e._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Lt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=nf(n._parsed[e],i.options.locale);return{label:s[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const i=this.chart;let s,r,a,c,u;if(!e){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){a=i.getDatasetMeta(s),e=a.data,c=a.controller;break}}if(!e)return 0;for(s=0,r=e.length;s<r;++s)u=c.resolveDataElementOptions(s),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,s=e.length;i<s;++i){const r=this.resolveDataElementOptions(i);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(je(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}oe(ba,"id","doughnut"),oe(ba,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),oe(ba,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),oe(ba,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return n.labels.map((r,a)=>{const u=e.getDatasetMeta(0).controller.getStyle(a);return{text:r,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:s,lineWidth:u.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class Sg extends ps{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,a=this.chart._animationsDisabled;let{start:c,count:u}=FM(n,s,a);this._drawStart=c,this._drawCount=u,UM(n)&&(c=0,u=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:d},e),this.updateElements(s,c,u,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:a,vScale:c,_stacked:u,_dataset:d}=this._cachedMeta,{sharedOptions:f,includeOptions:g}=this._getSharedOptions(n,s),y=a.axis,b=c.axis,{spanGaps:E,segment:_}=this.options,w=Il(E)?E:Number.POSITIVE_INFINITY,T=this.chart._animationsDisabled||r||s==="none",S=n+i,x=e.length;let k=n>0&&this.getParsed(n-1);for(let D=0;D<x;++D){const N=e[D],O=T?N:{};if(D<n||D>=S){O.skip=!0;continue}const V=this.getParsed(D),$=dt(V[b]),ie=O[y]=a.getPixelForValue(V[y],D),U=O[b]=r||$?c.getBasePixel():c.getPixelForValue(u?this.applyStack(c,V,u):V[b],D);O.skip=isNaN(ie)||isNaN(U)||$,O.stop=D>0&&Math.abs(V[y]-k[y])>w,_&&(O.parsed=V,O.raw=d.data[D]),g&&(O.options=f||this.resolveDataElementOptions(D,N.active?"active":s)),T||this.updateElement(N,D,O,s),k=V}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}oe(Sg,"id","line"),oe(Sg,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),oe(Sg,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class zh extends ps{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=nf(n._parsed[e].r,i.options.locale);return{label:s[e]||"",value:r}}parseObjectData(e,n,i,s){return KM.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,i=e.options,s=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(s/2,0),a=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),c=(r-a)/e.getVisibleDatasetCount();this.outerRadius=r-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(e,n,i,s){const r=s==="reset",a=this.chart,u=a.options.animation,d=this._cachedMeta.rScale,f=d.xCenter,g=d.yCenter,y=d.getIndexAngle(0)-.5*Vt;let b=y,E;const _=360/this.countVisibleElements();for(E=0;E<n;++E)b+=this._computeAngle(E,s,_);for(E=n;E<n+i;E++){const w=e[E];let T=b,S=b+this._computeAngle(E,s,_),x=a.getDataVisibility(E)?d.getDistanceFromCenterForValue(this.getParsed(E).r):0;b=S,r&&(u.animateScale&&(x=0),u.animateRotate&&(T=S=y));const k={x:f,y:g,innerRadius:0,outerRadius:x,startAngle:T,endAngle:S,options:this.resolveDataElementOptions(E,w.active?"active":s)};this.updateElement(w,E,k,s)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(e,n,i){return this.chart.getDataVisibility(e)?ds(this.resolveDataElementOptions(e,n).angle||i):0}}oe(zh,"id","polarArea"),oe(zh,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),oe(zh,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return n.labels.map((r,a)=>{const u=e.getDatasetMeta(0).controller.getStyle(a);return{text:r,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:s,lineWidth:u.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class I0 extends ba{}oe(I0,"id","pie"),oe(I0,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Ag extends ps{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,s){return KM.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta,i=n.dataset,s=n.data||[],r=n.iScale.getLabels();if(i.points=s,e!=="resize"){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);const c={_loop:!0,_fullLoop:r.length===s.length,options:a};this.updateElement(i,void 0,c,e)}this.updateElements(s,0,s.length,e)}updateElements(e,n,i,s){const r=this._cachedMeta.rScale,a=s==="reset";for(let c=n;c<n+i;c++){const u=e[c],d=this.resolveDataElementOptions(c,u.active?"active":s),f=r.getPointPositionForValue(c,this.getParsed(c).r),g=a?r.xCenter:f.x,y=a?r.yCenter:f.y,b={x:g,y,angle:f.angle,skip:isNaN(g)||isNaN(y),options:d};this.updateElement(u,c,b,s)}}}oe(Ag,"id","radar"),oe(Ag,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),oe(Ag,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Cg extends ps{getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,a=this.getParsed(e),c=s.getLabelForValue(a.x),u=r.getLabelForValue(a.y);return{label:i[e]||"",value:"("+c+", "+u+")"}}update(e){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:r,count:a}=FM(n,i,s);if(this._drawStart=r,this._drawCount=a,UM(n)&&(r=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:u}=n;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!u._decimated,c.points=i;const d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(c,void 0,{animated:!s,options:d},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,r,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,i,s){const r=s==="reset",{iScale:a,vScale:c,_stacked:u,_dataset:d}=this._cachedMeta,f=this.resolveDataElementOptions(n,s),g=this.getSharedOptions(f),y=this.includeOptions(s,g),b=a.axis,E=c.axis,{spanGaps:_,segment:w}=this.options,T=Il(_)?_:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||r||s==="none";let x=n>0&&this.getParsed(n-1);for(let k=n;k<n+i;++k){const D=e[k],N=this.getParsed(k),O=S?D:{},V=dt(N[E]),$=O[b]=a.getPixelForValue(N[b],k),ie=O[E]=r||V?c.getBasePixel():c.getPixelForValue(u?this.applyStack(c,N,u):N[E],k);O.skip=isNaN($)||isNaN(ie)||V,O.stop=k>0&&Math.abs(N[b]-x[b])>T,w&&(O.parsed=N,O.raw=d.data[k]),y&&(O.options=g||this.resolveDataElementOptions(k,D.active?"active":s)),S||this.updateElement(D,k,O,s),x=N}this.updateSharedOptions(g,s,f)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let c=0;for(let u=n.length-1;u>=0;--u)c=Math.max(c,n[u].size(this.resolveDataElementOptions(u))/2);return c>0&&c}const i=e.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const r=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,r,a)/2}}oe(Cg,"id","scatter"),oe(Cg,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),oe(Cg,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var _K=Object.freeze({__proto__:null,BarController:Ig,BubbleController:Tg,DoughnutController:ba,LineController:Sg,PieController:I0,PolarAreaController:zh,RadarController:Ag,ScatterController:Cg});function oa(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class tE{constructor(e){oe(this,"options");this.options=e||{}}static override(e){Object.assign(tE.prototype,e)}init(){}formats(){return oa()}parse(){return oa()}format(){return oa()}add(){return oa()}diff(){return oa()}startOf(){return oa()}endOf(){return oa()}}var bK={_date:tE};function wK(t,e,n,i){const{controller:s,data:r,_sorted:a}=t,c=s._cachedMeta.iScale;if(c&&e===c.axis&&e!=="r"&&a&&r.length){const u=c._reversePixels?zW:yr;if(i){if(s._sharedOptions){const d=r[0],f=typeof d.getRange=="function"&&d.getRange(e);if(f){const g=u(r,e,n-f),y=u(r,e,n+f);return{lo:g.lo,hi:y.hi}}}}else return u(r,e,n)}return{lo:0,hi:r.length-1}}function sf(t,e,n,i,s){const r=t.getSortedVisibleDatasetMetas(),a=n[e];for(let c=0,u=r.length;c<u;++c){const{index:d,data:f}=r[c],{lo:g,hi:y}=wK(r[c],e,a,s);for(let b=g;b<=y;++b){const E=f[b];E.skip||i(E,d,b)}}}function EK(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,s){const r=e?Math.abs(i.x-s.x):0,a=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function cb(t,e,n,i,s){const r=[];return!s&&!t.isPointInArea(e)||sf(t,n,e,function(c,u,d){!s&&!vr(c,t.chartArea,0)||c.inRange(e.x,e.y,i)&&r.push({element:c,datasetIndex:u,index:d})},!0),r}function IK(t,e,n,i){let s=[];function r(a,c,u){const{startAngle:d,endAngle:f}=a.getProps(["startAngle","endAngle"],i),{angle:g}=OM(a,{x:e.x,y:e.y});Id(g,d,f)&&s.push({element:a,datasetIndex:c,index:u})}return sf(t,n,e,r),s}function TK(t,e,n,i,s,r){let a=[];const c=EK(n);let u=Number.POSITIVE_INFINITY;function d(f,g,y){const b=f.inRange(e.x,e.y,s);if(i&&!b)return;const E=f.getCenterPoint(s);if(!(!!r||t.isPointInArea(E))&&!b)return;const w=c(e,E);w<u?(a=[{element:f,datasetIndex:g,index:y}],u=w):w===u&&a.push({element:f,datasetIndex:g,index:y})}return sf(t,n,e,d),a}function lb(t,e,n,i,s,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!i?IK(t,e,n,s):TK(t,e,n,i,s,r)}function ER(t,e,n,i,s){const r=[],a=n==="x"?"inXRange":"inYRange";let c=!1;return sf(t,n,e,(u,d,f)=>{u[a](e[n],s)&&(r.push({element:u,datasetIndex:d,index:f}),c=c||u.inRange(e.x,e.y,s))}),i&&!c?[]:r}var SK={evaluateInteractionItems:sf,modes:{index(t,e,n,i){const s=la(e,t),r=n.axis||"x",a=n.includeInvisible||!1,c=n.intersect?cb(t,s,r,i,a):lb(t,s,r,!1,i,a),u=[];return c.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const f=c[0].index,g=d.data[f];g&&!g.skip&&u.push({element:g,datasetIndex:d.index,index:f})}),u):[]},dataset(t,e,n,i){const s=la(e,t),r=n.axis||"xy",a=n.includeInvisible||!1;let c=n.intersect?cb(t,s,r,i,a):lb(t,s,r,!1,i,a);if(c.length>0){const u=c[0].datasetIndex,d=t.getDatasetMeta(u).data;c=[];for(let f=0;f<d.length;++f)c.push({element:d[f],datasetIndex:u,index:f})}return c},point(t,e,n,i){const s=la(e,t),r=n.axis||"xy",a=n.includeInvisible||!1;return cb(t,s,r,i,a)},nearest(t,e,n,i){const s=la(e,t),r=n.axis||"xy",a=n.includeInvisible||!1;return lb(t,s,r,n.intersect,i,a)},x(t,e,n,i){const s=la(e,t);return ER(t,s,"x",n.intersect,i)},y(t,e,n,i){const s=la(e,t);return ER(t,s,"y",n.intersect,i)}}};const iN=["left","top","right","bottom"];function rh(t,e){return t.filter(n=>n.pos===e)}function IR(t,e){return t.filter(n=>iN.indexOf(n.pos)===-1&&n.box.axis===e)}function oh(t,e){return t.sort((n,i)=>{const s=e?i:n,r=e?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function AK(t){const e=[];let n,i,s,r,a,c;for(n=0,i=(t||[]).length;n<i;++n)s=t[n],{position:r,options:{stack:a,stackWeight:c=1}}=s,e.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&r+a,stackWeight:c});return e}function CK(t){const e={};for(const n of t){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!iN.includes(s))continue;const a=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return e}function PK(t,e){const n=CK(t),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let r,a,c;for(r=0,a=t.length;r<a;++r){c=t[r];const{fullSize:u}=c.box,d=n[c.stack],f=d&&c.stackWeight/d.weight;c.horizontal?(c.width=f?f*i:u&&e.availableWidth,c.height=s):(c.width=i,c.height=f?f*s:u&&e.availableHeight)}return n}function RK(t){const e=AK(t),n=oh(e.filter(d=>d.box.fullSize),!0),i=oh(rh(e,"left"),!0),s=oh(rh(e,"right")),r=oh(rh(e,"top"),!0),a=oh(rh(e,"bottom")),c=IR(e,"x"),u=IR(e,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(u).concat(a).concat(c),chartArea:rh(e,"chartArea"),vertical:i.concat(s).concat(u),horizontal:r.concat(a).concat(c)}}function TR(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function sN(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function xK(t,e,n,i){const{pos:s,box:r}=n,a=t.maxPadding;if(!Qe(s)){n.size&&(t[s]-=n.size);const g=i[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?r.height:r.width),n.size=g.size/g.count,t[s]+=n.size}r.getPadding&&sN(a,r.getPadding());const c=Math.max(0,e.outerWidth-TR(a,t,"left","right")),u=Math.max(0,e.outerHeight-TR(a,t,"top","bottom")),d=c!==t.w,f=u!==t.h;return t.w=c,t.h=u,n.horizontal?{same:d,other:f}:{same:f,other:d}}function kK(t){const e=t.maxPadding;function n(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function DK(t,e){const n=e.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{r[a]=Math.max(e[a],n[a])}),r}return i(t?["left","right"]:["top","bottom"])}function wh(t,e,n,i){const s=[];let r,a,c,u,d,f;for(r=0,a=t.length,d=0;r<a;++r){c=t[r],u=c.box,u.update(c.width||e.w,c.height||e.h,DK(c.horizontal,e));const{same:g,other:y}=xK(e,n,c,i);d|=g&&s.length,f=f||y,u.fullSize||s.push(c)}return d&&wh(s,e,n,i)||f}function Qp(t,e,n,i,s){t.top=n,t.left=e,t.right=e+i,t.bottom=n+s,t.width=i,t.height=s}function SR(t,e,n,i){const s=n.padding;let{x:r,y:a}=e;for(const c of t){const u=c.box,d=i[c.stack]||{count:1,placed:0,weight:1},f=c.stackWeight/d.weight||1;if(c.horizontal){const g=e.w*f,y=d.size||u.height;Ed(d.start)&&(a=d.start),u.fullSize?Qp(u,s.left,a,n.outerWidth-s.right-s.left,y):Qp(u,e.left+d.placed,a,g,y),d.start=a,d.placed+=g,a=u.bottom}else{const g=e.h*f,y=d.size||u.width;Ed(d.start)&&(r=d.start),u.fullSize?Qp(u,r,s.top,y,n.outerHeight-s.bottom-s.top):Qp(u,r,e.top+d.placed,y,g),d.start=r,d.placed+=g,r=u.right}}e.x=r,e.y=a}var ti={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const s=oi(t.options.layout.padding),r=Math.max(e-s.width,0),a=Math.max(n-s.height,0),c=RK(t.boxes),u=c.vertical,d=c.horizontal;Et(t.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const f=u.reduce((_,w)=>w.box.options&&w.box.options.display===!1?_:_+1,0)||1,g=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/f,hBoxMaxHeight:a/2}),y=Object.assign({},s);sN(y,oi(i));const b=Object.assign({maxPadding:y,w:r,h:a,x:s.left,y:s.top},s),E=PK(u.concat(d),g);wh(c.fullSize,b,g,E),wh(u,b,g,E),wh(d,b,g,E)&&wh(u,b,g,E),kK(b),SR(c.leftAndTop,b,g,E),b.x+=b.w,b.y+=b.h,SR(c.rightAndBottom,b,g,E),t.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},Et(c.chartArea,_=>{const w=_.box;Object.assign(w,t.chartArea),w.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class rN{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,s){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(e){return!0}updateConfig(e){}}class OK extends rN{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Pg="$chartjs",MK={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},AR=t=>t===null||t==="";function NK(t,e){const n=t.style,i=t.getAttribute("height"),s=t.getAttribute("width");if(t[Pg]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",AR(s)){const r=cR(t,"width");r!==void 0&&(t.width=r)}if(AR(i))if(t.style.height==="")t.height=t.width/(e||2);else{const r=cR(t,"height");r!==void 0&&(t.height=r)}return t}const oN=Vq?{passive:!0}:!1;function LK(t,e,n){t&&t.addEventListener(e,n,oN)}function VK(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,oN)}function FK(t,e){const n=MK[t.type]||t.type,{x:i,y:s}=la(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:s!==void 0?s:null}}function vm(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function UK(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let a=!1;for(const c of r)a=a||vm(c.addedNodes,i),a=a&&!vm(c.removedNodes,i);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function BK(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let a=!1;for(const c of r)a=a||vm(c.removedNodes,i),a=a&&!vm(c.addedNodes,i);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Sd=new Map;let CR=0;function aN(){const t=window.devicePixelRatio;t!==CR&&(CR=t,Sd.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function jK(t,e){Sd.size||window.addEventListener("resize",aN),Sd.set(t,e)}function $K(t){Sd.delete(t),Sd.size||window.removeEventListener("resize",aN)}function HK(t,e,n){const i=t.canvas,s=i&&eE(i);if(!s)return;const r=VM((c,u)=>{const d=s.clientWidth;n(c,u),d<s.clientWidth&&n()},window),a=new ResizeObserver(c=>{const u=c[0],d=u.contentRect.width,f=u.contentRect.height;d===0&&f===0||r(d,f)});return a.observe(s),jK(t,r),a}function ub(t,e,n){n&&n.disconnect(),e==="resize"&&$K(t)}function zK(t,e,n){const i=t.canvas,s=VM(r=>{t.ctx!==null&&n(FK(r,t))},t);return LK(i,e,s),s}class WK extends rN{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(NK(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[Pg])return!1;const i=n[Pg].initial;["height","width"].forEach(r=>{const a=i[r];dt(a)?n.removeAttribute(r):n.setAttribute(r,a)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[Pg],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),a={attach:UK,detach:BK,resize:HK}[n]||zK;s[n]=a(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),s=i[n];if(!s)return;({attach:ub,detach:ub,resize:ub}[n]||VK)(e,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,s){return Lq(e,n,i,s)}isAttached(e){const n=eE(e);return!!(n&&n.isConnected)}}function qK(t){return!Z1()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?OK:WK}var og;let Mr=(og=class{constructor(){oe(this,"x");oe(this,"y");oe(this,"active",!1);oe(this,"options");oe(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Il(this.x)&&Il(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const s={};return e.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}},oe(og,"defaults",{}),oe(og,"defaultRoutes"),og);function KK(t,e){const n=t.options.ticks,i=GK(t),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?XK(e):[],a=r.length,c=r[0],u=r[a-1],d=[];if(a>s)return QK(e,d,r,a/s),d;const f=YK(r,e,s);if(a>0){let g,y;const b=a>1?Math.round((u-c)/(a-1)):null;for(Jp(e,d,f,dt(b)?0:c-b,c),g=0,y=a-1;g<y;g++)Jp(e,d,f,r[g],r[g+1]);return Jp(e,d,f,u,dt(b)?e.length:u+b),d}return Jp(e,d,f),d}function GK(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(i,s))}function YK(t,e,n){const i=JK(t),s=e.length/n;if(!i)return Math.max(s,1);const r=BW(i);for(let a=0,c=r.length-1;a<c;a++){const u=r[a];if(u>s)return u}return Math.max(s,1)}function XK(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function QK(t,e,n,i){let s=0,r=n[0],a;for(i=Math.ceil(i),a=0;a<t.length;a++)a===r&&(e.push(t[a]),s++,r=n[s*i])}function Jp(t,e,n,i,s){const r=je(i,0),a=Math.min(je(s,t.length),t.length);let c=0,u,d,f;for(n=Math.ceil(n),s&&(u=s-i,n=u/Math.floor(u/n)),f=r;f<0;)c++,f=Math.round(r+c*n);for(d=Math.max(r,0);d<a;d++)d===f&&(e.push(t[d]),c++,f=Math.round(r+c*n))}function JK(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const ZK=t=>t==="left"?"right":t==="right"?"left":t,PR=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,RR=(t,e)=>Math.min(e||t,t);function xR(t,e){const n=[],i=t.length/e,s=t.length;let r=0;for(;r<s;r+=i)n.push(t[Math.floor(r)]);return n}function eG(t,e,n){const i=t.ticks.length,s=Math.min(e,i-1),r=t._startPixel,a=t._endPixel,c=1e-6;let u=t.getPixelForTick(s),d;if(!(n&&(i===1?d=Math.max(u-r,a-u):e===0?d=(t.getPixelForTick(1)-u)/2:d=(u-t.getPixelForTick(s-1))/2,u+=s<e?d:-d,u<r-c||u>a+c)))return u}function tG(t,e){Et(t,n=>{const i=n.gc,s=i.length/2;let r;if(s>e){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function ah(t){return t.drawTicks?t.tickLength:0}function kR(t,e){if(!t.display)return 0;const n=An(t.font,e),i=oi(t.padding);return(Nt(t.text)?t.text.length:1)*n.lineHeight+i.height}function nG(t,e){return Fo(t,{scale:e,type:"scale"})}function iG(t,e,n){return Fo(t,{tick:n,index:e,type:"tick"})}function sG(t,e,n){let i=K1(t);return(n&&e!=="right"||!n&&e==="right")&&(i=ZK(i)),i}function rG(t,e,n,i){const{top:s,left:r,bottom:a,right:c,chart:u}=t,{chartArea:d,scales:f}=u;let g=0,y,b,E;const _=a-s,w=c-r;if(t.isHorizontal()){if(b=Xn(i,r,c),Qe(n)){const T=Object.keys(n)[0],S=n[T];E=f[T].getPixelForValue(S)+_-e}else n==="center"?E=(d.bottom+d.top)/2+_-e:E=PR(t,n,e);y=c-r}else{if(Qe(n)){const T=Object.keys(n)[0],S=n[T];b=f[T].getPixelForValue(S)-w+e}else n==="center"?b=(d.left+d.right)/2-w+e:b=PR(t,n,e);E=Xn(i,a,s),g=n==="left"?-hn:hn}return{titleX:b,titleY:E,maxWidth:y,rotation:g}}class Ka extends Mr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return e=Fi(e,Number.POSITIVE_INFINITY),n=Fi(n,Number.NEGATIVE_INFINITY),i=Fi(i,Number.POSITIVE_INFINITY),s=Fi(s,Number.NEGATIVE_INFINITY),{min:Fi(e,i),max:Fi(n,s),minDefined:Zt(e),maxDefined:Zt(n)}}getMinMax(e){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),a;if(s&&r)return{min:n,max:i};const c=this.getMatchingVisibleMetas();for(let u=0,d=c.length;u<d;++u)a=c[u].controller.getMinMax(this,e),s||(n=Math.min(n,a.min)),r||(i=Math.max(i,a.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:Fi(n,Fi(i,n)),max:Fi(i,Fi(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Rt(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:s,grace:r,ticks:a}=this.options,c=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=pq(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?xR(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=KK(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Rt(this.options.afterUpdate,[this])}beforeSetDimensions(){Rt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Rt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Rt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Rt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i],r.label=Rt(n.callback,[r.value,i,e],this)}afterTickToLabelConversion(){Rt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Rt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=RR(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let a=s,c,u,d;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const f=this._getLabelSizes(),g=f.widest.width,y=f.highest.height,b=Nn(this.chart.width-g,0,this.maxWidth);c=e.offset?this.maxWidth/i:b/(i-1),g+6>c&&(c=b/(i-(e.offset?.5:1)),u=this.maxHeight-ah(e.grid)-n.padding-kR(e.title,this.chart.options.font),d=Math.sqrt(g*g+y*y),a=W1(Math.min(Math.asin(Nn((f.highest.height+6)/c,-1,1)),Math.asin(Nn(u/d,-1,1))-Math.asin(Nn(y/d,-1,1)))),a=Math.max(s,Math.min(r,a))),this.labelRotation=a}afterCalculateLabelRotation(){Rt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Rt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,a=this._isVisible(),c=this.isHorizontal();if(a){const u=kR(s,n.options.font);if(c?(e.width=this.maxWidth,e.height=ah(r)+u):(e.height=this.maxHeight,e.width=ah(r)+u),i.display&&this.ticks.length){const{first:d,last:f,widest:g,highest:y}=this._getLabelSizes(),b=i.padding*2,E=ds(this.labelRotation),_=Math.cos(E),w=Math.sin(E);if(c){const T=i.mirror?0:w*g.width+_*y.height;e.height=Math.min(this.maxHeight,e.height+T+b)}else{const T=i.mirror?0:_*g.width+w*y.height;e.width=Math.min(this.maxWidth,e.width+T+b)}this._calculatePadding(d,f,w,_)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,s){const{ticks:{align:r,padding:a},position:c}=this.options,u=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,b=0;u?d?(y=s*e.width,b=i*n.height):(y=i*e.height,b=s*n.width):r==="start"?b=n.width:r==="end"?y=e.width:r!=="inner"&&(y=e.width/2,b=n.width/2),this.paddingLeft=Math.max((y-f+a)*this.width/(this.width-f),0),this.paddingRight=Math.max((b-g+a)*this.width/(this.width-g),0)}else{let f=n.height/2,g=e.height/2;r==="start"?(f=0,g=e.height):r==="end"&&(f=n.height,g=0),this.paddingTop=f+a,this.paddingBottom=g+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Rt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)dt(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=xR(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:s,_longestTextCache:r}=this,a=[],c=[],u=Math.floor(n/RR(n,i));let d=0,f=0,g,y,b,E,_,w,T,S,x,k,D;for(g=0;g<n;g+=u){if(E=e[g].label,_=this._resolveTickFontOptions(g),s.font=w=_.string,T=r[w]=r[w]||{data:{},gc:[]},S=_.lineHeight,x=k=0,!dt(E)&&!Nt(E))x=mm(s,T.data,T.gc,x,E),k=S;else if(Nt(E))for(y=0,b=E.length;y<b;++y)D=E[y],!dt(D)&&!Nt(D)&&(x=mm(s,T.data,T.gc,x,D),k+=S);a.push(x),c.push(k),d=Math.max(x,d),f=Math.max(k,f)}tG(r,n);const N=a.indexOf(d),O=c.indexOf(f),V=$=>({width:a[$]||0,height:c[$]||0});return{first:V(0),last:V(n-1),widest:V(N),highest:V(O),widths:a,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return HW(this._alignToPixels?ra(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=iG(this.getContext(),e,i))}return this.$context||(this.$context=nG(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ds(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),a=e.autoSkipPadding||0,c=r?r.widest.width+a:0,u=r?r.highest.height+a:0;return this.isHorizontal()?u*i>c*s?c/i:u/s:u*s<c*i?u/i:c/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:a,border:c}=s,u=r.offset,d=this.isHorizontal(),g=this.ticks.length+(u?1:0),y=ah(r),b=[],E=c.setContext(this.getContext()),_=E.display?E.width:0,w=_/2,T=function(Y){return ra(i,Y,_)};let S,x,k,D,N,O,V,$,ie,U,me,ye;if(a==="top")S=T(this.bottom),O=this.bottom-y,$=S-w,U=T(e.top)+w,ye=e.bottom;else if(a==="bottom")S=T(this.top),U=e.top,ye=T(e.bottom)-w,O=S+w,$=this.top+y;else if(a==="left")S=T(this.right),N=this.right-y,V=S-w,ie=T(e.left)+w,me=e.right;else if(a==="right")S=T(this.left),ie=e.left,me=T(e.right)-w,N=S+w,V=this.left+y;else if(n==="x"){if(a==="center")S=T((e.top+e.bottom)/2+.5);else if(Qe(a)){const Y=Object.keys(a)[0],se=a[Y];S=T(this.chart.scales[Y].getPixelForValue(se))}U=e.top,ye=e.bottom,O=S+w,$=O+y}else if(n==="y"){if(a==="center")S=T((e.left+e.right)/2);else if(Qe(a)){const Y=Object.keys(a)[0],se=a[Y];S=T(this.chart.scales[Y].getPixelForValue(se))}N=S-w,V=N-y,ie=e.left,me=e.right}const Ze=je(s.ticks.maxTicksLimit,g),pe=Math.max(1,Math.ceil(g/Ze));for(x=0;x<g;x+=pe){const Y=this.getContext(x),se=r.setContext(Y),Ie=c.setContext(Y),st=se.lineWidth,Tt=se.color,on=Ie.dash||[],mt=Ie.dashOffset,Bn=se.tickWidth,Ct=se.tickColor,yi=se.tickBorderDash||[],qe=se.tickBorderDashOffset;k=eG(this,x,u),k!==void 0&&(D=ra(i,k,st),d?N=V=ie=me=D:O=$=U=ye=D,b.push({tx1:N,ty1:O,tx2:V,ty2:$,x1:ie,y1:U,x2:me,y2:ye,width:st,color:Tt,borderDash:on,borderDashOffset:mt,tickWidth:Bn,tickColor:Ct,tickBorderDash:yi,tickBorderDashOffset:qe}))}return this._ticksLength=g,this._borderValue=S,b}_computeLabelItems(e){const n=this.axis,i=this.options,{position:s,ticks:r}=i,a=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:d,padding:f,mirror:g}=r,y=ah(i.grid),b=y+f,E=g?-f:b,_=-ds(this.labelRotation),w=[];let T,S,x,k,D,N,O,V,$,ie,U,me,ye="middle";if(s==="top")N=this.bottom-E,O=this._getXAxisLabelAlignment();else if(s==="bottom")N=this.top+E,O=this._getXAxisLabelAlignment();else if(s==="left"){const pe=this._getYAxisLabelAlignment(y);O=pe.textAlign,D=pe.x}else if(s==="right"){const pe=this._getYAxisLabelAlignment(y);O=pe.textAlign,D=pe.x}else if(n==="x"){if(s==="center")N=(e.top+e.bottom)/2+b;else if(Qe(s)){const pe=Object.keys(s)[0],Y=s[pe];N=this.chart.scales[pe].getPixelForValue(Y)+b}O=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")D=(e.left+e.right)/2-b;else if(Qe(s)){const pe=Object.keys(s)[0],Y=s[pe];D=this.chart.scales[pe].getPixelForValue(Y)}O=this._getYAxisLabelAlignment(y).textAlign}n==="y"&&(u==="start"?ye="top":u==="end"&&(ye="bottom"));const Ze=this._getLabelSizes();for(T=0,S=c.length;T<S;++T){x=c[T],k=x.label;const pe=r.setContext(this.getContext(T));V=this.getPixelForTick(T)+r.labelOffset,$=this._resolveTickFontOptions(T),ie=$.lineHeight,U=Nt(k)?k.length:1;const Y=U/2,se=pe.color,Ie=pe.textStrokeColor,st=pe.textStrokeWidth;let Tt=O;a?(D=V,O==="inner"&&(T===S-1?Tt=this.options.reverse?"left":"right":T===0?Tt=this.options.reverse?"right":"left":Tt="center"),s==="top"?d==="near"||_!==0?me=-U*ie+ie/2:d==="center"?me=-Ze.highest.height/2-Y*ie+ie:me=-Ze.highest.height+ie/2:d==="near"||_!==0?me=ie/2:d==="center"?me=Ze.highest.height/2-Y*ie:me=Ze.highest.height-U*ie,g&&(me*=-1),_!==0&&!pe.showLabelBackdrop&&(D+=ie/2*Math.sin(_))):(N=V,me=(1-U)*ie/2);let on;if(pe.showLabelBackdrop){const mt=oi(pe.backdropPadding),Bn=Ze.heights[T],Ct=Ze.widths[T];let yi=me-mt.top,qe=0-mt.left;switch(ye){case"middle":yi-=Bn/2;break;case"bottom":yi-=Bn;break}switch(O){case"center":qe-=Ct/2;break;case"right":qe-=Ct;break;case"inner":T===S-1?qe-=Ct:T>0&&(qe-=Ct/2);break}on={left:qe,top:yi,width:Ct+mt.width,height:Bn+mt.height,color:pe.backdropColor}}w.push({label:k,font:$,textOffset:me,options:{rotation:_,color:se,strokeColor:Ie,strokeWidth:st,textAlign:Tt,textBaseline:ye,translation:[D,N],backdrop:on}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ds(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,a=this._getLabelSizes(),c=e+r,u=a.widest.width;let d,f;return n==="left"?s?(f=this.right+r,i==="near"?d="left":i==="center"?(d="center",f+=u/2):(d="right",f+=u)):(f=this.right-c,i==="near"?d="right":i==="center"?(d="center",f-=u/2):(d="left",f=this.left)):n==="right"?s?(f=this.left+r,i==="near"?d="right":i==="center"?(d="center",f-=u/2):(d="left",f-=u)):(f=this.left+c,i==="near"?d="left":i==="center"?(d="center",f+=u/2):(d="right",f=this.right)):d="right",{textAlign:d,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:s,width:r,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,s,r,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,a;const c=(u,d,f)=>{!f.width||!f.color||(i.save(),i.lineWidth=f.width,i.strokeStyle=f.color,i.setLineDash(f.borderDash||[]),i.lineDashOffset=f.borderDashOffset,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(n.display)for(r=0,a=s.length;r<a;++r){const u=s[r];n.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),a=i.display?r.width:0;if(!a)return;const c=s.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,f,g,y;this.isHorizontal()?(d=ra(e,this.left,a)-a/2,f=ra(e,this.right,c)+c/2,g=y=u):(g=ra(e,this.top,a)-a/2,y=ra(e,this.bottom,c)+c/2,d=f=u),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(d,g),n.lineTo(f,y),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Vy(i,s);const r=this.getLabelItems(e);for(const a of r){const c=a.options,u=a.font,d=a.label,f=a.textOffset;Ua(i,d,0,f,u,c)}s&&Fy(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=An(i.font),a=oi(i.padding),c=i.align;let u=r.lineHeight/2;n==="bottom"||n==="center"||Qe(n)?(u+=a.bottom,Nt(i.text)&&(u+=r.lineHeight*(i.text.length-1))):u+=a.top;const{titleX:d,titleY:f,maxWidth:g,rotation:y}=rG(this,u,n,c);Ua(e,i.text,0,0,r,{color:i.color,maxWidth:g,rotation:y,textAlign:sG(c,n,s),textBaseline:"middle",translation:[d,f]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=je(e.grid&&e.grid.z,-1),s=je(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ka.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,a;for(r=0,a=n.length;r<a;++r){const c=n[r];c[i]===this.id&&(!e||c.type===e)&&s.push(c)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return An(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Zp{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;cG(n)&&(i=this.register(n));const s=this.items,r=e.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in s||(s[r]=e,oG(e,a,i),this.override&&en.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,s=this.scope;i in n&&delete n[i],s&&i in en[s]&&(delete en[s][i],this.override&&delete Fa[i])}}function oG(t,e,n){const i=wd(Object.create(null),[n?en.get(n):{},en.get(e),t.defaults]);en.set(e,i),t.defaultRoutes&&aG(e,t.defaultRoutes),t.descriptors&&en.describe(e,t.descriptors)}function aG(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),s=i.pop(),r=[t].concat(i).join("."),a=e[n].split("."),c=a.pop(),u=a.join(".");en.route(r,s,u,c)})}function cG(t){return"id"in t&&"defaults"in t}class lG{constructor(){this.controllers=new Zp(ps,"datasets",!0),this.elements=new Zp(Mr,"elements"),this.plugins=new Zp(Object,"plugins"),this.scales=new Zp(Ka,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(e,r,s):Et(s,a=>{const c=i||this._getRegistryForType(a);this._exec(e,c,a)})})}_exec(e,n,i){const s=z1(e);Rt(i["before"+s],[],i),n[e](i),Rt(i["after"+s],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var xs=new lG;class uG{constructor(){this._init=[]}notify(e,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(r,e,n,i);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,n,i,s){s=s||{};for(const r of e){const a=r.plugin,c=a[i],u=[n,s,r.options];if(Rt(c,u,a)===!1&&s.cancelable)return!1}return!0}invalidate(){dt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,s=je(i.options&&i.options.plugins,{}),r=hG(i);return s===!1&&!n?[]:fG(e,r,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,s=(r,a)=>r.filter(c=>!a.some(u=>c.plugin.id===u.plugin.id));this._notify(s(n,i),e,"stop"),this._notify(s(i,n),e,"start")}}function hG(t){const e={},n=[],i=Object.keys(xs.plugins.items);for(let r=0;r<i.length;r++)n.push(xs.getPlugin(i[r]));const s=t.plugins||[];for(let r=0;r<s.length;r++){const a=s[r];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function dG(t,e){return!e&&t===!1?null:t===!0?{}:t}function fG(t,{plugins:e,localIds:n},i,s){const r=[],a=t.getContext();for(const c of e){const u=c.id,d=dG(i[u],s);d!==null&&r.push({plugin:c,options:pG(t.config,{plugin:c,local:n[u]},d,a)})}return r}function pG(t,{plugin:e,local:n},i,s){const r=t.pluginScopeKeys(e),a=t.getOptionScopes(i,r);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function T0(t,e){const n=en.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function gG(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function mG(t,e){return t===e?"_index_":"_value_"}function DR(t){if(t==="x"||t==="y"||t==="r")return t}function yG(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function S0(t,...e){if(DR(t))return t;for(const n of e){const i=n.axis||yG(n.position)||t.length>1&&DR(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function OR(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function vG(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return OR(t,"x",n[0])||OR(t,"y",n[0])}return{}}function _G(t,e){const n=Fa[t.type]||{scales:{}},i=e.scales||{},s=T0(t.type,e),r=Object.create(null);return Object.keys(i).forEach(a=>{const c=i[a];if(!Qe(c))return console.error(`Invalid scale configuration for scale: ${a}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const u=S0(a,c,vG(a,t),en.scales[c.type]),d=mG(u,s),f=n.scales||{};r[a]=Bh(Object.create(null),[{axis:u},c,f[u],f[d]])}),t.data.datasets.forEach(a=>{const c=a.type||t.type,u=a.indexAxis||T0(c,e),f=(Fa[c]||{}).scales||{};Object.keys(f).forEach(g=>{const y=gG(g,u),b=a[y+"AxisID"]||y;r[b]=r[b]||Object.create(null),Bh(r[b],[{axis:y},i[b],f[g]])})}),Object.keys(r).forEach(a=>{const c=r[a];Bh(c,[en.scales[c.type],en.scale])}),r}function cN(t){const e=t.options||(t.options={});e.plugins=je(e.plugins,{}),e.scales=_G(t,e)}function lN(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function bG(t){return t=t||{},t.data=lN(t.data),cN(t),t}const MR=new Map,uN=new Set;function eg(t,e){let n=MR.get(t);return n||(n=e(),MR.set(t,n),uN.add(n)),n}const ch=(t,e,n)=>{const i=ko(e,n);i!==void 0&&t.add(i)};class wG{constructor(e){this._config=bG(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=lN(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),cN(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return eg(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return eg(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return eg(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return eg(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let s=i.get(e);return(!s||n)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,n,i){const{options:s,type:r}=this,a=this._cachedScopes(e,i),c=a.get(n);if(c)return c;const u=new Set;n.forEach(f=>{e&&(u.add(e),f.forEach(g=>ch(u,e,g))),f.forEach(g=>ch(u,s,g)),f.forEach(g=>ch(u,Fa[r]||{},g)),f.forEach(g=>ch(u,en,g)),f.forEach(g=>ch(u,w0,g))});const d=Array.from(u);return d.length===0&&d.push(Object.create(null)),uN.has(n)&&a.set(n,d),d}chartOptionScopes(){const{options:e,type:n}=this;return[e,Fa[n]||{},en.datasets[n]||{},{type:n},en,w0]}resolveNamedOptions(e,n,i,s=[""]){const r={$shared:!0},{resolver:a,subPrefixes:c}=NR(this._resolverCache,e,s);let u=a;if(IG(a,n)){r.$shared=!1,i=Do(i)?i():i;const d=this.createResolver(e,i,c);u=Tl(a,i,d)}for(const d of n)r[d]=u[d];return r}createResolver(e,n,i=[""],s){const{resolver:r}=NR(this._resolverCache,e,i);return Qe(n)?Tl(r,n,void 0,s):r}}function NR(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const s=n.join();let r=i.get(s);return r||(r={resolver:X1(e,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},i.set(s,r)),r}const EG=t=>Qe(t)&&Object.getOwnPropertyNames(t).some(e=>Do(t[e]));function IG(t,e){const{isScriptable:n,isIndexable:i}=HM(t);for(const s of e){const r=n(s),a=i(s),c=(a||r)&&t[s];if(r&&(Do(c)||EG(c))||a&&Nt(c))return!0}return!1}var TG="4.4.2";const SG=["top","bottom","left","right","chartArea"];function LR(t,e){return t==="top"||t==="bottom"||SG.indexOf(t)===-1&&e==="x"}function VR(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function FR(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Rt(n&&n.onComplete,[t],e)}function AG(t){const e=t.chart,n=e.options.animation;Rt(n&&n.onProgress,[t],e)}function hN(t){return Z1()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Rg={},UR=t=>{const e=hN(t);return Object.values(Rg).filter(n=>n.canvas===e).pop()};function CG(t,e,n){const i=Object.keys(t);for(const s of i){const r=+s;if(r>=e){const a=t[s];delete t[s],(n>0||r>e)&&(t[r+n]=a)}}}function PG(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function tg(t,e,n){return t.options.clip?t[n]:e[n]}function RG(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:tg(n,e,"left"),right:tg(n,e,"right"),top:tg(i,e,"top"),bottom:tg(i,e,"bottom")}:e}class ls{static register(...e){xs.add(...e),BR()}static unregister(...e){xs.remove(...e),BR()}constructor(e,n){const i=this.config=new wG(n),s=hN(e),r=UR(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||qK(s)),this.platform.updateConfig(i);const c=this.platform.acquireContext(s,a.aspectRatio),u=c&&c.canvas,d=u&&u.height,f=u&&u.width;if(this.id=kW(),this.ctx=c,this.canvas=u,this.width=f,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new uG,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=KW(g=>this.update(g),a.resizeDelay||0),this._dataChanges=[],Rg[this.id]=this,!c||!u){console.error("Failed to create chart: can't acquire context from the given item");return}ur.listen(this,"complete",FR),ur.listen(this,"progress",AG),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return dt(e)?n&&r?r:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return xs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():aR(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return sR(this.canvas,this.ctx),this}stop(){return ur.stop(this),this}resize(e,n){ur.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,n,r),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,aR(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),Rt(i.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Et(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,s=Object.keys(i).reduce((a,c)=>(a[c]=!1,a),{});let r=[];n&&(r=r.concat(Object.keys(n).map(a=>{const c=n[a],u=S0(a,c),d=u==="r",f=u==="x";return{options:c,dposition:d?"chartArea":f?"bottom":"left",dtype:d?"radialLinear":f?"category":"linear"}}))),Et(r,a=>{const c=a.options,u=c.id,d=S0(u,c),f=je(c.type,a.dtype);(c.position===void 0||LR(c.position,d)!==LR(a.dposition))&&(c.position=a.dposition),s[u]=!0;let g=null;if(u in i&&i[u].type===f)g=i[u];else{const y=xs.getScale(f);g=new y({id:u,type:f,ctx:this.ctx,chart:this}),i[g.id]=g}g.init(c,e)}),Et(s,(a,c)=>{a||delete i[c]}),Et(i,a=>{ti.configure(this,a,a.options),ti.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(VR("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let a=this.getDatasetMeta(i);const c=r.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=c,a.indexAxis=r.indexAxis||T0(c,this.options),a.order=r.order||0,a.index=i,a.label=""+r.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const u=xs.getController(c),{datasetElementType:d,dataElementType:f}=en.datasets[c];Object.assign(u,{dataElementType:xs.getElement(f),datasetElementType:d&&xs.getElement(d)}),a.controller=new u(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Et(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,f=this.data.datasets.length;d<f;d++){const{controller:g}=this.getDatasetMeta(d),y=!s&&r.indexOf(g)===-1;g.buildOrUpdateElements(y),a=Math.max(+g.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),s||Et(r,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(VR("z","_idx"));const{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Et(this.scales,e=>{ti.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!YP(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const a=i==="_removeElements"?-r:r;CG(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(e.filter(a=>a[0]===r).map((a,c)=>c+","+a.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!YP(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ti.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Et(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Do(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ur.has(this)?this.attached&&!ur.running(this)&&ur.start(this):(this.draw(),FR({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resize(i,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const a=n[s];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,s=!i.disabled,r=RG(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(s&&Vy(n,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),e.controller.draw(),s&&Fy(n),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return vr(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,s){const r=SK.modes[n];return typeof r=="function"?r(this,e,i,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Fo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(e),a=r.controller._resolveAnimations(void 0,s);Ed(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(r,{visible:i}),this.update(c=>c.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),ur.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),sR(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Rg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(r,a)=>{n.addEventListener(this,r,a),e[r]=a},s=(r,a,c)=>{r.offsetX=a,r.offsetY=c,this._eventHandler(r)};Et(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(u,d)=>{n.addEventListener(this,u,d),e[u]=d},s=(u,d)=>{e[u]&&(n.removeEventListener(this,u,d),delete e[u])},r=(u,d)=>{this.canvas&&this.resize(u,d)};let a;const c=()=>{s("attach",c),this.attached=!0,this.resize(),i("resize",r),i("detach",a)};a=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",c)},n.isAttached(this.canvas)?c():a()}unbindEvents(){Et(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Et(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const s=i?"set":"remove";let r,a,c,u;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),c=0,u=e.length;c<u;++c){a=e[c];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:r,index:a})=>{const c=this.getDatasetMeta(r);if(!c)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:c.data[a],index:a}});!fm(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const s=this.options.hover,r=(u,d)=>u.filter(f=>!d.some(g=>f.datasetIndex===g.datasetIndex&&f.index===g.index)),a=r(n,e),c=i?e:r(e,n);a.length&&this.updateHoverStyle(a,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:s=[],options:r}=this,a=n,c=this._getActiveElements(e,s,i,a),u=VW(e),d=PG(e,this._lastEvent,i,u);i&&(this._lastEvent=null,Rt(r.onHover,[e,c,this],this),u&&Rt(r.onClick,[e,c,this],this));const f=!fm(c,s);return(f||n)&&(this._active=c,this._updateHoverStyles(c,s,n)),this._lastEvent=d,f}_getActiveElements(e,n,i,s){if(e.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}}oe(ls,"defaults",en),oe(ls,"instances",Rg),oe(ls,"overrides",Fa),oe(ls,"registry",xs),oe(ls,"version",TG),oe(ls,"getChart",UR);function BR(){return Et(ls.instances,t=>t._plugins.invalidate())}function xG(t,e,n){const{startAngle:i,pixelMargin:s,x:r,y:a,outerRadius:c,innerRadius:u}=e;let d=s/c;t.beginPath(),t.arc(r,a,c,i-d,n+d),u>s?(d=s/u,t.arc(r,a,u,n+d,i-d,!0)):t.arc(r,a,s,n+hn,i-hn),t.closePath(),t.clip()}function kG(t){return Y1(t,["outerStart","outerEnd","innerStart","innerEnd"])}function DG(t,e,n,i){const s=kG(t.options.borderRadius),r=(n-e)/2,a=Math.min(r,i*e/2),c=u=>{const d=(n-Math.min(r,u))*i/2;return Nn(u,0,Math.min(r,d))};return{outerStart:c(s.outerStart),outerEnd:c(s.outerEnd),innerStart:Nn(s.innerStart,0,a),innerEnd:Nn(s.innerEnd,0,a)}}function Vc(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function _m(t,e,n,i,s,r){const{x:a,y:c,startAngle:u,pixelMargin:d,innerRadius:f}=e,g=Math.max(e.outerRadius+i+n-d,0),y=f>0?f+i+n+d:0;let b=0;const E=s-u;if(i){const pe=f>0?f-i:0,Y=g>0?g-i:0,se=(pe+Y)/2,Ie=se!==0?E*se/(se+i):E;b=(E-Ie)/2}const _=Math.max(.001,E*g-n/Vt)/g,w=(E-_)/2,T=u+w+b,S=s-w-b,{outerStart:x,outerEnd:k,innerStart:D,innerEnd:N}=DG(e,y,g,S-T),O=g-x,V=g-k,$=T+x/O,ie=S-k/V,U=y+D,me=y+N,ye=T+D/U,Ze=S-N/me;if(t.beginPath(),r){const pe=($+ie)/2;if(t.arc(a,c,g,$,pe),t.arc(a,c,g,pe,ie),k>0){const st=Vc(V,ie,a,c);t.arc(st.x,st.y,k,ie,S+hn)}const Y=Vc(me,S,a,c);if(t.lineTo(Y.x,Y.y),N>0){const st=Vc(me,Ze,a,c);t.arc(st.x,st.y,N,S+hn,Ze+Math.PI)}const se=(S-N/y+(T+D/y))/2;if(t.arc(a,c,y,S-N/y,se,!0),t.arc(a,c,y,se,T+D/y,!0),D>0){const st=Vc(U,ye,a,c);t.arc(st.x,st.y,D,ye+Math.PI,T-hn)}const Ie=Vc(O,T,a,c);if(t.lineTo(Ie.x,Ie.y),x>0){const st=Vc(O,$,a,c);t.arc(st.x,st.y,x,T-hn,$)}}else{t.moveTo(a,c);const pe=Math.cos($)*g+a,Y=Math.sin($)*g+c;t.lineTo(pe,Y);const se=Math.cos(ie)*g+a,Ie=Math.sin(ie)*g+c;t.lineTo(se,Ie)}t.closePath()}function OG(t,e,n,i,s){const{fullCircles:r,startAngle:a,circumference:c}=e;let u=e.endAngle;if(r){_m(t,e,n,i,u,s);for(let d=0;d<r;++d)t.fill();isNaN(c)||(u=a+(c%Lt||Lt))}return _m(t,e,n,i,u,s),t.fill(),u}function MG(t,e,n,i,s){const{fullCircles:r,startAngle:a,circumference:c,options:u}=e,{borderWidth:d,borderJoinStyle:f,borderDash:g,borderDashOffset:y}=u,b=u.borderAlign==="inner";if(!d)return;t.setLineDash(g||[]),t.lineDashOffset=y,b?(t.lineWidth=d*2,t.lineJoin=f||"round"):(t.lineWidth=d,t.lineJoin=f||"bevel");let E=e.endAngle;if(r){_m(t,e,n,i,E,s);for(let _=0;_<r;++_)t.stroke();isNaN(c)||(E=a+(c%Lt||Lt))}b&&xG(t,e,E),r||(_m(t,e,n,i,E,s),t.stroke())}class Eh extends Mr{constructor(n){super();oe(this,"circumference");oe(this,"endAngle");oe(this,"fullCircles");oe(this,"innerRadius");oe(this,"outerRadius");oe(this,"pixelMargin");oe(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.getProps(["x","y"],s),{angle:a,distance:c}=OM(r,{x:n,y:i}),{startAngle:u,endAngle:d,innerRadius:f,outerRadius:g,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),b=(this.options.spacing+this.options.borderWidth)/2,_=je(y,d-u)>=Lt||Id(a,u,d),w=mr(c,f+b,g+b);return _&&w}getCenterPoint(n){const{x:i,y:s,startAngle:r,endAngle:a,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:d,spacing:f}=this.options,g=(r+a)/2,y=(c+u+f+d)/2;return{x:i+Math.cos(g)*y,y:s+Math.sin(g)*y}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:s}=this,r=(i.offset||0)/4,a=(i.spacing||0)/2,c=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>Lt?Math.floor(s/Lt):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const u=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(u)*r,Math.sin(u)*r);const d=1-Math.sin(Math.min(Vt,s||0)),f=r*d;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,OG(n,this,f,a,c),MG(n,this,f,a,c),n.restore()}}oe(Eh,"id","arc"),oe(Eh,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),oe(Eh,"defaultRoutes",{backgroundColor:"backgroundColor"}),oe(Eh,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function dN(t,e,n=e){t.lineCap=je(n.borderCapStyle,e.borderCapStyle),t.setLineDash(je(n.borderDash,e.borderDash)),t.lineDashOffset=je(n.borderDashOffset,e.borderDashOffset),t.lineJoin=je(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=je(n.borderWidth,e.borderWidth),t.strokeStyle=je(n.borderColor,e.borderColor)}function NG(t,e,n){t.lineTo(n.x,n.y)}function LG(t){return t.stepped?rq:t.tension||t.cubicInterpolationMode==="monotone"?oq:NG}function fN(t,e,n={}){const i=t.length,{start:s=0,end:r=i-1}=n,{start:a,end:c}=e,u=Math.max(s,a),d=Math.min(r,c),f=s<a&&r<a||s>c&&r>c;return{count:i,start:u,loop:e.loop,ilen:d<u&&!f?i+d-u:d-u}}function VG(t,e,n,i){const{points:s,options:r}=e,{count:a,start:c,loop:u,ilen:d}=fN(s,n,i),f=LG(r);let{move:g=!0,reverse:y}=i||{},b,E,_;for(b=0;b<=d;++b)E=s[(c+(y?d-b:b))%a],!E.skip&&(g?(t.moveTo(E.x,E.y),g=!1):f(t,_,E,y,r.stepped),_=E);return u&&(E=s[(c+(y?d:0))%a],f(t,_,E,y,r.stepped)),!!u}function FG(t,e,n,i){const s=e.points,{count:r,start:a,ilen:c}=fN(s,n,i),{move:u=!0,reverse:d}=i||{};let f=0,g=0,y,b,E,_,w,T;const S=k=>(a+(d?c-k:k))%r,x=()=>{_!==w&&(t.lineTo(f,w),t.lineTo(f,_),t.lineTo(f,T))};for(u&&(b=s[S(0)],t.moveTo(b.x,b.y)),y=0;y<=c;++y){if(b=s[S(y)],b.skip)continue;const k=b.x,D=b.y,N=k|0;N===E?(D<_?_=D:D>w&&(w=D),f=(g*f+k)/++g):(x(),t.lineTo(k,D),E=N,g=0,_=w=D),T=D}x()}function A0(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?FG:VG}function UG(t){return t.stepped?Fq:t.tension||t.cubicInterpolationMode==="monotone"?Uq:ua}function BG(t,e,n,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,i)&&s.closePath()),dN(t,e.options),t.stroke(s)}function jG(t,e,n,i){const{segments:s,options:r}=e,a=A0(e);for(const c of s)dN(t,r,c.style),t.beginPath(),a(t,e,c,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const $G=typeof Path2D=="function";function HG(t,e,n,i){$G&&!e.options.segment?BG(t,e,n,i):jG(t,e,n,i)}class po extends Mr{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;xq(this._points,i,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Wq(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,s=e[n],r=this.points,a=ZM(this,{property:n,start:s,end:s});if(!a.length)return;const c=[],u=UG(i);let d,f;for(d=0,f=a.length;d<f;++d){const{start:g,end:y}=a[d],b=r[g],E=r[y];if(b===E){c.push(b);continue}const _=Math.abs((s-b[n])/(E[n]-b[n])),w=u(b,E,_,i.stepped);w[n]=e[n],c.push(w)}return c.length===1?c[0]:c}pathSegment(e,n,i){return A0(this)(e,this,n,i)}path(e,n,i){const s=this.segments,r=A0(this);let a=this._loop;n=n||0,i=i||this.points.length-n;for(const c of s)a&=r(e,this,c,{start:n,end:n+i-1});return!!a}draw(e,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),HG(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}oe(po,"id","line"),oe(po,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),oe(po,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),oe(po,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function jR(t,e,n,i){const s=t.options,{[n]:r}=t.getProps([n],i);return Math.abs(e-r)<s.radius+s.hitRadius}class xg extends Mr{constructor(n){super();oe(this,"parsed");oe(this,"skip");oe(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.options,{x:a,y:c}=this.getProps(["x","y"],s);return Math.pow(n-a,2)+Math.pow(i-c,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,i){return jR(this,n,"x",i)}inYRange(n,i){return jR(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!vr(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,E0(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}oe(xg,"id","point"),oe(xg,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),oe(xg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function pN(t,e){const{x:n,y:i,base:s,width:r,height:a}=t.getProps(["x","y","base","width","height"],e);let c,u,d,f,g;return t.horizontal?(g=a/2,c=Math.min(n,s),u=Math.max(n,s),d=i-g,f=i+g):(g=r/2,c=n-g,u=n+g,d=Math.min(i,s),f=Math.max(i,s)),{left:c,top:d,right:u,bottom:f}}function go(t,e,n,i){return t?0:Nn(e,n,i)}function zG(t,e,n){const i=t.options.borderWidth,s=t.borderSkipped,r=$M(i);return{t:go(s.top,r.top,0,n),r:go(s.right,r.right,0,e),b:go(s.bottom,r.bottom,0,n),l:go(s.left,r.left,0,e)}}function WG(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,r=Ca(s),a=Math.min(e,n),c=t.borderSkipped,u=i||Qe(s);return{topLeft:go(!u||c.top||c.left,r.topLeft,0,a),topRight:go(!u||c.top||c.right,r.topRight,0,a),bottomLeft:go(!u||c.bottom||c.left,r.bottomLeft,0,a),bottomRight:go(!u||c.bottom||c.right,r.bottomRight,0,a)}}function qG(t){const e=pN(t),n=e.right-e.left,i=e.bottom-e.top,s=zG(t,n/2,i/2),r=WG(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:r},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function hb(t,e,n,i){const s=e===null,r=n===null,c=t&&!(s&&r)&&pN(t,i);return c&&(s||mr(e,c.left,c.right))&&(r||mr(n,c.top,c.bottom))}function KG(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function GG(t,e){t.rect(e.x,e.y,e.w,e.h)}function db(t,e,n={}){const i=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-i,a=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+i,y:t.y+s,w:t.w+r,h:t.h+a,radius:t.radius}}class kg extends Mr{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:a}=qG(this),c=KG(a.radius)?Td:GG;e.save(),(a.w!==r.w||a.h!==r.h)&&(e.beginPath(),c(e,db(a,n,r)),e.clip(),c(e,db(r,-n,a)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),c(e,db(r,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,i){return hb(this,e,n,i)}inXRange(e,n){return hb(this,e,null,n)}inYRange(e,n){return hb(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}oe(kg,"id","bar"),oe(kg,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),oe(kg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var YG=Object.freeze({__proto__:null,ArcElement:Eh,BarElement:kg,LineElement:po,PointElement:xg});const C0=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],$R=C0.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function gN(t){return C0[t%C0.length]}function mN(t){return $R[t%$R.length]}function XG(t,e){return t.borderColor=gN(e),t.backgroundColor=mN(e),++e}function QG(t,e){return t.backgroundColor=t.data.map(()=>gN(e++)),e}function JG(t,e){return t.backgroundColor=t.data.map(()=>mN(e++)),e}function ZG(t){let e=0;return(n,i)=>{const s=t.getDatasetMeta(i).controller;s instanceof ba?e=QG(n,e):s instanceof zh?e=JG(n,e):s&&(e=XG(n,e))}}function HR(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function eY(t){return t&&(t.borderColor||t.backgroundColor)}var tY={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:i},options:s}=t.config,{elements:r}=s;if(!n.forceOverride&&(HR(i)||eY(s)||r&&HR(r)))return;const a=ZG(t);i.forEach(a)}};function nY(t,e,n,i,s){const r=s.samples||i;if(r>=n)return t.slice(e,e+n);const a=[],c=(n-2)/(r-2);let u=0;const d=e+n-1;let f=e,g,y,b,E,_;for(a[u++]=t[f],g=0;g<r-2;g++){let w=0,T=0,S;const x=Math.floor((g+1)*c)+1+e,k=Math.min(Math.floor((g+2)*c)+1,n)+e,D=k-x;for(S=x;S<k;S++)w+=t[S].x,T+=t[S].y;w/=D,T/=D;const N=Math.floor(g*c)+1+e,O=Math.min(Math.floor((g+1)*c)+1,n)+e,{x:V,y:$}=t[f];for(b=E=-1,S=N;S<O;S++)E=.5*Math.abs((V-w)*(t[S].y-$)-(V-t[S].x)*(T-$)),E>b&&(b=E,y=t[S],_=S);a[u++]=y,f=_}return a[u++]=t[d],a}function iY(t,e,n,i){let s=0,r=0,a,c,u,d,f,g,y,b,E,_;const w=[],T=e+n-1,S=t[e].x,k=t[T].x-S;for(a=e;a<e+n;++a){c=t[a],u=(c.x-S)/k*i,d=c.y;const D=u|0;if(D===f)d<E?(E=d,g=a):d>_&&(_=d,y=a),s=(r*s+c.x)/++r;else{const N=a-1;if(!dt(g)&&!dt(y)){const O=Math.min(g,y),V=Math.max(g,y);O!==b&&O!==N&&w.push({...t[O],x:s}),V!==b&&V!==N&&w.push({...t[V],x:s})}a>0&&N!==b&&w.push(t[N]),w.push(c),f=D,r=0,E=_=d,g=y=b=a}}return w}function yN(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function zR(t){t.data.datasets.forEach(e=>{yN(e)})}function sY(t,e){const n=e.length;let i=0,s;const{iScale:r}=t,{min:a,max:c,minDefined:u,maxDefined:d}=r.getUserBounds();return u&&(i=Nn(yr(e,r.axis,a).lo,0,n-1)),d?s=Nn(yr(e,r.axis,c).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var rY={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){zR(t);return}const i=t.width;t.data.datasets.forEach((s,r)=>{const{_data:a,indexAxis:c}=s,u=t.getDatasetMeta(r),d=a||s.data;if(bh([c,t.options.indexAxis])==="y"||!u.controller.supportsDecimation)return;const f=t.scales[u.xAxisID];if(f.type!=="linear"&&f.type!=="time"||t.options.parsing)return;let{start:g,count:y}=sY(u,d);const b=n.threshold||4*i;if(y<=b){yN(s);return}dt(a)&&(s._data=d,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(_){this._data=_}}));let E;switch(n.algorithm){case"lttb":E=nY(d,g,y,i,n);break;case"min-max":E=iY(d,g,y,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=E})},destroy(t){zR(t)}};function oY(t,e,n){const i=t.segments,s=t.points,r=e.points,a=[];for(const c of i){let{start:u,end:d}=c;d=nE(u,d,s);const f=P0(n,s[u],s[d],c.loop);if(!e.segments){a.push({source:c,target:f,start:s[u],end:s[d]});continue}const g=ZM(e,f);for(const y of g){const b=P0(n,r[y.start],r[y.end],y.loop),E=JM(c,s,b);for(const _ of E)a.push({source:_,target:y,start:{[n]:WR(f,b,"start",Math.max)},end:{[n]:WR(f,b,"end",Math.min)}})}}return a}function P0(t,e,n,i){if(i)return;let s=e[t],r=n[t];return t==="angle"&&(s=Ui(s),r=Ui(r)),{property:t,start:s,end:r}}function aY(t,e){const{x:n=null,y:i=null}=t||{},s=e.points,r=[];return e.segments.forEach(({start:a,end:c})=>{c=nE(a,c,s);const u=s[a],d=s[c];i!==null?(r.push({x:u.x,y:i}),r.push({x:d.x,y:i})):n!==null&&(r.push({x:n,y:u.y}),r.push({x:n,y:d.y}))}),r}function nE(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function WR(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function vN(t,e){let n=[],i=!1;return Nt(t)?(i=!0,n=t):n=aY(t,e),n.length?new po({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function qR(t){return t&&t.fill!==!1}function cY(t,e,n){let s=t[e].fill;const r=[e];let a;if(!n)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!Zt(s))return s;if(a=t[s],!a)return!1;if(a.visible)return s;r.push(s),s=a.fill}return!1}function lY(t,e,n){const i=fY(t);if(Qe(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return Zt(s)&&Math.floor(s)===s?uY(i[0],e,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function uY(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function hY(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Qe(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function dY(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:Qe(t)?i=t.value:i=e.getBaseValue(),i}function fY(t){const e=t.options,n=e.fill;let i=je(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function pY(t){const{scale:e,index:n,line:i}=t,s=[],r=i.segments,a=i.points,c=gY(e,n);c.push(vN({x:null,y:e.bottom},i));for(let u=0;u<r.length;u++){const d=r[u];for(let f=d.start;f<=d.end;f++)mY(s,a[f],c)}return new po({points:s,options:{}})}function gY(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===e)break;r.hidden||n.unshift(r.dataset)}return n}function mY(t,e,n){const i=[];for(let s=0;s<n.length;s++){const r=n[s],{first:a,last:c,point:u}=yY(r,e,"x");if(!(!u||a&&c)){if(a)i.unshift(u);else if(t.push(u),!c)break}}t.push(...i)}function yY(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const s=i[n],r=t.segments,a=t.points;let c=!1,u=!1;for(let d=0;d<r.length;d++){const f=r[d],g=a[f.start][n],y=a[f.end][n];if(mr(s,g,y)){c=s===g,u=s===y;break}}return{first:c,last:u,point:i}}class _N{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:s,y:r,radius:a}=this;return n=n||{start:0,end:Lt},e.arc(s,r,a,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:s}=this,r=e.angle;return{x:n+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function vY(t){const{chart:e,fill:n,line:i}=t;if(Zt(n))return _Y(e,n);if(n==="stack")return pY(t);if(n==="shape")return!0;const s=bY(t);return s instanceof _N?s:vN(s,i)}function _Y(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function bY(t){return(t.scale||{}).getPointPositionForValue?EY(t):wY(t)}function wY(t){const{scale:e={},fill:n}=t,i=hY(n,e);if(Zt(i)){const s=e.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function EY(t){const{scale:e,fill:n}=t,i=e.options,s=e.getLabels().length,r=i.reverse?e.max:e.min,a=dY(n,e,r),c=[];if(i.grid.circular){const u=e.getPointPositionForValue(0,r);return new _N({x:u.x,y:u.y,radius:e.getDistanceFromCenterForValue(a)})}for(let u=0;u<s;++u)c.push(e.getPointPositionForValue(u,a));return c}function fb(t,e,n){const i=vY(e),{line:s,scale:r,axis:a}=e,c=s.options,u=c.fill,d=c.backgroundColor,{above:f=d,below:g=d}=u||{};i&&s.points.length&&(Vy(t,n),IY(t,{line:s,target:i,above:f,below:g,area:n,scale:r,axis:a}),Fy(t))}function IY(t,e){const{line:n,target:i,above:s,below:r,area:a,scale:c}=e,u=n._loop?"angle":e.axis;t.save(),u==="x"&&r!==s&&(KR(t,i,a.top),GR(t,{line:n,target:i,color:s,scale:c,property:u}),t.restore(),t.save(),KR(t,i,a.bottom)),GR(t,{line:n,target:i,color:r,scale:c,property:u}),t.restore()}function KR(t,e,n){const{segments:i,points:s}=e;let r=!0,a=!1;t.beginPath();for(const c of i){const{start:u,end:d}=c,f=s[u],g=s[nE(u,d,s)];r?(t.moveTo(f.x,f.y),r=!1):(t.lineTo(f.x,n),t.lineTo(f.x,f.y)),a=!!e.pathSegment(t,c,{move:a}),a?t.closePath():t.lineTo(g.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function GR(t,e){const{line:n,target:i,property:s,color:r,scale:a}=e,c=oY(n,i,s);for(const{source:u,target:d,start:f,end:g}of c){const{style:{backgroundColor:y=r}={}}=u,b=i!==!0;t.save(),t.fillStyle=y,TY(t,a,b&&P0(s,f,g)),t.beginPath();const E=!!n.pathSegment(t,u);let _;if(b){E?t.closePath():YR(t,i,g,s);const w=!!i.pathSegment(t,d,{move:E,reverse:!0});_=E&&w,_||YR(t,i,f,s)}t.closePath(),t.fill(_?"evenodd":"nonzero"),t.restore()}}function TY(t,e,n){const{top:i,bottom:s}=e.chart.chartArea,{property:r,start:a,end:c}=n||{};r==="x"&&(t.beginPath(),t.rect(a,i,c-a,s-i),t.clip())}function YR(t,e,n,i){const s=e.interpolate(n,i);s&&t.lineTo(s.x,s.y)}var SY={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,s=[];let r,a,c,u;for(a=0;a<i;++a)r=t.getDatasetMeta(a),c=r.dataset,u=null,c&&c.options&&c instanceof po&&(u={visible:t.isDatasetVisible(a),index:a,fill:lY(c,a,i),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:c}),r.$filler=u,s.push(u);for(a=0;a<i;++a)u=s[a],!(!u||u.fill===!1)&&(u.fill=cY(s,a,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),r=t.chartArea;for(let a=s.length-1;a>=0;--a){const c=s[a].$filler;c&&(c.line.updateControlPoints(r,c.axis),i&&c.fill&&fb(t.ctx,c,r))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;qR(r)&&fb(t.ctx,r,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!qR(i)||n.drawTime!=="beforeDatasetDraw"||fb(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const XR=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},AY=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class QR extends Mr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Rt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=An(i.font),r=s.size,a=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=XR(i,r);let d,f;n.font=s.string,this.isHorizontal()?(d=this.maxWidth,f=this._fitRows(a,r,c,u)+10):(f=this.maxHeight,d=this._fitCols(a,s,c,u)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(f,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,s){const{ctx:r,maxWidth:a,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],f=s+c;let g=e;r.textAlign="left",r.textBaseline="middle";let y=-1,b=-f;return this.legendItems.forEach((E,_)=>{const w=i+n/2+r.measureText(E.text).width;(_===0||d[d.length-1]+w+2*c>a)&&(g+=f,d[d.length-(_>0?0:1)]=0,b+=f,y++),u[_]={left:0,top:b,row:y,width:w,height:s},d[d.length-1]+=w+c}),g}_fitCols(e,n,i,s){const{ctx:r,maxHeight:a,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],f=a-e;let g=c,y=0,b=0,E=0,_=0;return this.legendItems.forEach((w,T)=>{const{itemWidth:S,itemHeight:x}=CY(i,n,r,w,s);T>0&&b+x+2*c>f&&(g+=y+c,d.push({width:y,height:b}),E+=y+c,_++,y=b=0),u[T]={left:E,top:b,col:_,width:S,height:x},y=Math.max(y,S),b+=x+c}),g+=y,d.push({width:y,height:b}),g}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,a=rl(r,this.left,this.width);if(this.isHorizontal()){let c=0,u=Xn(i,this.left+s,this.right-this.lineWidths[c]);for(const d of n)c!==d.row&&(c=d.row,u=Xn(i,this.left+s,this.right-this.lineWidths[c])),d.top+=this.top+e+s,d.left=a.leftForLtr(a.x(u),d.width),u+=d.width+s}else{let c=0,u=Xn(i,this.top+e+s,this.bottom-this.columnSizes[c].height);for(const d of n)d.col!==c&&(c=d.col,u=Xn(i,this.top+e+s,this.bottom-this.columnSizes[c].height)),d.top=u,d.left+=this.left+s,d.left=a.leftForLtr(a.x(d.left),d.width),u+=d.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Vy(e,this),this._draw(),Fy(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:a}=e,c=en.color,u=rl(e.rtl,this.left,this.width),d=An(a.font),{padding:f}=a,g=d.size,y=g/2;let b;this.drawTitle(),s.textAlign=u.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:E,boxHeight:_,itemHeight:w}=XR(a,g),T=function(N,O,V){if(isNaN(E)||E<=0||isNaN(_)||_<0)return;s.save();const $=je(V.lineWidth,1);if(s.fillStyle=je(V.fillStyle,c),s.lineCap=je(V.lineCap,"butt"),s.lineDashOffset=je(V.lineDashOffset,0),s.lineJoin=je(V.lineJoin,"miter"),s.lineWidth=$,s.strokeStyle=je(V.strokeStyle,c),s.setLineDash(je(V.lineDash,[])),a.usePointStyle){const ie={radius:_*Math.SQRT2/2,pointStyle:V.pointStyle,rotation:V.rotation,borderWidth:$},U=u.xPlus(N,E/2),me=O+y;jM(s,ie,U,me,a.pointStyleWidth&&E)}else{const ie=O+Math.max((g-_)/2,0),U=u.leftForLtr(N,E),me=Ca(V.borderRadius);s.beginPath(),Object.values(me).some(ye=>ye!==0)?Td(s,{x:U,y:ie,w:E,h:_,radius:me}):s.rect(U,ie,E,_),s.fill(),$!==0&&s.stroke()}s.restore()},S=function(N,O,V){Ua(s,V.text,N,O+w/2,d,{strikethrough:V.hidden,textAlign:u.textAlign(V.textAlign)})},x=this.isHorizontal(),k=this._computeTitleHeight();x?b={x:Xn(r,this.left+f,this.right-i[0]),y:this.top+f+k,line:0}:b={x:this.left+f,y:Xn(r,this.top+k+f,this.bottom-n[0].height),line:0},YM(this.ctx,e.textDirection);const D=w+f;this.legendItems.forEach((N,O)=>{s.strokeStyle=N.fontColor,s.fillStyle=N.fontColor;const V=s.measureText(N.text).width,$=u.textAlign(N.textAlign||(N.textAlign=a.textAlign)),ie=E+y+V;let U=b.x,me=b.y;u.setWidth(this.width),x?O>0&&U+ie+f>this.right&&(me=b.y+=D,b.line++,U=b.x=Xn(r,this.left+f,this.right-i[b.line])):O>0&&me+D>this.bottom&&(U=b.x=U+n[b.line].width+f,b.line++,me=b.y=Xn(r,this.top+k+f,this.bottom-n[b.line].height));const ye=u.x(U);if(T(ye,me,N),U=GW($,U+E+y,x?U+ie:this.right,e.rtl),S(u.x(U),me,N),x)b.x+=ie+f;else if(typeof N.text!="string"){const Ze=d.lineHeight;b.y+=bN(N,Ze)+f}else b.y+=D}),XM(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=An(n.font),s=oi(n.padding);if(!n.display)return;const r=rl(e.rtl,this.left,this.width),a=this.ctx,c=n.position,u=i.size/2,d=s.top+u;let f,g=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),f=this.top+d,g=Xn(e.align,g,this.right-y);else{const E=this.columnSizes.reduce((_,w)=>Math.max(_,w.height),0);f=d+Xn(e.align,this.top,this.bottom-E-e.labels.padding-this._computeTitleHeight())}const b=Xn(c,g,g+y);a.textAlign=r.textAlign(K1(c)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=i.string,Ua(a,n.text,b,f,i)}_computeTitleHeight(){const e=this.options.title,n=An(e.font),i=oi(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,s,r;if(mr(e,this.left,this.right)&&mr(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],mr(e,s.left,s.left+s.width)&&mr(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!xY(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,r=AY(s,i);s&&!r&&Rt(n.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!r&&Rt(n.onHover,[e,i,this],this)}else i&&Rt(n.onClick,[e,i,this],this)}}function CY(t,e,n,i,s){const r=PY(i,t,e,n),a=RY(s,i,e.lineHeight);return{itemWidth:r,itemHeight:a}}function PY(t,e,n,i){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((r,a)=>r.length>a.length?r:a)),e+n.size/2+i.measureText(s).width}function RY(t,e,n){let i=t;return typeof e.text!="string"&&(i=bN(e,n)),i}function bN(t,e){const n=t.text?t.text.length:0;return e*n}function xY(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var kY={id:"legend",_element:QR,start(t,e,n){const i=t.legend=new QR({ctx:t.ctx,options:n,chart:t});ti.configure(t,i,n),ti.addBox(t,i)},stop(t){ti.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;ti.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:a,borderRadius:c}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(n?0:void 0),f=oi(d.borderWidth);return{text:e[u.index].label,fillStyle:d.backgroundColor,fontColor:r,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:a&&(c||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class iE extends Mr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=Nt(i.text)?i.text.length:1;this._padding=oi(i.padding);const r=s*An(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:s,right:r,options:a}=this,c=a.align;let u=0,d,f,g;return this.isHorizontal()?(f=Xn(c,i,r),g=n+e,d=r-i):(a.position==="left"?(f=i+e,g=Xn(c,s,n),u=Vt*-.5):(f=r-e,g=Xn(c,n,s),u=Vt*.5),d=s-n),{titleX:f,titleY:g,maxWidth:d,rotation:u}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=An(n.font),r=i.lineHeight/2+this._padding.top,{titleX:a,titleY:c,maxWidth:u,rotation:d}=this._drawArgs(r);Ua(e,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:d,textAlign:K1(n.align),textBaseline:"middle",translation:[a,c]})}}function DY(t,e){const n=new iE({ctx:t.ctx,options:e,chart:t});ti.configure(t,n,e),ti.addBox(t,n),t.titleBlock=n}var OY={id:"title",_element:iE,start(t,e,n){DY(t,n)},stop(t){const e=t.titleBlock;ti.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;ti.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ng=new WeakMap;var MY={id:"subtitle",start(t,e,n){const i=new iE({ctx:t.ctx,options:n,chart:t});ti.configure(t,i,n),ti.addBox(t,i),ng.set(t,i)},stop(t){ti.removeBox(t,ng.get(t)),ng.delete(t)},beforeUpdate(t,e,n){const i=ng.get(t);ti.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ih={average(t){if(!t.length)return!1;let e,n,i=new Set,s=0,r=0;for(e=0,n=t.length;e<n;++e){const c=t[e].element;if(c&&c.hasValue()){const u=c.tooltipPosition();i.add(u.x),s+=u.y,++r}}return{x:[...i].reduce((c,u)=>c+u)/i.size,y:s/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,s=Number.POSITIVE_INFINITY,r,a,c;for(r=0,a=t.length;r<a;++r){const u=t[r].element;if(u&&u.hasValue()){const d=u.getCenterPoint(),f=b0(e,d);f<s&&(s=f,c=u)}}if(c){const u=c.tooltipPosition();n=u.x,i=u.y}return{x:n,y:i}}};function Rs(t,e){return e&&(Nt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function hr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function NY(t,e){const{element:n,datasetIndex:i,index:s}=e,r=t.getDatasetMeta(i).controller,{label:a,value:c}=r.getLabelAndValue(s);return{chart:t,label:a,parsed:r.getParsed(s),raw:t.data.datasets[i].data[s],formattedValue:c,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function JR(t,e){const n=t.chart.ctx,{body:i,footer:s,title:r}=t,{boxWidth:a,boxHeight:c}=e,u=An(e.bodyFont),d=An(e.titleFont),f=An(e.footerFont),g=r.length,y=s.length,b=i.length,E=oi(e.padding);let _=E.height,w=0,T=i.reduce((k,D)=>k+D.before.length+D.lines.length+D.after.length,0);if(T+=t.beforeBody.length+t.afterBody.length,g&&(_+=g*d.lineHeight+(g-1)*e.titleSpacing+e.titleMarginBottom),T){const k=e.displayColors?Math.max(c,u.lineHeight):u.lineHeight;_+=b*k+(T-b)*u.lineHeight+(T-1)*e.bodySpacing}y&&(_+=e.footerMarginTop+y*f.lineHeight+(y-1)*e.footerSpacing);let S=0;const x=function(k){w=Math.max(w,n.measureText(k).width+S)};return n.save(),n.font=d.string,Et(t.title,x),n.font=u.string,Et(t.beforeBody.concat(t.afterBody),x),S=e.displayColors?a+2+e.boxPadding:0,Et(i,k=>{Et(k.before,x),Et(k.lines,x),Et(k.after,x)}),S=0,n.font=f.string,Et(t.footer,x),n.restore(),w+=E.width,{width:w,height:_}}function LY(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function VY(t,e,n,i){const{x:s,width:r}=i,a=n.caretSize+n.caretPadding;if(t==="left"&&s+r+a>e.width||t==="right"&&s-r-a<0)return!0}function FY(t,e,n,i){const{x:s,width:r}=n,{width:a,chartArea:{left:c,right:u}}=t;let d="center";return i==="center"?d=s<=(c+u)/2?"left":"right":s<=r/2?d="left":s>=a-r/2&&(d="right"),VY(d,t,e,n)&&(d="center"),d}function ZR(t,e,n){const i=n.yAlign||e.yAlign||LY(t,n);return{xAlign:n.xAlign||e.xAlign||FY(t,e,n,i),yAlign:i}}function UY(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function BY(t,e,n){let{y:i,height:s}=t;return e==="top"?i+=n:e==="bottom"?i-=s+n:i-=s/2,i}function ex(t,e,n,i){const{caretSize:s,caretPadding:r,cornerRadius:a}=t,{xAlign:c,yAlign:u}=n,d=s+r,{topLeft:f,topRight:g,bottomLeft:y,bottomRight:b}=Ca(a);let E=UY(e,c);const _=BY(e,u,d);return u==="center"?c==="left"?E+=d:c==="right"&&(E-=d):c==="left"?E-=Math.max(f,y)+s:c==="right"&&(E+=Math.max(g,b)+s),{x:Nn(E,0,i.width-e.width),y:Nn(_,0,i.height-e.height)}}function ig(t,e,n){const i=oi(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function tx(t){return Rs([],hr(t))}function jY(t,e,n){return Fo(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function nx(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const wN={beforeTitle:lr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:lr,beforeBody:lr,beforeLabel:lr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return dt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:lr,afterBody:lr,beforeFooter:lr,footer:lr,afterFooter:lr};function wi(t,e,n,i){const s=t[e].call(n,i);return typeof s>"u"?wN[e].call(n,i):s}class R0 extends Mr{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new eN(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=jY(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,s=wi(i,"beforeTitle",this,e),r=wi(i,"title",this,e),a=wi(i,"afterTitle",this,e);let c=[];return c=Rs(c,hr(s)),c=Rs(c,hr(r)),c=Rs(c,hr(a)),c}getBeforeBody(e,n){return tx(wi(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,s=[];return Et(e,r=>{const a={before:[],lines:[],after:[]},c=nx(i,r);Rs(a.before,hr(wi(c,"beforeLabel",this,r))),Rs(a.lines,wi(c,"label",this,r)),Rs(a.after,hr(wi(c,"afterLabel",this,r))),s.push(a)}),s}getAfterBody(e,n){return tx(wi(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,s=wi(i,"beforeFooter",this,e),r=wi(i,"footer",this,e),a=wi(i,"afterFooter",this,e);let c=[];return c=Rs(c,hr(s)),c=Rs(c,hr(r)),c=Rs(c,hr(a)),c}_createItems(e){const n=this._active,i=this.chart.data,s=[],r=[],a=[];let c=[],u,d;for(u=0,d=n.length;u<d;++u)c.push(NY(this.chart,n[u]));return e.filter&&(c=c.filter((f,g,y)=>e.filter(f,g,y,i))),e.itemSort&&(c=c.sort((f,g)=>e.itemSort(f,g,i))),Et(c,f=>{const g=nx(e.callbacks,f);s.push(wi(g,"labelColor",this,f)),r.push(wi(g,"labelPointStyle",this,f)),a.push(wi(g,"labelTextColor",this,f))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=c,c}update(e,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,a=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const c=Ih[i.position].call(this,s,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const u=this._size=JR(this,i),d=Object.assign({},c,u),f=ZR(this.chart,i,d),g=ex(i,d,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,r={opacity:1,x:g.x,y:g.y,width:u.width,height:u.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,s){const r=this.getCaretPosition(e,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:a,cornerRadius:c}=i,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:g}=Ca(c),{x:y,y:b}=e,{width:E,height:_}=n;let w,T,S,x,k,D;return r==="center"?(k=b+_/2,s==="left"?(w=y,T=w-a,x=k+a,D=k-a):(w=y+E,T=w+a,x=k-a,D=k+a),S=w):(s==="left"?T=y+Math.max(u,f)+a:s==="right"?T=y+E-Math.max(d,g)-a:T=this.caretX,r==="top"?(x=b,k=x-a,w=T-a,S=T+a):(x=b+_,k=x+a,w=T+a,S=T-a),D=x),{x1:w,x2:T,x3:S,y1:x,y2:k,y3:D}}drawTitle(e,n,i){const s=this.title,r=s.length;let a,c,u;if(r){const d=rl(i.rtl,this.x,this.width);for(e.x=ig(this,i.titleAlign,i),n.textAlign=d.textAlign(i.titleAlign),n.textBaseline="middle",a=An(i.titleFont),c=i.titleSpacing,n.fillStyle=i.titleColor,n.font=a.string,u=0;u<r;++u)n.fillText(s[u],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+c,u+1===r&&(e.y+=i.titleMarginBottom-c)}}_drawColorBox(e,n,i,s,r){const a=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:u,boxWidth:d}=r,f=An(r.bodyFont),g=ig(this,"left",r),y=s.x(g),b=u<f.lineHeight?(f.lineHeight-u)/2:0,E=n.y+b;if(r.usePointStyle){const _={radius:Math.min(d,u)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},w=s.leftForLtr(y,d)+d/2,T=E+u/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,E0(e,_,w,T),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,E0(e,_,w,T)}else{e.lineWidth=Qe(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const _=s.leftForLtr(y,d),w=s.leftForLtr(s.xPlus(y,1),d-2),T=Ca(a.borderRadius);Object.values(T).some(S=>S!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Td(e,{x:_,y:E,w:d,h:u,radius:T}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Td(e,{x:w,y:E+1,w:d-2,h:u-2,radius:T}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(_,E,d,u),e.strokeRect(_,E,d,u),e.fillStyle=a.backgroundColor,e.fillRect(w,E+1,d-2,u-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:a,displayColors:c,boxHeight:u,boxWidth:d,boxPadding:f}=i,g=An(i.bodyFont);let y=g.lineHeight,b=0;const E=rl(i.rtl,this.x,this.width),_=function(V){n.fillText(V,E.x(e.x+b),e.y+y/2),e.y+=y+r},w=E.textAlign(a);let T,S,x,k,D,N,O;for(n.textAlign=a,n.textBaseline="middle",n.font=g.string,e.x=ig(this,w,i),n.fillStyle=i.bodyColor,Et(this.beforeBody,_),b=c&&w!=="right"?a==="center"?d/2+f:d+2+f:0,k=0,N=s.length;k<N;++k){for(T=s[k],S=this.labelTextColors[k],n.fillStyle=S,Et(T.before,_),x=T.lines,c&&x.length&&(this._drawColorBox(n,e,k,E,i),y=Math.max(g.lineHeight,u)),D=0,O=x.length;D<O;++D)_(x[D]),y=g.lineHeight;Et(T.after,_)}b=0,y=g.lineHeight,Et(this.afterBody,_),e.y-=r}drawFooter(e,n,i){const s=this.footer,r=s.length;let a,c;if(r){const u=rl(i.rtl,this.x,this.width);for(e.x=ig(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=u.textAlign(i.footerAlign),n.textBaseline="middle",a=An(i.footerFont),n.fillStyle=i.footerColor,n.font=a.string,c=0;c<r;++c)n.fillText(s[c],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i.footerSpacing}}drawBackground(e,n,i,s){const{xAlign:r,yAlign:a}=this,{x:c,y:u}=e,{width:d,height:f}=i,{topLeft:g,topRight:y,bottomLeft:b,bottomRight:E}=Ca(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(c+g,u),a==="top"&&this.drawCaret(e,n,i,s),n.lineTo(c+d-y,u),n.quadraticCurveTo(c+d,u,c+d,u+y),a==="center"&&r==="right"&&this.drawCaret(e,n,i,s),n.lineTo(c+d,u+f-E),n.quadraticCurveTo(c+d,u+f,c+d-E,u+f),a==="bottom"&&this.drawCaret(e,n,i,s),n.lineTo(c+b,u+f),n.quadraticCurveTo(c,u+f,c,u+f-b),a==="center"&&r==="left"&&this.drawCaret(e,n,i,s),n.lineTo(c,u+g),n.quadraticCurveTo(c,u,c+g,u),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const a=Ih[e.position].call(this,this._active,this._eventPosition);if(!a)return;const c=this._size=JR(this,e),u=Object.assign({},a,this._size),d=ZR(n,e,u),f=ex(e,u,d,n);(s._to!==f.x||r._to!==f.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=oi(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,s,n),YM(e,n.textDirection),r.y+=a.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),XM(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,s=e.map(({datasetIndex:c,index:u})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[u],index:u}}),r=!fm(i,s),a=this._positionChanged(s,n);(r||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],a=this._getActiveElements(e,r,n,i),c=this._positionChanged(a,e),u=n||!fm(a,r)||c;return u&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),u}_getActiveElements(e,n,i,s){const r=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:i,caretY:s,options:r}=this,a=Ih[r.position].call(this,e,n);return a!==!1&&(i!==a.x||s!==a.y)}}oe(R0,"positioners",Ih);var $Y={id:"tooltip",_element:R0,positioners:Ih,afterInit(t,e,n){n&&(t.tooltip=new R0({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:wN},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},HY=Object.freeze({__proto__:null,Colors:tY,Decimation:rY,Filler:SY,Legend:kY,SubTitle:MY,Title:OY,Tooltip:$Y});const zY=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function WY(t,e,n,i){const s=t.indexOf(e);if(s===-1)return zY(t,e,n,i);const r=t.lastIndexOf(e);return s!==r?n:s}const qY=(t,e)=>t===null?null:Nn(Math.round(t),0,e);function ix(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class x0 extends Ka{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(dt(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:WY(i,e,je(n,e),this._addedLabels),qY(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=e;a<=n;a++)s.push({value:a});return s}getLabelForValue(e){return ix.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}oe(x0,"id","category"),oe(x0,"defaults",{ticks:{callback:ix}});function KY(t,e){const n=[],{bounds:s,step:r,min:a,max:c,precision:u,count:d,maxTicks:f,maxDigits:g,includeBounds:y}=t,b=r||1,E=f-1,{min:_,max:w}=e,T=!dt(a),S=!dt(c),x=!dt(d),k=(w-_)/(g+1);let D=QP((w-_)/E/b)*b,N,O,V,$;if(D<1e-14&&!T&&!S)return[{value:_},{value:w}];$=Math.ceil(w/D)-Math.floor(_/D),$>E&&(D=QP($*D/E/b)*b),dt(u)||(N=Math.pow(10,u),D=Math.ceil(D*N)/N),s==="ticks"?(O=Math.floor(_/D)*D,V=Math.ceil(w/D)*D):(O=_,V=w),T&&S&&r&&jW((c-a)/r,D/1e3)?($=Math.round(Math.min((c-a)/D,f)),D=(c-a)/$,O=a,V=c):x?(O=T?a:O,V=S?c:V,$=d-1,D=(V-O)/$):($=(V-O)/D,jh($,Math.round($),D/1e3)?$=Math.round($):$=Math.ceil($));const ie=Math.max(JP(D),JP(O));N=Math.pow(10,dt(u)?ie:u),O=Math.round(O*N)/N,V=Math.round(V*N)/N;let U=0;for(T&&(y&&O!==a?(n.push({value:a}),O<a&&U++,jh(Math.round((O+U*D)*N)/N,a,sx(a,k,t))&&U++):O<a&&U++);U<$;++U){const me=Math.round((O+U*D)*N)/N;if(S&&me>c)break;n.push({value:me})}return S&&y&&V!==c?n.length&&jh(n[n.length-1].value,c,sx(c,k,t))?n[n.length-1].value=c:n.push({value:c}):(!S||V===c)&&n.push({value:V}),n}function sx(t,e,{horizontal:n,minRotation:i}){const s=ds(i),r=(n?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/r,a)}class bm extends Ka{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return dt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const a=u=>s=n?s:u,c=u=>r=i?r:u;if(e){const u=Ws(s),d=Ws(r);u<0&&d<0?c(0):u>0&&d>0&&a(0)}if(s===r){let u=r===0?1:Math.abs(r*.05);c(r+u),e||a(s-u)}this.min=s,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,a=KY(s,r);return e.bounds==="ticks"&&DM(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-n)/Math.max(e.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return nf(e,this.chart.options.locale,this.options.ticks.format)}}class k0 extends bm{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Zt(e)?e:0,this.max=Zt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=ds(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}oe(k0,"id","linear"),oe(k0,"defaults",{ticks:{callback:Ly.formatters.numeric}});const Ad=t=>Math.floor(fo(t)),aa=(t,e)=>Math.pow(10,Ad(t)+e);function rx(t){return t/Math.pow(10,Ad(t))===1}function ox(t,e,n){const i=Math.pow(10,n),s=Math.floor(t/i);return Math.ceil(e/i)-s}function GY(t,e){const n=e-t;let i=Ad(n);for(;ox(t,e,i)>10;)i++;for(;ox(t,e,i)<10;)i--;return Math.min(i,Ad(t))}function YY(t,{min:e,max:n}){e=Fi(t.min,e);const i=[],s=Ad(e);let r=GY(e,n),a=r<0?Math.pow(10,Math.abs(r)):1;const c=Math.pow(10,r),u=s>r?Math.pow(10,s):0,d=Math.round((e-u)*a)/a,f=Math.floor((e-u)/c/10)*c*10;let g=Math.floor((d-f)/Math.pow(10,r)),y=Fi(t.min,Math.round((u+f+g*Math.pow(10,r))*a)/a);for(;y<n;)i.push({value:y,major:rx(y),significand:g}),g>=10?g=g<15?15:20:g++,g>=20&&(r++,g=2,a=r>=0?1:a),y=Math.round((u+f+g*Math.pow(10,r))*a)/a;const b=Fi(t.max,y);return i.push({value:b,major:rx(b),significand:g}),i}class D0 extends Ka{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=bm.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return Zt(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Zt(e)?Math.max(0,e):null,this.max=Zt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Zt(this._userMin)&&(this.min=e===aa(this.min,0)?aa(this.min,-1):aa(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const r=c=>i=e?i:c,a=c=>s=n?s:c;i===s&&(i<=0?(r(1),a(10)):(r(aa(i,-1)),a(aa(s,1)))),i<=0&&r(aa(s,-1)),s<=0&&a(aa(i,1)),this.min=i,this.max=s}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=YY(n,this);return e.bounds==="ticks"&&DM(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":nf(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=fo(e),this._valueRange=fo(this.max)-fo(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(fo(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}oe(D0,"id","logarithmic"),oe(D0,"defaults",{ticks:{callback:Ly.formatters.logarithmic,major:{enabled:!0}}});function O0(t){const e=t.ticks;if(e.display&&t.display){const n=oi(e.backdropPadding);return je(e.font&&e.font.size,en.font.size)+n.height}return 0}function XY(t,e,n){return n=Nt(n)?n:[n],{w:sq(t,e.string,n),h:n.length*e.lineHeight}}function ax(t,e,n,i,s){return t===i||t===s?{start:e-n/2,end:e+n/2}:t<i||t>s?{start:e-n,end:e}:{start:e,end:e+n}}function QY(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],s=[],r=t._pointLabels.length,a=t.options.pointLabels,c=a.centerPointLabels?Vt/r:0;for(let u=0;u<r;u++){const d=a.setContext(t.getPointLabelContext(u));s[u]=d.padding;const f=t.getPointPosition(u,t.drawingArea+s[u],c),g=An(d.font),y=XY(t.ctx,g,t._pointLabels[u]);i[u]=y;const b=Ui(t.getIndexAngle(u)+c),E=Math.round(W1(b)),_=ax(E,f.x,y.w,0,180),w=ax(E,f.y,y.h,90,270);JY(n,e,b,_,w)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=tX(t,i,s)}function JY(t,e,n,i,s){const r=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let c=0,u=0;i.start<e.l?(c=(e.l-i.start)/r,t.l=Math.min(t.l,e.l-c)):i.end>e.r&&(c=(i.end-e.r)/r,t.r=Math.max(t.r,e.r+c)),s.start<e.t?(u=(e.t-s.start)/a,t.t=Math.min(t.t,e.t-u)):s.end>e.b&&(u=(s.end-e.b)/a,t.b=Math.max(t.b,e.b+u))}function ZY(t,e,n){const i=t.drawingArea,{extra:s,additionalAngle:r,padding:a,size:c}=n,u=t.getPointPosition(e,i+s+a,r),d=Math.round(W1(Ui(u.angle+hn))),f=sX(u.y,c.h,d),g=nX(d),y=iX(u.x,c.w,g);return{visible:!0,x:u.x,y:f,textAlign:g,left:y,top:f,right:y+c.w,bottom:f+c.h}}function eX(t,e){if(!e)return!0;const{left:n,top:i,right:s,bottom:r}=t;return!(vr({x:n,y:i},e)||vr({x:n,y:r},e)||vr({x:s,y:i},e)||vr({x:s,y:r},e))}function tX(t,e,n){const i=[],s=t._pointLabels.length,r=t.options,{centerPointLabels:a,display:c}=r.pointLabels,u={extra:O0(r)/2,additionalAngle:a?Vt/s:0};let d;for(let f=0;f<s;f++){u.padding=n[f],u.size=e[f];const g=ZY(t,f,u);i.push(g),c==="auto"&&(g.visible=eX(g,d),g.visible&&(d=g))}return i}function nX(t){return t===0||t===180?"center":t<180?"left":"right"}function iX(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function sX(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function rX(t,e,n){const{left:i,top:s,right:r,bottom:a}=n,{backdropColor:c}=e;if(!dt(c)){const u=Ca(e.borderRadius),d=oi(e.backdropPadding);t.fillStyle=c;const f=i-d.left,g=s-d.top,y=r-i+d.width,b=a-s+d.height;Object.values(u).some(E=>E!==0)?(t.beginPath(),Td(t,{x:f,y:g,w:y,h:b,radius:u}),t.fill()):t.fillRect(f,g,y,b)}}function oX(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let s=e-1;s>=0;s--){const r=t._pointLabelItems[s];if(!r.visible)continue;const a=i.setContext(t.getPointLabelContext(s));rX(n,a,r);const c=An(a.font),{x:u,y:d,textAlign:f}=r;Ua(n,t._pointLabels[s],u,d+c.lineHeight/2,c,{color:a.color,textAlign:f,textBaseline:"middle"})}}function EN(t,e,n,i){const{ctx:s}=t;if(n)s.arc(t.xCenter,t.yCenter,e,0,Lt);else{let r=t.getPointPosition(0,e);s.moveTo(r.x,r.y);for(let a=1;a<i;a++)r=t.getPointPosition(a,e),s.lineTo(r.x,r.y)}}function aX(t,e,n,i,s){const r=t.ctx,a=e.circular,{color:c,lineWidth:u}=e;!a&&!i||!c||!u||n<0||(r.save(),r.strokeStyle=c,r.lineWidth=u,r.setLineDash(s.dash),r.lineDashOffset=s.dashOffset,r.beginPath(),EN(t,n,a,i),r.closePath(),r.stroke(),r.restore())}function cX(t,e,n){return Fo(t,{label:n,index:e,type:"pointLabel"})}class Th extends bm{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=oi(O0(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Zt(e)&&!isNaN(e)?e:0,this.max=Zt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/O0(this.options))}generateTickLabels(e){bm.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const s=Rt(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?QY(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,s){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,s))}getIndexAngle(e){const n=Lt/(this._pointLabels.length||1),i=this.options.startAngle||0;return Ui(e*n+ds(i))}getDistanceFromCenterForValue(e){if(dt(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(dt(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return cX(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const s=this.getIndexAngle(e)-hn+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:s,bottom:r}=this._pointLabelItems[e];return{left:n,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),EN(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:s,border:r}=n,a=this._pointLabels.length;let c,u,d;if(n.pointLabels.display&&oX(this,a),s.display&&this.ticks.forEach((f,g)=>{if(g!==0||g===0&&this.min<0){u=this.getDistanceFromCenterForValue(f.value);const y=this.getContext(g),b=s.setContext(y),E=r.setContext(y);aX(this,b,u,a,E)}}),i.display){for(e.save(),c=a-1;c>=0;c--){const f=i.setContext(this.getPointLabelContext(c)),{color:g,lineWidth:y}=f;!y||!g||(e.lineWidth=y,e.strokeStyle=g,e.setLineDash(f.borderDash),e.lineDashOffset=f.borderDashOffset,u=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),d=this.getPointPosition(c,u),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(d.x,d.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((c,u)=>{if(u===0&&this.min>=0&&!n.reverse)return;const d=i.setContext(this.getContext(u)),f=An(d.font);if(r=this.getDistanceFromCenterForValue(this.ticks[u].value),d.showLabelBackdrop){e.font=f.string,a=e.measureText(c.label).width,e.fillStyle=d.backdropColor;const g=oi(d.backdropPadding);e.fillRect(-a/2-g.left,-r-f.size/2-g.top,a+g.width,f.size+g.height)}Ua(e,c.label,0,-r,f,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),e.restore()}drawTitle(){}}oe(Th,"id","radialLinear"),oe(Th,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ly.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),oe(Th,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),oe(Th,"descriptors",{angleLines:{_fallback:"grid"}});const By={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Si=Object.keys(By);function cx(t,e){return t-e}function lx(t,e){if(dt(e))return null;const n=t._adapter,{parser:i,round:s,isoWeekday:r}=t._parseOpts;let a=e;return typeof i=="function"&&(a=i(a)),Zt(a)||(a=typeof i=="string"?n.parse(a,i):n.parse(a)),a===null?null:(s&&(a=s==="week"&&(Il(r)||r===!0)?n.startOf(a,"isoWeek",r):n.startOf(a,s)),+a)}function ux(t,e,n,i){const s=Si.length;for(let r=Si.indexOf(t);r<s-1;++r){const a=By[Si[r]],c=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(c*a.size))<=i)return Si[r]}return Si[s-1]}function lX(t,e,n,i,s){for(let r=Si.length-1;r>=Si.indexOf(n);r--){const a=Si[r];if(By[a].common&&t._adapter.diff(s,i,a)>=e-1)return a}return Si[n?Si.indexOf(n):0]}function uX(t){for(let e=Si.indexOf(t)+1,n=Si.length;e<n;++e)if(By[Si[e]].common)return Si[e]}function hx(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:s}=q1(n,e),r=n[i]>=e?n[i]:n[s];t[r]=!0}}function hX(t,e,n,i){const s=t._adapter,r=+s.startOf(e[0].value,i),a=e[e.length-1].value;let c,u;for(c=r;c<=a;c=+s.add(c,1,i))u=n[c],u>=0&&(e[u].major=!0);return e}function dx(t,e,n){const i=[],s={},r=e.length;let a,c;for(a=0;a<r;++a)c=e[a],s[c]=a,i.push({value:c,major:!1});return r===0||!n?i:hX(t,i,s,n)}class Cd extends Ka{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),s=this._adapter=new bK._date(e.adapters.date);s.init(n),Bh(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:lx(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:s,max:r,minDefined:a,maxDefined:c}=this.getUserBounds();function u(d){!a&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!c&&!isNaN(d.max)&&(r=Math.max(r,d.max))}(!a||!c)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),s=Zt(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=Zt(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,a=this.max,c=WW(s,r,a);return this._unit=n.unit||(i.autoSkip?ux(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):lX(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:uX(this._unit),this.initOffsets(s),e.reverse&&c.reverse(),dx(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,s,r;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=Nn(n,0,a),i=Nn(i,0,a),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,a=r.unit||ux(r.minUnit,n,i,this._getLabelCapacity(n)),c=je(s.ticks.stepSize,1),u=a==="week"?r.isoWeekday:!1,d=Il(u)||u===!0,f={};let g=n,y,b;if(d&&(g=+e.startOf(g,"isoWeek",u)),g=+e.startOf(g,d?"day":a),e.diff(i,n,a)>1e5*c)throw new Error(n+" and "+i+" are too far apart with stepSize of "+c+" "+a);const E=s.ticks.source==="data"&&this.getDataTimestamps();for(y=g,b=0;y<i;y=+e.add(y,c,a),b++)hx(f,y,E);return(y===i||s.bounds==="ticks"||b===1)&&hx(f,y,E),Object.keys(f).sort(cx).map(_=>+_)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,r=this._unit,a=n||s[r];return this._adapter.format(e,a)}_tickFormatFunction(e,n,i,s){const r=this.options,a=r.ticks.callback;if(a)return Rt(a,[e,n,i],this);const c=r.time.displayFormats,u=this._unit,d=this._majorUnit,f=u&&c[u],g=d&&c[d],y=i[n],b=d&&g&&y&&y.major;return this._adapter.format(e,s||(b?g:f))}generateTickLabels(e){let n,i,s;for(n=0,i=e.length;n<i;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,s=ds(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),a=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:i*r+c*a,h:i*a+c*r}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(e,0,dx(this,[e],this._majorUnit),s),a=this._getLabelSize(r),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)e.push(lx(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return NM(e.sort(cx))}}oe(Cd,"id","time"),oe(Cd,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function sg(t,e,n){let i=0,s=t.length-1,r,a,c,u;n?(e>=t[i].pos&&e<=t[s].pos&&({lo:i,hi:s}=yr(t,"pos",e)),{pos:r,time:c}=t[i],{pos:a,time:u}=t[s]):(e>=t[i].time&&e<=t[s].time&&({lo:i,hi:s}=yr(t,"time",e)),{time:r,pos:c}=t[i],{time:a,pos:u}=t[s]);const d=a-r;return d?c+(u-c)*(e-r)/d:c}class M0 extends Cd{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=sg(n,this.min),this._tableRange=sg(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,s=[],r=[];let a,c,u,d,f;for(a=0,c=e.length;a<c;++a)d=e[a],d>=n&&d<=i&&s.push(d);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(a=0,c=s.length;a<c;++a)f=s[a+1],u=s[a-1],d=s[a],Math.round((f+u)/2)!==d&&r.push({time:d,pos:a/(c-1)});return r}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(sg(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return sg(this._table,i*this._tableRange+this._minPos,!0)}}oe(M0,"id","timeseries"),oe(M0,"defaults",Cd.defaults);var dX=Object.freeze({__proto__:null,CategoryScale:x0,LinearScale:k0,LogarithmicScale:D0,RadialLinearScale:Th,TimeScale:Cd,TimeSeriesScale:M0});const IN=[_K,YG,HY,dX],fX={name:"PieChart",props:{transactions:{type:Array,required:!0}},data(){return{pieChart:null,loadingChart:!1}},mounted(){ls.register(...IN),this.initChart()},beforeUnmount(){this.destroyChart()},methods:{initChart(){this.pieChart&&this.destroyChart(),this.createChart()},destroyChart(){this.pieChart&&(this.pieChart.destroy(),this.pieChart=null),this.loadingChart=!1},createChart(){this.loadingChart=!0,this.destroyChart();const t=this.processTransactions(this.transactions);this.pieChart=new ls(this.$refs.pieChart,{type:"pie",data:t,options:{responsive:!0,maintainAspectRatio:!1,tooltips:{callbacks:{label:function(e,n){let i=n.labels[e.index]||"";return i&&(i+=": "),i+=n.datasets[0].data[e.index],i}}}}}),this.loadingChart=!1},processTransactions(t){const e=t.reduce((r,{category:a,amount:c})=>(r[a]||(r[a]=0),r[a]+=c,r),{}),n=Object.values(e).reduce((r,a)=>r+a,0),i=Object.keys(e).map(r=>`${r} (${(e[r]/n*100).toFixed(2)}%)`),s=Object.values(e);return{labels:i,datasets:[{data:s,backgroundColor:this.generateColorArray(i.length),hoverBackgroundColor:this.generateColorArray(i.length,!0)}]}},generateColorArray(t,e=!1){const n=["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#F7464A","#8A2BE2"],i=n.map(s=>`${s}B3`);return Array.from({length:t},(s,r)=>e?i[r%n.length]:n[r%n.length])}},beforeUnmount(){this.pieChart&&this.pieChart.destroy()},watch:{transactions:{deep:!0,immediate:!0,handler(t){this.loadingChart&&this.destroyChart(),this.createChart()}}}},pX={ref:"pieChart"};function gX(t,e,n,i,s,r){return Ce(),xe("div",null,[P("canvas",pX,null,512)])}const mX=qt(fX,[["render",gX]]),yX={props:{showAddButton:{type:Boolean,default:!0},budgets:{type:Array,default:()=>[]},limit:{type:Number,default:1/0}},data(){return{auth:null,budgets:[],editingBudgetId:null,editedBudgetDetails:{},transactions:[],showTransactions:!1}},async mounted(){await this.fetchBudgets(),await this.calculateSpentAmounts()},computed:{displayedGoals(){return this.budgets.slice(0,this.limit)},computedBudgets(){return this.budgets.map(t=>{const e=Number(t.amount)||0,n=Number(t.spent)||0,i=e-n;return{...t,remaining:i,spent:n}})}},methods:{progressWidth(t){const e=t.spent/t.amount*100;return`${Math.min(e,100)}%`},progressBarColor(t){return`hsl(${120-t.spent/t.amount*100*1.2}, 100%, 50%)`},enableEditMode(t){this.editingBudgetId=t.id,this.editedBudgetDetails={...t}},cancelEditMode(){this.editingBudgetId=null,this.editedBudgetDetails={}},async fetchBudgets(){const e=it(Be).currentUser;if(e&&console.log("User ID:",e.uid),!e){console.error("No user logged in!");return}const n=e.uid,i=Sn(Be),s=zi(i,"users",n,"budgets");try{const r=await Er(s);this.budgets=r.docs.map(a=>({id:a.id,name:a.data().name,amount:Number(a.data().amount),startDate:a.data().startDate,endDate:a.data().endDate,category:a.data().category}))}catch(r){console.error("Error fetching budgets:",r)}},async deleteBudget(){const e=it(Be).currentUser;if(e&&console.log("User ID:",e.uid),!e){console.error("No user logged in!");return}const n=e.uid;if(!this.editingBudgetId)return;const i=Sn(Be),s=xo(i,"users",n,"budgets",this.editingBudgetId);try{await U1(s),this.budgets=this.budgets.filter(r=>r.id!==this.editingBudgetId),this.editingBudgetId=null,this.editedBudgetDetails={}}catch(r){console.error("Error deleting budget:",r)}},async updateBudget(){const e=it(Be).currentUser;if(e&&console.log("User ID:",e.uid),!e){console.error("No user logged in!");return}const n=e.uid;if(!this.editingBudgetId)return;const i=Sn(Be),s=xo(i,"users",n,"budgets",this.editingBudgetId),r=this.budgets.find(c=>c.id===this.editingBudgetId),a={...this.editedBudgetDetails,amount:Number(this.editedBudgetDetails.amount)};a.remaining=a.amount+(r.spent??0);try{await My(s,a);const c=this.budgets.findIndex(u=>u.id===this.editingBudgetId);c!==-1&&(this.budgets[c]={...this.budgets[c],...a,remaining:a.remaining}),await this.calculateSpentAmounts(),this.editingBudgetId=null,this.editedBudgetDetails={}}catch(c){console.error("Error updating budget:",c)}},async calculateSpentAmounts(){const e=it(Be).currentUser;if(e&&console.log("User ID:",e.uid),!e){console.error("No user logged in!");return}const n=e.uid,i=Sn(Be),s=zi(i,"users",n,"transactions");for(let r=0;r<this.budgets.length;r++){let a=this.budgets[r];const c=sl(s,zp("budgetTakenFrom","==",a.name),zp("date",">=",a.startDate),zp("date","<=",a.endDate)),d=(await Er(c)).docs.reduce((f,g)=>f+Number(g.data().amount),0);a.spent=-d,a.remaining=a.amount+d,this.budgets[r]={...a}}},toggleTransactions(t){t.transactions?t.showTransactions=!t.showTransactions:this.fetchTransactions(t).then(e=>{console.log(e),this.transactions?(this.transactions=Array.isArray(e)?e:[],t.showTransactions=!0):console.error("Error",e)})},async fetchTransactions(t){const e=it(Be);let n=[];if(!e.currentUser){console.error("No user logged in!");return}const i=e.currentUser.uid,s=Sn(Be),r=zi(s,"users",i,"transactions"),a=sl(r,zp("budgetTakenFrom","==",t.name));try{n=(await Er(a)).docs.map(u=>({id:u.id,name:u.data().name,date:u.data().date,amount:u.data().amount,description:u.data().description})),console.log(n),t.transactions=n,t.showTransactions=!0}catch(c){return console.error("Failed to fetch transactions for budget:",c),[]}}}},TN=t=>(_s("data-v-764b8201"),t=t(),bs(),t),vX=TN(()=>P("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"},null,-1)),_X={class:"budget-tracker"},bX={class:"budget-header"},wX=["onClick"],EX=["onClick"],IX={class:"budget-details"},TX={class:"progress-bar-container"},SX={key:0,class:"over-limit-warning"},AX={key:1,class:"below-limit-warning"},CX={key:0,class:"transactions-overlay"},PX={class:"transactions-content"},RX={key:0,class:"transaction-list"},xX={key:1},kX=["onClick"],DX={key:0,class:"overlay"},OX={key:1,class:"edit-budget-form"},MX=TN(()=>P("h2",null,"Edit your budget",-1));function NX(t,e,n,i,s,r){const a=Je("router-link");return Ce(),xe(wn,null,[vX,P("div",_X,[(Ce(!0),xe(wn,null,xa(r.displayedGoals,c=>(Ce(),xe("div",{class:"budget",key:c.id},[P("div",bX,[P("h3",{onClick:u=>r.toggleTransactions(c),class:"budget-name"},[On(ht(c.name)+" ",1),P("i",{class:"fas fa-pencil-alt edit-icon",onClick:Um(u=>r.enableEditMode(c),["stop"])},null,8,EX)],8,wX),P("span",null,ht(c.startDate)+" - "+ht(c.endDate),1)]),P("div",IX,[P("span",null,"$"+ht((c.remaining??0).toFixed(2))+" Remaining ",1),P("div",TX,[P("div",{class:"progress-bar",style:Am({width:r.progressWidth(c),backgroundColor:r.progressBarColor(c)})},null,4)]),P("span",null,"$"+ht((c.spent??0).toFixed(2))+" of $"+ht((c.amount??0).toFixed(2)),1),c.remaining<0?(Ce(),xe("p",SX," You've exceeded the limit! ")):pi("",!0),c.remaining>0?(Ce(),xe("p",AX," You are left with $"+ht(c.remaining.toFixed(2))+"! ",1)):pi("",!0)]),c.showTransactions?(Ce(),xe("div",CX,[P("div",PX,[P("h3",null,"Transactions for "+ht(c.name),1),c.transactions.length>0?(Ce(),xe("ul",RX,[(Ce(!0),xe(wn,null,xa(c.transactions,u=>(Ce(),xe("li",{key:u.id},ht(u.name)+" "+ht(u.date)+" $"+ht(-u.amount)+" "+ht(u.description),1))),128))])):(Ce(),xe("p",xX,"No transactions found for this budget!")),P("button",{onClick:u=>c.showTransactions=!1},"Close",8,kX)])])):pi("",!0)]))),128)),s.editingBudgetId?(Ce(),xe("div",DX)):pi("",!0),s.editingBudgetId?(Ce(),xe("div",OX,[MX,Ge(P("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>s.editedBudgetDetails.name=c),type:"text",placeholder:"Budget Name"},null,512),[[Bt,s.editedBudgetDetails.name]]),Ge(P("input",{"onUpdate:modelValue":e[1]||(e[1]=c=>s.editedBudgetDetails.amount=c),type:"number",placeholder:"Total Amount"},null,512),[[Bt,s.editedBudgetDetails.amount]]),Ge(P("input",{"onUpdate:modelValue":e[2]||(e[2]=c=>s.editedBudgetDetails.startDate=c),type:"date"},null,512),[[Bt,s.editedBudgetDetails.startDate]]),Ge(P("input",{"onUpdate:modelValue":e[3]||(e[3]=c=>s.editedBudgetDetails.endDate=c),type:"date"},null,512),[[Bt,s.editedBudgetDetails.endDate]]),P("button",{onClick:e[4]||(e[4]=(...c)=>r.updateBudget&&r.updateBudget(...c)),class:"save-btn"},"Save Changes"),P("span",{onClick:e[5]||(e[5]=(...c)=>r.cancelEditMode&&r.cancelEditMode(...c)),class:"cancel-btn"},"x"),P("button",{onClick:e[6]||(e[6]=(...c)=>r.deleteBudget&&r.deleteBudget(...c)),class:"delete-btn"},"Delete Budget")])):pi("",!0),n.showAddButton?(Ce(),Nm(a,{key:2,to:"/addBudget",tag:"button",class:"add-budget-btn"},{default:fi(()=>[On(" Add New Budget ")]),_:1})):pi("",!0)])],64)}const SN=qt(yX,[["render",NX],["__scopeId","data-v-764b8201"]]),LX={name:"DashboardPage",components:{Logout:Or,Sidebar:Js,PieChart:mX,goalSetting:SN},data(){return{user:null,username:"",userEmail:"nothing",rawTransactions:[],recentTransactions:[],recentBudgets:[],filteredTransactions:[],startDate:null,endDate:null,loadingChart:!1}},mounted(){const t=it();Xs(t,e=>{e&&(this.user=e,this.userEmail=e.email,this.username=e.displayName,this.fetchTransactions(),this.fetchGoals().then(()=>{console.log("Recent Budgets in Dashboard:",this.recentBudgets)}))})},methods:{async fetchTransactions(){const e=it(Be).currentUser;if(e&&console.log("User ID:",e.uid),!e){console.error("No user logged in!");return}const n=e.uid,i=Sn(),s=zi(i,"users",n,"transactions"),r=sl(s,wg("date","desc")),a=sl(s,wg("date","desc"),jP(5));try{const c=await Er(r);this.rawTransactions=c.docs.map(d=>({id:d.id,name:d.data().name,amount:d.data().amount,category:d.data().category,date:d.data().date})),console.log("All Transactions:",this.rawTransactions);const u=await Er(a);this.recentTransactions=u.docs.map(d=>({id:d.id,name:d.data().name,amount:d.data().amount,category:d.data().category,date:d.data().date})),this.applyFilters()}catch(c){console.error("Error fetching transactions:",c)}},async fetchGoals(){const t=Sn(Be),n=it(Be).currentUser;if(!n){console.error("No user logged in!");return}const i=n.uid,s=zi(t,"users",i,"budgets"),r=sl(s,wg("endDate","asc"),jP(2));try{const a=await Er(r);this.recentBudgets=a.docs.map(c=>({id:c.id,...c.data()})),console.log("Fetched Recent Budgets:",this.recentBudgets)}catch(a){console.error("Error fetching budgets:",a)}},applyFilters(){let t=this.rawTransactions;if(this.startDate&&this.endDate){const e=new Date(this.startDate).getTime(),n=new Date(this.endDate).getTime();t=t.filter(i=>{const s=new Date(i.date).getTime();return s>=e&&s<=n})}this.filteredTransactions=t},beforeRouteLeave(t,e,n){this.loadingChart&&this.destroyChart(),n()}},watch:{$route(t,e){t.name==="dashboardPage"&&e.name!==t.name&&(this.fetchTransactions(),this.createChart(),this.fetchGoals())}},computed:{displayedGoals(){return this.recentGoals.slice(0,2)}}},AN=t=>(_s("data-v-bbeb712d"),t=t(),bs(),t),VX={class:"dashboardPageContainer"},FX={class:"sidebar"},UX={class:"maincontent"},BX={class:"dashboard-columns"},jX={class:"recent-transactions"},$X=AN(()=>P("h2",null,"Recent Transactions",-1)),HX={class:"transaction-details"},zX={class:"transaction-name"},WX={class:"transaction-date"},qX={class:"transaction-category"},KX={class:"recent-budgets"},GX=AN(()=>P("h2",null,"Recent Budgets",-1));function YX(t,e,n,i,s,r){const a=Je("sidebar"),c=Je("pieChart"),u=Je("goalSetting"),d=Je("Logout");return Ce(),xe("div",VX,[P("div",FX,[Se(a)]),P("div",UX,[P("h1",null,"Welcome to your dashboard, "+ht(this.username)+"!",1),P("div",null,[Ge(P("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=f=>s.startDate=f)},null,512),[[Bt,s.startDate]]),Ge(P("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=f=>s.endDate=f)},null,512),[[Bt,s.endDate]]),P("button",{onClick:e[2]||(e[2]=(...f)=>r.applyFilters&&r.applyFilters(...f))},"Apply Filters")]),Se(c,{transactions:s.filteredTransactions},null,8,["transactions"]),P("div",BX,[P("div",jX,[$X,P("ul",null,[(Ce(!0),xe(wn,null,xa(s.recentTransactions,f=>(Ce(),xe("li",{key:f.id,class:"transaction-item"},[P("div",HX,[P("h3",zX,ht(f.name),1),P("p",WX,ht(f.date),1),P("p",qX,ht(f.category),1)]),P("div",{class:di(["transaction-amount",{negative:f.amount<0,positive:f.amount>=0}])},ht(f.amount.toFixed(2)),3)]))),128))])]),P("div",KX,[GX,Se(u,{goals:s.recentBudgets,limit:2,showAddButton:!1},null,8,["goals"])])]),Se(d,{user:s.user},null,8,["user"])])])}const XX=qt(LX,[["render",YX],["__scopeId","data-v-bbeb712d"]]),fx=Sn(Be),QX={data(){return{auth:null,transaction:{name:"",amount:null,description:"",category:"",date:""},budgets:[],selectedBudget:""}},created(){this.auth=it(Be)},mounted(){this.fetchBudgets()},methods:{async saveAddTransac(){const e=it(Be).currentUser;if(e&&console.log("User ID:",e.uid),!e){console.error("No user logged in!");return}const n=e.uid,i=zi(fx,"users",n,"transactions");try{const s=await B1(i,{name:this.transaction.name,amount:this.transaction.amount,description:this.transaction.description,category:this.transaction.category,date:this.transaction.date,budgetTakenFrom:this.selectedBudget});console.log("Document written with ID:",s.id),this.transaction={name:"",amount:null,description:"",category:"",date:""},this.$emit("added")}catch(s){console.error("Error adding document:",s)}},async fetchBudgets(){const e=it(Be).currentUser;if(e&&console.log("User ID:",e.uid),!e){console.error("No user logged in!");return}const n=e.uid,i=zi(fx,"users",n,"budgets"),s=await Er(i);this.budgets=s.docs.map(r=>({id:r.id,name:r.data().name}))}}},Nr=t=>(_s("data-v-042c4e94"),t=t(),bs(),t),JX={class:"add-transaction"},ZX=Nr(()=>P("h1",null,"Add Transaction",-1)),eQ={class:"form-group"},tQ=Nr(()=>P("label",{for:"name"},"Transaction Name *",-1)),nQ={class:"form-group"},iQ=Nr(()=>P("label",{for:"amount"},"Amount (Include negative sign if it is subtracting from account) *",-1)),sQ={class:"form-group"},rQ=Nr(()=>P("label",{for:"description"},"Description (Optional)",-1)),oQ={class:"form-group"},aQ=Nr(()=>P("label",{for:"category"},"Category *",-1)),cQ=Pl('<option value="NIL" data-v-042c4e94></option><option value="transport" data-v-042c4e94>Transport</option><option value="shopping" data-v-042c4e94>Shopping</option><option value="food" data-v-042c4e94>Food</option><option value="food" data-v-042c4e94>Others</option>',5),lQ=[cQ],uQ={class:"form-group"},hQ=Nr(()=>P("label",{for:"date"},"Date *",-1)),dQ={class:"form-group"},fQ=Nr(()=>P("label",{for:"budgetTakenFrom"},"Budget Taken From",-1)),pQ=Nr(()=>P("option",{disabled:"",value:""},"Select a budget",-1)),gQ=["value"],mQ=Nr(()=>P("div",{class:"button-container"},[P("button",{type:"submit",class:"btn"},"Add Transaction")],-1));function yQ(t,e,n,i,s,r){return Ce(),xe("div",JX,[P("form",{id:"transactionform",onSubmit:e[6]||(e[6]=Um((...a)=>r.saveAddTransac&&r.saveAddTransac(...a),["prevent"]))},[ZX,P("div",eQ,[tQ,Ge(P("input",{type:"text",id:"name","onUpdate:modelValue":e[0]||(e[0]=a=>s.transaction.name=a),required:"",class:"input-field"},null,512),[[Bt,s.transaction.name]])]),P("div",nQ,[iQ,Ge(P("input",{type:"number",id:"amount",step:"0.01","onUpdate:modelValue":e[1]||(e[1]=a=>s.transaction.amount=a),required:""},null,512),[[Bt,s.transaction.amount]])]),P("div",sQ,[rQ,Ge(P("input",{type:"text",id:"description","onUpdate:modelValue":e[2]||(e[2]=a=>s.transaction.description=a)},null,512),[[Bt,s.transaction.description]])]),P("div",oQ,[aQ,Ge(P("select",{id:"category","onUpdate:modelValue":e[3]||(e[3]=a=>s.transaction.category=a),required:""},lQ,512),[[ji,s.transaction.category]])]),P("div",uQ,[hQ,Ge(P("input",{type:"date",id:"date","onUpdate:modelValue":e[4]||(e[4]=a=>s.transaction.date=a),required:""},null,512),[[Bt,s.transaction.date]])]),P("div",dQ,[fQ,Ge(P("select",{id:"budgetTakenFrom","onUpdate:modelValue":e[5]||(e[5]=a=>s.selectedBudget=a)},[pQ,(Ce(!0),xe(wn,null,xa(s.budgets,a=>(Ce(),xe("option",{key:a.id,value:a.name},ht(a.name),9,gQ))),128))],512),[[ji,s.selectedBudget]])]),mQ],32)])}const vQ=qt(QX,[["render",yQ],["__scopeId","data-v-042c4e94"]]),_Q={name:"addTransactionPage",components:{addTransaction:vQ,sidebar:Js,Logout:Or},data(){return{user:null,userEmail:"nothing"}},mounted(){const t=it();Xs(t,e=>{e&&(this.user=e,this.userEmail=e.email)})}},bQ={class:"addTranscPageContainer"},wQ={class:"sidebar"},EQ={class:"maincontent"};function IQ(t,e,n,i,s,r){const a=Je("sidebar"),c=Je("addTransaction"),u=Je("Logout");return Ce(),xe("div",bQ,[P("div",wQ,[Se(a)]),P("div",EQ,[Se(c),Se(u,{user:s.user},null,8,["user"])])])}const TQ=qt(_Q,[["render",IQ]]),SQ=Sn(Be),AQ={data(){return{budget:{name:"",amount:null,category:"",startDate:"",endDate:""}}},created(){this.auth=it(Be)},methods:{async saveAddBudget(){const e=it(Be).currentUser;if(e&&console.log("User ID:",e.uid),!e){console.error("No user logged in!");return}const n=e.uid,i=zi(SQ,"users",n,"budgets");console.log(this.budget);let s=document.getElementById("name").value,r=+document.getElementById("amount").value,a=document.getElementById("category").value,c=document.getElementById("startDate").value,u=document.getElementById("endDate").value;alert("Saving data for Budget : "+s);try{const d=await B1(i,{name:s,amount:r,category:a,startDate:c,endDate:u});console.log("Document written with ID: ",d.id),this.budget={name:"",amount:null,category:"",startDate:"",endDate:""},this.$emit("added")}catch(d){console.error("Error adding document: ",d)}}}},Ga=t=>(_s("data-v-660595f0"),t=t(),bs(),t),CQ={class:"add-budget-container"},PQ=Ga(()=>P("h1",null,"Add Budget",-1)),RQ={class:"input-group"},xQ=Ga(()=>P("label",{for:"name"},"Budget Name *",-1)),kQ={class:"input-group"},DQ=Ga(()=>P("label",{for:"amount"},"Amount *",-1)),OQ={class:"input-group"},MQ=Ga(()=>P("label",{for:"category"},"Category *",-1)),NQ=Pl('<option disabled value="" data-v-660595f0>Please select one</option><option value="transport" data-v-660595f0>Transport</option><option value="shopping" data-v-660595f0>Shopping</option><option value="food" data-v-660595f0>Food</option><option value="others" data-v-660595f0>Others</option>',5),LQ=[NQ],VQ={class:"input-group"},FQ=Ga(()=>P("label",{for:"startDate"},"Start Date *",-1)),UQ={class:"input-group"},BQ=Ga(()=>P("label",{for:"endDate"},"End Date *",-1)),jQ=Ga(()=>P("div",{class:"button-container"},[P("button",{type:"submit",class:"btn"},"Add Budget")],-1));function $Q(t,e,n,i,s,r){const a=Je("router-link");return Ce(),xe("div",CQ,[PQ,P("form",{id:"submitBudget",onSubmit:e[5]||(e[5]=Um((...c)=>r.saveAddBudget&&r.saveAddBudget(...c),["prevent"]))},[P("div",RQ,[xQ,Ge(P("input",{type:"text",id:"name","onUpdate:modelValue":e[0]||(e[0]=c=>s.budget.name=c),required:"",class:"input-field"},null,512),[[Bt,s.budget.name]])]),P("div",kQ,[DQ,Ge(P("input",{type:"number",id:"amount",step:"0.01","onUpdate:modelValue":e[1]||(e[1]=c=>s.budget.amount=c),required:""},null,512),[[Bt,s.budget.amount]])]),P("div",OQ,[MQ,Ge(P("select",{id:"category","onUpdate:modelValue":e[2]||(e[2]=c=>s.budget.category=c),required:""},LQ,512),[[ji,s.budget.category]])]),P("div",VQ,[FQ,Ge(P("input",{type:"date",id:"startDate","onUpdate:modelValue":e[3]||(e[3]=c=>s.budget.startDate=c),required:""},null,512),[[Bt,s.budget.startDate]])]),P("div",UQ,[BQ,Ge(P("input",{type:"date",id:"endDate","onUpdate:modelValue":e[4]||(e[4]=c=>s.budget.endDate=c),required:""},null,512),[[Bt,s.budget.endDate]])]),jQ],32),Se(a,{to:"/goalSetting",class:"view-budgets-btn"},{default:fi(()=>[On("View All Budgets")]),_:1})])}const HQ=qt(AQ,[["render",$Q],["__scopeId","data-v-660595f0"]]),zQ={name:"addBudgetPage",components:{addBudget:HQ,sidebar:Js,Logout:Or},data(){return{user:null,userEmail:"nothing"}},mounted(){const t=it();Xs(t,e=>{e&&(this.user=e,this.userEmail=e.email)})}},WQ={class:"addBudgetPageContainer"},qQ={class:"sidebar"},KQ={class:"maincontent"};function GQ(t,e,n,i,s,r){const a=Je("sidebar"),c=Je("addBudget"),u=Je("Logout");return Ce(),xe("div",WQ,[P("div",qQ,[Se(a)]),P("div",KQ,[Se(c),Se(u,{user:s.user},null,8,["user"])])])}const YQ=qt(zQ,[["render",GQ]]),XQ=Sn(Be),QQ={data(){return{auth:null,scheduledTransaction:{schedTransactionName:"",schedTransactionAmount:null,schedTransactionsCategory:"",schedTransactionsDate:"",schedTransactionsRecurrence:""}}},methods:{async saveScheduledTransac(){const e=it(Be).currentUser;if(e&&console.log("User ID:",e.uid),!e){console.error("No user logged in!");return}const n=e.uid,i=zi(XQ,"users",n,"scheduledTransaction");console.log(this.scheduledTransaction),alert("Saving data for Scheduled Transaction : "+this.scheduledTransaction.schedTransactionName+" "+this.scheduledTransaction.schedTransactionAmount);try{const s=await B1(i,{schedTransactionName:this.scheduledTransaction.schedTransactionName,schedTransactionAmount:this.scheduledTransaction.schedTransactionAmount,schedTransactionsCategory:this.scheduledTransaction.schedTransactionsCategory,schedTransactionsDate:this.scheduledTransaction.schedTransactionsDate,schedTransactionsRecurrence:this.scheduledTransaction.schedTransactionsRecurrence});console.log("Document written with ID: ",s.id),console.log("Document written with ID: ",s.id),this.scheduledTransaction={schedTransactionName:"",schedTransactionAmount:null,schedTransactionsCategory:"",schedTransactionsDate:"",schedTransactionsRecurrence:""},this.$emit("added")}catch(s){console.error("Error adding document: ",s)}}}},Lr=t=>(_s("data-v-5579e719"),t=t(),bs(),t),JQ={class:"schedule-transactions-container"},ZQ=Lr(()=>P("h1",null,"Schedule Transactions",-1)),eJ={class:"input-group"},tJ=Lr(()=>P("label",{for:"schedTransactionName"},"Transaction Name *",-1)),nJ={class:"input-group"},iJ=Lr(()=>P("label",{for:"schedTransactionAmount"},"Amount (Include negative sign if it is subtracting from account) *",-1)),sJ={class:"input-group"},rJ=Lr(()=>P("label",{for:"schedTransactionsCategory"},"Category *",-1)),oJ=Pl('<option disabled value="" data-v-5579e719>Please select one</option><option value="income" data-v-5579e719>Income</option><option value="allowance" data-v-5579e719>Allowance</option><option value="expenses" data-v-5579e719>Expenses</option><option value="subscriptions" data-v-5579e719>Subscriptions</option><option value="others" data-v-5579e719>Others</option>',6),aJ=[oJ],cJ={class:"input-group"},lJ=Lr(()=>P("label",{for:"schedTransactionsDate"},"Start Date *",-1)),uJ={class:"input-group"},hJ=Lr(()=>P("label",{for:"schedTransactionsRecurrence"},"Recurrence *",-1)),dJ=Lr(()=>P("option",{value:"monthly"},"Monthly",-1)),fJ=Lr(()=>P("option",{value:"yearly"},"Yearly",-1)),pJ=[dJ,fJ],gJ=Lr(()=>P("div",{class:"button-container"},[P("button",{type:"submit",class:"btn"},"Add Scheduled Transaction")],-1));function mJ(t,e,n,i,s,r){const a=Je("router-link");return Ce(),xe("div",JQ,[ZQ,P("form",{id:"submitScheduledTransaction",onSubmit:e[5]||(e[5]=Um((...c)=>r.saveScheduledTransac&&r.saveScheduledTransac(...c),["prevent"]))},[P("div",eJ,[tJ,Ge(P("input",{type:"text",id:"schedTransactionName","onUpdate:modelValue":e[0]||(e[0]=c=>s.scheduledTransaction.schedTransactionName=c),required:"",class:"input-field"},null,512),[[Bt,s.scheduledTransaction.schedTransactionName]])]),P("div",nJ,[iJ,Ge(P("input",{type:"number",id:"schedTransactionAmount",step:"0.01","onUpdate:modelValue":e[1]||(e[1]=c=>s.scheduledTransaction.schedTransactionAmount=c),required:""},null,512),[[Bt,s.scheduledTransaction.schedTransactionAmount]])]),P("div",sJ,[rJ,Ge(P("select",{id:"schedTransactionsCategory","onUpdate:modelValue":e[2]||(e[2]=c=>s.scheduledTransaction.schedTransactionsCategory=c),required:""},aJ,512),[[ji,s.scheduledTransaction.schedTransactionsCategory]])]),P("div",cJ,[lJ,Ge(P("input",{type:"date",id:"schedTransactionsDate","onUpdate:modelValue":e[3]||(e[3]=c=>s.scheduledTransaction.schedTransactionsDate=c),required:""},null,512),[[Bt,s.scheduledTransaction.schedTransactionsDate]])]),P("div",uJ,[hJ,Ge(P("select",{id:"schedTransactionsRecurrence","onUpdate:modelValue":e[4]||(e[4]=c=>s.scheduledTransaction.schedTransactionsRecurrence=c),required:""},pJ,512),[[ji,s.scheduledTransaction.schedTransactionsRecurrence]])]),gJ],32),Se(a,{to:"/viewScheduledTransactions",tag:"button",class:"view-sched-transaction-btn"},{default:fi(()=>[On(" View Scheduled Transactions ")]),_:1})])}const yJ=qt(QQ,[["render",mJ],["__scopeId","data-v-5579e719"]]),vJ={name:"addScheduledTransactionPage",components:{sidebar:Js,addScheduledTransaction:yJ,Logout:Or},data(){return{user:null,userEmail:"nothing"}},mounted(){const t=it();Xs(t,e=>{e&&(this.user=e,this.userEmail=e.email)})}},_J={class:"addSchedTransacPageContainer"},bJ={class:"sidebar"},wJ={class:"maincontent"};function EJ(t,e,n,i,s,r){const a=Je("sidebar"),c=Je("addScheduledTransaction"),u=Je("Logout");return Ce(),xe("div",_J,[P("div",bJ,[Se(a)]),P("div",wJ,[Se(c),Se(u,{user:s.user},null,8,["user"])])])}const IJ=qt(vJ,[["render",EJ]]),TJ=Sn(Be),SJ={data(){return{auth:null,editingScheduledTransactionId:null,editedScheduledTransactionDetails:{},scheduledTransactions:[],selectedFilter:"",selectedCategory:"",selectedRecurrence:""}},mounted(){this.fetchScheduledTransactions()},created(){this.auth=it(Be)},methods:{fetchScheduledTransactions(){const e=it(Be).currentUser;if(e&&console.log("User ID:",e.uid),!e){console.error("No user logged in!");return}const n=e.uid,i=zi(TJ,"users",n,"scheduledTransaction");TM(i,s=>{this.scheduledTransactions=s.docs.map(r=>({id:r.id,name:r.data().schedTransactionName,amount:r.data().schedTransactionAmount,category:r.data().schedTransactionsCategory,currency:r.data().schedTransactionsCurrency,date:r.data().schedTransactionsDate,recurrence:r.data().schedTransactionsRecurrence})).sort((r,a)=>{const c=new Date(r.date);return new Date(a.date)-c})},s=>{console.error("Error getting documents: ",s)})},enableScheduledTransactionEdit(t){this.editingScheduledTransactionId=t.id,this.editedScheduledTransactionDetails={...t}},cancelScheduledTransactionEdit(){this.editingScheduledTransactionId=null},async deleteScheduledTransaction(t){const e=it(Be),n=Sn(Be),i=e.currentUser;if(i&&console.log("User ID:",i.uid),!i){console.error("No user logged in!");return}const s=i.uid,r=xo(n,"users",s,"scheduledTransaction",t);try{await U1(r),this.fetchScheduledTransactions()}catch(a){console.error("Error deleting scheduled transaction:",a)}},async updateScheduledTransaction(){const e=it(Be).currentUser;if(e&&console.log("User ID:",e.uid),!e){console.error("No user logged in!");return}const n=e.uid;if(!this.editingScheduledTransactionId)return;const i=Sn(Be),s=xo(i,"users",n,"scheduledTransaction",this.editingScheduledTransactionId),r={...this.editedScheduledTransactionDetails,currency:AM()};try{await My(s,r),this.editingScheduledTransactionId=null,this.fetchScheduledTransactions(),this.editedScheduledTransactionDetails={}}catch(a){console.error("Error updating scheduled transaction:",a)}}},computed:{filteredTransactions(){let t=this.scheduledTransactions;return this.selectedFilter==="category"&&this.selectedCategory?t=t.filter(e=>e.category===this.selectedCategory):this.selectedFilter==="recurrence"&&this.selectedRecurrence&&(t=t.filter(e=>e.recurrence===this.selectedRecurrence)),t}}},Ya=t=>(_s("data-v-93e3c46d"),t=t(),bs(),t),AJ=Ya(()=>P("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"},null,-1)),CJ={class:"scheduled-transaction-history-page"},PJ={class:"filter-options"},RJ=Ya(()=>P("option",{value:"category"},"Filter by Category",-1)),xJ=Ya(()=>P("option",{value:"recurrence"},"Filter by Recurrence",-1)),kJ=[RJ,xJ],DJ=Pl('<option value="" data-v-93e3c46d>Select a Category</option><option value="income" data-v-93e3c46d>Income</option><option value="allowance" data-v-93e3c46d>Allowance</option><option value="expenses" data-v-93e3c46d>Expenses</option><option value="subscriptions" data-v-93e3c46d>Subscriptions</option><option value="others" data-v-93e3c46d>Others</option>',6),OJ=[DJ],MJ=Ya(()=>P("option",{value:""},"Select a Recurrence Range",-1)),NJ=Ya(()=>P("option",{value:"monthly"},"Monthly",-1)),LJ=Ya(()=>P("option",{value:"yearly"},"Yearly",-1)),VJ=[MJ,NJ,LJ],FJ={class:"view-scheduled-transactions-page"},UJ={class:"scheduled-transactions-list"},BJ={class:"transaction-details"},jJ={class:"transaction-name"},$J={class:"transaction-date"},HJ={class:"transaction-recurrence"},zJ={class:"transaction-actions"},WJ=["onClick"],qJ=["onClick"],KJ={key:0,class:"overlay"},GJ={class:"edit-transaction-form"},YJ=Ya(()=>P("h2",null,"Edit Scheduled Transaction",-1)),XJ=Pl('<option value="income" data-v-93e3c46d>Income</option><option value="allowance" data-v-93e3c46d>Allowance</option><option value="expenses" data-v-93e3c46d>Expenses</option><option value="subscriptions" data-v-93e3c46d>Subscriptions</option><option value="others" data-v-93e3c46d>Others</option>',5),QJ=[XJ];function JJ(t,e,n,i,s,r){const a=Je("router-link");return Ce(),xe(wn,null,[AJ,P("div",CJ,[P("div",PJ,[Ge(P("select",{"onUpdate:modelValue":e[0]||(e[0]=c=>s.selectedFilter=c)},kJ,512),[[ji,s.selectedFilter]]),s.selectedFilter==="category"?Ge((Ce(),xe("select",{key:0,"onUpdate:modelValue":e[1]||(e[1]=c=>s.selectedCategory=c)},OJ,512)),[[ji,s.selectedCategory]]):pi("",!0),s.selectedFilter==="recurrence"?Ge((Ce(),xe("select",{key:1,"onUpdate:modelValue":e[2]||(e[2]=c=>s.selectedRecurrence=c)},VJ,512)),[[ji,s.selectedRecurrence]]):pi("",!0)]),P("div",FJ,[P("div",UJ,[P("ul",null,[(Ce(!0),xe(wn,null,xa(r.filteredTransactions,c=>(Ce(),xe("li",{key:c.id,class:"transaction-item"},[P("div",BJ,[P("h3",jJ,ht(c.name),1),P("p",$J,ht(c.date),1),P("p",HJ,ht(c.recurrence)+" "+ht(c.category),1)]),P("div",zJ,[P("i",{class:"fas fa-pencil-alt",onClick:u=>r.enableScheduledTransactionEdit(c)},null,8,WJ),P("i",{class:"fas fa-trash",onClick:u=>r.deleteScheduledTransaction(c.id)},null,8,qJ)]),P("div",{class:di(["transaction-amount",{negative:c.amount<0,positive:c.amount>=0}])},ht(c.amount.toFixed(2)),3)]))),128))]),s.editingScheduledTransactionId?(Ce(),xe("div",KJ,[P("div",GJ,[YJ,Ge(P("input",{"onUpdate:modelValue":e[3]||(e[3]=c=>s.editedScheduledTransactionDetails.name=c),placeholder:"Scheduled Transaction Name"},null,512),[[Bt,s.editedScheduledTransactionDetails.name]]),Ge(P("input",{"onUpdate:modelValue":e[4]||(e[4]=c=>s.editedScheduledTransactionDetails.amount=c),type:"number",placeholder:"Amount"},null,512),[[Bt,s.editedScheduledTransactionDetails.amount]]),Ge(P("select",{"onUpdate:modelValue":e[5]||(e[5]=c=>t.editedTransactionDetails.category=c)},QJ,512),[[ji,t.editedTransactionDetails.category]]),Ge(P("input",{"onUpdate:modelValue":e[6]||(e[6]=c=>t.editedTransactionDetails.date=c),type:"date"},null,512),[[Bt,t.editedTransactionDetails.date]]),P("button",{onClick:e[7]||(e[7]=(...c)=>r.updateScheduledTransaction&&r.updateScheduledTransaction(...c)),class:"save-btn"},"Save Changes"),P("button",{onClick:e[8]||(e[8]=(...c)=>r.cancelScheduledTransactionEdit&&r.cancelScheduledTransactionEdit(...c)),class:"cancel-btn"},"Cancel")])])):pi("",!0),Se(a,{to:"/addScheduledTransaction",tag:"button",class:"add-sched-transaction-btn"},{default:fi(()=>[On(" Add New Scheduled Transaction ")]),_:1})])])])],64)}const ZJ=qt(SJ,[["render",JJ],["__scopeId","data-v-93e3c46d"]]),eZ={name:"viewScheduledTransactionsPage",components:{viewScheduledTransactions:ZJ,sidebar:Js,Logout:Or},data(){return{user:null,userEmail:"nothing"}},mounted(){const t=it();Xs(t,e=>{e&&(this.user=e,this.userEmail=e.email)})}},tZ={class:"viewSchedTransacPageContainer"},nZ={class:"sidebar"},iZ={class:"maincontent"};function sZ(t,e,n,i,s,r){const a=Je("sidebar"),c=Je("viewScheduledTransactions"),u=Je("Logout");return Ce(),xe("div",tZ,[P("div",nZ,[Se(a)]),P("div",iZ,[Se(c),Se(u,{user:s.user},null,8,["user"])])])}const rZ=qt(eZ,[["render",sZ]]),oZ=Sn(Be),aZ={data(){return{auth:null,editingTransactionId:null,editedTransactionDetails:{},transactions:[],selectedFilter:"",selectedCategory:"",selectedDateFilter:""}},mounted(){this.fetchTransactions()},created(){this.auth=it(Be)},methods:{fetchTransactions(){const e=it(Be).currentUser;if(e&&console.log("User ID:",e.uid),!e){console.error("No user logged in!");return}const n=e.uid,i=zi(oZ,"users",n,"transactions");TM(i,s=>{this.transactions=s.docs.map(r=>({id:r.id,name:r.data().name,amount:r.data().amount,category:r.data().category,currency:r.data().currency,date:r.data().date,description:r.data().description})).sort((r,a)=>{const c=new Date(r.date);return new Date(a.date)-c})},s=>{console.error("Error getting documents: ",s)})},enableTransactionEdit(t){this.editingTransactionId=t.id,this.editedTransactionDetails={...t}},cancelTransactionEdit(){this.editingTransactionId=null},async deleteTransaction(t){const e=it(Be),n=Sn(Be),i=e.currentUser;if(i&&console.log("User ID:",i.uid),!i){console.error("No user logged in!");return}const s=i.uid,r=xo(n,"users",s,"transactions",t);try{await U1(r),this.fetchTransactions()}catch(a){console.error("Error deleting transaction:",a)}},async updateTransaction(){const e=it(Be).currentUser;if(e&&console.log("User ID:",e.uid),!e){console.error("No user logged in!");return}const n=e.uid;if(!this.editingTransactionId)return;const i=Sn(Be),s=xo(i,"users",n,"transactions",this.editingTransactionId),r={...this.editedTransactionDetails,currency:AM()};try{await My(s,r),this.editingTransactionId=null,this.fetchTransactions(),this.editedTransactionDetails={}}catch(a){console.error("Error updating transaction:",a)}}},computed:{filteredTransactions(){let t=this.transactions;if(this.selectedFilter==="category"&&this.selectedCategory)t=t.filter(e=>e.category===this.selectedCategory);else if(this.selectedFilter==="date"){const e=new Date;e.setHours(0,0,0,0);let n;switch(this.selectedDateFilter){case"today":n=e;break;case"last7Days":n=new Date(new Date().setDate(e.getDate()-7));break;case"lastMonth":n=new Date(new Date().setMonth(e.getMonth()-1));break}n&&(t=t.filter(i=>{const s=new Date(i.date);return s>=n&&s<=e}))}return t}}},cZ=P("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"},null,-1),lZ={class:"transaction-history-page"},uZ={class:"filter-options"},hZ=P("option",{value:"category"},"Filter by Category",-1),dZ=P("option",{value:"date"},"Filter by Date",-1),fZ=[hZ,dZ],pZ=Pl('<option value="">Select a Category</option><option value="transport">Transport</option><option value="shopping">Shopping</option><option value="food">Food</option><option value="others">Others</option>',5),gZ=[pZ],mZ=P("option",{value:""},"Select a Date Range",-1),yZ=P("option",{value:"today"},"Today",-1),vZ=P("option",{value:"last7Days"},"Last 7 Days",-1),_Z=P("option",{value:"lastMonth"},"Last Month",-1),bZ=[mZ,yZ,vZ,_Z],wZ={class:"transaction-list"},EZ={class:"transaction-details"},IZ={class:"transaction-name"},TZ={class:"transaction-date"},SZ={class:"transaction-category"},AZ={class:"transaction-actions"},CZ=["onClick"],PZ=["onClick"],RZ={key:0,class:"overlay"},xZ={class:"edit-transaction-form"},kZ=P("h2",null,"Edit Transaction",-1),DZ=P("option",{value:"transport"},"Transport",-1),OZ=P("option",{value:"shopping"},"Shopping",-1),MZ=P("option",{value:"food"},"Food",-1),NZ=P("option",{value:"others"},"Others",-1),LZ=[DZ,OZ,MZ,NZ];function VZ(t,e,n,i,s,r){const a=Je("router-link");return Ce(),xe(wn,null,[cZ,P("div",lZ,[P("div",uZ,[Ge(P("select",{"onUpdate:modelValue":e[0]||(e[0]=c=>s.selectedFilter=c)},fZ,512),[[ji,s.selectedFilter]]),s.selectedFilter==="category"?Ge((Ce(),xe("select",{key:0,"onUpdate:modelValue":e[1]||(e[1]=c=>s.selectedCategory=c)},gZ,512)),[[ji,s.selectedCategory]]):pi("",!0),s.selectedFilter==="date"?Ge((Ce(),xe("select",{key:1,"onUpdate:modelValue":e[2]||(e[2]=c=>s.selectedDateFilter=c)},bZ,512)),[[ji,s.selectedDateFilter]]):pi("",!0)]),P("div",wZ,[P("ul",null,[(Ce(!0),xe(wn,null,xa(r.filteredTransactions,c=>(Ce(),xe("li",{key:c.id,class:"transaction-item"},[P("div",EZ,[P("h3",IZ,ht(c.name),1),P("p",TZ,ht(c.date),1),P("p",SZ,ht(c.category),1)]),P("div",AZ,[P("i",{class:"fas fa-pencil-alt",onClick:u=>r.enableTransactionEdit(c)},null,8,CZ),P("i",{class:"fas fa-trash",onClick:u=>r.deleteTransaction(c.id)},null,8,PZ)]),P("div",{class:di(["transaction-amount",{negative:c.amount<0,positive:c.amount>=0}])},ht(c.amount.toFixed(2)),3)]))),128))]),s.editingTransactionId?(Ce(),xe("div",RZ,[P("div",xZ,[kZ,Ge(P("input",{"onUpdate:modelValue":e[3]||(e[3]=c=>s.editedTransactionDetails.name=c),placeholder:"Transaction Name"},null,512),[[Bt,s.editedTransactionDetails.name]]),Ge(P("input",{"onUpdate:modelValue":e[4]||(e[4]=c=>s.editedTransactionDetails.amount=c),type:"number",placeholder:"Amount"},null,512),[[Bt,s.editedTransactionDetails.amount]]),Ge(P("select",{"onUpdate:modelValue":e[5]||(e[5]=c=>s.editedTransactionDetails.category=c)},LZ,512),[[ji,s.editedTransactionDetails.category]]),Ge(P("input",{"onUpdate:modelValue":e[6]||(e[6]=c=>s.editedTransactionDetails.date=c),type:"date"},null,512),[[Bt,s.editedTransactionDetails.date]]),P("button",{onClick:e[7]||(e[7]=(...c)=>r.updateTransaction&&r.updateTransaction(...c)),class:"save-btn"},"Save Changes"),P("button",{onClick:e[8]||(e[8]=(...c)=>r.cancelTransactionEdit&&r.cancelTransactionEdit(...c)),class:"cancel-btn"},"Cancel")])])):pi("",!0),Se(a,{to:"/addTransaction",tag:"button",class:"add-transaction-btn"},{default:fi(()=>[On(" Add New Transaction ")]),_:1})])])],64)}const FZ=qt(aZ,[["render",VZ]]),UZ={name:"addBudgetPage",components:{transactionHistory:FZ,sidebar:Js,Logout:Or},data(){return{user:null,userEmail:"nothing"}},mounted(){const t=it();Xs(t,e=>{e&&(this.user=e,this.userEmail=e.email)})}},BZ={class:"transacHistPageContainer"},jZ={class:"sidebar"},$Z={class:"maincontent"};function HZ(t,e,n,i,s,r){const a=Je("sidebar"),c=Je("transactionHistory"),u=Je("Logout");return Ce(),xe("div",BZ,[P("div",jZ,[Se(a)]),P("div",$Z,[Se(c),Se(u,{user:s.user},null,8,["user"])])])}const zZ=qt(UZ,[["render",HZ]]),WZ={name:"userProfile",components:{Logout:Or,sidebar:Js},data(){return{user:null,userEmail:"nothing"}},mounted(){const t=it();Xs(t,e=>{e&&(this.user=e,this.userEmail=e.email,this.username=e.displayName,this.userPicture=e.photoURL)})},methods:{editProfile(){window.location.href="/editProfile"}}},sE=t=>(_s("data-v-4a468d38"),t=t(),bs(),t),qZ={class:"userProfilePageContainer"},KZ={class:"sidebar"},GZ={class:"maincontent"},YZ={class:"user-profile"},XZ=sE(()=>P("h2",null,"User Profile",-1)),QZ=["src"],JZ={class:"form-group"},ZZ=sE(()=>P("label",{for:"username"},"Username",-1)),eee={class:"form-group"},tee=sE(()=>P("label",{for:"email"},"Email",-1)),nee={class:"button-container"};function iee(t,e,n,i,s,r){const a=Je("sidebar"),c=Je("Logout");return Ce(),xe("div",qZ,[P("div",KZ,[Se(a)]),P("div",GZ,[P("div",YZ,[XZ,P("img",{src:t.userPicture||"@/assets/profile-user.png",alt:"User Profile Picture"},null,8,QZ),P("div",JZ,[ZZ,P("p",null,ht(t.username),1)]),P("div",eee,[tee,P("p",null,ht(s.userEmail),1)]),P("div",nee,[P("button",{class:"btn",onClick:e[0]||(e[0]=u=>r.editProfile())},"Edit Profile")])]),Se(c,{user:s.user},null,8,["user"])])])}const see=qt(WZ,[["render",iee],["__scopeId","data-v-4a468d38"]]);function CN(t,e){return function(){return t.apply(e,arguments)}}const{toString:ree}=Object.prototype,{getPrototypeOf:rE}=Object,jy=(t=>e=>{const n=ree.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Zs=t=>(t=t.toLowerCase(),e=>jy(e)===t),$y=t=>e=>typeof e===t,{isArray:Bl}=Array,Pd=$y("undefined");function oee(t){return t!==null&&!Pd(t)&&t.constructor!==null&&!Pd(t.constructor)&&Zi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const PN=Zs("ArrayBuffer");function aee(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&PN(t.buffer),e}const cee=$y("string"),Zi=$y("function"),RN=$y("number"),Hy=t=>t!==null&&typeof t=="object",lee=t=>t===!0||t===!1,Dg=t=>{if(jy(t)!=="object")return!1;const e=rE(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},uee=Zs("Date"),hee=Zs("File"),dee=Zs("Blob"),fee=Zs("FileList"),pee=t=>Hy(t)&&Zi(t.pipe),gee=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Zi(t.append)&&((e=jy(t))==="formdata"||e==="object"&&Zi(t.toString)&&t.toString()==="[object FormData]"))},mee=Zs("URLSearchParams"),yee=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function rf(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,s;if(typeof t!="object"&&(t=[t]),Bl(t))for(i=0,s=t.length;i<s;i++)e.call(null,t[i],i,t);else{const r=n?Object.getOwnPropertyNames(t):Object.keys(t),a=r.length;let c;for(i=0;i<a;i++)c=r[i],e.call(null,t[c],c,t)}}function xN(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,s;for(;i-- >0;)if(s=n[i],e===s.toLowerCase())return s;return null}const kN=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,DN=t=>!Pd(t)&&t!==kN;function N0(){const{caseless:t}=DN(this)&&this||{},e={},n=(i,s)=>{const r=t&&xN(e,s)||s;Dg(e[r])&&Dg(i)?e[r]=N0(e[r],i):Dg(i)?e[r]=N0({},i):Bl(i)?e[r]=i.slice():e[r]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&rf(arguments[i],n);return e}const vee=(t,e,n,{allOwnKeys:i}={})=>(rf(e,(s,r)=>{n&&Zi(s)?t[r]=CN(s,n):t[r]=s},{allOwnKeys:i}),t),_ee=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),bee=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},wee=(t,e,n,i)=>{let s,r,a;const c={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),r=s.length;r-- >0;)a=s[r],(!i||i(a,t,e))&&!c[a]&&(e[a]=t[a],c[a]=!0);t=n!==!1&&rE(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Eee=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},Iee=t=>{if(!t)return null;if(Bl(t))return t;let e=t.length;if(!RN(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Tee=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&rE(Uint8Array)),See=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=i.next())&&!s.done;){const r=s.value;e.call(t,r[0],r[1])}},Aee=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},Cee=Zs("HTMLFormElement"),Pee=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,s){return i.toUpperCase()+s}),px=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Ree=Zs("RegExp"),ON=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};rf(n,(s,r)=>{let a;(a=e(s,r,t))!==!1&&(i[r]=a||s)}),Object.defineProperties(t,i)},xee=t=>{ON(t,(e,n)=>{if(Zi(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Zi(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},kee=(t,e)=>{const n={},i=s=>{s.forEach(r=>{n[r]=!0})};return Bl(t)?i(t):i(String(t).split(e)),n},Dee=()=>{},Oee=(t,e)=>(t=+t,Number.isFinite(t)?t:e),pb="abcdefghijklmnopqrstuvwxyz",gx="0123456789",MN={DIGIT:gx,ALPHA:pb,ALPHA_DIGIT:pb+pb.toUpperCase()+gx},Mee=(t=16,e=MN.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n};function Nee(t){return!!(t&&Zi(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Lee=t=>{const e=new Array(10),n=(i,s)=>{if(Hy(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[s]=i;const r=Bl(i)?[]:{};return rf(i,(a,c)=>{const u=n(a,s+1);!Pd(u)&&(r[c]=u)}),e[s]=void 0,r}}return i};return n(t,0)},Vee=Zs("AsyncFunction"),Fee=t=>t&&(Hy(t)||Zi(t))&&Zi(t.then)&&Zi(t.catch),H={isArray:Bl,isArrayBuffer:PN,isBuffer:oee,isFormData:gee,isArrayBufferView:aee,isString:cee,isNumber:RN,isBoolean:lee,isObject:Hy,isPlainObject:Dg,isUndefined:Pd,isDate:uee,isFile:hee,isBlob:dee,isRegExp:Ree,isFunction:Zi,isStream:pee,isURLSearchParams:mee,isTypedArray:Tee,isFileList:fee,forEach:rf,merge:N0,extend:vee,trim:yee,stripBOM:_ee,inherits:bee,toFlatObject:wee,kindOf:jy,kindOfTest:Zs,endsWith:Eee,toArray:Iee,forEachEntry:See,matchAll:Aee,isHTMLForm:Cee,hasOwnProperty:px,hasOwnProp:px,reduceDescriptors:ON,freezeMethods:xee,toObjectSet:kee,toCamelCase:Pee,noop:Dee,toFiniteNumber:Oee,findKey:xN,global:kN,isContextDefined:DN,ALPHABET:MN,generateString:Mee,isSpecCompliantForm:Nee,toJSONObject:Lee,isAsyncFn:Vee,isThenable:Fee};function at(t,e,n,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s)}H.inherits(at,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const NN=at.prototype,LN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{LN[t]={value:t}});Object.defineProperties(at,LN);Object.defineProperty(NN,"isAxiosError",{value:!0});at.from=(t,e,n,i,s,r)=>{const a=Object.create(NN);return H.toFlatObject(t,a,function(u){return u!==Error.prototype},c=>c!=="isAxiosError"),at.call(a,t.message,e,n,i,s),a.cause=t,a.name=t.name,r&&Object.assign(a,r),a};const Uee=null;function L0(t){return H.isPlainObject(t)||H.isArray(t)}function VN(t){return H.endsWith(t,"[]")?t.slice(0,-2):t}function mx(t,e,n){return t?t.concat(e).map(function(s,r){return s=VN(s),!n&&r?"["+s+"]":s}).join(n?".":""):e}function Bee(t){return H.isArray(t)&&!t.some(L0)}const jee=H.toFlatObject(H,{},null,function(e){return/^is[A-Z]/.test(e)});function zy(t,e,n){if(!H.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=H.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,w){return!H.isUndefined(w[_])});const i=n.metaTokens,s=n.visitor||f,r=n.dots,a=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(e);if(!H.isFunction(s))throw new TypeError("visitor must be a function");function d(E){if(E===null)return"";if(H.isDate(E))return E.toISOString();if(!u&&H.isBlob(E))throw new at("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(E)||H.isTypedArray(E)?u&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function f(E,_,w){let T=E;if(E&&!w&&typeof E=="object"){if(H.endsWith(_,"{}"))_=i?_:_.slice(0,-2),E=JSON.stringify(E);else if(H.isArray(E)&&Bee(E)||(H.isFileList(E)||H.endsWith(_,"[]"))&&(T=H.toArray(E)))return _=VN(_),T.forEach(function(x,k){!(H.isUndefined(x)||x===null)&&e.append(a===!0?mx([_],k,r):a===null?_:_+"[]",d(x))}),!1}return L0(E)?!0:(e.append(mx(w,_,r),d(E)),!1)}const g=[],y=Object.assign(jee,{defaultVisitor:f,convertValue:d,isVisitable:L0});function b(E,_){if(!H.isUndefined(E)){if(g.indexOf(E)!==-1)throw Error("Circular reference detected in "+_.join("."));g.push(E),H.forEach(E,function(T,S){(!(H.isUndefined(T)||T===null)&&s.call(e,T,H.isString(S)?S.trim():S,_,y))===!0&&b(T,_?_.concat(S):[S])}),g.pop()}}if(!H.isObject(t))throw new TypeError("data must be an object");return b(t),e}function yx(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function oE(t,e){this._pairs=[],t&&zy(t,this,e)}const FN=oE.prototype;FN.append=function(e,n){this._pairs.push([e,n])};FN.toString=function(e){const n=e?function(i){return e.call(this,i,yx)}:yx;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function $ee(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function UN(t,e,n){if(!e)return t;const i=n&&n.encode||$ee,s=n&&n.serialize;let r;if(s?r=s(e,n):r=H.isURLSearchParams(e)?e.toString():new oE(e,n).toString(i),r){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class vx{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){H.forEach(this.handlers,function(i){i!==null&&e(i)})}}const BN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Hee=typeof URLSearchParams<"u"?URLSearchParams:oE,zee=typeof FormData<"u"?FormData:null,Wee=typeof Blob<"u"?Blob:null,qee={isBrowser:!0,classes:{URLSearchParams:Hee,FormData:zee,Blob:Wee},protocols:["http","https","file","blob","url","data"]},jN=typeof window<"u"&&typeof document<"u",Kee=(t=>jN&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),Gee=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Yee=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:jN,hasStandardBrowserEnv:Kee,hasStandardBrowserWebWorkerEnv:Gee},Symbol.toStringTag,{value:"Module"})),js={...Yee,...qee};function Xee(t,e){return zy(t,new js.classes.URLSearchParams,Object.assign({visitor:function(n,i,s,r){return js.isNode&&H.isBuffer(n)?(this.append(i,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function Qee(t){return H.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Jee(t){const e={},n=Object.keys(t);let i;const s=n.length;let r;for(i=0;i<s;i++)r=n[i],e[r]=t[r];return e}function $N(t){function e(n,i,s,r){let a=n[r++];if(a==="__proto__")return!0;const c=Number.isFinite(+a),u=r>=n.length;return a=!a&&H.isArray(s)?s.length:a,u?(H.hasOwnProp(s,a)?s[a]=[s[a],i]:s[a]=i,!c):((!s[a]||!H.isObject(s[a]))&&(s[a]=[]),e(n,i,s[a],r)&&H.isArray(s[a])&&(s[a]=Jee(s[a])),!c)}if(H.isFormData(t)&&H.isFunction(t.entries)){const n={};return H.forEachEntry(t,(i,s)=>{e(Qee(i),s,n,0)}),n}return null}function Zee(t,e,n){if(H.isString(t))try{return(e||JSON.parse)(t),H.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const aE={transitional:BN,adapter:["xhr","http"],transformRequest:[function(e,n){const i=n.getContentType()||"",s=i.indexOf("application/json")>-1,r=H.isObject(e);if(r&&H.isHTMLForm(e)&&(e=new FormData(e)),H.isFormData(e))return s?JSON.stringify($N(e)):e;if(H.isArrayBuffer(e)||H.isBuffer(e)||H.isStream(e)||H.isFile(e)||H.isBlob(e))return e;if(H.isArrayBufferView(e))return e.buffer;if(H.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Xee(e,this.formSerializer).toString();if((c=H.isFileList(e))||i.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return zy(c?{"files[]":e}:e,u&&new u,this.formSerializer)}}return r||s?(n.setContentType("application/json",!1),Zee(e)):e}],transformResponse:[function(e){const n=this.transitional||aE.transitional,i=n&&n.forcedJSONParsing,s=this.responseType==="json";if(e&&H.isString(e)&&(i&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(c){if(a)throw c.name==="SyntaxError"?at.from(c,at.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:js.classes.FormData,Blob:js.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],t=>{aE.headers[t]={}});const cE=aE,ete=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),tte=t=>{const e={};let n,i,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),i=a.substring(s+1).trim(),!(!n||e[n]&&ete[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},_x=Symbol("internals");function lh(t){return t&&String(t).trim().toLowerCase()}function Og(t){return t===!1||t==null?t:H.isArray(t)?t.map(Og):String(t)}function nte(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const ite=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function gb(t,e,n,i,s){if(H.isFunction(i))return i.call(this,e,n);if(s&&(e=n),!!H.isString(e)){if(H.isString(i))return e.indexOf(i)!==-1;if(H.isRegExp(i))return i.test(e)}}function ste(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function rte(t,e){const n=H.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(s,r,a){return this[i].call(this,e,s,r,a)},configurable:!0})})}class Wy{constructor(e){e&&this.set(e)}set(e,n,i){const s=this;function r(c,u,d){const f=lh(u);if(!f)throw new Error("header name must be a non-empty string");const g=H.findKey(s,f);(!g||s[g]===void 0||d===!0||d===void 0&&s[g]!==!1)&&(s[g||u]=Og(c))}const a=(c,u)=>H.forEach(c,(d,f)=>r(d,f,u));return H.isPlainObject(e)||e instanceof this.constructor?a(e,n):H.isString(e)&&(e=e.trim())&&!ite(e)?a(tte(e),n):e!=null&&r(n,e,i),this}get(e,n){if(e=lh(e),e){const i=H.findKey(this,e);if(i){const s=this[i];if(!n)return s;if(n===!0)return nte(s);if(H.isFunction(n))return n.call(this,s,i);if(H.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=lh(e),e){const i=H.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||gb(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let s=!1;function r(a){if(a=lh(a),a){const c=H.findKey(i,a);c&&(!n||gb(i,i[c],c,n))&&(delete i[c],s=!0)}}return H.isArray(e)?e.forEach(r):r(e),s}clear(e){const n=Object.keys(this);let i=n.length,s=!1;for(;i--;){const r=n[i];(!e||gb(this,this[r],r,e,!0))&&(delete this[r],s=!0)}return s}normalize(e){const n=this,i={};return H.forEach(this,(s,r)=>{const a=H.findKey(i,r);if(a){n[a]=Og(s),delete n[r];return}const c=e?ste(r):String(r).trim();c!==r&&delete n[r],n[c]=Og(s),i[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return H.forEach(this,(i,s)=>{i!=null&&i!==!1&&(n[s]=e&&H.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[_x]=this[_x]={accessors:{}}).accessors,s=this.prototype;function r(a){const c=lh(a);i[c]||(rte(s,a),i[c]=!0)}return H.isArray(e)?e.forEach(r):r(e),this}}Wy.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(Wy.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});H.freezeMethods(Wy);const Ir=Wy;function mb(t,e){const n=this||cE,i=e||n,s=Ir.from(i.headers);let r=i.data;return H.forEach(t,function(c){r=c.call(n,r,s.normalize(),e?e.status:void 0)}),s.normalize(),r}function HN(t){return!!(t&&t.__CANCEL__)}function of(t,e,n){at.call(this,t??"canceled",at.ERR_CANCELED,e,n),this.name="CanceledError"}H.inherits(of,at,{__CANCEL__:!0});function ote(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new at("Request failed with status code "+n.status,[at.ERR_BAD_REQUEST,at.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const ate=js.hasStandardBrowserEnv?{write(t,e,n,i,s,r){const a=[t+"="+encodeURIComponent(e)];H.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),H.isString(i)&&a.push("path="+i),H.isString(s)&&a.push("domain="+s),r===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function cte(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function lte(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function zN(t,e){return t&&!cte(e)?lte(t,e):e}const ute=js.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let i;function s(r){let a=r;return e&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=s(window.location.href),function(a){const c=H.isString(a)?s(a):a;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}();function hte(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function dte(t,e){t=t||10;const n=new Array(t),i=new Array(t);let s=0,r=0,a;return e=e!==void 0?e:1e3,function(u){const d=Date.now(),f=i[r];a||(a=d),n[s]=u,i[s]=d;let g=r,y=0;for(;g!==s;)y+=n[g++],g=g%t;if(s=(s+1)%t,s===r&&(r=(r+1)%t),d-a<e)return;const b=f&&d-f;return b?Math.round(y*1e3/b):void 0}}function bx(t,e){let n=0;const i=dte(50,250);return s=>{const r=s.loaded,a=s.lengthComputable?s.total:void 0,c=r-n,u=i(c),d=r<=a;n=r;const f={loaded:r,total:a,progress:a?r/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&d?(a-r)/u:void 0,event:s};f[e?"download":"upload"]=!0,t(f)}}const fte=typeof XMLHttpRequest<"u",pte=fte&&function(t){return new Promise(function(n,i){let s=t.data;const r=Ir.from(t.headers).normalize();let{responseType:a,withXSRFToken:c}=t,u;function d(){t.cancelToken&&t.cancelToken.unsubscribe(u),t.signal&&t.signal.removeEventListener("abort",u)}let f;if(H.isFormData(s)){if(js.hasStandardBrowserEnv||js.hasStandardBrowserWebWorkerEnv)r.setContentType(!1);else if((f=r.getContentType())!==!1){const[_,...w]=f?f.split(";").map(T=>T.trim()).filter(Boolean):[];r.setContentType([_||"multipart/form-data",...w].join("; "))}}let g=new XMLHttpRequest;if(t.auth){const _=t.auth.username||"",w=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";r.set("Authorization","Basic "+btoa(_+":"+w))}const y=zN(t.baseURL,t.url);g.open(t.method.toUpperCase(),UN(y,t.params,t.paramsSerializer),!0),g.timeout=t.timeout;function b(){if(!g)return;const _=Ir.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),T={data:!a||a==="text"||a==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:_,config:t,request:g};ote(function(x){n(x),d()},function(x){i(x),d()},T),g=null}if("onloadend"in g?g.onloadend=b:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(b)},g.onabort=function(){g&&(i(new at("Request aborted",at.ECONNABORTED,t,g)),g=null)},g.onerror=function(){i(new at("Network Error",at.ERR_NETWORK,t,g)),g=null},g.ontimeout=function(){let w=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const T=t.transitional||BN;t.timeoutErrorMessage&&(w=t.timeoutErrorMessage),i(new at(w,T.clarifyTimeoutError?at.ETIMEDOUT:at.ECONNABORTED,t,g)),g=null},js.hasStandardBrowserEnv&&(c&&H.isFunction(c)&&(c=c(t)),c||c!==!1&&ute(y))){const _=t.xsrfHeaderName&&t.xsrfCookieName&&ate.read(t.xsrfCookieName);_&&r.set(t.xsrfHeaderName,_)}s===void 0&&r.setContentType(null),"setRequestHeader"in g&&H.forEach(r.toJSON(),function(w,T){g.setRequestHeader(T,w)}),H.isUndefined(t.withCredentials)||(g.withCredentials=!!t.withCredentials),a&&a!=="json"&&(g.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&g.addEventListener("progress",bx(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&g.upload&&g.upload.addEventListener("progress",bx(t.onUploadProgress)),(t.cancelToken||t.signal)&&(u=_=>{g&&(i(!_||_.type?new of(null,t,g):_),g.abort(),g=null)},t.cancelToken&&t.cancelToken.subscribe(u),t.signal&&(t.signal.aborted?u():t.signal.addEventListener("abort",u)));const E=hte(y);if(E&&js.protocols.indexOf(E)===-1){i(new at("Unsupported protocol "+E+":",at.ERR_BAD_REQUEST,t));return}g.send(s||null)})},V0={http:Uee,xhr:pte};H.forEach(V0,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const wx=t=>`- ${t}`,gte=t=>H.isFunction(t)||t===null||t===!1,WN={getAdapter:t=>{t=H.isArray(t)?t:[t];const{length:e}=t;let n,i;const s={};for(let r=0;r<e;r++){n=t[r];let a;if(i=n,!gte(n)&&(i=V0[(a=String(n)).toLowerCase()],i===void 0))throw new at(`Unknown adapter '${a}'`);if(i)break;s[a||"#"+r]=i}if(!i){const r=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=e?r.length>1?`since :
`+r.map(wx).join(`
`):" "+wx(r[0]):"as no adapter specified";throw new at("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i},adapters:V0};function yb(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new of(null,t)}function Ex(t){return yb(t),t.headers=Ir.from(t.headers),t.data=mb.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),WN.getAdapter(t.adapter||cE.adapter)(t).then(function(i){return yb(t),i.data=mb.call(t,t.transformResponse,i),i.headers=Ir.from(i.headers),i},function(i){return HN(i)||(yb(t),i&&i.response&&(i.response.data=mb.call(t,t.transformResponse,i.response),i.response.headers=Ir.from(i.response.headers))),Promise.reject(i)})}const Ix=t=>t instanceof Ir?{...t}:t;function Al(t,e){e=e||{};const n={};function i(d,f,g){return H.isPlainObject(d)&&H.isPlainObject(f)?H.merge.call({caseless:g},d,f):H.isPlainObject(f)?H.merge({},f):H.isArray(f)?f.slice():f}function s(d,f,g){if(H.isUndefined(f)){if(!H.isUndefined(d))return i(void 0,d,g)}else return i(d,f,g)}function r(d,f){if(!H.isUndefined(f))return i(void 0,f)}function a(d,f){if(H.isUndefined(f)){if(!H.isUndefined(d))return i(void 0,d)}else return i(void 0,f)}function c(d,f,g){if(g in e)return i(d,f);if(g in t)return i(void 0,d)}const u={url:r,method:r,data:r,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(d,f)=>s(Ix(d),Ix(f),!0)};return H.forEach(Object.keys(Object.assign({},t,e)),function(f){const g=u[f]||s,y=g(t[f],e[f],f);H.isUndefined(y)&&g!==c||(n[f]=y)}),n}const qN="1.6.8",lE={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{lE[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const Tx={};lE.transitional=function(e,n,i){function s(r,a){return"[Axios v"+qN+"] Transitional option '"+r+"'"+a+(i?". "+i:"")}return(r,a,c)=>{if(e===!1)throw new at(s(a," has been removed"+(n?" in "+n:"")),at.ERR_DEPRECATED);return n&&!Tx[a]&&(Tx[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(r,a,c):!0}};function mte(t,e,n){if(typeof t!="object")throw new at("options must be an object",at.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let s=i.length;for(;s-- >0;){const r=i[s],a=e[r];if(a){const c=t[r],u=c===void 0||a(c,r,t);if(u!==!0)throw new at("option "+r+" must be "+u,at.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new at("Unknown option "+r,at.ERR_BAD_OPTION)}}const F0={assertOptions:mte,validators:lE},io=F0.validators;class wm{constructor(e){this.defaults=e,this.interceptors={request:new vx,response:new vx}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const r=s.stack?s.stack.replace(/^.+\n/,""):"";i.stack?r&&!String(i.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+r):i.stack=r}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Al(this.defaults,n);const{transitional:i,paramsSerializer:s,headers:r}=n;i!==void 0&&F0.assertOptions(i,{silentJSONParsing:io.transitional(io.boolean),forcedJSONParsing:io.transitional(io.boolean),clarifyTimeoutError:io.transitional(io.boolean)},!1),s!=null&&(H.isFunction(s)?n.paramsSerializer={serialize:s}:F0.assertOptions(s,{encode:io.function,serialize:io.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=r&&H.merge(r.common,r[n.method]);r&&H.forEach(["delete","get","head","post","put","patch","common"],E=>{delete r[E]}),n.headers=Ir.concat(a,r);const c=[];let u=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(u=u&&_.synchronous,c.unshift(_.fulfilled,_.rejected))});const d=[];this.interceptors.response.forEach(function(_){d.push(_.fulfilled,_.rejected)});let f,g=0,y;if(!u){const E=[Ex.bind(this),void 0];for(E.unshift.apply(E,c),E.push.apply(E,d),y=E.length,f=Promise.resolve(n);g<y;)f=f.then(E[g++],E[g++]);return f}y=c.length;let b=n;for(g=0;g<y;){const E=c[g++],_=c[g++];try{b=E(b)}catch(w){_.call(this,w);break}}try{f=Ex.call(this,b)}catch(E){return Promise.reject(E)}for(g=0,y=d.length;g<y;)f=f.then(d[g++],d[g++]);return f}getUri(e){e=Al(this.defaults,e);const n=zN(e.baseURL,e.url);return UN(n,e.params,e.paramsSerializer)}}H.forEach(["delete","get","head","options"],function(e){wm.prototype[e]=function(n,i){return this.request(Al(i||{},{method:e,url:n,data:(i||{}).data}))}});H.forEach(["post","put","patch"],function(e){function n(i){return function(r,a,c){return this.request(Al(c||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:a}))}}wm.prototype[e]=n(),wm.prototype[e+"Form"]=n(!0)});const Mg=wm;class uE{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const i=this;this.promise.then(s=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](s);i._listeners=null}),this.promise.then=s=>{let r;const a=new Promise(c=>{i.subscribe(c),r=c}).then(s);return a.cancel=function(){i.unsubscribe(r)},a},e(function(r,a,c){i.reason||(i.reason=new of(r,a,c),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new uE(function(s){e=s}),cancel:e}}}const yte=uE;function vte(t){return function(n){return t.apply(null,n)}}function _te(t){return H.isObject(t)&&t.isAxiosError===!0}const U0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(U0).forEach(([t,e])=>{U0[e]=t});const bte=U0;function KN(t){const e=new Mg(t),n=CN(Mg.prototype.request,e);return H.extend(n,Mg.prototype,e,{allOwnKeys:!0}),H.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return KN(Al(t,s))},n}const In=KN(cE);In.Axios=Mg;In.CanceledError=of;In.CancelToken=yte;In.isCancel=HN;In.VERSION=qN;In.toFormData=zy;In.AxiosError=at;In.Cancel=In.CanceledError;In.all=function(e){return Promise.all(e)};In.spread=vte;In.isAxiosError=_te;In.mergeConfig=Al;In.AxiosHeaders=Ir;In.formToJSON=t=>$N(H.isHTMLForm(t)?new FormData(t):t);In.getAdapter=WN.getAdapter;In.HttpStatusCode=bte;In.default=In;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var Sx=typeof window<"u"?window:void 0,vb=typeof document<"u"?document:void 0,GN=function(t,e){t.componentOnReady?t.componentOnReady().then(function(n){return e(n)}):so(function(){return e(t)})},so=function(t){return typeof __zone_symbol__requestAnimationFrame=="function"?__zone_symbol__requestAnimationFrame(t):typeof requestAnimationFrame=="function"?requestAnimationFrame(t):setTimeout(t)},_b,wte=function(t){return t.forEach(function(e){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(n==="easing"){var s="animation-timing-function";e[s]=i,delete e[n]}else{var s=Ete(n);s!==n&&(e[s]=i,delete e[n])}}}),t},Ete=function(t){return t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()},hE=function(t){if(_b===void 0){var e=t.style.animationName!==void 0,n=t.style.webkitAnimationName!==void 0;_b=!e&&n?"-webkit-":""}return _b},Ut=function(t,e,n){var i=e.startsWith("animation")?hE(t):"";t.style.setProperty(i+e,n)},as=function(t,e){var n=e.startsWith("animation")?hE(t):"";t.style.removeProperty(n+e)},Ite=function(t,e){var n,i={passive:!0},s=function(){n&&n()},r=function(a){t===a.target&&(s(),e(a))};return t&&(t.addEventListener("webkitAnimationEnd",r,i),t.addEventListener("animationend",r,i),n=function(){t.removeEventListener("webkitAnimationEnd",r,i),t.removeEventListener("animationend",r,i)}),s},Tte=function(t){return t===void 0&&(t=[]),t.map(function(e){var n=e.offset,i=[];for(var s in e)e.hasOwnProperty(s)&&s!=="offset"&&i.push("".concat(s,": ").concat(e[s],";"));return"".concat(n*100,"% { ").concat(i.join(" ")," }")}).join(" ")},Ax=[],Ste=function(t){var e=Ax.indexOf(t);return e<0&&(e=Ax.push(t)-1),"ion-animation-".concat(e)},Ate=function(t){var e=t.getRootNode!==void 0?t.getRootNode():t;return e.head||e},Cte=function(t,e,n){var i,s=Ate(n),r=hE(n),a=s.querySelector("#"+t);if(a)return a;var c=((i=n.ownerDocument)!==null&&i!==void 0?i:document).createElement("style");return c.id=t,c.textContent="@".concat(r,"keyframes ").concat(t," { ").concat(e," } @").concat(r,"keyframes ").concat(t,"-alt { ").concat(e," }"),s.appendChild(c),c},rg=function(t,e){if(t===void 0&&(t=[]),e!==void 0){var n=Array.isArray(e)?e:[e];return Ia(Ia([],t,!0),n,!0)}return t},Ra=function(t){var e,n,i,s,r,a,c=[],u=[],d=[],f=!1,g,y={},b=[],E=[],_={},w=0,T=!1,S=!1,x,k,D,N,O=!0,V=!1,$=!0,ie,U,me=!1,ye=t,Ze=[],pe=[],Y=[],se=[],Ie=[],st=[],Tt=[],on=[],mt=[],Bn=[],Ct=[],yi=typeof AnimationEffect=="function"||Sx!==void 0&&typeof Sx.AnimationEffect=="function",qe=typeof Element=="function"&&typeof Element.prototype.animate=="function"&&yi,B=100,he=function(){return Ct},ae=function(M){return Ie.forEach(function(Z){Z.destroy(M)}),_e(M),se.length=0,Ie.length=0,c.length=0,W(),f=!1,$=!0,U},_e=function(M){j(),M&&ne()},rt=function(){T=!1,S=!1,$=!0,k=void 0,D=void 0,N=void 0,w=0,V=!1,O=!0,me=!1},_t=function(){return w!==0&&!me},A=function(M,Z){var X=Z.findIndex(function(Ae){return Ae.c===M});X>-1&&Z.splice(X,1)},R=function(M,Z){return Y.push({c:M,o:Z}),U},L=function(M,Z){var X=Z!=null&&Z.oneTimeCallback?pe:Ze;return X.push({c:M,o:Z}),U},W=function(){return Ze.length=0,pe.length=0,U},j=function(){if(qe)Ct.forEach(function(Z){Z.cancel()}),Ct.length=0;else{var M=se.slice();so(function(){M.forEach(function(Z){as(Z,"animation-name"),as(Z,"animation-duration"),as(Z,"animation-timing-function"),as(Z,"animation-iteration-count"),as(Z,"animation-delay"),as(Z,"animation-play-state"),as(Z,"animation-fill-mode"),as(Z,"animation-direction")})})}},ne=function(){st.forEach(function(M){M!=null&&M.parentNode&&M.parentNode.removeChild(M)}),st.length=0},ce=function(M){return Tt.push(M),U},te=function(M){return on.push(M),U},re=function(M){return mt.push(M),U},Q=function(M){return Bn.push(M),U},de=function(M){return u=rg(u,M),U},we=function(M){return d=rg(d,M),U},Te=function(M){return M===void 0&&(M={}),y=M,U},Re=function(M){M===void 0&&(M=[]);for(var Z=0,X=M;Z<X.length;Z++){var Ae=X[Z];y[Ae]=""}return U},He=function(M){return b=rg(b,M),U},et=function(M){return E=rg(E,M),U},ct=function(M){return M===void 0&&(M={}),_=M,U},St=function(M){M===void 0&&(M=[]);for(var Z=0,X=M;Z<X.length;Z++){var Ae=X[Z];_[Ae]=""}return U},dn=function(){return r!==void 0?r:g?g.getFill():"both"},ai=function(){return k!==void 0?k:a!==void 0?a:g?g.getDirection():"normal"},ws=function(){return T?"linear":i!==void 0?i:g?g.getEasing():"linear"},Kt=function(){return S?0:D!==void 0?D:n!==void 0?n:g?g.getDuration():0},Gn=function(){return s!==void 0?s:g?g.getIterations():1},At=function(){return N!==void 0?N:e!==void 0?e:g?g.getDelay():0},vi=function(){return c},Xa=function(M){return a=M,fn(!0),U},af=function(M){return r=M,fn(!0),U},cf=function(M){return e=M,fn(!0),U},Qa=function(M){return i=M,fn(!0),U},Ky=function(M){return!qe&&M===0&&(M=1),n=M,fn(!0),U},Es=function(M){return s=M,fn(!0),U},jl=function(M){return g=M,U},$l=function(M){if(M!=null)if(M.nodeType===1)se.push(M);else if(M.length>=0)for(var Z=0;Z<M.length;Z++)se.push(M[Z]);else console.error("Invalid addElement value");return U},Hl=function(M){if(M!=null)if(Array.isArray(M))for(var Z=0,X=M;Z<X.length;Z++){var Ae=X[Z];Ae.parent(U),Ie.push(Ae)}else M.parent(U),Ie.push(M);return U},zl=function(M){var Z=c!==M;return c=M,Z&&Uo(c),U},Uo=function(M){qe?he().forEach(function(Z){var X=Z.effect;if(X.setKeyframes)X.setKeyframes(M);else{var Ae=new KeyframeEffect(X.target,M,X.getTiming());Z.effect=Ae}}):lf()},Bo=function(){Tt.forEach(function(Ae){return Ae()}),on.forEach(function(Ae){return Ae()});var M=u,Z=d,X=y;se.forEach(function(Ae){var an=Ae.classList;M.forEach(function($t){return an.add($t)}),Z.forEach(function($t){return an.remove($t)});for(var pn in X)X.hasOwnProperty(pn)&&Ut(Ae,pn,X[pn])})},Gy=function(){Wl(),mt.forEach(function(an){return an()}),Bn.forEach(function(an){return an()});var M=O?1:0,Z=b,X=E,Ae=_;se.forEach(function(an){var pn=an.classList;Z.forEach(function(Gl){return pn.add(Gl)}),X.forEach(function(Gl){return pn.remove(Gl)});for(var $t in Ae)Ae.hasOwnProperty($t)&&Ut(an,$t,Ae[$t])}),D=void 0,k=void 0,N=void 0,Ze.forEach(function(an){return an.c(M,U)}),pe.forEach(function(an){return an.c(M,U)}),pe.length=0,$=!0,O&&(V=!0),O=!0},er=function(){w!==0&&(w--,w===0&&(Gy(),g&&g.animationFinish()))},lf=function(M){M===void 0&&(M=!0),ne();var Z=wte(c);se.forEach(function(X){if(Z.length>0){var Ae=Tte(Z);ie=t!==void 0?t:Ste(Ae);var an=Cte(ie,Ae,X);st.push(an),Ut(X,"animation-duration","".concat(Kt(),"ms")),Ut(X,"animation-timing-function",ws()),Ut(X,"animation-delay","".concat(At(),"ms")),Ut(X,"animation-fill-mode",dn()),Ut(X,"animation-direction",ai());var pn=Gn()===1/0?"infinite":Gn().toString();Ut(X,"animation-iteration-count",pn),Ut(X,"animation-play-state","paused"),M&&Ut(X,"animation-name","".concat(an.id,"-alt")),so(function(){Ut(X,"animation-name",an.id||null)})}})},Yy=function(){se.forEach(function(M){var Z=M.animate(c,{id:ye,delay:At(),duration:Kt(),easing:ws(),iterations:Gn(),fill:dn(),direction:ai()});Z.pause(),Ct.push(Z)}),Ct.length>0&&(Ct[0].onfinish=function(){er()})},uf=function(M){M===void 0&&(M=!0),Bo(),c.length>0&&(qe?Yy():lf(M)),f=!0},jo=function(M){if(M=Math.min(Math.max(M,0),.9999),qe)Ct.forEach(function(X){X.currentTime=X.effect.getComputedTiming().delay+Kt()*M,X.pause()});else{var Z="-".concat(Kt()*M,"ms");se.forEach(function(X){c.length>0&&(Ut(X,"animation-delay",Z),Ut(X,"animation-play-state","paused"))})}},Vr=function(M){Ct.forEach(function(Z){Z.effect.updateTiming({delay:At(),duration:Kt(),easing:ws(),iterations:Gn(),fill:dn(),direction:ai()})}),M!==void 0&&jo(M)},ts=function(M,Z){M===void 0&&(M=!0),so(function(){se.forEach(function(X){Ut(X,"animation-name",ie||null),Ut(X,"animation-duration","".concat(Kt(),"ms")),Ut(X,"animation-timing-function",ws()),Ut(X,"animation-delay",Z!==void 0?"-".concat(Z*Kt(),"ms"):"".concat(At(),"ms")),Ut(X,"animation-fill-mode",dn()||null),Ut(X,"animation-direction",ai()||null);var Ae=Gn()===1/0?"infinite":Gn().toString();Ut(X,"animation-iteration-count",Ae),M&&Ut(X,"animation-name","".concat(ie,"-alt")),so(function(){Ut(X,"animation-name",ie||null)})})})},fn=function(M,Z,X){return M===void 0&&(M=!1),Z===void 0&&(Z=!0),M&&Ie.forEach(function(Ae){Ae.update(M,Z,X)}),qe?Vr(X):ts(Z,X),U},hf=function(M,Z){return M===void 0&&(M=!1),Ie.forEach(function(X){X.progressStart(M,Z)}),ff(),T=M,f||uf(),fn(!1,!0,Z),U},df=function(M){return Ie.forEach(function(Z){Z.progressStep(M)}),jo(M),U},Fr=function(M,Z,X){return T=!1,Ie.forEach(function(Ae){Ae.progressEnd(M,Z,X)}),X!==void 0&&(D=X),V=!1,O=!0,M===0?(k=ai()==="reverse"?"normal":"reverse",k==="reverse"&&(O=!1),qe?(fn(),jo(1-Z)):(N=(1-Z)*Kt()*-1,fn(!1,!1))):M===1&&(qe?(fn(),jo(Z)):(N=Z*Kt()*-1,fn(!1,!1))),M!==void 0&&!g&&ql(),U},ff=function(){f&&(qe?Ct.forEach(function(M){M.pause()}):se.forEach(function(M){Ut(M,"animation-play-state","paused")}),me=!0)},tr=function(){return Ie.forEach(function(M){M.pause()}),ff(),U},Xy=function(){x=void 0,er()},Wl=function(){x&&clearTimeout(x)},pf=function(){if(Wl(),so(function(){se.forEach(function(Ae){c.length>0&&Ut(Ae,"animation-play-state","running")})}),c.length===0||se.length===0)er();else{var M=At()||0,Z=Kt()||0,X=Gn()||1;isFinite(X)&&(x=setTimeout(Xy,M+Z*X+B)),Ite(se[0],function(){Wl(),so(function(){gf(),so(er)})})}},gf=function(){se.forEach(function(M){as(M,"animation-duration"),as(M,"animation-delay"),as(M,"animation-play-state")})},Gt=function(){Ct.forEach(function(M){M.play()}),(c.length===0||se.length===0)&&er()},Ur=function(){qe?(jo(0),Vr()):ts()},ql=function(M){return new Promise(function(Z){M!=null&&M.sync&&(S=!0,L(function(){return S=!1},{oneTimeCallback:!0})),f||uf(),V&&(Ur(),V=!1),$&&(w=Ie.length+1,$=!1);var X=function(){A(Ae,pe),Z()},Ae=function(){A(X,Y),Z()};L(Ae,{oneTimeCallback:!0}),R(X,{oneTimeCallback:!0}),Ie.forEach(function(an){an.play()}),qe?Gt():pf(),me=!1})},mf=function(){Ie.forEach(function(M){M.stop()}),f&&(j(),f=!1),rt(),Y.forEach(function(M){return M.c(0,U)}),Y.length=0},ze=function(M,Z){var X,Ae=c[0];return Ae!==void 0&&(Ae.offset===void 0||Ae.offset===0)?Ae[M]=Z:c=Ia([(X={offset:0},X[M]=Z,X)],c,!0),U},yf=function(M,Z){var X,Ae=c[c.length-1];return Ae!==void 0&&(Ae.offset===void 0||Ae.offset===1)?Ae[M]=Z:c=Ia(Ia([],c,!0),[(X={offset:1},X[M]=Z,X)],!1),U},Kl=function(M,Z,X){return ze(M,Z).to(M,X)};return U={parentAnimation:g,elements:se,childAnimations:Ie,id:ye,animationFinish:er,from:ze,to:yf,fromTo:Kl,parent:jl,play:ql,pause:tr,stop:mf,destroy:ae,keyframes:zl,addAnimation:Hl,addElement:$l,update:fn,fill:af,direction:Xa,iterations:Es,duration:Ky,easing:Qa,delay:cf,getWebAnimations:he,getKeyframes:vi,getFill:dn,getDirection:ai,getDelay:At,getIterations:Gn,getEasing:ws,getDuration:Kt,afterAddRead:re,afterAddWrite:Q,afterClearStyles:St,afterStyles:ct,afterRemoveClass:et,afterAddClass:He,beforeAddRead:ce,beforeAddWrite:te,beforeClearStyles:Re,beforeStyles:Te,beforeRemoveClass:we,beforeAddClass:de,onFinish:L,isRunning:_t,progressStart:hf,progressStep:df,progressEnd:Fr}},Pte=function(t){return xte(t).D},Rte=new WeakMap,xte=function(t){return Rte.get(t)},kte=typeof window<"u"?window:{},Dte=kte.document||{head:{}};(function(){var t=!1;try{Dte.addEventListener("e",null,Object.defineProperty({},"passive",{get:function(){t=!0}}))}catch{}return t})();(function(){try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})();/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var Ote,dE=function(t){return t&&Pte(t)||Ote},Mte=99;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var Cx=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return console.warn.apply(console,Ia(["[Ionic Warning]: ".concat(t)],e,!1))},fE=function(t){return Ra().duration(t?400:300)},Nte=function(t){var e,n,i=t.width+8,s=Ra(),r=Ra();t.isEndSide?(e=i+"px",n="0px"):(e=-i+"px",n="0px"),s.addElement(t.menuInnerEl).fromTo("transform","translateX(".concat(e,")"),"translateX(".concat(n,")"));var a=dE(t),c=a==="ios",u=c?.2:.25;return r.addElement(t.backdropEl).fromTo("opacity",.01,u),fE(c).addAnimation([s,r])},Lte=function(t){var e,n,i=dE(t),s=t.width;t.isEndSide?(e=-s+"px",n=s+"px"):(e=s+"px",n=-s+"px");var r=Ra().addElement(t.menuInnerEl).fromTo("transform","translateX(".concat(n,")"),"translateX(0px)"),a=Ra().addElement(t.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(e,")")),c=Ra().addElement(t.backdropEl).fromTo("opacity",.01,.32);return fE(i==="ios").addAnimation([r,a,c])},Vte=function(t){var e=dE(t),n=t.width*(t.isEndSide?-1:1)+"px",i=Ra().addElement(t.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(n,")"));return fE(e==="ios").addAnimation(i)},Fte=function(){var t=new Map,e=[],n=function(O){return Li(void 0,void 0,void 0,function(){var V;return Vi(this,function($){switch($.label){case 0:return[4,d(O,!0)];case 1:return V=$.sent(),V?[2,V.open()]:[2,!1]}})})},i=function(O){return Li(void 0,void 0,void 0,function(){var V;return Vi(this,function($){switch($.label){case 0:return[4,O!==void 0?d(O,!0):f()];case 1:return V=$.sent(),V!==void 0?[2,V.close()]:[2,!1]}})})},s=function(O){return Li(void 0,void 0,void 0,function(){var V;return Vi(this,function($){switch($.label){case 0:return[4,d(O,!0)];case 1:return V=$.sent(),V?[2,V.toggle()]:[2,!1]}})})},r=function(O,V){return Li(void 0,void 0,void 0,function(){var $;return Vi(this,function(ie){switch(ie.label){case 0:return[4,d(V)];case 1:return $=ie.sent(),$&&($.disabled=!O),[2,$]}})})},a=function(O,V){return Li(void 0,void 0,void 0,function(){var $;return Vi(this,function(ie){switch(ie.label){case 0:return[4,d(V)];case 1:return $=ie.sent(),$&&($.swipeGesture=O),[2,$]}})})},c=function(O){return Li(void 0,void 0,void 0,function(){var V,V;return Vi(this,function($){switch($.label){case 0:return O==null?[3,2]:[4,d(O)];case 1:return V=$.sent(),[2,V!==void 0&&V.isOpen()];case 2:return[4,f()];case 3:return V=$.sent(),[2,V!==void 0]}})})},u=function(O){return Li(void 0,void 0,void 0,function(){var V;return Vi(this,function($){switch($.label){case 0:return[4,d(O)];case 1:return V=$.sent(),V?[2,!V.disabled]:[2,!1]}})})},d=function(O){for(var V=[],$=1;$<arguments.length;$++)V[$-1]=arguments[$];return Li(void 0,Ia([O],V,!0),void 0,function(ie,U){var me,ye,Ze;return U===void 0&&(U=!1),Vi(this,function(pe){switch(pe.label){case 0:return[4,N()];case 1:if(pe.sent(),ie==="start"||ie==="end"){if(me=e.filter(function(Y){return Y.side===ie&&!Y.disabled}),me.length>=1)return me.length>1&&U&&Cx('menuController queried for a menu on the "'.concat(ie,'" side, but ').concat(me.length," menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side."),me.map(function(Y){return Y.el})),[2,me[0].el];if(ye=e.filter(function(Y){return Y.side===ie}),ye.length>=1)return ye.length>1&&U&&Cx('menuController queried for a menu on the "'.concat(ie,'" side, but ').concat(ye.length," menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side."),ye.map(function(Y){return Y.el})),[2,ye[0].el]}else if(ie!=null)return[2,D(function(Y){return Y.menuId===ie})];return Ze=D(function(Y){return!Y.disabled}),Ze?[2,Ze]:[2,e.length>0?e[0].el:void 0]}})})},f=function(){return Li(void 0,void 0,void 0,function(){return Vi(this,function(O){switch(O.label){case 0:return[4,N()];case 1:return O.sent(),[2,S()]}})})},g=function(){return Li(void 0,void 0,void 0,function(){return Vi(this,function(O){switch(O.label){case 0:return[4,N()];case 1:return O.sent(),[2,x()]}})})},y=function(){return Li(void 0,void 0,void 0,function(){return Vi(this,function(O){switch(O.label){case 0:return[4,N()];case 1:return O.sent(),[2,k()]}})})},b=function(O,V){t.set(O,V)},E=function(O){e.indexOf(O)<0&&e.push(O)},_=function(O){var V=e.indexOf(O);V>-1&&e.splice(V,1)},w=function(O,V,$){return Li(void 0,void 0,void 0,function(){var ie;return Vi(this,function(U){switch(U.label){case 0:return k()?[2,!1]:V?[4,f()]:[3,3];case 1:return ie=U.sent(),ie&&O.el!==ie?[4,ie.setOpen(!1,!1)]:[3,3];case 2:U.sent(),U.label=3;case 3:return[2,O._setOpen(V,$)]}})})},T=function(O,V){var $=t.get(O);if(!$)throw new Error("animation not registered");var ie=$(V);return ie},S=function(){return D(function(O){return O._isOpen})},x=function(){return e.map(function(O){return O.el})},k=function(){return e.some(function(O){return O.isAnimating})},D=function(O){var V=e.find(O);if(V!==void 0)return V.el},N=function(){return Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(function(O){return new Promise(function(V){return GN(O,V)})}))};return b("reveal",Vte),b("push",Lte),b("overlay",Nte),vb==null||vb.addEventListener("ionBackButton",function(O){var V=S();V&&O.detail.register(Mte,function(){return V.close()})}),{registerAnimation:b,get:d,getMenus:g,getOpen:f,isEnabled:u,swipeGesture:a,isAnimating:y,isOpen:c,enable:r,toggle:s,close:i,open:n,_getOpenSync:S,_createAnimation:T,_register:E,_unregister:_,_setOpen:w}};Fte();var Ute=function(t){return{create:function(e){return Bte(t,e)},dismiss:function(e,n,i){return $te(document,e,n,t,i)},getTop:function(){return Li(this,void 0,void 0,function(){return Vi(this,function(e){return[2,YN(document,t)]})})}}},Px=Ute("ion-toast"),Bte=function(t,e){return typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(t).then(function(){var n=document.createElement(t);return n.classList.add("overlay-hidden"),Object.assign(n,Object.assign(Object.assign({},e),{hasController:!0})),Wte(document).appendChild(n),new Promise(function(i){return GN(n,i)})}):Promise.resolve()},jte=function(t){return t.classList.contains("overlay-hidden")},$te=function(t,e,n,i,s){var r=YN(t,i,s);return r?r.dismiss(e,n):Promise.reject("overlay does not exist")},Hte=function(t,e){return e===void 0&&(e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(t.querySelectorAll(e)).filter(function(n){return n.overlayIndex>0})},zte=function(t,e){return Hte(t,e).filter(function(n){return!jte(n)})},YN=function(t,e,n){var i=zte(t,e);return n===void 0?i[i.length-1]:i.find(function(s){return s.id===n})},Wte=function(t){return t.querySelector("ion-app")||t.body};const qte={name:"editProfile",components:{sidebar:Js},data(){return{user:null,username:"",email:"nothing",errorMessage:"",defaultProfilePicture:"assets/profile-user.png",profilePictureUrl:null}},mounted(){const t=it();Xs(t,e=>{e&&(this.user=e,this.username=e.displayName,this.email=e.email,this.profilePictureUrl=e.photoURL||this.defaultProfilePicture,console.log("Profile Picture URL:",this.profilePictureUrl))})},methods:{navigateBack(){this.$router.back()},async editProfile(){if(!this.username||!this.email){this.errorMessage="Please fill in all fields.";return}try{this.username!==this.user.displayName?(console.log("Updating display name..."),await Bb(this.user,{displayName:this.username})):console.log("Username is the same as the current display name."),this.profilePictureUrl&&this.profilePictureUrl!==this.user.photoURL?(console.log("updating profile picture.."),await Bb(this.user,{photoURL:this.profilePictureUrl})):console.log("Profile picture is the same as the current one"),this.message="Profile updated successfully",this.$router.push("/userProfile")}catch(t){console.error("Error updating profile:",t),this.errorMessage=t.message}}},setup(){const t=Vg(null),e=()=>{t.value.click()},n=Vg(null);return{fileInput:t,openFileInput:e,profilePictureUrl:n,handleFileChange:s=>{const r=s.target.files[0];n.value=URL.createObjectURL(r);const a=new FormData;a.append("profile_picture",r),In.post("/api/upload-profile-image",a).then(c=>{Px.success("Image uploaded successfully!")}).catch(c=>{console.error("Error uploading image:",c),Px.error("Failed to upload image")})}}}},qy=t=>(_s("data-v-6ca70045"),t=t(),bs(),t),Kte=qy(()=>P("ion-icon",{name:"arrow-back"},null,-1)),Gte=qy(()=>P("span",null,"Edit User Profile",-1)),Yte=[Kte,Gte],Xte={class:"user-profile"},Qte=qy(()=>P("h2",null,"User Profile",-1)),Jte={class:"input"},Zte=["src"],ene={class:"form-group"},tne=qy(()=>P("label",{for:"username"},"Username",-1)),nne={class:"button-container"},ine={key:0};function sne(t,e,n,i,s,r){const a=Je("sidebar");return Ce(),xe(wn,null,[Se(a),P("div",{class:"navigate-back",onClick:e[0]||(e[0]=c=>r.navigateBack())},Yte),P("div",Xte,[Qte,P("div",Jte,[P("div",null,[P("img",{onClick:e[1]||(e[1]=(...c)=>i.openFileInput&&i.openFileInput(...c)),class:"profile-user-img img-circle",src:i.profilePictureUrl||s.defaultProfilePicture,alt:"User Profile Picture"},null,8,Zte)]),P("input",{id:"fileInput",onChange:e[2]||(e[2]=(...c)=>i.handleFileChange&&i.handleFileChange(...c)),ref:"fileInput",type:"file",class:"d-none"},null,544)]),P("div",ene,[tne,Ge(P("input",{type:"text",id:"username","onUpdate:modelValue":e[3]||(e[3]=c=>s.username=c),required:"",class:"input-field"},null,512),[[Bt,s.username]])]),P("div",nne,[P("button",{class:"btn",onClick:e[4]||(e[4]=(...c)=>r.editProfile&&r.editProfile(...c))},"Save"),t.message?(Ce(),xe("p",ine,ht(t.message),1)):pi("",!0)])])],64)}const rne=qt(qte,[["render",sne],["__scopeId","data-v-6ca70045"]]),one={name:"goalSettingPage",components:{goalSetting:SN,sidebar:Js,Logout:Or},data(){return{user:null,userEmail:"nothing",allGoals:[]}},mounted(){const t=it();Xs(t,e=>{e&&(this.user=e,this.userEmail=e.email)})},watch:{$route(t,e){t.name==="goalSettingPage"&&e.name!==t.name&&this.fetchGoals()}}},ane={class:"goalSettingPageContainer"},cne={class:"sidebar"},lne={class:"maincontent"};function une(t,e,n,i,s,r){const a=Je("sidebar"),c=Je("goalSetting"),u=Je("Logout");return Ce(),xe("div",ane,[P("div",cne,[Se(a)]),P("div",lne,[Se(c),Se(u,{user:s.user},null,8,["user"])])])}const hne=qt(one,[["render",une]]);ls.register(...IN);const dne={props:{chartData:{type:Object,required:!0},options:{type:Object,default:()=>{}}},setup(t){const e=Vg(null);let n=null;return dk(()=>{n=new ls(e.value.getContext("2d"),{type:"line",data:t.chartData,options:t.options})}),Yc(()=>t.chartData,i=>{n&&(n.data=i,n.update())}),Yc(()=>t.chartData,(i,s)=>{n&&n.destroy()},{immediate:!0,deep:!0}),{canvas:e}}},fne={class:"line-chart"},pne={ref:"canvas"};function gne(t,e,n,i,s,r){return Ce(),xe("div",fne,[P("canvas",pne,null,512)])}const mne=qt(dne,[["render",gne]]),yne={data(){return{topSpendings:[]}},async mounted(){await this.fetchAndComputeTopSpendings()},methods:{async fetchAndComputeTopSpendings(){try{let d=function(f){const g=f.split("-"),y=g[0],b=g[1].padStart(2,"0"),E=g[2].padStart(2,"0");return`${y}-${b}-${E}`};var t=d;const e=Sn(Be),i=it(Be).currentUser;if(i&&console.log("User ID:",i.uid),!i){console.error("No user logged in!");return}const s=i.uid,r=zi(e,"users",s,"transactions"),a=await Er(r),c={};a.forEach(f=>{const g=f.data(),y=g.date.split("-"),b=y[0],E=y[1],_=y[2],w=`${b}-${E}-${_}`,T=g.name;c[w]||(c[w]={totalAmount:0,transactions:[]}),c[w].totalAmount+=g.amount,c[w].transactions.push({name:g.name,amount:g.amount})});const u=Object.keys(c).map(f=>({date:d(f),totalAmount:c[f].totalAmount,transactions:c[f].transactions}));this.topSpendings=u.sort((f,g)=>g.amount-f.amount).slice(0,3)}catch(e){console.error("Error fetching and computing top spendings:",e)}}}},vne=t=>(_s("data-v-dc12db82"),t=t(),bs(),t),_ne=vne(()=>P("h2",null,"Top 3 Spendings",-1)),bne={class:"topSpendings"},wne={class:"transaction-details"},Ene={class:"transaction-name"},Ine={class:"transaction-date"},Tne={class:"transaction-amt"};function Sne(t,e,n,i,s,r){return Ce(),xe("div",null,[_ne,P("div",bne,[P("ul",null,[(Ce(!0),xe(wn,null,xa(s.topSpendings,(a,c)=>(Ce(),xe("li",{key:c,class:"transaction-item"},[P("div",wne,[P("h3",Ene,ht(a.name),1),P("p",Ine,ht(a.date),1),P("p",Tne,ht(a.amount),1)])]))),128))])])])}const Ane=qt(yne,[["render",Sne],["__scopeId","data-v-dc12db82"]]),Cne={components:{lineChart:mne,Logout:Or,Sidebar:Js,top3spendings:Ane},data(){return{user:null,chartData:{labels:[],datasets:[]},chartOptions:{plugins:{title:{display:!0,text:"Total Spendings Per Month",font:{size:16}}},scales:{x:{grid:{display:!1}},y:{grid:{display:!1}}},responsive:!0,maintainAspectRatio:!0}}},async mounted(){await this.fetchAndProcessTransactions()},methods:{async fetchAndProcessTransactions(){const t=Sn(Be),n=it(Be).currentUser;if(n&&console.log("User ID:",n.uid),!n){console.error("No user logged in!");return}const i=n.uid,s=zi(t,"users",i,"transactions");try{const r=sl(s,wg("date")),a=await Er(r);let c={};a.forEach(f=>{const g=f.data(),y=g.date.substring(0,7);c[y]||(c[y]=0),c[y]+=-g.amount});const u=Object.keys(c),d=Object.values(c);this.chartData={labels:u,datasets:[{label:"Amount Spent",data:d,fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1}]}}catch(r){console.error("Error fetching transactions:",r)}}}},Pne={class:"analyticsPageContainer"},Rne={class:"sidebar"},xne={class:"maincontent"},kne={class:"linechart"},Dne={class:"top3"};function One(t,e,n,i,s,r){const a=Je("Sidebar"),c=Je("line-chart"),u=Je("top3spendings"),d=Je("Logout");return Ce(),xe("div",Pne,[P("div",Rne,[Se(a)]),P("div",xne,[P("div",kne,[s.chartData.datasets.length>0?(Ce(),Nm(c,{key:0,"chart-data":s.chartData,options:s.chartOptions},null,8,["chart-data","options"])):pi("",!0)]),P("div",Dne,[Se(u)]),Se(d,{user:s.user},null,8,["user"])])])}const Mne=qt(Cne,[["render",One]]),Nne=[{path:"/",name:"loginPage",component:$z},{path:"/dashboardPage",name:"dashboardPage",component:XX},{path:"/analyticsPage",name:"analyticsPage",component:Mne},{path:"/addTransaction",name:"addTransactionPage",component:TQ},{path:"/addBudget",name:"addBudgetPage",component:YQ},{path:"/addScheduledTransaction",name:"addScheduledTransactionPage",component:IJ},{path:"/viewScheduledTransactions",name:"viewScheduledTransactionsPage",component:rZ},{path:"/transactionHistory",name:"transactionHistoryPage",component:zZ},{path:"/goalSetting",name:"goalSettingPage",component:hne},{path:"/userProfile",name:"userProfile",component:see},{path:"/editProfile",name:"editProfile",component:rne}],Lne=O3({history:c3(),routes:Nne}),bb=A5(k5),Vne=it(Be);let Rx=!1;Xs(Vne,t=>{Rx||(Rx=!0,t?(console.log("User is signed in"),bb.config.globalProperties.$currentUser=t):(console.log("User is signed out"),bb.config.globalProperties.$currentUser=null),bb.use(Lne).mount("#app"))});
