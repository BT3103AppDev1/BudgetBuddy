var _V=Object.defineProperty;var yV=(e,t,n)=>t in e?_V(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Q=(e,t,n)=>(yV(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Wb(e,t){const n=new Set(e.split(","));return t?i=>n.has(i.toLowerCase()):i=>n.has(i)}const Te={},Al=[],Ui=()=>{},vV=()=>!1,Fg=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),qb=e=>e.startsWith("onUpdate:"),Mn=Object.assign,Kb=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},bV=Object.prototype.hasOwnProperty,Zt=(e,t)=>bV.call(e,t),Pt=Array.isArray,Cl=e=>rd(e)==="[object Map]",Ug=e=>rd(e)==="[object Set]",SS=e=>rd(e)==="[object Date]",Vt=e=>typeof e=="function",mn=e=>typeof e=="string",so=e=>typeof e=="symbol",Ee=e=>e!==null&&typeof e=="object",xR=e=>(Ee(e)||Vt(e))&&Vt(e.then)&&Vt(e.catch),DR=Object.prototype.toString,rd=e=>DR.call(e),wV=e=>rd(e).slice(8,-1),OR=e=>rd(e)==="[object Object]",Gb=e=>mn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,eh=Wb(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Bg=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},EV=/-(\w)/g,Ds=Bg(e=>e.replace(EV,(t,n)=>n?n.toUpperCase():"")),IV=/\B([A-Z])/g,lc=Bg(e=>e.replace(IV,"-$1").toLowerCase()),jg=Bg(e=>e.charAt(0).toUpperCase()+e.slice(1)),Vy=Bg(e=>e?`on${jg(e)}`:""),ro=(e,t)=>!Object.is(e,t),Cp=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Jp=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Eh=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let AS;const MR=()=>AS||(AS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $g(e){if(Pt(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],s=mn(i)?CV(i):$g(i);if(s)for(const o in s)t[o]=s[o]}return t}else if(mn(e)||Ee(e))return e}const TV=/;(?![^(]*\))/g,SV=/:([^]+)/,AV=/\/\*[^]*?\*\//g;function CV(e){const t={};return e.replace(AV,"").split(TV).forEach(n=>{if(n){const i=n.split(SV);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function ei(e){let t="";if(mn(e))t=e;else if(Pt(e))for(let n=0;n<e.length;n++){const i=ei(e[n]);i&&(t+=i+" ")}else if(Ee(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const PV="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",RV=Wb(PV);function NR(e){return!!e||e===""}function kV(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=Hg(e[i],t[i]);return n}function Hg(e,t){if(e===t)return!0;let n=SS(e),i=SS(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=so(e),i=so(t),n||i)return e===t;if(n=Pt(e),i=Pt(t),n||i)return n&&i?kV(e,t):!1;if(n=Ee(e),i=Ee(t),n||i){if(!n||!i)return!1;const s=Object.keys(e).length,o=Object.keys(t).length;if(s!==o)return!1;for(const a in e){const c=e.hasOwnProperty(a),u=t.hasOwnProperty(a);if(c&&!u||!c&&u||!Hg(e[a],t[a]))return!1}}return String(e)===String(t)}function xV(e,t){return e.findIndex(n=>Hg(n,t))}const te=e=>mn(e)?e:e==null?"":Pt(e)||Ee(e)&&(e.toString===DR||!Vt(e.toString))?JSON.stringify(e,LR,2):String(e),LR=(e,t)=>t&&t.__v_isRef?LR(e,t.value):Cl(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,s],o)=>(n[Fy(i,o)+" =>"]=s,n),{})}:Ug(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Fy(n))}:so(t)?Fy(t):Ee(t)&&!Pt(t)&&!OR(t)?String(t):t,Fy=(e,t="")=>{var n;return so(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Yi;class DV{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Yi,!t&&Yi&&(this.index=(Yi.scopes||(Yi.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Yi;try{return Yi=this,t()}finally{Yi=n}}}on(){Yi=this}off(){Yi=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function OV(e,t=Yi){t&&t.active&&t.effects.push(e)}function MV(){return Yi}let ia;class Yb{constructor(t,n,i,s){this.fn=t,this.trigger=n,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,OV(this,s)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Ea();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(NV(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Ia()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=Zr,n=ia;try{return Zr=!0,ia=this,this._runnings++,CS(this),this.fn()}finally{PS(this),this._runnings--,ia=n,Zr=t}}stop(){var t;this.active&&(CS(this),PS(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function NV(e){return e.value}function CS(e){e._trackId++,e._depsLength=0}function PS(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)VR(e.deps[t],e);e.deps.length=e._depsLength}}function VR(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let Zr=!0,kv=0;const FR=[];function Ea(){FR.push(Zr),Zr=!1}function Ia(){const e=FR.pop();Zr=e===void 0?!0:e}function Xb(){kv++}function Qb(){for(kv--;!kv&&xv.length;)xv.shift()()}function UR(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const i=e.deps[e._depsLength];i!==t?(i&&VR(i,e),e.deps[e._depsLength++]=t):e._depsLength++}}const xv=[];function BR(e,t,n){Xb();for(const i of e.keys()){let s;i._dirtyLevel<t&&(s??(s=e.get(i)===i._trackId))&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i._dirtyLevel=t),i._shouldSchedule&&(s??(s=e.get(i)===i._trackId))&&(i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==2&&(i._shouldSchedule=!1,i.scheduler&&xv.push(i.scheduler)))}Qb()}const jR=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},Dv=new WeakMap,sa=Symbol(""),Ov=Symbol("");function _i(e,t,n){if(Zr&&ia){let i=Dv.get(e);i||Dv.set(e,i=new Map);let s=i.get(n);s||i.set(n,s=jR(()=>i.delete(n))),UR(ia,s)}}function ir(e,t,n,i,s,o){const a=Dv.get(e);if(!a)return;let c=[];if(t==="clear")c=[...a.values()];else if(n==="length"&&Pt(e)){const u=Number(i);a.forEach((d,f)=>{(f==="length"||!so(f)&&f>=u)&&c.push(d)})}else switch(n!==void 0&&c.push(a.get(n)),t){case"add":Pt(e)?Gb(n)&&c.push(a.get("length")):(c.push(a.get(sa)),Cl(e)&&c.push(a.get(Ov)));break;case"delete":Pt(e)||(c.push(a.get(sa)),Cl(e)&&c.push(a.get(Ov)));break;case"set":Cl(e)&&c.push(a.get(sa));break}Xb();for(const u of c)u&&BR(u,4);Qb()}const LV=Wb("__proto__,__v_isRef,__isVue"),$R=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(so)),RS=VV();function VV(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=oe(this);for(let o=0,a=this.length;o<a;o++)_i(i,"get",o+"");const s=i[t](...n);return s===-1||s===!1?i[t](...n.map(oe)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Ea(),Xb();const i=oe(this)[t].apply(this,n);return Qb(),Ia(),i}}),e}function FV(e){const t=oe(this);return _i(t,"has",e),t.hasOwnProperty(e)}class HR{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){const s=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw")return i===(s?o?QV:KR:o?qR:WR).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const a=Pt(t);if(!s){if(a&&Zt(RS,n))return Reflect.get(RS,n,i);if(n==="hasOwnProperty")return FV}const c=Reflect.get(t,n,i);return(so(n)?$R.has(n):LV(n))||(s||_i(t,"get",n),o)?c:yi(c)?a&&Gb(n)?c:c.value:Ee(c)?s?YR(c):Wg(c):c}}class zR extends HR{constructor(t=!1){super(!1,t)}set(t,n,i,s){let o=t[n];if(!this._isShallow){const u=$l(o);if(!Zp(i)&&!$l(i)&&(o=oe(o),i=oe(i)),!Pt(t)&&yi(o)&&!yi(i))return u?!1:(o.value=i,!0)}const a=Pt(t)&&Gb(n)?Number(n)<t.length:Zt(t,n),c=Reflect.set(t,n,i,s);return t===oe(s)&&(a?ro(i,o)&&ir(t,"set",n,i):ir(t,"add",n,i)),c}deleteProperty(t,n){const i=Zt(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&i&&ir(t,"delete",n,void 0),s}has(t,n){const i=Reflect.has(t,n);return(!so(n)||!$R.has(n))&&_i(t,"has",n),i}ownKeys(t){return _i(t,"iterate",Pt(t)?"length":sa),Reflect.ownKeys(t)}}class UV extends HR{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const BV=new zR,jV=new UV,$V=new zR(!0),Jb=e=>e,zg=e=>Reflect.getPrototypeOf(e);function Gf(e,t,n=!1,i=!1){e=e.__v_raw;const s=oe(e),o=oe(t);n||(ro(t,o)&&_i(s,"get",t),_i(s,"get",o));const{has:a}=zg(s),c=i?Jb:n?e0:Ih;if(a.call(s,t))return c(e.get(t));if(a.call(s,o))return c(e.get(o));e!==s&&e.get(t)}function Yf(e,t=!1){const n=this.__v_raw,i=oe(n),s=oe(e);return t||(ro(e,s)&&_i(i,"has",e),_i(i,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function Xf(e,t=!1){return e=e.__v_raw,!t&&_i(oe(e),"iterate",sa),Reflect.get(e,"size",e)}function kS(e){e=oe(e);const t=oe(this);return zg(t).has.call(t,e)||(t.add(e),ir(t,"add",e,e)),this}function xS(e,t){t=oe(t);const n=oe(this),{has:i,get:s}=zg(n);let o=i.call(n,e);o||(e=oe(e),o=i.call(n,e));const a=s.call(n,e);return n.set(e,t),o?ro(t,a)&&ir(n,"set",e,t):ir(n,"add",e,t),this}function DS(e){const t=oe(this),{has:n,get:i}=zg(t);let s=n.call(t,e);s||(e=oe(e),s=n.call(t,e)),i&&i.call(t,e);const o=t.delete(e);return s&&ir(t,"delete",e,void 0),o}function OS(){const e=oe(this),t=e.size!==0,n=e.clear();return t&&ir(e,"clear",void 0,void 0),n}function Qf(e,t){return function(i,s){const o=this,a=o.__v_raw,c=oe(a),u=t?Jb:e?e0:Ih;return!e&&_i(c,"iterate",sa),a.forEach((d,f)=>i.call(s,u(d),u(f),o))}}function Jf(e,t,n){return function(...i){const s=this.__v_raw,o=oe(s),a=Cl(o),c=e==="entries"||e===Symbol.iterator&&a,u=e==="keys"&&a,d=s[e](...i),f=n?Jb:t?e0:Ih;return!t&&_i(o,"iterate",u?Ov:sa),{next(){const{value:g,done:_}=d.next();return _?{value:g,done:_}:{value:c?[f(g[0]),f(g[1])]:f(g),done:_}},[Symbol.iterator](){return this}}}}function Ur(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function HV(){const e={get(o){return Gf(this,o)},get size(){return Xf(this)},has:Yf,add:kS,set:xS,delete:DS,clear:OS,forEach:Qf(!1,!1)},t={get(o){return Gf(this,o,!1,!0)},get size(){return Xf(this)},has:Yf,add:kS,set:xS,delete:DS,clear:OS,forEach:Qf(!1,!0)},n={get(o){return Gf(this,o,!0)},get size(){return Xf(this,!0)},has(o){return Yf.call(this,o,!0)},add:Ur("add"),set:Ur("set"),delete:Ur("delete"),clear:Ur("clear"),forEach:Qf(!0,!1)},i={get(o){return Gf(this,o,!0,!0)},get size(){return Xf(this,!0)},has(o){return Yf.call(this,o,!0)},add:Ur("add"),set:Ur("set"),delete:Ur("delete"),clear:Ur("clear"),forEach:Qf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=Jf(o,!1,!1),n[o]=Jf(o,!0,!1),t[o]=Jf(o,!1,!0),i[o]=Jf(o,!0,!0)}),[e,n,t,i]}const[zV,WV,qV,KV]=HV();function Zb(e,t){const n=t?e?KV:qV:e?WV:zV;return(i,s,o)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?i:Reflect.get(Zt(n,s)&&s in i?n:i,s,o)}const GV={get:Zb(!1,!1)},YV={get:Zb(!1,!0)},XV={get:Zb(!0,!1)},WR=new WeakMap,qR=new WeakMap,KR=new WeakMap,QV=new WeakMap;function JV(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ZV(e){return e.__v_skip||!Object.isExtensible(e)?0:JV(wV(e))}function Wg(e){return $l(e)?e:t0(e,!1,BV,GV,WR)}function GR(e){return t0(e,!1,$V,YV,qR)}function YR(e){return t0(e,!0,jV,XV,KR)}function t0(e,t,n,i,s){if(!Ee(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=s.get(e);if(o)return o;const a=ZV(e);if(a===0)return e;const c=new Proxy(e,a===2?i:n);return s.set(e,c),c}function Pl(e){return $l(e)?Pl(e.__v_raw):!!(e&&e.__v_isReactive)}function $l(e){return!!(e&&e.__v_isReadonly)}function Zp(e){return!!(e&&e.__v_isShallow)}function XR(e){return Pl(e)||$l(e)}function oe(e){const t=e&&e.__v_raw;return t?oe(t):e}function QR(e){return Object.isExtensible(e)&&Jp(e,"__v_skip",!0),e}const Ih=e=>Ee(e)?Wg(e):e,e0=e=>Ee(e)?YR(e):e;class JR{constructor(t,n,i,s){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Yb(()=>t(this._value),()=>Pp(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const t=oe(this);return(!t._cacheable||t.effect.dirty)&&ro(t._value,t._value=t.effect.run())&&Pp(t,4),ZR(t),t.effect._dirtyLevel>=2&&Pp(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function tF(e,t,n=!1){let i,s;const o=Vt(e);return o?(i=e,s=Ui):(i=e.get,s=e.set),new JR(i,s,o||!s,n)}function ZR(e){var t;Zr&&ia&&(e=oe(e),UR(ia,(t=e.dep)!=null?t:e.dep=jR(()=>e.dep=void 0,e instanceof JR?e:void 0)))}function Pp(e,t=4,n){e=oe(e);const i=e.dep;i&&BR(i,t)}function yi(e){return!!(e&&e.__v_isRef===!0)}function tg(e){return tk(e,!1)}function eF(e){return tk(e,!0)}function tk(e,t){return yi(e)?e:new nF(e,t)}class nF{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:oe(t),this._value=n?t:Ih(t)}get value(){return ZR(this),this._value}set value(t){const n=this.__v_isShallow||Zp(t)||$l(t);t=n?t:oe(t),ro(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Ih(t),Pp(this,4))}}function Rl(e){return yi(e)?e.value:e}const iF={get:(e,t,n)=>Rl(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const s=e[t];return yi(s)&&!yi(n)?(s.value=n,!0):Reflect.set(e,t,n,i)}};function ek(e){return Pl(e)?e:new Proxy(e,iF)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function to(e,t,n,i){try{return i?e(...i):e()}catch(s){qg(s,t,n)}}function ts(e,t,n,i){if(Vt(e)){const o=to(e,t,n,i);return o&&xR(o)&&o.catch(a=>{qg(a,t,n)}),o}const s=[];for(let o=0;o<e.length;o++)s.push(ts(e[o],t,n,i));return s}function qg(e,t,n,i=!0){const s=t?t.vnode:null;if(t){let o=t.parent;const a=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const d=o.ec;if(d){for(let f=0;f<d.length;f++)if(d[f](e,a,c)===!1)return}o=o.parent}const u=t.appContext.config.errorHandler;if(u){to(u,null,10,[e,a,c]);return}}sF(e,n,s,i)}function sF(e,t,n,i=!0){console.error(e)}let Th=!1,Mv=!1;const Bn=[];let ys=0;const kl=[];let $r=null,Ko=0;const nk=Promise.resolve();let n0=null;function i0(e){const t=n0||nk;return e?t.then(this?e.bind(this):e):t}function rF(e){let t=ys+1,n=Bn.length;for(;t<n;){const i=t+n>>>1,s=Bn[i],o=Sh(s);o<e||o===e&&s.pre?t=i+1:n=i}return t}function s0(e){(!Bn.length||!Bn.includes(e,Th&&e.allowRecurse?ys+1:ys))&&(e.id==null?Bn.push(e):Bn.splice(rF(e.id),0,e),ik())}function ik(){!Th&&!Mv&&(Mv=!0,n0=nk.then(rk))}function oF(e){const t=Bn.indexOf(e);t>ys&&Bn.splice(t,1)}function aF(e){Pt(e)?kl.push(...e):(!$r||!$r.includes(e,e.allowRecurse?Ko+1:Ko))&&kl.push(e),ik()}function MS(e,t,n=Th?ys+1:0){for(;n<Bn.length;n++){const i=Bn[n];if(i&&i.pre){if(e&&i.id!==e.uid)continue;Bn.splice(n,1),n--,i()}}}function sk(e){if(kl.length){const t=[...new Set(kl)].sort((n,i)=>Sh(n)-Sh(i));if(kl.length=0,$r){$r.push(...t);return}for($r=t,Ko=0;Ko<$r.length;Ko++)$r[Ko]();$r=null,Ko=0}}const Sh=e=>e.id==null?1/0:e.id,lF=(e,t)=>{const n=Sh(e)-Sh(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function rk(e){Mv=!1,Th=!0,Bn.sort(lF);try{for(ys=0;ys<Bn.length;ys++){const t=Bn[ys];t&&t.active!==!1&&to(t,null,14)}}finally{ys=0,Bn.length=0,sk(),Th=!1,n0=null,(Bn.length||kl.length)&&rk()}}function cF(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Te;let s=n;const o=t.startsWith("update:"),a=o&&t.slice(7);if(a&&a in i){const f=`${a==="modelValue"?"model":a}Modifiers`,{number:g,trim:_}=i[f]||Te;_&&(s=n.map(v=>mn(v)?v.trim():v)),g&&(s=n.map(Eh))}let c,u=i[c=Vy(t)]||i[c=Vy(Ds(t))];!u&&o&&(u=i[c=Vy(lc(t))]),u&&ts(u,e,6,s);const d=i[c+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,ts(d,e,6,s)}}function ok(e,t,n=!1){const i=t.emitsCache,s=i.get(e);if(s!==void 0)return s;const o=e.emits;let a={},c=!1;if(!Vt(e)){const u=d=>{const f=ok(d,t,!0);f&&(c=!0,Mn(a,f))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!o&&!c?(Ee(e)&&i.set(e,null),null):(Pt(o)?o.forEach(u=>a[u]=null):Mn(a,o),Ee(e)&&i.set(e,a),a)}function Kg(e,t){return!e||!Fg(t)?!1:(t=t.slice(2).replace(/Once$/,""),Zt(e,t[0].toLowerCase()+t.slice(1))||Zt(e,lc(t))||Zt(e,t))}let pi=null,Gg=null;function eg(e){const t=pi;return pi=e,Gg=e&&e.type.__scopeId||null,t}function os(e){Gg=e}function as(){Gg=null}function ni(e,t=pi,n){if(!t||e._n)return e;const i=(...s)=>{i._d&&WS(-1);const o=eg(t);let a;try{a=e(...s)}finally{eg(o),i._d&&WS(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function Uy(e){const{type:t,vnode:n,proxy:i,withProxy:s,props:o,propsOptions:[a],slots:c,attrs:u,emit:d,render:f,renderCache:g,data:_,setupState:v,ctx:I,inheritAttrs:b}=e;let w,T;const S=eg(e);try{if(n.shapeFlag&4){const x=s||i,D=x;w=_s(f.call(D,x,g,o,v,_,I)),T=u}else{const x=t;w=_s(x.length>1?x(o,{attrs:u,slots:c,emit:d}):x(o,null)),T=t.props?u:uF(u)}}catch(x){sh.length=0,qg(x,e,1),w=vt(da)}let k=w;if(T&&b!==!1){const x=Object.keys(T),{shapeFlag:D}=k;x.length&&D&7&&(a&&x.some(qb)&&(T=hF(T,a)),k=Hl(k,T))}return n.dirs&&(k=Hl(k),k.dirs=k.dirs?k.dirs.concat(n.dirs):n.dirs),n.transition&&(k.transition=n.transition),w=k,eg(S),w}const uF=e=>{let t;for(const n in e)(n==="class"||n==="style"||Fg(n))&&((t||(t={}))[n]=e[n]);return t},hF=(e,t)=>{const n={};for(const i in e)(!qb(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function dF(e,t,n){const{props:i,children:s,component:o}=e,{props:a,children:c,patchFlag:u}=t,d=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return i?NS(i,a,d):!!a;if(u&8){const f=t.dynamicProps;for(let g=0;g<f.length;g++){const _=f[g];if(a[_]!==i[_]&&!Kg(d,_))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:i===a?!1:i?a?NS(i,a,d):!0:!!a;return!1}function NS(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let s=0;s<i.length;s++){const o=i[s];if(t[o]!==e[o]&&!Kg(n,o))return!0}return!1}function fF({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const ak="components";function qt(e,t){return gF(ak,e,!0,t)||e}const pF=Symbol.for("v-ndc");function gF(e,t,n=!0,i=!1){const s=pi||jn;if(s){const o=s.type;if(e===ak){const c=a4(o,!1);if(c&&(c===t||c===Ds(t)||c===jg(Ds(t))))return o}const a=LS(s[e]||o[e],t)||LS(s.appContext[e],t);return!a&&i?o:a}}function LS(e,t){return e&&(e[t]||e[Ds(t)]||e[jg(Ds(t))])}const mF=e=>e.__isSuspense;function _F(e,t){t&&t.pendingBranch?Pt(e)?t.effects.push(...e):t.effects.push(e):aF(e)}const yF=Symbol.for("v-scx"),vF=()=>sr(yF),Zf={};function xl(e,t,n){return lk(e,t,n)}function lk(e,t,{immediate:n,deep:i,flush:s,once:o,onTrack:a,onTrigger:c}=Te){if(t&&o){const M=t;t=(...V)=>{M(...V),D()}}const u=jn,d=M=>i===!0?M:Xo(M,i===!1?1:void 0);let f,g=!1,_=!1;if(yi(e)?(f=()=>e.value,g=Zp(e)):Pl(e)?(f=()=>d(e),g=!0):Pt(e)?(_=!0,g=e.some(M=>Pl(M)||Zp(M)),f=()=>e.map(M=>{if(yi(M))return M.value;if(Pl(M))return d(M);if(Vt(M))return to(M,u,2)})):Vt(e)?t?f=()=>to(e,u,2):f=()=>(v&&v(),ts(e,u,3,[I])):f=Ui,t&&i){const M=f;f=()=>Xo(M())}let v,I=M=>{v=k.onStop=()=>{to(M,u,4),v=k.onStop=void 0}},b;if(Zg)if(I=Ui,t?n&&ts(t,u,3,[f(),_?[]:void 0,I]):f(),s==="sync"){const M=vF();b=M.__watcherHandles||(M.__watcherHandles=[])}else return Ui;let w=_?new Array(e.length).fill(Zf):Zf;const T=()=>{if(!(!k.active||!k.dirty))if(t){const M=k.run();(i||g||(_?M.some((V,z)=>ro(V,w[z])):ro(M,w)))&&(v&&v(),ts(t,u,3,[M,w===Zf?void 0:_&&w[0]===Zf?[]:w,I]),w=M)}else k.run()};T.allowRecurse=!!t;let S;s==="sync"?S=T:s==="post"?S=()=>ui(T,u&&u.suspense):(T.pre=!0,u&&(T.id=u.uid),S=()=>s0(T));const k=new Yb(f,Ui,S),x=MV(),D=()=>{k.stop(),x&&Kb(x.effects,k)};return t?n?T():w=k.run():s==="post"?ui(k.run.bind(k),u&&u.suspense):k.run(),b&&b.push(D),D}function bF(e,t,n){const i=this.proxy,s=mn(e)?e.includes(".")?ck(i,e):()=>i[e]:e.bind(i,i);let o;Vt(t)?o=t:(o=t.handler,n=t);const a=od(this),c=lk(s,o.bind(i),n);return a(),c}function ck(e,t){const n=t.split(".");return()=>{let i=e;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function Xo(e,t,n=0,i){if(!Ee(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(i=i||new Set,i.has(e))return e;if(i.add(e),yi(e))Xo(e.value,t,n,i);else if(Pt(e))for(let s=0;s<e.length;s++)Xo(e[s],t,n,i);else if(Ug(e)||Cl(e))e.forEach(s=>{Xo(s,t,n,i)});else if(OR(e))for(const s in e)Xo(e[s],t,n,i);return e}function $t(e,t){if(pi===null)return e;const n=tm(pi)||pi.proxy,i=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[o,a,c,u=Te]=t[s];o&&(Vt(o)&&(o={mounted:o,updated:o}),o.deep&&Xo(a),i.push({dir:o,instance:n,value:a,oldValue:void 0,arg:c,modifiers:u}))}return e}function Fo(e,t,n,i){const s=e.dirs,o=t&&t.dirs;for(let a=0;a<s.length;a++){const c=s[a];o&&(c.oldValue=o[a].value);let u=c.dir[i];u&&(Ea(),ts(u,n,8,[e.el,c,e,t]),Ia())}}/*! #__NO_SIDE_EFFECTS__ */function uk(e,t){return Vt(e)?Mn({name:e.name},t,{setup:e}):e}const Rp=e=>!!e.type.__asyncLoader,hk=e=>e.type.__isKeepAlive;function wF(e,t){dk(e,"a",t)}function EF(e,t){dk(e,"da",t)}function dk(e,t,n=jn){const i=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Yg(t,i,n),n){let s=n.parent;for(;s&&s.parent;)hk(s.parent.vnode)&&IF(i,t,n,s),s=s.parent}}function IF(e,t,n,i){const s=Yg(t,e,i,!0);pk(()=>{Kb(i[t],s)},n)}function Yg(e,t,n=jn,i=!1){if(n){const s=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;Ea();const c=od(n),u=ts(t,n,e,a);return c(),Ia(),u});return i?s.unshift(o):s.push(o),o}}const dr=e=>(t,n=jn)=>(!Zg||e==="sp")&&Yg(e,(...i)=>t(...i),n),TF=dr("bm"),fk=dr("m"),SF=dr("bu"),AF=dr("u"),CF=dr("bum"),pk=dr("um"),PF=dr("sp"),RF=dr("rtg"),kF=dr("rtc");function xF(e,t=jn){Yg("ec",e,t)}function ha(e,t,n,i){let s;const o=n&&n[i];if(Pt(e)||mn(e)){s=new Array(e.length);for(let a=0,c=e.length;a<c;a++)s[a]=t(e[a],a,void 0,o&&o[a])}else if(typeof e=="number"){s=new Array(e);for(let a=0;a<e;a++)s[a]=t(a+1,a,void 0,o&&o[a])}else if(Ee(e))if(e[Symbol.iterator])s=Array.from(e,(a,c)=>t(a,c,void 0,o&&o[c]));else{const a=Object.keys(e);s=new Array(a.length);for(let c=0,u=a.length;c<u;c++){const d=a[c];s[c]=t(e[d],d,c,o&&o[c])}}else s=[];return n&&(n[i]=s),s}const Nv=e=>e?Ak(e)?tm(e)||e.proxy:Nv(e.parent):null,nh=Mn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Nv(e.parent),$root:e=>Nv(e.root),$emit:e=>e.emit,$options:e=>r0(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,s0(e.update)}),$nextTick:e=>e.n||(e.n=i0.bind(e.proxy)),$watch:e=>bF.bind(e)}),By=(e,t)=>e!==Te&&!e.__isScriptSetup&&Zt(e,t),DF={get({_:e},t){const{ctx:n,setupState:i,data:s,props:o,accessCache:a,type:c,appContext:u}=e;let d;if(t[0]!=="$"){const v=a[t];if(v!==void 0)switch(v){case 1:return i[t];case 2:return s[t];case 4:return n[t];case 3:return o[t]}else{if(By(i,t))return a[t]=1,i[t];if(s!==Te&&Zt(s,t))return a[t]=2,s[t];if((d=e.propsOptions[0])&&Zt(d,t))return a[t]=3,o[t];if(n!==Te&&Zt(n,t))return a[t]=4,n[t];Lv&&(a[t]=0)}}const f=nh[t];let g,_;if(f)return t==="$attrs"&&_i(e,"get",t),f(e);if((g=c.__cssModules)&&(g=g[t]))return g;if(n!==Te&&Zt(n,t))return a[t]=4,n[t];if(_=u.config.globalProperties,Zt(_,t))return _[t]},set({_:e},t,n){const{data:i,setupState:s,ctx:o}=e;return By(s,t)?(s[t]=n,!0):i!==Te&&Zt(i,t)?(i[t]=n,!0):Zt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:s,propsOptions:o}},a){let c;return!!n[a]||e!==Te&&Zt(e,a)||By(t,a)||(c=o[0])&&Zt(c,a)||Zt(i,a)||Zt(nh,a)||Zt(s.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Zt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function VS(e){return Pt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Lv=!0;function OF(e){const t=r0(e),n=e.proxy,i=e.ctx;Lv=!1,t.beforeCreate&&FS(t.beforeCreate,e,"bc");const{data:s,computed:o,methods:a,watch:c,provide:u,inject:d,created:f,beforeMount:g,mounted:_,beforeUpdate:v,updated:I,activated:b,deactivated:w,beforeDestroy:T,beforeUnmount:S,destroyed:k,unmounted:x,render:D,renderTracked:M,renderTriggered:V,errorCaptured:z,serverPrefetch:st,expose:gt,inheritAttrs:J,components:yt,directives:bt,filters:pe}=t;if(d&&MF(d,i,null),a)for(const ct in a){const kt=a[ct];Vt(kt)&&(i[ct]=kt.bind(n))}if(s){const ct=s.call(n,n);Ee(ct)&&(e.data=Wg(ct))}if(Lv=!0,o)for(const ct in o){const kt=o[ct],ae=Vt(kt)?kt.bind(n,n):Vt(kt.get)?kt.get.bind(n,n):Ui,Ie=!Vt(kt)&&Vt(kt.set)?kt.set.bind(n):Ui,_n=Qi({get:ae,set:Ie});Object.defineProperty(i,ct,{enumerable:!0,configurable:!0,get:()=>_n.value,set:ge=>_n.value=ge})}if(c)for(const ct in c)gk(c[ct],i,n,ct);if(u){const ct=Vt(u)?u.call(n):u;Reflect.ownKeys(ct).forEach(kt=>{kp(kt,ct[kt])})}f&&FS(f,e,"c");function Y(ct,kt){Pt(kt)?kt.forEach(ae=>ct(ae.bind(n))):kt&&ct(kt.bind(n))}if(Y(TF,g),Y(fk,_),Y(SF,v),Y(AF,I),Y(wF,b),Y(EF,w),Y(xF,z),Y(kF,M),Y(RF,V),Y(CF,S),Y(pk,x),Y(PF,st),Pt(gt))if(gt.length){const ct=e.exposed||(e.exposed={});gt.forEach(kt=>{Object.defineProperty(ct,kt,{get:()=>n[kt],set:ae=>n[kt]=ae})})}else e.exposed||(e.exposed={});D&&e.render===Ui&&(e.render=D),J!=null&&(e.inheritAttrs=J),yt&&(e.components=yt),bt&&(e.directives=bt)}function MF(e,t,n=Ui){Pt(e)&&(e=Vv(e));for(const i in e){const s=e[i];let o;Ee(s)?"default"in s?o=sr(s.from||i,s.default,!0):o=sr(s.from||i):o=sr(s),yi(o)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[i]=o}}function FS(e,t,n){ts(Pt(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function gk(e,t,n,i){const s=i.includes(".")?ck(n,i):()=>n[i];if(mn(e)){const o=t[e];Vt(o)&&xl(s,o)}else if(Vt(e))xl(s,e.bind(n));else if(Ee(e))if(Pt(e))e.forEach(o=>gk(o,t,n,i));else{const o=Vt(e.handler)?e.handler.bind(n):t[e.handler];Vt(o)&&xl(s,o,e)}}function r0(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:s,optionsCache:o,config:{optionMergeStrategies:a}}=e.appContext,c=o.get(t);let u;return c?u=c:!s.length&&!n&&!i?u=t:(u={},s.length&&s.forEach(d=>ng(u,d,a,!0)),ng(u,t,a)),Ee(t)&&o.set(t,u),u}function ng(e,t,n,i=!1){const{mixins:s,extends:o}=t;o&&ng(e,o,n,!0),s&&s.forEach(a=>ng(e,a,n,!0));for(const a in t)if(!(i&&a==="expose")){const c=NF[a]||n&&n[a];e[a]=c?c(e[a],t[a]):t[a]}return e}const NF={data:US,props:BS,emits:BS,methods:Bu,computed:Bu,beforeCreate:ti,created:ti,beforeMount:ti,mounted:ti,beforeUpdate:ti,updated:ti,beforeDestroy:ti,beforeUnmount:ti,destroyed:ti,unmounted:ti,activated:ti,deactivated:ti,errorCaptured:ti,serverPrefetch:ti,components:Bu,directives:Bu,watch:VF,provide:US,inject:LF};function US(e,t){return t?e?function(){return Mn(Vt(e)?e.call(this,this):e,Vt(t)?t.call(this,this):t)}:t:e}function LF(e,t){return Bu(Vv(e),Vv(t))}function Vv(e){if(Pt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ti(e,t){return e?[...new Set([].concat(e,t))]:t}function Bu(e,t){return e?Mn(Object.create(null),e,t):t}function BS(e,t){return e?Pt(e)&&Pt(t)?[...new Set([...e,...t])]:Mn(Object.create(null),VS(e),VS(t??{})):t}function VF(e,t){if(!e)return t;if(!t)return e;const n=Mn(Object.create(null),e);for(const i in t)n[i]=ti(e[i],t[i]);return n}function mk(){return{app:null,config:{isNativeTag:vV,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let FF=0;function UF(e,t){return function(i,s=null){Vt(i)||(i=Mn({},i)),s!=null&&!Ee(s)&&(s=null);const o=mk(),a=new WeakSet;let c=!1;const u=o.app={_uid:FF++,_component:i,_props:s,_container:null,_context:o,_instance:null,version:c4,get config(){return o.config},set config(d){},use(d,...f){return a.has(d)||(d&&Vt(d.install)?(a.add(d),d.install(u,...f)):Vt(d)&&(a.add(d),d(u,...f))),u},mixin(d){return o.mixins.includes(d)||o.mixins.push(d),u},component(d,f){return f?(o.components[d]=f,u):o.components[d]},directive(d,f){return f?(o.directives[d]=f,u):o.directives[d]},mount(d,f,g){if(!c){const _=vt(i,s);return _.appContext=o,g===!0?g="svg":g===!1&&(g=void 0),f&&t?t(_,d):e(_,d,g),c=!0,u._container=d,d.__vue_app__=u,tm(_.component)||_.component.proxy}},unmount(){c&&(e(null,u._container),delete u._container.__vue_app__)},provide(d,f){return o.provides[d]=f,u},runWithContext(d){const f=ih;ih=u;try{return d()}finally{ih=f}}};return u}}let ih=null;function kp(e,t){if(jn){let n=jn.provides;const i=jn.parent&&jn.parent.provides;i===n&&(n=jn.provides=Object.create(i)),n[e]=t}}function sr(e,t,n=!1){const i=jn||pi;if(i||ih){const s=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:ih._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Vt(t)?t.call(i&&i.proxy):t}}function BF(e,t,n,i=!1){const s={},o={};Jp(o,Jg,1),e.propsDefaults=Object.create(null),_k(e,t,s,o);for(const a in e.propsOptions[0])a in s||(s[a]=void 0);n?e.props=i?s:GR(s):e.type.props?e.props=s:e.props=o,e.attrs=o}function jF(e,t,n,i){const{props:s,attrs:o,vnode:{patchFlag:a}}=e,c=oe(s),[u]=e.propsOptions;let d=!1;if((i||a>0)&&!(a&16)){if(a&8){const f=e.vnode.dynamicProps;for(let g=0;g<f.length;g++){let _=f[g];if(Kg(e.emitsOptions,_))continue;const v=t[_];if(u)if(Zt(o,_))v!==o[_]&&(o[_]=v,d=!0);else{const I=Ds(_);s[I]=Fv(u,c,I,v,e,!1)}else v!==o[_]&&(o[_]=v,d=!0)}}}else{_k(e,t,s,o)&&(d=!0);let f;for(const g in c)(!t||!Zt(t,g)&&((f=lc(g))===g||!Zt(t,f)))&&(u?n&&(n[g]!==void 0||n[f]!==void 0)&&(s[g]=Fv(u,c,g,void 0,e,!0)):delete s[g]);if(o!==c)for(const g in o)(!t||!Zt(t,g))&&(delete o[g],d=!0)}d&&ir(e,"set","$attrs")}function _k(e,t,n,i){const[s,o]=e.propsOptions;let a=!1,c;if(t)for(let u in t){if(eh(u))continue;const d=t[u];let f;s&&Zt(s,f=Ds(u))?!o||!o.includes(f)?n[f]=d:(c||(c={}))[f]=d:Kg(e.emitsOptions,u)||(!(u in i)||d!==i[u])&&(i[u]=d,a=!0)}if(o){const u=oe(n),d=c||Te;for(let f=0;f<o.length;f++){const g=o[f];n[g]=Fv(s,u,g,d[g],e,!Zt(d,g))}}return a}function Fv(e,t,n,i,s,o){const a=e[n];if(a!=null){const c=Zt(a,"default");if(c&&i===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&Vt(u)){const{propsDefaults:d}=s;if(n in d)i=d[n];else{const f=od(s);i=d[n]=u.call(null,t),f()}}else i=u}a[0]&&(o&&!c?i=!1:a[1]&&(i===""||i===lc(n))&&(i=!0))}return i}function yk(e,t,n=!1){const i=t.propsCache,s=i.get(e);if(s)return s;const o=e.props,a={},c=[];let u=!1;if(!Vt(e)){const f=g=>{u=!0;const[_,v]=yk(g,t,!0);Mn(a,_),v&&c.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!o&&!u)return Ee(e)&&i.set(e,Al),Al;if(Pt(o))for(let f=0;f<o.length;f++){const g=Ds(o[f]);jS(g)&&(a[g]=Te)}else if(o)for(const f in o){const g=Ds(f);if(jS(g)){const _=o[f],v=a[g]=Pt(_)||Vt(_)?{type:_}:Mn({},_);if(v){const I=zS(Boolean,v.type),b=zS(String,v.type);v[0]=I>-1,v[1]=b<0||I<b,(I>-1||Zt(v,"default"))&&c.push(g)}}}const d=[a,c];return Ee(e)&&i.set(e,d),d}function jS(e){return e[0]!=="$"&&!eh(e)}function $S(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function HS(e,t){return $S(e)===$S(t)}function zS(e,t){return Pt(t)?t.findIndex(n=>HS(n,e)):Vt(t)&&HS(t,e)?0:-1}const vk=e=>e[0]==="_"||e==="$stable",o0=e=>Pt(e)?e.map(_s):[_s(e)],$F=(e,t,n)=>{if(t._n)return t;const i=ni((...s)=>o0(t(...s)),n);return i._c=!1,i},bk=(e,t,n)=>{const i=e._ctx;for(const s in e){if(vk(s))continue;const o=e[s];if(Vt(o))t[s]=$F(s,o,i);else if(o!=null){const a=o0(o);t[s]=()=>a}}},wk=(e,t)=>{const n=o0(t);e.slots.default=()=>n},HF=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=oe(t),Jp(t,"_",n)):bk(t,e.slots={})}else e.slots={},t&&wk(e,t);Jp(e.slots,Jg,1)},zF=(e,t,n)=>{const{vnode:i,slots:s}=e;let o=!0,a=Te;if(i.shapeFlag&32){const c=t._;c?n&&c===1?o=!1:(Mn(s,t),!n&&c===1&&delete s._):(o=!t.$stable,bk(t,s)),a=t}else t&&(wk(e,t),a={default:1});if(o)for(const c in s)!vk(c)&&a[c]==null&&delete s[c]};function Uv(e,t,n,i,s=!1){if(Pt(e)){e.forEach((_,v)=>Uv(_,t&&(Pt(t)?t[v]:t),n,i,s));return}if(Rp(i)&&!s)return;const o=i.shapeFlag&4?tm(i.component)||i.component.proxy:i.el,a=s?null:o,{i:c,r:u}=e,d=t&&t.r,f=c.refs===Te?c.refs={}:c.refs,g=c.setupState;if(d!=null&&d!==u&&(mn(d)?(f[d]=null,Zt(g,d)&&(g[d]=null)):yi(d)&&(d.value=null)),Vt(u))to(u,c,12,[a,f]);else{const _=mn(u),v=yi(u);if(_||v){const I=()=>{if(e.f){const b=_?Zt(g,u)?g[u]:f[u]:u.value;s?Pt(b)&&Kb(b,o):Pt(b)?b.includes(o)||b.push(o):_?(f[u]=[o],Zt(g,u)&&(g[u]=f[u])):(u.value=[o],e.k&&(f[e.k]=u.value))}else _?(f[u]=a,Zt(g,u)&&(g[u]=a)):v&&(u.value=a,e.k&&(f[e.k]=a))};a?(I.id=-1,ui(I,n)):I()}}}const ui=_F;function WF(e){return qF(e)}function qF(e,t){const n=MR();n.__VUE__=!0;const{insert:i,remove:s,patchProp:o,createElement:a,createText:c,createComment:u,setText:d,setElementText:f,parentNode:g,nextSibling:_,setScopeId:v=Ui,insertStaticContent:I}=e,b=(A,R,O,j=null,F=null,X=null,it=void 0,G=null,Z=!!R.dynamicChildren)=>{if(A===R)return;A&&!Au(A,R)&&(j=L(A),ge(A,F,X,!0),A=null),R.patchFlag===-2&&(Z=!1,R.dynamicChildren=null);const{type:W,ref:ot,shapeFlag:mt}=R;switch(W){case Xg:w(A,R,O,j);break;case da:T(A,R,O,j);break;case xp:A==null&&S(R,O,j,it);break;case cn:yt(A,R,O,j,F,X,it,G,Z);break;default:mt&1?D(A,R,O,j,F,X,it,G,Z):mt&6?bt(A,R,O,j,F,X,it,G,Z):(mt&64||mt&128)&&W.process(A,R,O,j,F,X,it,G,Z,ft)}ot!=null&&F&&Uv(ot,A&&A.ref,X,R||A,!R)},w=(A,R,O,j)=>{if(A==null)i(R.el=c(R.children),O,j);else{const F=R.el=A.el;R.children!==A.children&&d(F,R.children)}},T=(A,R,O,j)=>{A==null?i(R.el=u(R.children||""),O,j):R.el=A.el},S=(A,R,O,j)=>{[A.el,A.anchor]=I(A.children,R,O,j,A.el,A.anchor)},k=({el:A,anchor:R},O,j)=>{let F;for(;A&&A!==R;)F=_(A),i(A,O,j),A=F;i(R,O,j)},x=({el:A,anchor:R})=>{let O;for(;A&&A!==R;)O=_(A),s(A),A=O;s(R)},D=(A,R,O,j,F,X,it,G,Z)=>{R.type==="svg"?it="svg":R.type==="math"&&(it="mathml"),A==null?M(R,O,j,F,X,it,G,Z):st(A,R,F,X,it,G,Z)},M=(A,R,O,j,F,X,it,G)=>{let Z,W;const{props:ot,shapeFlag:mt,transition:_t,dirs:At}=A;if(Z=A.el=a(A.type,X,ot&&ot.is,ot),mt&8?f(Z,A.children):mt&16&&z(A.children,Z,null,j,F,jy(A,X),it,G),At&&Fo(A,null,j,"created"),V(Z,A,A.scopeId,it,j),ot){for(const Qt in ot)Qt!=="value"&&!eh(Qt)&&o(Z,Qt,null,ot[Qt],X,A.children,j,F,ye);"value"in ot&&o(Z,"value",null,ot.value,X),(W=ot.onVnodeBeforeMount)&&ps(W,j,A)}At&&Fo(A,null,j,"beforeMount");const Ut=KF(F,_t);Ut&&_t.beforeEnter(Z),i(Z,R,O),((W=ot&&ot.onVnodeMounted)||Ut||At)&&ui(()=>{W&&ps(W,j,A),Ut&&_t.enter(Z),At&&Fo(A,null,j,"mounted")},F)},V=(A,R,O,j,F)=>{if(O&&v(A,O),j)for(let X=0;X<j.length;X++)v(A,j[X]);if(F){let X=F.subTree;if(R===X){const it=F.vnode;V(A,it,it.scopeId,it.slotScopeIds,F.parent)}}},z=(A,R,O,j,F,X,it,G,Z=0)=>{for(let W=Z;W<A.length;W++){const ot=A[W]=G?Hr(A[W]):_s(A[W]);b(null,ot,R,O,j,F,X,it,G)}},st=(A,R,O,j,F,X,it)=>{const G=R.el=A.el;let{patchFlag:Z,dynamicChildren:W,dirs:ot}=R;Z|=A.patchFlag&16;const mt=A.props||Te,_t=R.props||Te;let At;if(O&&Uo(O,!1),(At=_t.onVnodeBeforeUpdate)&&ps(At,O,R,A),ot&&Fo(R,A,O,"beforeUpdate"),O&&Uo(O,!0),W?gt(A.dynamicChildren,W,G,O,j,jy(R,F),X):it||kt(A,R,G,null,O,j,jy(R,F),X,!1),Z>0){if(Z&16)J(G,R,mt,_t,O,j,F);else if(Z&2&&mt.class!==_t.class&&o(G,"class",null,_t.class,F),Z&4&&o(G,"style",mt.style,_t.style,F),Z&8){const Ut=R.dynamicProps;for(let Qt=0;Qt<Ut.length;Qt++){const ie=Ut[Qt],ve=mt[ie],oi=_t[ie];(oi!==ve||ie==="value")&&o(G,ie,ve,oi,F,A.children,O,j,ye)}}Z&1&&A.children!==R.children&&f(G,R.children)}else!it&&W==null&&J(G,R,mt,_t,O,j,F);((At=_t.onVnodeUpdated)||ot)&&ui(()=>{At&&ps(At,O,R,A),ot&&Fo(R,A,O,"updated")},j)},gt=(A,R,O,j,F,X,it)=>{for(let G=0;G<R.length;G++){const Z=A[G],W=R[G],ot=Z.el&&(Z.type===cn||!Au(Z,W)||Z.shapeFlag&70)?g(Z.el):O;b(Z,W,ot,null,j,F,X,it,!0)}},J=(A,R,O,j,F,X,it)=>{if(O!==j){if(O!==Te)for(const G in O)!eh(G)&&!(G in j)&&o(A,G,O[G],null,it,R.children,F,X,ye);for(const G in j){if(eh(G))continue;const Z=j[G],W=O[G];Z!==W&&G!=="value"&&o(A,G,W,Z,it,R.children,F,X,ye)}"value"in j&&o(A,"value",O.value,j.value,it)}},yt=(A,R,O,j,F,X,it,G,Z)=>{const W=R.el=A?A.el:c(""),ot=R.anchor=A?A.anchor:c("");let{patchFlag:mt,dynamicChildren:_t,slotScopeIds:At}=R;At&&(G=G?G.concat(At):At),A==null?(i(W,O,j),i(ot,O,j),z(R.children||[],O,ot,F,X,it,G,Z)):mt>0&&mt&64&&_t&&A.dynamicChildren?(gt(A.dynamicChildren,_t,O,F,X,it,G),(R.key!=null||F&&R===F.subTree)&&Ek(A,R,!0)):kt(A,R,O,ot,F,X,it,G,Z)},bt=(A,R,O,j,F,X,it,G,Z)=>{R.slotScopeIds=G,A==null?R.shapeFlag&512?F.ctx.activate(R,O,j,it,Z):pe(R,O,j,F,X,it,Z):dt(A,R,Z)},pe=(A,R,O,j,F,X,it)=>{const G=A.component=n4(A,j,F);if(hk(A)&&(G.ctx.renderer=ft),i4(G),G.asyncDep){if(F&&F.registerDep(G,Y),!A.el){const Z=G.subTree=vt(da);T(null,Z,R,O)}}else Y(G,A,R,O,F,X,it)},dt=(A,R,O)=>{const j=R.component=A.component;if(dF(A,R,O))if(j.asyncDep&&!j.asyncResolved){ct(j,R,O);return}else j.next=R,oF(j.update),j.effect.dirty=!0,j.update();else R.el=A.el,j.vnode=R},Y=(A,R,O,j,F,X,it)=>{const G=()=>{if(A.isMounted){let{next:ot,bu:mt,u:_t,parent:At,vnode:Ut}=A;{const wr=Ik(A);if(wr){ot&&(ot.el=Ut.el,ct(A,ot,it)),wr.asyncDep.then(()=>{A.isUnmounted||G()});return}}let Qt=ot,ie;Uo(A,!1),ot?(ot.el=Ut.el,ct(A,ot,it)):ot=Ut,mt&&Cp(mt),(ie=ot.props&&ot.props.onVnodeBeforeUpdate)&&ps(ie,At,ot,Ut),Uo(A,!0);const ve=Uy(A),oi=A.subTree;A.subTree=ve,b(oi,ve,g(oi.el),L(oi),A,F,X),ot.el=ve.el,Qt===null&&fF(A,ve.el),_t&&ui(_t,F),(ie=ot.props&&ot.props.onVnodeUpdated)&&ui(()=>ps(ie,At,ot,Ut),F)}else{let ot;const{el:mt,props:_t}=R,{bm:At,m:Ut,parent:Qt}=A,ie=Rp(R);if(Uo(A,!1),At&&Cp(At),!ie&&(ot=_t&&_t.onVnodeBeforeMount)&&ps(ot,Qt,R),Uo(A,!0),mt&&me){const ve=()=>{A.subTree=Uy(A),me(mt,A.subTree,A,F,null)};ie?R.type.__asyncLoader().then(()=>!A.isUnmounted&&ve()):ve()}else{const ve=A.subTree=Uy(A);b(null,ve,O,j,A,F,X),R.el=ve.el}if(Ut&&ui(Ut,F),!ie&&(ot=_t&&_t.onVnodeMounted)){const ve=R;ui(()=>ps(ot,Qt,ve),F)}(R.shapeFlag&256||Qt&&Rp(Qt.vnode)&&Qt.vnode.shapeFlag&256)&&A.a&&ui(A.a,F),A.isMounted=!0,R=O=j=null}},Z=A.effect=new Yb(G,Ui,()=>s0(W),A.scope),W=A.update=()=>{Z.dirty&&Z.run()};W.id=A.uid,Uo(A,!0),W()},ct=(A,R,O)=>{R.component=A;const j=A.vnode.props;A.vnode=R,A.next=null,jF(A,R.props,j,O),zF(A,R.children,O),Ea(),MS(A),Ia()},kt=(A,R,O,j,F,X,it,G,Z=!1)=>{const W=A&&A.children,ot=A?A.shapeFlag:0,mt=R.children,{patchFlag:_t,shapeFlag:At}=R;if(_t>0){if(_t&128){Ie(W,mt,O,j,F,X,it,G,Z);return}else if(_t&256){ae(W,mt,O,j,F,X,it,G,Z);return}}At&8?(ot&16&&ye(W,F,X),mt!==W&&f(O,mt)):ot&16?At&16?Ie(W,mt,O,j,F,X,it,G,Z):ye(W,F,X,!0):(ot&8&&f(O,""),At&16&&z(mt,O,j,F,X,it,G,Z))},ae=(A,R,O,j,F,X,it,G,Z)=>{A=A||Al,R=R||Al;const W=A.length,ot=R.length,mt=Math.min(W,ot);let _t;for(_t=0;_t<mt;_t++){const At=R[_t]=Z?Hr(R[_t]):_s(R[_t]);b(A[_t],At,O,null,F,X,it,G,Z)}W>ot?ye(A,F,X,!0,!1,mt):z(R,O,j,F,X,it,G,Z,mt)},Ie=(A,R,O,j,F,X,it,G,Z)=>{let W=0;const ot=R.length;let mt=A.length-1,_t=ot-1;for(;W<=mt&&W<=_t;){const At=A[W],Ut=R[W]=Z?Hr(R[W]):_s(R[W]);if(Au(At,Ut))b(At,Ut,O,null,F,X,it,G,Z);else break;W++}for(;W<=mt&&W<=_t;){const At=A[mt],Ut=R[_t]=Z?Hr(R[_t]):_s(R[_t]);if(Au(At,Ut))b(At,Ut,O,null,F,X,it,G,Z);else break;mt--,_t--}if(W>mt){if(W<=_t){const At=_t+1,Ut=At<ot?R[At].el:j;for(;W<=_t;)b(null,R[W]=Z?Hr(R[W]):_s(R[W]),O,Ut,F,X,it,G,Z),W++}}else if(W>_t)for(;W<=mt;)ge(A[W],F,X,!0),W++;else{const At=W,Ut=W,Qt=new Map;for(W=Ut;W<=_t;W++){const Xe=R[W]=Z?Hr(R[W]):_s(R[W]);Xe.key!=null&&Qt.set(Xe.key,W)}let ie,ve=0;const oi=_t-Ut+1;let wr=!1,Od=0;const ls=new Array(oi);for(W=0;W<oi;W++)ls[W]=0;for(W=At;W<=mt;W++){const Xe=A[W];if(ve>=oi){ge(Xe,F,X,!0);continue}let Ni;if(Xe.key!=null)Ni=Qt.get(Xe.key);else for(ie=Ut;ie<=_t;ie++)if(ls[ie-Ut]===0&&Au(Xe,R[ie])){Ni=ie;break}Ni===void 0?ge(Xe,F,X,!0):(ls[Ni-Ut]=W+1,Ni>=Od?Od=Ni:wr=!0,b(Xe,R[Ni],O,null,F,X,it,G,Z),ve++)}const wo=wr?GF(ls):Al;for(ie=wo.length-1,W=oi-1;W>=0;W--){const Xe=Ut+W,Ni=R[Xe],Md=Xe+1<ot?R[Xe+1].el:j;ls[W]===0?b(null,Ni,O,Md,F,X,it,G,Z):wr&&(ie<0||W!==wo[ie]?_n(Ni,O,Md,2):ie--)}}},_n=(A,R,O,j,F=null)=>{const{el:X,type:it,transition:G,children:Z,shapeFlag:W}=A;if(W&6){_n(A.component.subTree,R,O,j);return}if(W&128){A.suspense.move(R,O,j);return}if(W&64){it.move(A,R,O,ft);return}if(it===cn){i(X,R,O);for(let mt=0;mt<Z.length;mt++)_n(Z[mt],R,O,j);i(A.anchor,R,O);return}if(it===xp){k(A,R,O);return}if(j!==2&&W&1&&G)if(j===0)G.beforeEnter(X),i(X,R,O),ui(()=>G.enter(X),F);else{const{leave:mt,delayLeave:_t,afterLeave:At}=G,Ut=()=>i(X,R,O),Qt=()=>{mt(X,()=>{Ut(),At&&At()})};_t?_t(X,Ut,Qt):Qt()}else i(X,R,O)},ge=(A,R,O,j=!1,F=!1)=>{const{type:X,props:it,ref:G,children:Z,dynamicChildren:W,shapeFlag:ot,patchFlag:mt,dirs:_t}=A;if(G!=null&&Uv(G,null,O,A,!0),ot&256){R.ctx.deactivate(A);return}const At=ot&1&&_t,Ut=!Rp(A);let Qt;if(Ut&&(Qt=it&&it.onVnodeBeforeUnmount)&&ps(Qt,R,A),ot&6)Mi(A.component,O,j);else{if(ot&128){A.suspense.unmount(O,j);return}At&&Fo(A,null,R,"beforeUnmount"),ot&64?A.type.remove(A,R,O,F,ft,j):W&&(X!==cn||mt>0&&mt&64)?ye(W,R,O,!1,!0):(X===cn&&mt&384||!F&&ot&16)&&ye(Z,R,O),j&&ri(A)}(Ut&&(Qt=it&&it.onVnodeUnmounted)||At)&&ui(()=>{Qt&&ps(Qt,R,A),At&&Fo(A,null,R,"unmounted")},O)},ri=A=>{const{type:R,el:O,anchor:j,transition:F}=A;if(R===cn){Nn(O,j);return}if(R===xp){x(A);return}const X=()=>{s(O),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(A.shapeFlag&1&&F&&!F.persisted){const{leave:it,delayLeave:G}=F,Z=()=>it(O,X);G?G(A.el,X,Z):Z()}else X()},Nn=(A,R)=>{let O;for(;A!==R;)O=_(A),s(A),A=O;s(R)},Mi=(A,R,O)=>{const{bum:j,scope:F,update:X,subTree:it,um:G}=A;j&&Cp(j),F.stop(),X&&(X.active=!1,ge(it,A,R,O)),G&&ui(G,R),ui(()=>{A.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},ye=(A,R,O,j=!1,F=!1,X=0)=>{for(let it=X;it<A.length;it++)ge(A[it],R,O,j,F)},L=A=>A.shapeFlag&6?L(A.component.subTree):A.shapeFlag&128?A.suspense.next():_(A.anchor||A.el);let at=!1;const tt=(A,R,O)=>{A==null?R._vnode&&ge(R._vnode,null,null,!0):b(R._vnode||null,A,R,null,null,null,O),at||(at=!0,MS(),sk(),at=!1),R._vnode=A},ft={p:b,um:ge,m:_n,r:ri,mt:pe,mc:z,pc:kt,pbc:gt,n:L,o:e};let ne,me;return t&&([ne,me]=t(ft)),{render:tt,hydrate:ne,createApp:UF(tt,ne)}}function jy({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Uo({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function KF(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ek(e,t,n=!1){const i=e.children,s=t.children;if(Pt(i)&&Pt(s))for(let o=0;o<i.length;o++){const a=i[o];let c=s[o];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[o]=Hr(s[o]),c.el=a.el),n||Ek(a,c)),c.type===Xg&&(c.el=a.el)}}function GF(e){const t=e.slice(),n=[0];let i,s,o,a,c;const u=e.length;for(i=0;i<u;i++){const d=e[i];if(d!==0){if(s=n[n.length-1],e[s]<d){t[i]=s,n.push(i);continue}for(o=0,a=n.length-1;o<a;)c=o+a>>1,e[n[c]]<d?o=c+1:a=c;d<e[n[o]]&&(o>0&&(t[i]=n[o-1]),n[o]=i)}}for(o=n.length,a=n[o-1];o-- >0;)n[o]=a,a=t[a];return n}function Ik(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ik(t)}const YF=e=>e.__isTeleport,cn=Symbol.for("v-fgt"),Xg=Symbol.for("v-txt"),da=Symbol.for("v-cmt"),xp=Symbol.for("v-stc"),sh=[];let Ji=null;function wt(e=!1){sh.push(Ji=e?null:[])}function XF(){sh.pop(),Ji=sh[sh.length-1]||null}let Ah=1;function WS(e){Ah+=e}function Tk(e){return e.dynamicChildren=Ah>0?Ji||Al:null,XF(),Ah>0&&Ji&&Ji.push(e),e}function Tt(e,t,n,i,s,o){return Tk(P(e,t,n,i,s,o,!0))}function Qg(e,t,n,i,s){return Tk(vt(e,t,n,i,s,!0))}function Bv(e){return e?e.__v_isVNode===!0:!1}function Au(e,t){return e.type===t.type&&e.key===t.key}const Jg="__vInternal",Sk=({key:e})=>e??null,Dp=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?mn(e)||yi(e)||Vt(e)?{i:pi,r:e,k:t,f:!!n}:e:null);function P(e,t=null,n=null,i=0,s=null,o=e===cn?0:1,a=!1,c=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Sk(t),ref:t&&Dp(t),scopeId:Gg,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:pi};return c?(a0(u,n),o&128&&e.normalize(u)):n&&(u.shapeFlag|=mn(n)?8:16),Ah>0&&!a&&Ji&&(u.patchFlag>0||o&6)&&u.patchFlag!==32&&Ji.push(u),u}const vt=QF;function QF(e,t=null,n=null,i=0,s=null,o=!1){if((!e||e===pF)&&(e=da),Bv(e)){const c=Hl(e,t,!0);return n&&a0(c,n),Ah>0&&!o&&Ji&&(c.shapeFlag&6?Ji[Ji.indexOf(e)]=c:Ji.push(c)),c.patchFlag|=-2,c}if(l4(e)&&(e=e.__vccOpts),t){t=JF(t);let{class:c,style:u}=t;c&&!mn(c)&&(t.class=ei(c)),Ee(u)&&(XR(u)&&!Pt(u)&&(u=Mn({},u)),t.style=$g(u))}const a=mn(e)?1:mF(e)?128:YF(e)?64:Ee(e)?4:Vt(e)?2:0;return P(e,t,n,i,s,a,o,!0)}function JF(e){return e?XR(e)||Jg in e?Mn({},e):e:null}function Hl(e,t,n=!1){const{props:i,ref:s,patchFlag:o,children:a}=e,c=t?ZF(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Sk(c),ref:t&&t.ref?n&&s?Pt(s)?s.concat(Dp(t)):[s,Dp(t)]:Dp(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==cn?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Hl(e.ssContent),ssFallback:e.ssFallback&&Hl(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function wn(e=" ",t=0){return vt(Xg,null,e,t)}function cc(e,t){const n=vt(xp,null,e);return n.staticCount=t,n}function ii(e="",t=!1){return t?(wt(),Qg(da,null,e)):vt(da,null,e)}function _s(e){return e==null||typeof e=="boolean"?vt(da):Pt(e)?vt(cn,null,e.slice()):typeof e=="object"?Hr(e):vt(Xg,null,String(e))}function Hr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Hl(e)}function a0(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Pt(t))n=16;else if(typeof t=="object")if(i&65){const s=t.default;s&&(s._c&&(s._d=!1),a0(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(Jg in t)?t._ctx=pi:s===3&&pi&&(pi.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Vt(t)?(t={default:t,_ctx:pi},n=32):(t=String(t),i&64?(n=16,t=[wn(t)]):n=8);e.children=t,e.shapeFlag|=n}function ZF(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const s in i)if(s==="class")t.class!==i.class&&(t.class=ei([t.class,i.class]));else if(s==="style")t.style=$g([t.style,i.style]);else if(Fg(s)){const o=t[s],a=i[s];a&&o!==a&&!(Pt(o)&&o.includes(a))&&(t[s]=o?[].concat(o,a):a)}else s!==""&&(t[s]=i[s])}return t}function ps(e,t,n,i=null){ts(e,t,7,[n,i])}const t4=mk();let e4=0;function n4(e,t,n){const i=e.type,s=(t?t.appContext:e.appContext)||t4,o={uid:e4++,vnode:e,type:i,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new DV(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:yk(i,s),emitsOptions:ok(i,s),emit:null,emitted:null,propsDefaults:Te,inheritAttrs:i.inheritAttrs,ctx:Te,data:Te,props:Te,attrs:Te,slots:Te,refs:Te,setupState:Te,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=cF.bind(null,o),e.ce&&e.ce(o),o}let jn=null,ig,jv;{const e=MR(),t=(n,i)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(i),o=>{s.length>1?s.forEach(a=>a(o)):s[0](o)}};ig=t("__VUE_INSTANCE_SETTERS__",n=>jn=n),jv=t("__VUE_SSR_SETTERS__",n=>Zg=n)}const od=e=>{const t=jn;return ig(e),e.scope.on(),()=>{e.scope.off(),ig(t)}},qS=()=>{jn&&jn.scope.off(),ig(null)};function Ak(e){return e.vnode.shapeFlag&4}let Zg=!1;function i4(e,t=!1){t&&jv(t);const{props:n,children:i}=e.vnode,s=Ak(e);BF(e,n,s,t),HF(e,i);const o=s?s4(e,t):void 0;return t&&jv(!1),o}function s4(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=QR(new Proxy(e.ctx,DF));const{setup:i}=n;if(i){const s=e.setupContext=i.length>1?o4(e):null,o=od(e);Ea();const a=to(i,e,0,[e.props,s]);if(Ia(),o(),xR(a)){if(a.then(qS,qS),t)return a.then(c=>{KS(e,c,t)}).catch(c=>{qg(c,e,0)});e.asyncDep=a}else KS(e,a,t)}else Ck(e,t)}function KS(e,t,n){Vt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ee(t)&&(e.setupState=ek(t)),Ck(e,n)}let GS;function Ck(e,t,n){const i=e.type;if(!e.render){if(!t&&GS&&!i.render){const s=i.template||r0(e).template;if(s){const{isCustomElement:o,compilerOptions:a}=e.appContext.config,{delimiters:c,compilerOptions:u}=i,d=Mn(Mn({isCustomElement:o,delimiters:c},a),u);i.render=GS(s,d)}}e.render=i.render||Ui}{const s=od(e);Ea();try{OF(e)}finally{Ia(),s()}}}function r4(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return _i(e,"get","$attrs"),t[n]}}))}function o4(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return r4(e)},slots:e.slots,emit:e.emit,expose:t}}function tm(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(ek(QR(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in nh)return nh[n](e)},has(t,n){return n in t||n in nh}}))}function a4(e,t=!0){return Vt(e)?e.displayName||e.name:e.name||t&&e.__name}function l4(e){return Vt(e)&&"__vccOpts"in e}const Qi=(e,t)=>tF(e,t,Zg);function Pk(e,t,n){const i=arguments.length;return i===2?Ee(t)&&!Pt(t)?Bv(t)?vt(e,null,[t]):vt(e,t):vt(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Bv(n)&&(n=[n]),vt(e,t,n))}const c4="3.4.21";/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const u4="http://www.w3.org/2000/svg",h4="http://www.w3.org/1998/Math/MathML",zr=typeof document<"u"?document:null,YS=zr&&zr.createElement("template"),d4={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const s=t==="svg"?zr.createElementNS(u4,e):t==="mathml"?zr.createElementNS(h4,e):zr.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:e=>zr.createTextNode(e),createComment:e=>zr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>zr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,s,o){const a=n?n.previousSibling:t.lastChild;if(s&&(s===o||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{YS.innerHTML=i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e;const c=YS.content;if(i==="svg"||i==="mathml"){const u=c.firstChild;for(;u.firstChild;)c.appendChild(u.firstChild);c.removeChild(u)}t.insertBefore(c,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},f4=Symbol("_vtc");function p4(e,t,n){const i=e[f4];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const XS=Symbol("_vod"),g4=Symbol("_vsh"),m4=Symbol(""),_4=/(^|;)\s*display\s*:/;function y4(e,t,n){const i=e.style,s=mn(n);let o=!1;if(n&&!s){if(t)if(mn(t))for(const a of t.split(";")){const c=a.slice(0,a.indexOf(":")).trim();n[c]==null&&Op(i,c,"")}else for(const a in t)n[a]==null&&Op(i,a,"");for(const a in n)a==="display"&&(o=!0),Op(i,a,n[a])}else if(s){if(t!==n){const a=i[m4];a&&(n+=";"+a),i.cssText=n,o=_4.test(n)}}else t&&e.removeAttribute("style");XS in e&&(e[XS]=o?i.display:"",e[g4]&&(i.display="none"))}const QS=/\s*!important$/;function Op(e,t,n){if(Pt(n))n.forEach(i=>Op(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=v4(e,t);QS.test(n)?e.setProperty(lc(i),n.replace(QS,""),"important"):e[i]=n}}const JS=["Webkit","Moz","ms"],$y={};function v4(e,t){const n=$y[t];if(n)return n;let i=Ds(t);if(i!=="filter"&&i in e)return $y[t]=i;i=jg(i);for(let s=0;s<JS.length;s++){const o=JS[s]+i;if(o in e)return $y[t]=o}return t}const ZS="http://www.w3.org/1999/xlink";function b4(e,t,n,i,s){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(ZS,t.slice(6,t.length)):e.setAttributeNS(ZS,t,n);else{const o=RV(t);n==null||o&&!NR(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function w4(e,t,n,i,s,o,a){if(t==="innerHTML"||t==="textContent"){i&&a(i,s,o),e[t]=n??"";return}const c=e.tagName;if(t==="value"&&c!=="PROGRESS"&&!c.includes("-")){const d=c==="OPTION"?e.getAttribute("value")||"":e.value,f=n??"";(d!==f||!("_value"in e))&&(e.value=f),n==null&&e.removeAttribute(t),e._value=n;return}let u=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=NR(n):n==null&&d==="string"?(n="",u=!0):d==="number"&&(n=0,u=!0)}try{e[t]=n}catch{}u&&e.removeAttribute(t)}function Go(e,t,n,i){e.addEventListener(t,n,i)}function E4(e,t,n,i){e.removeEventListener(t,n,i)}const tA=Symbol("_vei");function I4(e,t,n,i,s=null){const o=e[tA]||(e[tA]={}),a=o[t];if(i&&a)a.value=i;else{const[c,u]=T4(t);if(i){const d=o[t]=C4(i,s);Go(e,c,d,u)}else a&&(E4(e,c,a,u),o[t]=void 0)}}const eA=/(?:Once|Passive|Capture)$/;function T4(e){let t;if(eA.test(e)){t={};let i;for(;i=e.match(eA);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):lc(e.slice(2)),t]}let Hy=0;const S4=Promise.resolve(),A4=()=>Hy||(S4.then(()=>Hy=0),Hy=Date.now());function C4(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;ts(P4(i,n.value),t,5,[i])};return n.value=e,n.attached=A4(),n}function P4(e,t){if(Pt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>s=>!s._stopped&&i&&i(s))}else return t}const nA=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,R4=(e,t,n,i,s,o,a,c,u)=>{const d=s==="svg";t==="class"?p4(e,i,d):t==="style"?y4(e,n,i):Fg(t)?qb(t)||I4(e,t,n,i,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):k4(e,t,i,d))?w4(e,t,i,o,a,c,u):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),b4(e,t,i,d))};function k4(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&nA(t)&&Vt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return nA(t)&&mn(n)?!1:t in e}const sg=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Pt(t)?n=>Cp(t,n):t};function x4(e){e.target.composing=!0}function iA(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Dl=Symbol("_assign"),xe={created(e,{modifiers:{lazy:t,trim:n,number:i}},s){e[Dl]=sg(s);const o=i||s.props&&s.props.type==="number";Go(e,t?"change":"input",a=>{if(a.target.composing)return;let c=e.value;n&&(c=c.trim()),o&&(c=Eh(c)),e[Dl](c)}),n&&Go(e,"change",()=>{e.value=e.value.trim()}),t||(Go(e,"compositionstart",x4),Go(e,"compositionend",iA),Go(e,"change",iA))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:s}},o){if(e[Dl]=sg(o),e.composing)return;const a=s||e.type==="number"?Eh(e.value):e.value,c=t??"";a!==c&&(document.activeElement===e&&e.type!=="range"&&(n||i&&e.value.trim()===c)||(e.value=c))}},Pi={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const s=Ug(t);Go(e,"change",()=>{const o=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?Eh(rg(a)):rg(a));e[Dl](e.multiple?s?new Set(o):o:o[0]),e._assigning=!0,i0(()=>{e._assigning=!1})}),e[Dl]=sg(i)},mounted(e,{value:t,modifiers:{number:n}}){sA(e,t,n)},beforeUpdate(e,t,n){e[Dl]=sg(n)},updated(e,{value:t,modifiers:{number:n}}){e._assigning||sA(e,t,n)}};function sA(e,t,n){const i=e.multiple,s=Pt(t);if(!(i&&!s&&!Ug(t))){for(let o=0,a=e.options.length;o<a;o++){const c=e.options[o],u=rg(c);if(i)if(s){const d=typeof u;d==="string"||d==="number"?c.selected=t.includes(n?Eh(u):u):c.selected=xV(t,u)>-1}else c.selected=t.has(u);else if(Hg(rg(c),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!i&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function rg(e){return"_value"in e?e._value:e.value}const D4=["ctrl","shift","alt","meta"],O4={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>D4.some(n=>e[`${n}Key`]&&!t.includes(n))},em=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=(s,...o)=>{for(let a=0;a<t.length;a++){const c=O4[t[a]];if(c&&c(s,t))return}return e(s,...o)})},M4=Mn({patchProp:R4},d4);let rA;function N4(){return rA||(rA=WF(M4))}const L4=(...e)=>{const t=N4().createApp(...e),{mount:n}=t;return t.mount=i=>{const s=F4(i);if(!s)return;const o=t._component;!Vt(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.innerHTML="";const a=n(s,!1,V4(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},t};function V4(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function F4(e){return mn(e)?document.querySelector(e):e}const Le=(e,t)=>{const n=e.__vccOpts||e;for(const[i,s]of t)n[i]=s;return n};console.log("in App");const U4={name:"App"};function B4(e,t,n,i,s,o){const a=qt("router-view");return wt(),Qg(a)}const j4=Le(U4,[["render",B4]]);/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const bl=typeof document<"u";function $4(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const he=Object.assign;function zy(e,t){const n={};for(const i in t){const s=t[i];n[i]=ns(s)?s.map(e):e(s)}return n}const rh=()=>{},ns=Array.isArray,Rk=/#/g,H4=/&/g,z4=/\//g,W4=/=/g,q4=/\?/g,kk=/\+/g,K4=/%5B/g,G4=/%5D/g,xk=/%5E/g,Y4=/%60/g,Dk=/%7B/g,X4=/%7C/g,Ok=/%7D/g,Q4=/%20/g;function l0(e){return encodeURI(""+e).replace(X4,"|").replace(K4,"[").replace(G4,"]")}function J4(e){return l0(e).replace(Dk,"{").replace(Ok,"}").replace(xk,"^")}function $v(e){return l0(e).replace(kk,"%2B").replace(Q4,"+").replace(Rk,"%23").replace(H4,"%26").replace(Y4,"`").replace(Dk,"{").replace(Ok,"}").replace(xk,"^")}function Z4(e){return $v(e).replace(W4,"%3D")}function tU(e){return l0(e).replace(Rk,"%23").replace(q4,"%3F")}function eU(e){return e==null?"":tU(e).replace(z4,"%2F")}function Ch(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const nU=/\/$/,iU=e=>e.replace(nU,"");function Wy(e,t,n="/"){let i,s={},o="",a="";const c=t.indexOf("#");let u=t.indexOf("?");return c<u&&c>=0&&(u=-1),u>-1&&(i=t.slice(0,u),o=t.slice(u+1,c>-1?c:t.length),s=e(o)),c>-1&&(i=i||t.slice(0,c),a=t.slice(c,t.length)),i=aU(i??t,n),{fullPath:i+(o&&"?")+o+a,path:i,query:s,hash:Ch(a)}}function sU(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function oA(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function rU(e,t,n){const i=t.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&zl(t.matched[i],n.matched[s])&&Mk(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function zl(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Mk(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!oU(e[n],t[n]))return!1;return!0}function oU(e,t){return ns(e)?aA(e,t):ns(t)?aA(t,e):e===t}function aA(e,t){return ns(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function aU(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let o=n.length-1,a,c;for(a=0;a<i.length;a++)if(c=i[a],c!==".")if(c==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+i.slice(a).join("/")}var Ph;(function(e){e.pop="pop",e.push="push"})(Ph||(Ph={}));var oh;(function(e){e.back="back",e.forward="forward",e.unknown=""})(oh||(oh={}));function lU(e){if(!e)if(bl){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),iU(e)}const cU=/^[^#]+#/;function uU(e,t){return e.replace(cU,"#")+t}function hU(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const nm=()=>({left:window.scrollX,top:window.scrollY});function dU(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=hU(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function lA(e,t){return(history.state?history.state.position-t:-1)+e}const Hv=new Map;function fU(e,t){Hv.set(e,t)}function pU(e){const t=Hv.get(e);return Hv.delete(e),t}let gU=()=>location.protocol+"//"+location.host;function Nk(e,t){const{pathname:n,search:i,hash:s}=t,o=e.indexOf("#");if(o>-1){let c=s.includes(e.slice(o))?e.slice(o).length:1,u=s.slice(c);return u[0]!=="/"&&(u="/"+u),oA(u,"")}return oA(n,e)+i+s}function mU(e,t,n,i){let s=[],o=[],a=null;const c=({state:_})=>{const v=Nk(e,location),I=n.value,b=t.value;let w=0;if(_){if(n.value=v,t.value=_,a&&a===I){a=null;return}w=b?_.position-b.position:0}else i(v);s.forEach(T=>{T(n.value,I,{delta:w,type:Ph.pop,direction:w?w>0?oh.forward:oh.back:oh.unknown})})};function u(){a=n.value}function d(_){s.push(_);const v=()=>{const I=s.indexOf(_);I>-1&&s.splice(I,1)};return o.push(v),v}function f(){const{history:_}=window;_.state&&_.replaceState(he({},_.state,{scroll:nm()}),"")}function g(){for(const _ of o)_();o=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:u,listen:d,destroy:g}}function cA(e,t,n,i=!1,s=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:s?nm():null}}function _U(e){const{history:t,location:n}=window,i={value:Nk(e,n)},s={value:t.state};s.value||o(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(u,d,f){const g=e.indexOf("#"),_=g>-1?(n.host&&document.querySelector("base")?e:e.slice(g))+u:gU()+e+u;try{t[f?"replaceState":"pushState"](d,"",_),s.value=d}catch(v){console.error(v),n[f?"replace":"assign"](_)}}function a(u,d){const f=he({},t.state,cA(s.value.back,u,s.value.forward,!0),d,{position:s.value.position});o(u,f,!0),i.value=u}function c(u,d){const f=he({},s.value,t.state,{forward:u,scroll:nm()});o(f.current,f,!0);const g=he({},cA(i.value,u,null),{position:f.position+1},d);o(u,g,!1),i.value=u}return{location:i,state:s,push:c,replace:a}}function yU(e){e=lU(e);const t=_U(e),n=mU(e,t.state,t.location,t.replace);function i(o,a=!0){a||n.pauseListeners(),history.go(o)}const s=he({location:"",base:e,go:i,createHref:uU.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function vU(e){return typeof e=="string"||e&&typeof e=="object"}function Lk(e){return typeof e=="string"||typeof e=="symbol"}const Br={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Vk=Symbol("");var uA;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(uA||(uA={}));function Wl(e,t){return he(new Error,{type:e,[Vk]:!0},t)}function qs(e,t){return e instanceof Error&&Vk in e&&(t==null||!!(e.type&t))}const hA="[^/]+?",bU={sensitive:!1,strict:!1,start:!0,end:!0},wU=/[.+*?^${}()[\]/\\]/g;function EU(e,t){const n=he({},bU,t),i=[];let s=n.start?"^":"";const o=[];for(const d of e){const f=d.length?[]:[90];n.strict&&!d.length&&(s+="/");for(let g=0;g<d.length;g++){const _=d[g];let v=40+(n.sensitive?.25:0);if(_.type===0)g||(s+="/"),s+=_.value.replace(wU,"\\$&"),v+=40;else if(_.type===1){const{value:I,repeatable:b,optional:w,regexp:T}=_;o.push({name:I,repeatable:b,optional:w});const S=T||hA;if(S!==hA){v+=10;try{new RegExp(`(${S})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${I}" (${S}): `+x.message)}}let k=b?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;g||(k=w&&d.length<2?`(?:/${k})`:"/"+k),w&&(k+="?"),s+=k,v+=20,w&&(v+=-8),b&&(v+=-20),S===".*"&&(v+=-50)}f.push(v)}i.push(f)}if(n.strict&&n.end){const d=i.length-1;i[d][i[d].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const a=new RegExp(s,n.sensitive?"":"i");function c(d){const f=d.match(a),g={};if(!f)return null;for(let _=1;_<f.length;_++){const v=f[_]||"",I=o[_-1];g[I.name]=v&&I.repeatable?v.split("/"):v}return g}function u(d){let f="",g=!1;for(const _ of e){(!g||!f.endsWith("/"))&&(f+="/"),g=!1;for(const v of _)if(v.type===0)f+=v.value;else if(v.type===1){const{value:I,repeatable:b,optional:w}=v,T=I in d?d[I]:"";if(ns(T)&&!b)throw new Error(`Provided param "${I}" is an array but it is not repeatable (* or + modifiers)`);const S=ns(T)?T.join("/"):T;if(!S)if(w)_.length<2&&(f.endsWith("/")?f=f.slice(0,-1):g=!0);else throw new Error(`Missing required param "${I}"`);f+=S}}return f||"/"}return{re:a,score:i,keys:o,parse:c,stringify:u}}function IU(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function TU(e,t){let n=0;const i=e.score,s=t.score;for(;n<i.length&&n<s.length;){const o=IU(i[n],s[n]);if(o)return o;n++}if(Math.abs(s.length-i.length)===1){if(dA(i))return 1;if(dA(s))return-1}return s.length-i.length}function dA(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const SU={type:0,value:""},AU=/[a-zA-Z0-9_]/;function CU(e){if(!e)return[[]];if(e==="/")return[[SU]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${n})/"${d}": ${v}`)}let n=0,i=n;const s=[];let o;function a(){o&&s.push(o),o=[]}let c=0,u,d="",f="";function g(){d&&(n===0?o.push({type:0,value:d}):n===1||n===2||n===3?(o.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:d,regexp:f,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),d="")}function _(){d+=u}for(;c<e.length;){if(u=e[c++],u==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:u==="/"?(d&&g(),a()):u===":"?(g(),n=1):_();break;case 4:_(),n=i;break;case 1:u==="("?n=2:AU.test(u)?_():(g(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&c--);break;case 2:u===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+u:n=3:f+=u;break;case 3:g(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&c--,f="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),g(),a(),s}function PU(e,t,n){const i=EU(CU(e.path),n),s=he(i,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function RU(e,t){const n=[],i=new Map;t=gA({strict:!1,end:!0,sensitive:!1},t);function s(f){return i.get(f)}function o(f,g,_){const v=!_,I=kU(f);I.aliasOf=_&&_.record;const b=gA(t,f),w=[I];if("alias"in f){const k=typeof f.alias=="string"?[f.alias]:f.alias;for(const x of k)w.push(he({},I,{components:_?_.record.components:I.components,path:x,aliasOf:_?_.record:I}))}let T,S;for(const k of w){const{path:x}=k;if(g&&x[0]!=="/"){const D=g.record.path,M=D[D.length-1]==="/"?"":"/";k.path=g.record.path+(x&&M+x)}if(T=PU(k,g,b),_?_.alias.push(T):(S=S||T,S!==T&&S.alias.push(T),v&&f.name&&!pA(T)&&a(f.name)),I.children){const D=I.children;for(let M=0;M<D.length;M++)o(D[M],T,_&&_.children[M])}_=_||T,(T.record.components&&Object.keys(T.record.components).length||T.record.name||T.record.redirect)&&u(T)}return S?()=>{a(S)}:rh}function a(f){if(Lk(f)){const g=i.get(f);g&&(i.delete(f),n.splice(n.indexOf(g),1),g.children.forEach(a),g.alias.forEach(a))}else{const g=n.indexOf(f);g>-1&&(n.splice(g,1),f.record.name&&i.delete(f.record.name),f.children.forEach(a),f.alias.forEach(a))}}function c(){return n}function u(f){let g=0;for(;g<n.length&&TU(f,n[g])>=0&&(f.record.path!==n[g].record.path||!Fk(f,n[g]));)g++;n.splice(g,0,f),f.record.name&&!pA(f)&&i.set(f.record.name,f)}function d(f,g){let _,v={},I,b;if("name"in f&&f.name){if(_=i.get(f.name),!_)throw Wl(1,{location:f});b=_.record.name,v=he(fA(g.params,_.keys.filter(S=>!S.optional).concat(_.parent?_.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),f.params&&fA(f.params,_.keys.map(S=>S.name))),I=_.stringify(v)}else if(f.path!=null)I=f.path,_=n.find(S=>S.re.test(I)),_&&(v=_.parse(I),b=_.record.name);else{if(_=g.name?i.get(g.name):n.find(S=>S.re.test(g.path)),!_)throw Wl(1,{location:f,currentLocation:g});b=_.record.name,v=he({},g.params,f.params),I=_.stringify(v)}const w=[];let T=_;for(;T;)w.unshift(T.record),T=T.parent;return{name:b,path:I,params:v,matched:w,meta:DU(w)}}return e.forEach(f=>o(f)),{addRoute:o,resolve:d,removeRoute:a,getRoutes:c,getRecordMatcher:s}}function fA(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function kU(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:xU(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function xU(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function pA(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function DU(e){return e.reduce((t,n)=>he(t,n.meta),{})}function gA(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function Fk(e,t){return t.children.some(n=>n===e||Fk(e,n))}function OU(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<i.length;++s){const o=i[s].replace(kk," "),a=o.indexOf("="),c=Ch(a<0?o:o.slice(0,a)),u=a<0?null:Ch(o.slice(a+1));if(c in t){let d=t[c];ns(d)||(d=t[c]=[d]),d.push(u)}else t[c]=u}return t}function mA(e){let t="";for(let n in e){const i=e[n];if(n=Z4(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(ns(i)?i.map(o=>o&&$v(o)):[i&&$v(i)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function MU(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=ns(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return t}const NU=Symbol(""),_A=Symbol(""),c0=Symbol(""),Uk=Symbol(""),zv=Symbol("");function Cu(){let e=[];function t(i){return e.push(i),()=>{const s=e.indexOf(i);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Wr(e,t,n,i,s,o=a=>a()){const a=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((c,u)=>{const d=_=>{_===!1?u(Wl(4,{from:n,to:t})):_ instanceof Error?u(_):vU(_)?u(Wl(2,{from:t,to:_})):(a&&i.enterCallbacks[s]===a&&typeof _=="function"&&a.push(_),c())},f=o(()=>e.call(i&&i.instances[s],t,n,d));let g=Promise.resolve(f);e.length<3&&(g=g.then(d)),g.catch(_=>u(_))})}function qy(e,t,n,i,s=o=>o()){const o=[];for(const a of e)for(const c in a.components){let u=a.components[c];if(!(t!=="beforeRouteEnter"&&!a.instances[c]))if(LU(u)){const f=(u.__vccOpts||u)[t];f&&o.push(Wr(f,n,i,a,c,s))}else{let d=u();o.push(()=>d.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${c}" at "${a.path}"`));const g=$4(f)?f.default:f;a.components[c]=g;const v=(g.__vccOpts||g)[t];return v&&Wr(v,n,i,a,c,s)()}))}}return o}function LU(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function yA(e){const t=sr(c0),n=sr(Uk),i=Qi(()=>t.resolve(Rl(e.to))),s=Qi(()=>{const{matched:u}=i.value,{length:d}=u,f=u[d-1],g=n.matched;if(!f||!g.length)return-1;const _=g.findIndex(zl.bind(null,f));if(_>-1)return _;const v=vA(u[d-2]);return d>1&&vA(f)===v&&g[g.length-1].path!==v?g.findIndex(zl.bind(null,u[d-2])):_}),o=Qi(()=>s.value>-1&&BU(n.params,i.value.params)),a=Qi(()=>s.value>-1&&s.value===n.matched.length-1&&Mk(n.params,i.value.params));function c(u={}){return UU(u)?t[Rl(e.replace)?"replace":"push"](Rl(e.to)).catch(rh):Promise.resolve()}return{route:i,href:Qi(()=>i.value.href),isActive:o,isExactActive:a,navigate:c}}const VU=uk({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:yA,setup(e,{slots:t}){const n=Wg(yA(e)),{options:i}=sr(c0),s=Qi(()=>({[bA(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[bA(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:Pk("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},o)}}}),FU=VU;function UU(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function BU(e,t){for(const n in t){const i=t[n],s=e[n];if(typeof i=="string"){if(i!==s)return!1}else if(!ns(s)||s.length!==i.length||i.some((o,a)=>o!==s[a]))return!1}return!0}function vA(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const bA=(e,t,n)=>e??t??n,jU=uk({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=sr(zv),s=Qi(()=>e.route||i.value),o=sr(_A,0),a=Qi(()=>{let d=Rl(o);const{matched:f}=s.value;let g;for(;(g=f[d])&&!g.components;)d++;return d}),c=Qi(()=>s.value.matched[a.value]);kp(_A,Qi(()=>a.value+1)),kp(NU,c),kp(zv,s);const u=tg();return xl(()=>[u.value,c.value,e.name],([d,f,g],[_,v,I])=>{f&&(f.instances[g]=d,v&&v!==f&&d&&d===_&&(f.leaveGuards.size||(f.leaveGuards=v.leaveGuards),f.updateGuards.size||(f.updateGuards=v.updateGuards))),d&&f&&(!v||!zl(f,v)||!_)&&(f.enterCallbacks[g]||[]).forEach(b=>b(d))},{flush:"post"}),()=>{const d=s.value,f=e.name,g=c.value,_=g&&g.components[f];if(!_)return wA(n.default,{Component:_,route:d});const v=g.props[f],I=v?v===!0?d.params:typeof v=="function"?v(d):v:null,w=Pk(_,he({},I,t,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(g.instances[f]=null)},ref:u}));return wA(n.default,{Component:w,route:d})||w}}});function wA(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const $U=jU;function HU(e){const t=RU(e.routes,e),n=e.parseQuery||OU,i=e.stringifyQuery||mA,s=e.history,o=Cu(),a=Cu(),c=Cu(),u=eF(Br);let d=Br;bl&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=zy.bind(null,L=>""+L),g=zy.bind(null,eU),_=zy.bind(null,Ch);function v(L,at){let tt,ft;return Lk(L)?(tt=t.getRecordMatcher(L),ft=at):ft=L,t.addRoute(ft,tt)}function I(L){const at=t.getRecordMatcher(L);at&&t.removeRoute(at)}function b(){return t.getRoutes().map(L=>L.record)}function w(L){return!!t.getRecordMatcher(L)}function T(L,at){if(at=he({},at||u.value),typeof L=="string"){const R=Wy(n,L,at.path),O=t.resolve({path:R.path},at),j=s.createHref(R.fullPath);return he(R,O,{params:_(O.params),hash:Ch(R.hash),redirectedFrom:void 0,href:j})}let tt;if(L.path!=null)tt=he({},L,{path:Wy(n,L.path,at.path).path});else{const R=he({},L.params);for(const O in R)R[O]==null&&delete R[O];tt=he({},L,{params:g(R)}),at.params=g(at.params)}const ft=t.resolve(tt,at),ne=L.hash||"";ft.params=f(_(ft.params));const me=sU(i,he({},L,{hash:J4(ne),path:ft.path})),A=s.createHref(me);return he({fullPath:me,hash:ne,query:i===mA?MU(L.query):L.query||{}},ft,{redirectedFrom:void 0,href:A})}function S(L){return typeof L=="string"?Wy(n,L,u.value.path):he({},L)}function k(L,at){if(d!==L)return Wl(8,{from:at,to:L})}function x(L){return V(L)}function D(L){return x(he(S(L),{replace:!0}))}function M(L){const at=L.matched[L.matched.length-1];if(at&&at.redirect){const{redirect:tt}=at;let ft=typeof tt=="function"?tt(L):tt;return typeof ft=="string"&&(ft=ft.includes("?")||ft.includes("#")?ft=S(ft):{path:ft},ft.params={}),he({query:L.query,hash:L.hash,params:ft.path!=null?{}:L.params},ft)}}function V(L,at){const tt=d=T(L),ft=u.value,ne=L.state,me=L.force,A=L.replace===!0,R=M(tt);if(R)return V(he(S(R),{state:typeof R=="object"?he({},ne,R.state):ne,force:me,replace:A}),at||tt);const O=tt;O.redirectedFrom=at;let j;return!me&&rU(i,ft,tt)&&(j=Wl(16,{to:O,from:ft}),_n(ft,ft,!0,!1)),(j?Promise.resolve(j):gt(O,ft)).catch(F=>qs(F)?qs(F,2)?F:Ie(F):kt(F,O,ft)).then(F=>{if(F){if(qs(F,2))return V(he({replace:A},S(F.to),{state:typeof F.to=="object"?he({},ne,F.to.state):ne,force:me}),at||O)}else F=yt(O,ft,!0,A,ne);return J(O,ft,F),F})}function z(L,at){const tt=k(L,at);return tt?Promise.reject(tt):Promise.resolve()}function st(L){const at=Nn.values().next().value;return at&&typeof at.runWithContext=="function"?at.runWithContext(L):L()}function gt(L,at){let tt;const[ft,ne,me]=zU(L,at);tt=qy(ft.reverse(),"beforeRouteLeave",L,at);for(const R of ft)R.leaveGuards.forEach(O=>{tt.push(Wr(O,L,at))});const A=z.bind(null,L,at);return tt.push(A),ye(tt).then(()=>{tt=[];for(const R of o.list())tt.push(Wr(R,L,at));return tt.push(A),ye(tt)}).then(()=>{tt=qy(ne,"beforeRouteUpdate",L,at);for(const R of ne)R.updateGuards.forEach(O=>{tt.push(Wr(O,L,at))});return tt.push(A),ye(tt)}).then(()=>{tt=[];for(const R of me)if(R.beforeEnter)if(ns(R.beforeEnter))for(const O of R.beforeEnter)tt.push(Wr(O,L,at));else tt.push(Wr(R.beforeEnter,L,at));return tt.push(A),ye(tt)}).then(()=>(L.matched.forEach(R=>R.enterCallbacks={}),tt=qy(me,"beforeRouteEnter",L,at,st),tt.push(A),ye(tt))).then(()=>{tt=[];for(const R of a.list())tt.push(Wr(R,L,at));return tt.push(A),ye(tt)}).catch(R=>qs(R,8)?R:Promise.reject(R))}function J(L,at,tt){c.list().forEach(ft=>st(()=>ft(L,at,tt)))}function yt(L,at,tt,ft,ne){const me=k(L,at);if(me)return me;const A=at===Br,R=bl?history.state:{};tt&&(ft||A?s.replace(L.fullPath,he({scroll:A&&R&&R.scroll},ne)):s.push(L.fullPath,ne)),u.value=L,_n(L,at,tt,A),Ie()}let bt;function pe(){bt||(bt=s.listen((L,at,tt)=>{if(!Mi.listening)return;const ft=T(L),ne=M(ft);if(ne){V(he(ne,{replace:!0}),ft).catch(rh);return}d=ft;const me=u.value;bl&&fU(lA(me.fullPath,tt.delta),nm()),gt(ft,me).catch(A=>qs(A,12)?A:qs(A,2)?(V(A.to,ft).then(R=>{qs(R,20)&&!tt.delta&&tt.type===Ph.pop&&s.go(-1,!1)}).catch(rh),Promise.reject()):(tt.delta&&s.go(-tt.delta,!1),kt(A,ft,me))).then(A=>{A=A||yt(ft,me,!1),A&&(tt.delta&&!qs(A,8)?s.go(-tt.delta,!1):tt.type===Ph.pop&&qs(A,20)&&s.go(-1,!1)),J(ft,me,A)}).catch(rh)}))}let dt=Cu(),Y=Cu(),ct;function kt(L,at,tt){Ie(L);const ft=Y.list();return ft.length?ft.forEach(ne=>ne(L,at,tt)):console.error(L),Promise.reject(L)}function ae(){return ct&&u.value!==Br?Promise.resolve():new Promise((L,at)=>{dt.add([L,at])})}function Ie(L){return ct||(ct=!L,pe(),dt.list().forEach(([at,tt])=>L?tt(L):at()),dt.reset()),L}function _n(L,at,tt,ft){const{scrollBehavior:ne}=e;if(!bl||!ne)return Promise.resolve();const me=!tt&&pU(lA(L.fullPath,0))||(ft||!tt)&&history.state&&history.state.scroll||null;return i0().then(()=>ne(L,at,me)).then(A=>A&&dU(A)).catch(A=>kt(A,L,at))}const ge=L=>s.go(L);let ri;const Nn=new Set,Mi={currentRoute:u,listening:!0,addRoute:v,removeRoute:I,hasRoute:w,getRoutes:b,resolve:T,options:e,push:x,replace:D,go:ge,back:()=>ge(-1),forward:()=>ge(1),beforeEach:o.add,beforeResolve:a.add,afterEach:c.add,onError:Y.add,isReady:ae,install(L){const at=this;L.component("RouterLink",FU),L.component("RouterView",$U),L.config.globalProperties.$router=at,Object.defineProperty(L.config.globalProperties,"$route",{enumerable:!0,get:()=>Rl(u)}),bl&&!ri&&u.value===Br&&(ri=!0,x(s.location).catch(ne=>{}));const tt={};for(const ne in Br)Object.defineProperty(tt,ne,{get:()=>u.value[ne],enumerable:!0});L.provide(c0,at),L.provide(Uk,GR(tt)),L.provide(zv,u);const ft=L.unmount;Nn.add(L),L.unmount=function(){Nn.delete(L),Nn.size<1&&(d=Br,bt&&bt(),bt=null,u.value=Br,ri=!1,ct=!1),ft()}}};function ye(L){return L.reduce((at,tt)=>at.then(()=>st(tt)),Promise.resolve())}return Mi}function zU(e,t){const n=[],i=[],s=[],o=Math.max(t.matched.length,e.matched.length);for(let a=0;a<o;a++){const c=t.matched[a];c&&(e.matched.find(d=>zl(d,c))?i.push(c):n.push(c));const u=e.matched[a];u&&(t.matched.find(d=>zl(d,u))||s.push(u))}return[n,i,s]}var EA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},WU=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=e[n++];t[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=e[n++],a=e[n++],c=e[n++],u=((s&7)<<18|(o&63)<<12|(a&63)<<6|c&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const o=e[n++],a=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|a&63)}}return t.join("")},jk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const o=e[s],a=s+1<e.length,c=a?e[s+1]:0,u=s+2<e.length,d=u?e[s+2]:0,f=o>>2,g=(o&3)<<4|c>>4;let _=(c&15)<<2|d>>6,v=d&63;u||(v=64,a||(_=64)),i.push(n[f],n[g],n[_],n[v])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Bk(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):WU(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const o=n[e.charAt(s++)],c=s<e.length?n[e.charAt(s)]:0;++s;const d=s<e.length?n[e.charAt(s)]:64;++s;const g=s<e.length?n[e.charAt(s)]:64;if(++s,o==null||c==null||d==null||g==null)throw new qU;const _=o<<2|c>>4;if(i.push(_),d!==64){const v=c<<4&240|d>>2;if(i.push(v),g!==64){const I=d<<6&192|g;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class qU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KU=function(e){const t=Bk(e);return jk.encodeByteArray(t,!0)},og=function(e){return KU(e).replace(/\./g,"")},$k=function(e){try{return jk.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ag(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!GU(n)||(e[n]=ag(e[n],t[n]));return e}function GU(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU=()=>YU().__FIREBASE_DEFAULTS__,QU=()=>{if(typeof process>"u"||typeof EA>"u")return;const e=EA.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},JU=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&$k(e[1]);return t&&JSON.parse(t)},im=()=>{try{return XU()||QU()||JU()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Hk=e=>{var t,n;return(n=(t=im())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},zk=e=>{const t=Hk(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},Wk=()=>{var e;return(e=im())===null||e===void 0?void 0:e.config},qk=e=>{var t;return(t=im())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[og(JSON.stringify(n)),og(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function t5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())}function u0(){var e;const t=(e=im())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Gk(){return typeof self=="object"&&self.self===self}function Yk(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function h0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xk(){const e=De();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function e5(){return!u0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Rh(){try{return typeof indexedDB=="object"}catch{return!1}}function n5(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;t(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5="FirebaseError";class Hn extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=i5,Object.setPrototypeOf(this,Hn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ta.prototype.create)}}class Ta{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,o=this.errors[t],a=o?s5(o,i):"Error",c=`${this.serviceName}: ${a} (${s}).`;return new Hn(s,c,i)}}function s5(e,t){return e.replace(r5,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const r5=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function o5(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function lg(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const o=e[s],a=t[s];if(TA(o)&&TA(a)){if(!lg(o,a))return!1}else if(o!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function TA(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Tl(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(o)}}),t}function ju(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Qk(e,t){const n=new a5(e,t);return n.subscribe.bind(n)}class a5{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");l5(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=Ky),s.error===void 0&&(s.error=Ky),s.complete===void 0&&(s.complete=Ky);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function l5(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Ky(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(e){return e&&e._delegate?e._delegate:e}class Os{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new ZU;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(h5(t))try{this.getOrInitializeService({instanceIdentifier:zo})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(t=zo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=zo){return this.instances.has(t)}getOptions(t=zo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);i===c&&a.resolve(s)}return s}onInit(t,n){var i;const s=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(s,o);const a=this.instances.get(s);return a&&t(a,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:u5(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=zo){return this.component?this.component.multipleInstances?t:zo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function u5(e){return e===zo?void 0:e}function h5(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new c5(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=[];var Ht;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ht||(Ht={}));const Zk={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},d5=Ht.INFO,f5={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},p5=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=f5[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class sm{constructor(t){this.name=t,this._logLevel=d5,this._logHandler=p5,this._userLogHandler=null,d0.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Zk[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}}function g5(e){d0.forEach(t=>{t.setLogLevel(e)})}function m5(e,t){for(const n of d0){let i=null;t&&t.level&&(i=Zk[t.level]),e===null?n.userLogHandler=null:n.userLogHandler=(s,o,...a)=>{const c=a.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");o>=(i??s.logLevel)&&e({level:Ht[o].toLowerCase(),message:c,args:a,type:s.name})}}}const _5=(e,t)=>t.some(n=>e instanceof n);let SA,AA;function y5(){return SA||(SA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v5(){return AA||(AA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tx=new WeakMap,Wv=new WeakMap,ex=new WeakMap,Gy=new WeakMap,f0=new WeakMap;function b5(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",o),e.removeEventListener("error",a)},o=()=>{n(eo(e.result)),s()},a=()=>{i(e.error),s()};e.addEventListener("success",o),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&tx.set(n,e)}).catch(()=>{}),f0.set(t,e),t}function w5(e){if(Wv.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",a),e.removeEventListener("abort",a)},o=()=>{n(),s()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",o),e.addEventListener("error",a),e.addEventListener("abort",a)});Wv.set(e,t)}let qv={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Wv.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ex.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return eo(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function E5(e){qv=e(qv)}function I5(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Yy(this),t,...n);return ex.set(i,t.sort?t.sort():[t]),eo(i)}:v5().includes(e)?function(...t){return e.apply(Yy(this),t),eo(tx.get(this))}:function(...t){return eo(e.apply(Yy(this),t))}}function T5(e){return typeof e=="function"?I5(e):(e instanceof IDBTransaction&&w5(e),_5(e,y5())?new Proxy(e,qv):e)}function eo(e){if(e instanceof IDBRequest)return b5(e);if(Gy.has(e))return Gy.get(e);const t=T5(e);return t!==e&&(Gy.set(e,t),f0.set(t,e)),t}const Yy=e=>f0.get(e);function S5(e,t,{blocked:n,upgrade:i,blocking:s,terminated:o}={}){const a=indexedDB.open(e,t),c=eo(a);return i&&a.addEventListener("upgradeneeded",u=>{i(eo(a.result),u.oldVersion,u.newVersion,eo(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),s&&u.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const A5=["get","getKey","getAll","getAllKeys","count"],C5=["put","add","delete","clear"],Xy=new Map;function CA(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Xy.get(t))return Xy.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=C5.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||A5.includes(n)))return;const o=async function(a,...c){const u=this.transaction(a,s?"readwrite":"readonly");let d=u.store;return i&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),s&&u.done]))[0]};return Xy.set(t,o),o}E5(e=>({...e,get:(t,n,i)=>CA(t,n)||e.get(t,n,i),has:(t,n)=>!!CA(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(R5(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function R5(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const cg="@firebase/app",Kv="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new sm("@firebase/app"),k5="@firebase/app-compat",x5="@firebase/analytics-compat",D5="@firebase/analytics",O5="@firebase/app-check-compat",M5="@firebase/app-check",N5="@firebase/auth",L5="@firebase/auth-compat",V5="@firebase/database",F5="@firebase/database-compat",U5="@firebase/functions",B5="@firebase/functions-compat",j5="@firebase/installations",$5="@firebase/installations-compat",H5="@firebase/messaging",z5="@firebase/messaging-compat",W5="@firebase/performance",q5="@firebase/performance-compat",K5="@firebase/remote-config",G5="@firebase/remote-config-compat",Y5="@firebase/storage",X5="@firebase/storage-compat",Q5="@firebase/firestore",J5="@firebase/firestore-compat",Z5="firebase",t3="10.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo="[DEFAULT]",e3={[cg]:"fire-core",[k5]:"fire-core-compat",[D5]:"fire-analytics",[x5]:"fire-analytics-compat",[M5]:"fire-app-check",[O5]:"fire-app-check-compat",[N5]:"fire-auth",[L5]:"fire-auth-compat",[V5]:"fire-rtdb",[F5]:"fire-rtdb-compat",[U5]:"fire-fn",[B5]:"fire-fn-compat",[j5]:"fire-iid",[$5]:"fire-iid-compat",[H5]:"fire-fcm",[z5]:"fire-fcm-compat",[W5]:"fire-perf",[q5]:"fire-perf-compat",[K5]:"fire-rc",[G5]:"fire-rc-compat",[Y5]:"fire-gcs",[X5]:"fire-gcs-compat",[Q5]:"fire-fst",[J5]:"fire-fst-compat","fire-js":"fire-js",[Z5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=new Map,ql=new Map,Kl=new Map;function kh(e,t){try{e.container.addComponent(t)}catch(n){fa.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function nx(e,t){e.container.addOrOverwriteComponent(t)}function ar(e){const t=e.name;if(Kl.has(t))return fa.debug(`There were multiple attempts to register component ${t}.`),!1;Kl.set(t,e);for(const n of ao.values())kh(n,e);for(const n of ql.values())kh(n,e);return!0}function hc(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function n3(e,t,n=oo){hc(e,t).clearInstance(n)}function ix(e){return e.options!==void 0}function je(e){return e.settings!==void 0}function i3(){Kl.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bi=new Ta("app","Firebase",s3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sx=class{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3 extends sx{constructor(t,n,i,s){const o=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,a={name:i,automaticDataCollectionEnabled:o};if(t.apiKey!==void 0)super(t,a,s);else{const c=t;super(c.options,a,s)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},n),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,gi(cg,Kv,"serverapp")}get refCount(){return this._refCount}incRefCount(t){this.isDeleted||(this._refCount++,t!==void 0&&this._finalizationRegistry.register(t,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){p0(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Bi.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=t3;function rm(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:oo,automaticDataCollectionEnabled:!1},t),s=i.name;if(typeof s!="string"||!s)throw Bi.create("bad-app-name",{appName:String(s)});if(n||(n=Wk()),!n)throw Bi.create("no-options");const o=ao.get(s);if(o){if(lg(n,o.options)&&lg(i,o.config))return o;throw Bi.create("duplicate-app",{appName:s})}const a=new Jk(s);for(const u of Kl.values())a.addComponent(u);const c=new sx(n,i,a);return ao.set(s,c),c}function o3(e,t){if(Gk())throw Bi.create("invalid-server-app-environment");t.automaticDataCollectionEnabled===void 0&&(t.automaticDataCollectionEnabled=!1);let n;ix(e)?n=e.options:n=e;const i=Object.assign(Object.assign({},t),n);i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const s=d=>[...d].reduce((f,g)=>Math.imul(31,f)+g.charCodeAt(0)|0,0);if(t.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Bi.create("finalization-registry-not-supported",{});const o=""+s(JSON.stringify(i)),a=ql.get(o);if(a)return a.incRefCount(t.releaseOnDeref),a;const c=new Jk(o);for(const d of Kl.values())c.addComponent(d);const u=new r3(n,t,o,c);return ql.set(o,u),u}function om(e=oo){const t=ao.get(e);if(!t&&e===oo&&Wk())return rm();if(!t)throw Bi.create("no-app",{appName:e});return t}function a3(){return Array.from(ao.values())}async function p0(e){let t=!1;const n=e.name;ao.has(n)?(t=!0,ao.delete(n)):ql.has(n)&&e.decRefCount()<=0&&(ql.delete(n),t=!0),t&&(await Promise.all(e.container.getProviders().map(i=>i.delete())),e.isDeleted=!0)}function gi(e,t,n){var i;let s=(i=e3[e])!==null&&i!==void 0?i:e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const c=[`Unable to register library "${s}" with version "${t}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fa.warn(c.join(" "));return}ar(new Os(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}function rx(e,t){if(e!==null&&typeof e!="function")throw Bi.create("invalid-log-argument");m5(e,t)}function ox(e){g5(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="firebase-heartbeat-database",c3=1,xh="firebase-heartbeat-store";let Qy=null;function ax(){return Qy||(Qy=S5(l3,c3,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(xh)}catch(n){console.warn(n)}}}}).catch(e=>{throw Bi.create("idb-open",{originalErrorMessage:e.message})})),Qy}async function u3(e){try{const n=(await ax()).transaction(xh),i=await n.objectStore(xh).get(lx(e));return await n.done,i}catch(t){if(t instanceof Hn)fa.warn(t.message);else{const n=Bi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});fa.warn(n.message)}}}async function PA(e,t){try{const i=(await ax()).transaction(xh,"readwrite");await i.objectStore(xh).put(t,lx(e)),await i.done}catch(n){if(n instanceof Hn)fa.warn(n.message);else{const i=Bi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fa.warn(i.message)}}}function lx(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=1024,d3=30*24*60*60*1e3;class f3{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new g3(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=RA();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=d3}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=RA(),{heartbeatsToSend:i,unsentEntries:s}=p3(this._heartbeatsCache.heartbeats),o=og(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function RA(){return new Date().toISOString().substring(0,10)}function p3(e,t=h3){const n=[];let i=e.slice();for(const s of e){const o=n.find(a=>a.agent===s.agent);if(o){if(o.dates.push(s.date),kA(n)>t){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),kA(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class g3{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Rh()?n5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await u3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return PA(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return PA(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function kA(e){return og(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(e){ar(new Os("platform-logger",t=>new P5(t),"PRIVATE")),ar(new Os("heartbeat",t=>new f3(t),"PRIVATE")),gi(cg,Kv,e),gi(cg,Kv,"esm2017"),gi("fire-js","")}m3("");const _3=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Hn,SDK_VERSION:fr,_DEFAULT_ENTRY_NAME:oo,_addComponent:kh,_addOrOverwriteComponent:nx,_apps:ao,_clearComponents:i3,_components:Kl,_getProvider:hc,_isFirebaseApp:ix,_isFirebaseServerApp:je,_registerComponent:ar,_removeServiceInstance:n3,_serverApps:ql,deleteApp:p0,getApp:om,getApps:a3,initializeApp:rm,initializeServerApp:o3,onLog:rx,registerVersion:gi,setLogLevel:ox},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(t,n){this._delegate=t,this.firebase=n,kh(t,new Os("app-compat",()=>this,"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(t=>{this._delegate.checkDestroyed(),t()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),p0(this._delegate)))}_getService(t,n=oo){var i;this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(t);return!s.isInitialized()&&((i=s.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:n})}_removeServiceInstance(t,n=oo){this._delegate.container.getProvider(t).clearInstance(n)}_addComponent(t){kh(this._delegate,t)}_addOrOverwriteComponent(t){nx(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},xA=new Ta("app-compat","Firebase",v3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(e){const t={},n={__esModule:!0,initializeApp:o,app:s,registerVersion:gi,setLogLevel:ox,onLog:rx,apps:null,SDK_VERSION:fr,INTERNAL:{registerComponent:c,removeApp:i,useAsService:u,modularAPIs:_3}};n.default=n,Object.defineProperty(n,"apps",{get:a});function i(d){delete t[d]}function s(d){if(d=d||oo,!IA(t,d))throw xA.create("no-app",{appName:d});return t[d]}s.App=e;function o(d,f={}){const g=rm(d,f);if(IA(t,g.name))return t[g.name];const _=new e(g,n);return t[g.name]=_,_}function a(){return Object.keys(t).map(d=>t[d])}function c(d){const f=d.name,g=f.replace("-compat","");if(ar(d)&&d.type==="PUBLIC"){const _=(v=s())=>{if(typeof v[g]!="function")throw xA.create("invalid-app-argument",{appName:f});return v[g]()};d.serviceProps!==void 0&&ag(_,d.serviceProps),n[g]=_,e.prototype[g]=function(...v){return this._getService.bind(this,f).apply(this,d.multipleInstances?v:[])}}return d.type==="PUBLIC"?n[g]:null}function u(d,f){return f==="serverAuth"?null:f}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(){const e=b3(y3);e.INTERNAL=Object.assign(Object.assign({},e.INTERNAL),{createFirebaseNamespace:cx,extendNamespace:t,createSubscribe:Qk,ErrorFactory:Ta,deepExtend:ag});function t(n){ag(e,n)}return e}const w3=cx();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=new sm("@firebase/app-compat"),E3="@firebase/app-compat",I3="0.2.30";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(e){gi(E3,I3,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(Gk()&&self.firebase!==void 0){DA.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&DA.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const pt=w3;T3();var S3="firebase",A3="10.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pt.registerVersion(S3,A3,"app-compat");const C3={apiKey:"AIzaSyAN-vVW46wKoqjR2WfhKoc7G2KwbjSsb6k",authDomain:"budgetbuddy-190c9.firebaseapp.com",projectId:"budgetbuddy-190c9",storageBucket:"budgetbuddy-190c9.appspot.com",messagingSenderId:"923067373606",appId:"1:923067373606:web:fa85b8338713ccef936ee7",measurementId:"G-31CY8FVMSB"};pt.initializeApp(C3);function g0(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}const Pu={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ml={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function ux(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const R3=P3,k3=ux,hx=new Ta("auth","Firebase",ux());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug=new sm("@firebase/auth");function x3(e,...t){ug.logLevel<=Ht.WARN&&ug.warn(`Auth (${fr}): ${e}`,...t)}function Mp(e,...t){ug.logLevel<=Ht.ERROR&&ug.error(`Auth (${fr}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(e,...t){throw _0(e,...t)}function pn(e,...t){return _0(e,...t)}function m0(e,t,n){const i=Object.assign(Object.assign({},k3()),{[t]:n});return new Ta("auth","Firebase",i).create(t,{appName:e.name})}function Tn(e){return m0(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dc(e,t,n){const i=n;if(!(t instanceof i))throw i.name!==t.constructor.name&&Sn(e,"argument-error"),m0(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _0(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return hx.create(e,...t)}function K(e,t,...n){if(!e)throw _0(t,...n)}function Ts(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Mp(t),new Error(t)}function is(e,t){e||Ts(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function y0(){return OA()==="http:"||OA()==="https:"}function OA(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y0()||Yk()||"connection"in navigator)?navigator.onLine:!0}function O3(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(t,n){this.shortDelay=t,this.longDelay=n,is(n>t,"Short delay should be less than long delay!"),this.isMobile=t5()||h0()}get(){return D3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(e,t){is(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=new ad(3e4,6e4);function Ke(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ge(e,t,n,i,s={}){return fx(e,s,async()=>{let o={},a={};i&&(t==="GET"?a=i:o={body:JSON.stringify(i)});const c=uc(Object.assign({key:e.config.apiKey},a)).slice(1),u=await e._getAdditionalHeaders();return u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode),dx.fetch()(px(e,e.config.apiHost,n,c),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},o))})}async function fx(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},M3),t);try{const s=new V3(e),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw $u(e,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const c=o.ok?a.errorMessage:a.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw $u(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw $u(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw $u(e,"user-disabled",a);const f=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw m0(e,f,d);Sn(e,f)}}catch(s){if(s instanceof Hn)throw s;Sn(e,"network-request-failed",{message:String(s)})}}async function pr(e,t,n,i,s={}){const o=await Ge(e,t,n,i,s);return"mfaPendingCredential"in o&&Sn(e,"multi-factor-auth-required",{_serverResponse:o}),o}function px(e,t,n,i){const s=`${t}${n}?${i}`;return e.config.emulator?v0(e.config,s):`${e.config.apiScheme}://${s}`}function L3(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class V3{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(pn(this.auth,"network-request-failed")),N3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $u(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=pn(e,t,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(e){return e!==void 0&&e.getResponse!==void 0}function NA(e){return e!==void 0&&e.enterprise!==void 0}class F3{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return L3(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U3(e){return(await Ge(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function B3(e,t){return Ge(e,"GET","/v2/recaptchaConfig",Ke(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j3(e,t){return Ge(e,"POST","/v1/accounts:delete",t)}async function $3(e,t){return Ge(e,"POST","/v1/accounts:update",t)}async function gx(e,t){return Ge(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function H3(e,t=!1){const n=It(e),i=await n.getIdToken(t),s=am(i);K(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:ah(Jy(s.auth_time)),issuedAtTime:ah(Jy(s.iat)),expirationTime:ah(Jy(s.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Jy(e){return Number(e)*1e3}function am(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Mp("JWT malformed, contained fewer than 3 sections"),null;try{const s=$k(n);return s?JSON.parse(s):(Mp("Failed to decode base64 JWT payload"),null)}catch(s){return Mp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function LA(e){const t=am(e);return K(t,"internal-error"),K(typeof t.exp<"u","internal-error"),K(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lr(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Hn&&z3(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function z3({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ah(this.lastLoginAt),this.creationTime=ah(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oh(e){var t;const n=e.auth,i=await e.getIdToken(),s=await lr(e,gx(n,{idToken:i}));K(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];e._notifyReloadListener(o);const a=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?mx(o.providerUserInfo):[],c=K3(e.providerData,a),u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(c!=null&&c.length),f=u?d:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Gv(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(e,g)}async function q3(e){const t=It(e);await Oh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function K3(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function mx(e){return e.map(t=>{var{providerId:n}=t,i=g0(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G3(e,t){const n=await fx(e,{},async()=>{const i=uc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:o}=e.config,a=px(e,s,"/v1/token",`key=${o}`),c=await e._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",dx.fetch()(a,{method:"POST",headers:c,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Y3(e,t){return Ge(e,"POST","/v2/accounts:revokeToken",Ke(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){K(t.idToken,"internal-error"),K(typeof t.idToken<"u","internal-error"),K(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):LA(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){K(t.length!==0,"internal-error");const n=LA(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:o}=await G3(t,n);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:o}=n,a=new Ol;return i&&(K(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),s&&(K(typeof s=="string","internal-error",{appName:t}),a.accessToken=s),o&&(K(typeof o=="number","internal-error",{appName:t}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ol,this.toJSON())}_performRefresh(){return Ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(e,t){K(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Qs{constructor(t){var{uid:n,auth:i,stsTokenManager:s}=t,o=g0(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new W3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Gv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await lr(this,this.stsTokenManager.getToken(this.auth,t));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return H3(this,t)}reload(){return q3(this)}_assign(t){this!==t&&(K(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Qs(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Oh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(je(this.auth.app))return Promise.reject(Tn(this.auth));const t=await this.getIdToken();return await lr(this,j3(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,s,o,a,c,u,d,f;const g=(i=n.displayName)!==null&&i!==void 0?i:void 0,_=(s=n.email)!==null&&s!==void 0?s:void 0,v=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,I=(a=n.photoURL)!==null&&a!==void 0?a:void 0,b=(c=n.tenantId)!==null&&c!==void 0?c:void 0,w=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,T=(d=n.createdAt)!==null&&d!==void 0?d:void 0,S=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:k,emailVerified:x,isAnonymous:D,providerData:M,stsTokenManager:V}=n;K(k&&V,t,"internal-error");const z=Ol.fromJSON(this.name,V);K(typeof k=="string",t,"internal-error"),jr(g,t.name),jr(_,t.name),K(typeof x=="boolean",t,"internal-error"),K(typeof D=="boolean",t,"internal-error"),jr(v,t.name),jr(I,t.name),jr(b,t.name),jr(w,t.name),jr(T,t.name),jr(S,t.name);const st=new Qs({uid:k,auth:t,email:_,emailVerified:x,displayName:g,isAnonymous:D,photoURL:I,phoneNumber:v,tenantId:b,stsTokenManager:z,createdAt:T,lastLoginAt:S});return M&&Array.isArray(M)&&(st.providerData=M.map(gt=>Object.assign({},gt))),w&&(st._redirectEventId=w),st}static async _fromIdTokenResponse(t,n,i=!1){const s=new Ol;s.updateFromServerResponse(n);const o=new Qs({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await Oh(o),o}static async _fromGetAccountInfoResponse(t,n,i){const s=n.users[0];K(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?mx(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),c=new Ol;c.updateFromIdToken(i);const u=new Qs({uid:s.localId,auth:t,stsTokenManager:c,isAnonymous:a}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Gv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=new Map;function Ri(e){is(e instanceof Function,"Expected a class definition");let t=VA.get(e);return t?(is(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,VA.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}_x.type="NONE";const Gl=_x;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(e,t,n){return`firebase:${e}:${t}:${n}`}class Ml{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=ra(this.userKey,s.apiKey,o),this.fullPersistenceKey=ra("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Qs._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Ml(Ri(Gl),t,i);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||Ri(Gl);const a=ra(i,t.config.apiKey,t.name);let c=null;for(const d of n)try{const f=await d._get(a);if(f){const g=Qs._fromJSON(t,f);d!==o&&(c=g),o=d;break}}catch{}const u=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new Ml(o,t,i):(o=u[0],c&&await o._set(a,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(a)}catch{}})),new Ml(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yx(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(wx(t))return"Blackberry";if(Ex(t))return"Webos";if(b0(t))return"Safari";if((t.includes("chrome/")||vx(t))&&!t.includes("edge/"))return"Chrome";if(ld(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function yx(e=De()){return/firefox\//i.test(e)}function b0(e=De()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function vx(e=De()){return/crios\//i.test(e)}function bx(e=De()){return/iemobile/i.test(e)}function ld(e=De()){return/android/i.test(e)}function wx(e=De()){return/blackberry/i.test(e)}function Ex(e=De()){return/webos/i.test(e)}function fc(e=De()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function X3(e=De()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}function Q3(e=De()){var t;return fc(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function J3(){return Xk()&&document.documentMode===10}function Ix(e=De()){return fc(e)||ld(e)||Ex(e)||wx(e)||/windows phone/i.test(e)||bx(e)}function Z3(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(e,t=[]){let n;switch(e){case"Browser":n=FA(De());break;case"Worker":n=`${FA(De())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${fr}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=o=>new Promise((a,c)=>{try{const u=t(o);a(u)}catch(u){c(u)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e9(e,t={}){return Ge(e,"GET","/v2/passwordPolicy",Ke(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9=6;class i9{constructor(t){var n,i,s,o;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:n9,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,s,o,a,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UA(this),this.idTokenSubscription=new UA(this),this.beforeStateQueue=new t9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ri(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Ml.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await gx(this,{idToken:t}),i=await Qs._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(je(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===c)&&(u!=null&&u.user)&&(s=u.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Oh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=O3()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(je(this.app))return Promise.reject(Tn(this));const n=t?It(t):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&K(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return je(this.app)?Promise.reject(Tn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return je(this.app)?Promise.reject(Tn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ri(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await e9(this),n=new i9(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Ta("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await Y3(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ri(t)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await Ml.create(this,[Ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(c,this,"internal-error"),c.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,s);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Tx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&x3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ze(e){return It(e)}class UA{constructor(t){this.auth=t,this.observer=null,this.addObserver=Qk(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function r9(e){cd=e}function w0(e){return cd.loadJS(e)}function o9(){return cd.recaptchaV2Script}function a9(){return cd.recaptchaEnterpriseScript}function l9(){return cd.gapiScript}function Sx(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const c9="recaptcha-enterprise",u9="NO_RECAPTCHA";class h9{constructor(t){this.type=c9,this.auth=ze(t)}async verify(t="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,c)=>{B3(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new F3(u);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,a(d.siteKey)}}).catch(u=>{c(u)})})}function s(o,a,c){const u=window.grecaptcha;NA(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:t}).then(d=>{a(d)}).catch(()=>{a(u9)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{i(this.auth).then(c=>{if(!n&&NA(window.grecaptcha))s(c,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=a9();u.length!==0&&(u+=c),w0(u).then(()=>{s(c,o,a)}).catch(d=>{a(d)})}}).catch(c=>{a(c)})})}}async function BA(e,t,n,i=!1){const s=new h9(e);let o;try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},t);return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Mh(e,t,n,i){var s;if(!((s=e._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await BA(e,t,n,n==="getOobCode");return i(e,o)}else return i(e,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await BA(e,t,n,n==="getOobCode");return i(e,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(e,t){const n=hc(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(lg(o,t??{}))return s;Sn(s,"already-initialized")}return n.initialize({options:t})}function f9(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Ri);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function Ax(e,t,n){const i=ze(e);K(i._canInitEmulator,i,"emulator-config-failed"),K(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),o=Cx(t),{host:a,port:c}=p9(t),u=c===null?"":`:${c}`;i.config.emulator={url:`${o}//${a}${u}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||g9()}function Cx(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function p9(e){const t=Cx(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:jA(i.substr(o.length+1))}}else{const[o,a]=i.split(":");return{host:o,port:jA(a)}}}function jA(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function g9(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ts("not implemented")}_getIdTokenResponse(t){return Ts("not implemented")}_linkToIdToken(t,n){return Ts("not implemented")}_getReauthenticationResolver(t){return Ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Px(e,t){return Ge(e,"POST","/v1/accounts:resetPassword",Ke(e,t))}async function m9(e,t){return Ge(e,"POST","/v1/accounts:update",t)}async function _9(e,t){return Ge(e,"POST","/v1/accounts:signUp",t)}async function y9(e,t){return Ge(e,"POST","/v1/accounts:update",Ke(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v9(e,t){return pr(e,"POST","/v1/accounts:signInWithPassword",Ke(e,t))}async function lm(e,t){return Ge(e,"POST","/v1/accounts:sendOobCode",Ke(e,t))}async function b9(e,t){return lm(e,t)}async function w9(e,t){return lm(e,t)}async function E9(e,t){return lm(e,t)}async function I9(e,t){return lm(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T9(e,t){return pr(e,"POST","/v1/accounts:signInWithEmailLink",Ke(e,t))}async function S9(e,t){return pr(e,"POST","/v1/accounts:signInWithEmailLink",Ke(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends pc{constructor(t,n,i,s=null){super("password",i),this._email=t,this._password=n,this._tenantId=s}static _fromEmailAndPassword(t,n){return new Nh(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new Nh(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mh(t,n,"signInWithPassword",v9);case"emailLink":return T9(t,{email:this._email,oobCode:this._password});default:Sn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mh(t,i,"signUpPassword",_9);case"emailLink":return S9(t,{idToken:n,email:this._email,oobCode:this._password});default:Sn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rr(e,t){return pr(e,"POST","/v1/accounts:signInWithIdp",Ke(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9="http://localhost";class Ms extends pc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ms(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Sn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s}=n,o=g0(n,["providerId","signInMethod"]);if(!i||!s)return null;const a=new Ms(i,s);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return rr(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,rr(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,rr(t,n)}buildRequest(){const t={requestUri:A9,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=uc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C9(e,t){return Ge(e,"POST","/v1/accounts:sendVerificationCode",Ke(e,t))}async function P9(e,t){return pr(e,"POST","/v1/accounts:signInWithPhoneNumber",Ke(e,t))}async function R9(e,t){const n=await pr(e,"POST","/v1/accounts:signInWithPhoneNumber",Ke(e,t));if(n.temporaryProof)throw $u(e,"account-exists-with-different-credential",n);return n}const k9={USER_NOT_FOUND:"user-not-found"};async function x9(e,t){const n=Object.assign(Object.assign({},t),{operation:"REAUTH"});return pr(e,"POST","/v1/accounts:signInWithPhoneNumber",Ke(e,n),k9)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends pc{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,n){return new oa({verificationId:t,verificationCode:n})}static _fromTokenResponse(t,n){return new oa({phoneNumber:t,temporaryProof:n})}_getIdTokenResponse(t){return P9(t,this._makeVerificationRequest())}_linkToIdToken(t,n){return R9(t,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return x9(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:n,verificationId:i,verificationCode:s}=this.params;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:i,code:s}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){typeof t=="string"&&(t=JSON.parse(t));const{verificationId:n,verificationCode:i,phoneNumber:s,temporaryProof:o}=t;return!i&&!n&&!s&&!o?null:new oa({verificationId:n,verificationCode:i,phoneNumber:s,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function O9(e){const t=Tl(ju(e)).link,n=t?Tl(ju(t)).deep_link_id:null,i=Tl(ju(e)).deep_link_id;return(i?Tl(ju(i)).link:null)||i||n||t||e}class cm{constructor(t){var n,i,s,o,a,c;const u=Tl(ju(t)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(i=u.oobCode)!==null&&i!==void 0?i:null,g=D9((s=u.mode)!==null&&s!==void 0?s:null);K(d&&f&&g,"argument-error"),this.apiKey=d,this.operation=g,this.code=f,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=u.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(t){const n=O9(t);try{return new cm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.providerId=mo.PROVIDER_ID}static credential(t,n){return Nh._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=cm.parseLink(n);return K(i,"argument-error"),Nh._fromEmailAndCode(t,i.code,i.tenantId)}}mo.PROVIDER_ID="password";mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends gr{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Nl extends gc{static credentialFromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;return K("providerId"in n&&"signInMethod"in n,"argument-error"),Ms._fromParams(n)}credential(t){return this._credential(Object.assign(Object.assign({},t),{nonce:t.rawNonce}))}_credential(t){return K(t.idToken||t.accessToken,"argument-error"),Ms._fromParams(Object.assign(Object.assign({},t),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(t){return Nl.oauthCredentialFromTaggedObject(t)}static credentialFromError(t){return Nl.oauthCredentialFromTaggedObject(t.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a,providerId:c}=t;if(!i&&!s&&!n&&!o||!c)return null;try{return new Nl(c)._credential({idToken:n,accessToken:i,nonce:a,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends gc{constructor(){super("facebook.com")}static credential(t){return Ms._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vs.credentialFromTaggedObject(t)}static credentialFromError(t){return vs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vs.credential(t.oauthAccessToken)}catch{return null}}}vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends gc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ms._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return bs.credentialFromTaggedObject(t)}static credentialFromError(t){return bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return bs.credential(n,i)}catch{return null}}}bs.GOOGLE_SIGN_IN_METHOD="google.com";bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends gc{constructor(){super("github.com")}static credential(t){return Ms._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ws.credentialFromTaggedObject(t)}static credentialFromError(t){return ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ws.credential(t.oauthAccessToken)}catch{return null}}}ws.GITHUB_SIGN_IN_METHOD="github.com";ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9="http://localhost";class Yl extends pc{constructor(t,n){super(t,t),this.pendingToken=n}_getIdTokenResponse(t){const n=this.buildRequest();return rr(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,rr(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,rr(t,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s,pendingToken:o}=n;return!i||!s||!o||i!==s?null:new Yl(i,o)}static _create(t,n){return new Yl(t,n)}buildRequest(){return{requestUri:M9,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9="saml.";class hg extends gr{constructor(t){K(t.startsWith(N9),"argument-error"),super(t)}static credentialFromResult(t){return hg.samlCredentialFromTaggedObject(t)}static credentialFromError(t){return hg.samlCredentialFromTaggedObject(t.customData||{})}static credentialFromJSON(t){const n=Yl.fromJSON(t);return K(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{pendingToken:n,providerId:i}=t;if(!n||!i)return null;try{return Yl._create(i,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends gc{constructor(){super("twitter.com")}static credential(t,n){return Ms._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Es.credentialFromTaggedObject(t)}static credentialFromError(t){return Es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Es.credential(n,i)}catch{return null}}}Es.TWITTER_SIGN_IN_METHOD="twitter.com";Es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rx(e,t){return pr(e,"POST","/v1/accounts:signUp",Ke(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const o=await Qs._fromIdTokenResponse(t,i,s),a=$A(i);return new $i({user:o,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=$A(i);return new $i({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function $A(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L9(e){var t;if(je(e.app))return Promise.reject(Tn(e));const n=ze(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new $i({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await Rx(n,{returnSecureToken:!0}),s=await $i._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg extends Hn{constructor(t,n,i,s){var o;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,dg.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new dg(t,n,i,s)}}function kx(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?dg._fromErrorAndOperation(e,o,t,i):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(e){return new Set(e.map(({providerId:t})=>t).filter(t=>!!t))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V9(e,t){const n=It(e);await um(!0,n,t);const{providerUserInfo:i}=await $3(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),s=xx(i||[]);return n.providerData=n.providerData.filter(o=>s.has(o.providerId)),s.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function E0(e,t,n=!1){const i=await lr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return $i._forOperation(e,"link",i)}async function um(e,t,n){await Oh(t);const i=xx(t.providerData),s=e===!1?"provider-already-linked":"no-such-provider";K(i.has(n)===e,t.auth,s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dx(e,t,n=!1){const{auth:i}=e;if(je(i.app))return Promise.reject(Tn(i));const s="reauthenticate";try{const o=await lr(e,kx(i,s,t,e),n);K(o.idToken,i,"internal-error");const a=am(o.idToken);K(a,i,"internal-error");const{sub:c}=a;return K(e.uid===c,i,"user-mismatch"),$i._forOperation(e,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Sn(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ox(e,t,n=!1){if(je(e.app))return Promise.reject(Tn(e));const i="signIn",s=await kx(e,i,t),o=await $i._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(o.user),o}async function hm(e,t){return Ox(ze(e),t)}async function Mx(e,t){const n=It(e);return await um(!1,n,t.providerId),E0(n,t)}async function Nx(e,t){return Dx(It(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F9(e,t){return pr(e,"POST","/v1/accounts:signInWithCustomToken",Ke(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U9(e,t){if(je(e.app))return Promise.reject(Tn(e));const n=ze(e),i=await F9(n,{token:t,returnSecureToken:!0}),s=await $i._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(t,n){this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(t,n){return"phoneInfo"in n?I0._fromServerResponse(t,n):"totpInfo"in n?T0._fromServerResponse(t,n):Sn(t,"internal-error")}}class I0 extends ud{constructor(t){super("phone",t),this.phoneNumber=t.phoneInfo}static _fromServerResponse(t,n){return new I0(n)}}class T0 extends ud{constructor(t){super("totp",t)}static _fromServerResponse(t,n){return new T0(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(e,t,n){var i;K(((i=n.url)===null||i===void 0?void 0:i.length)>0,e,"invalid-continue-uri"),K(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(K(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(K(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S0(e){const t=ze(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function B9(e,t,n){const i=ze(e),s={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&dm(i,s,n),await Mh(i,s,"getOobCode",w9)}async function j9(e,t,n){await Px(It(e),{oobCode:t,newPassword:n}).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&S0(e),i})}async function $9(e,t){await y9(It(e),{oobCode:t})}async function Lx(e,t){const n=It(e),i=await Px(n,{oobCode:t}),s=i.requestType;switch(K(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":K(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":K(i.mfaInfo,n,"internal-error");default:K(i.email,n,"internal-error")}let o=null;return i.mfaInfo&&(o=ud._fromServerResponse(ze(n),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:o},operation:s}}async function H9(e,t){const{data:n}=await Lx(It(e),t);return n.email}async function z9(e,t,n){if(je(e.app))return Promise.reject(Tn(e));const i=ze(e),a=await Mh(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Rx).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&S0(e),u}),c=await $i._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(c.user),c}function W9(e,t,n){return je(e.app)?Promise.reject(Tn(e)):hm(It(e),mo.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&S0(e),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q9(e,t,n){const i=ze(e),s={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};function o(a,c){K(c.handleCodeInApp,i,"argument-error"),c&&dm(i,a,c)}o(s,n),await Mh(i,s,"getOobCode",E9)}function K9(e,t){const n=cm.parseLink(t);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function G9(e,t,n){if(je(e.app))return Promise.reject(Tn(e));const i=It(e),s=mo.credentialWithLink(t,n||Dh());return K(s._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),hm(i,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y9(e,t){return Ge(e,"POST","/v1/accounts:createAuthUri",Ke(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X9(e,t){const n=y0()?Dh():"http://localhost",i={identifier:t,continueUri:n},{signinMethods:s}=await Y9(It(e),i);return s||[]}async function Q9(e,t){const n=It(e),s={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&dm(n.auth,s,t);const{email:o}=await b9(n.auth,s);o!==e.email&&await e.reload()}async function J9(e,t,n){const i=It(e),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&dm(i.auth,o,n);const{email:a}=await I9(i.auth,o);a!==e.email&&await e.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z9(e,t){return Ge(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yv(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const i=It(e),o={idToken:await i.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},a=await lr(i,Z9(i.auth,o));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const c=i.providerData.find(({providerId:u})=>u==="password");c&&(c.displayName=i.displayName,c.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function t6(e,t){const n=It(e);return je(n.auth.app)?Promise.reject(Tn(n.auth)):Vx(n,t,null)}function e6(e,t){return Vx(It(e),null,t)}async function Vx(e,t,n){const{auth:i}=e,o={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(o.email=t),n&&(o.password=n);const a=await lr(e,m9(i,o));await e._updateTokensIfNecessary(a,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(e){var t,n;if(!e)return null;const{providerId:i}=e,s=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||e.kind==="identitytoolkit#SignupNewUserResponse";if(!i&&(e!=null&&e.idToken)){const a=(n=(t=am(e.idToken))===null||t===void 0?void 0:t.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(a){const c=a!=="anonymous"&&a!=="custom"?a:null;return new Ll(o,c)}}if(!i)return null;switch(i){case"facebook.com":return new i6(o,s);case"github.com":return new s6(o,s);case"google.com":return new r6(o,s);case"twitter.com":return new o6(o,s,e.screenName||null);case"custom":case"anonymous":return new Ll(o,null);default:return new Ll(o,i,s)}}class Ll{constructor(t,n,i={}){this.isNewUser=t,this.providerId=n,this.profile=i}}class Fx extends Ll{constructor(t,n,i,s){super(t,n,i),this.username=s}}class i6 extends Ll{constructor(t,n){super(t,"facebook.com",n)}}class s6 extends Fx{constructor(t,n){super(t,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class r6 extends Ll{constructor(t,n){super(t,"google.com",n)}}class o6 extends Fx{constructor(t,n,i){super(t,"twitter.com",n,i)}}function a6(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:n6(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(e,t){return It(e).setPersistence(t)}function c6(e,t,n,i){return It(e).onIdTokenChanged(t,n,i)}function u6(e,t,n){return It(e).beforeAuthStateChanged(t,n)}function Vs(e,t,n,i){return It(e).onAuthStateChanged(t,n,i)}function h6(e){return It(e).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(t,n,i){this.type=t,this.credential=n,this.user=i}static _fromIdtoken(t,n){return new Qo("enroll",t,n)}static _fromMfaPendingCredential(t){return new Qo("signin",t)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(t){var n,i;if(t!=null&&t.multiFactorSession){if(!((n=t.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Qo._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(!((i=t.multiFactorSession)===null||i===void 0)&&i.idToken)return Qo._fromIdtoken(t.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(t,n,i){this.session=t,this.hints=n,this.signInResolver=i}static _fromError(t,n){const i=ze(t),s=n.customData._serverResponse,o=(s.mfaInfo||[]).map(c=>ud._fromServerResponse(i,c));K(s.mfaPendingCredential,i,"internal-error");const a=Qo._fromMfaPendingCredential(s.mfaPendingCredential);return new A0(a,o,async c=>{const u=await c._process(i,a);delete s.mfaInfo,delete s.mfaPendingCredential;const d=Object.assign(Object.assign({},s),{idToken:u.idToken,refreshToken:u.refreshToken});switch(n.operationType){case"signIn":const f=await $i._fromIdTokenResponse(i,n.operationType,d);return await i._updateCurrentUser(f.user),f;case"reauthenticate":return K(n.user,i,"internal-error"),$i._forOperation(n.user,n.operationType,d);default:Sn(i,"internal-error")}})}async resolveSignIn(t){const n=t;return this.signInResolver(n)}}function d6(e,t){var n;const i=It(e),s=t;return K(t.customData.operationType,i,"argument-error"),K((n=s.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,i,"argument-error"),A0._fromError(i,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f6(e,t){return Ge(e,"POST","/v2/accounts/mfaEnrollment:start",Ke(e,t))}function p6(e,t){return Ge(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ke(e,t))}function g6(e,t){return Ge(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Ke(e,t))}class C0{constructor(t){this.user=t,this.enrolledFactors=[],t._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(i=>ud._fromServerResponse(t.auth,i)))})}static _fromUser(t){return new C0(t)}async getSession(){return Qo._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(t,n){const i=t,s=await this.getSession(),o=await lr(this.user,i._process(this.user.auth,s,n));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(t){const n=typeof t=="string"?t:t.uid,i=await this.user.getIdToken();try{const s=await lr(this.user,g6(this.user.auth,{idToken:i,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==n),await this.user._updateTokensIfNecessary(s),await this.user.reload()}catch(s){throw s}}}const Zy=new WeakMap;function m6(e){const t=It(e);return Zy.has(t)||Zy.set(t,C0._fromUser(t)),Zy.get(t)}const fg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fg,"1"),this.storage.removeItem(fg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _6(){const e=De();return b0(e)||fc(e)}const y6=1e3,v6=10;class Bx extends Ux{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_6()&&Z3(),this.fallbackToPolling=Ix(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}const i=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)t.newValue!==null?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!n)return}const s=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);J3()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,v6):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},y6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Bx.type="LOCAL";const hd=Bx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx extends Ux{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}jx.type="SESSION";const lo=jx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new fm(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:o}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(a).map(async d=>d(n.origin,o)),u=await b6(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,u)=>{const d=dd("",20);s.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(g){const _=g;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(_.data.response);break;default:clearTimeout(f),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:d,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return window}function E6(e){an().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(){return typeof an().WorkerGlobalScope<"u"&&typeof an().importScripts=="function"}async function I6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function T6(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function S6(){return P0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="firebaseLocalStorageDb",A6=1,pg="firebaseLocalStorage",Hx="fbase_key";class fd{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pm(e,t){return e.transaction([pg],t?"readwrite":"readonly").objectStore(pg)}function C6(){const e=indexedDB.deleteDatabase($x);return new fd(e).toPromise()}function Xv(){const e=indexedDB.open($x,A6);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(pg,{keyPath:Hx})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(pg)?t(i):(i.close(),await C6(),t(await Xv()))})})}async function HA(e,t,n){const i=pm(e,!0).put({[Hx]:t,value:n});return new fd(i).toPromise()}async function P6(e,t){const n=pm(e,!1).get(t),i=await new fd(n).toPromise();return i===void 0?null:i.value}function zA(e,t){const n=pm(e,!0).delete(t);return new fd(n).toPromise()}const R6=800,k6=3;class zx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xv(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>k6)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return P0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fm._getInstance(S6()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await I6(),!this.activeServiceWorker)return;this.sender=new w6(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||T6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Xv();return await HA(t,fg,"1"),await zA(t,fg),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>HA(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>P6(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>zA(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const o=pm(s,!1).getAll();return new fd(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),R6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zx.type="LOCAL";const Xl=zx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(e,t){return Ge(e,"POST","/v2/accounts/mfaSignIn:start",Ke(e,t))}function D6(e,t){return Ge(e,"POST","/v2/accounts/mfaSignIn:finalize",Ke(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6=500,M6=6e4,tp=1e12;class N6{constructor(t){this.auth=t,this.counter=tp,this._widgets=new Map}render(t,n){const i=this.counter;return this._widgets.set(i,new L6(t,this.auth.name,n||{})),this.counter++,i}reset(t){var n;const i=t||tp;(n=this._widgets.get(i))===null||n===void 0||n.delete(),this._widgets.delete(i)}getResponse(t){var n;const i=t||tp;return((n=this._widgets.get(i))===null||n===void 0?void 0:n.getResponse())||""}async execute(t){var n;const i=t||tp;return(n=this._widgets.get(i))===null||n===void 0||n.execute(),""}}class L6{constructor(t,n,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof t=="string"?document.getElementById(t):t;K(s,"argument-error",{appName:n}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=V6(50);const{callback:t,"expired-callback":n}=this.params;if(t)try{t(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},M6)},O6))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function V6(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<e;i++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=Sx("rcb"),F6=new ad(3e4,6e4);class U6{constructor(){var t;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((t=an().grecaptcha)===null||t===void 0)&&t.render)}load(t,n=""){return K(B6(n),t,"argument-error"),this.shouldResolveImmediately(n)&&MA(an().grecaptcha)?Promise.resolve(an().grecaptcha):new Promise((i,s)=>{const o=an().setTimeout(()=>{s(pn(t,"network-request-failed"))},F6.get());an()[tv]=()=>{an().clearTimeout(o),delete an()[tv];const c=an().grecaptcha;if(!c||!MA(c)){s(pn(t,"internal-error"));return}const u=c.render;c.render=(d,f)=>{const g=u(d,f);return this.counter++,g},this.hostLanguage=n,i(c)};const a=`${o9()}?${uc({onload:tv,render:"explicit",hl:n})}`;w0(a).catch(()=>{clearTimeout(o),s(pn(t,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(t){var n;return!!(!((n=an().grecaptcha)===null||n===void 0)&&n.render)&&(t===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function B6(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}class j6{async load(t){return new N6(t)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="recaptcha",$6={theme:"light",type:"image"};let H6=class{constructor(t,n,i=Object.assign({},$6)){this.parameters=i,this.type=Wx,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ze(t),this.isInvisible=this.parameters.size==="invisible",K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof n=="string"?document.getElementById(n):n;K(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new j6:new U6,this.validateStartingState()}async verify(){this.assertNotDestroyed();const t=await this.render(),n=this.getAssertedRecaptcha(),i=n.getResponse(t);return i||new Promise(s=>{const o=a=>{a&&(this.tokenChangeListeners.delete(o),s(a))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(t)})}render(){try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(t=>{throw this.renderPromise=null,t}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(t=>{this.container.removeChild(t)})}validateStartingState(){K(!this.parameters.sitekey,this.auth,"argument-error"),K(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(t){return n=>{if(this.tokenChangeListeners.forEach(i=>i(n)),typeof t=="function")t(n);else if(typeof t=="string"){const i=an()[t];typeof i=="function"&&i(n)}}}assertNotDestroyed(){K(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let t=this.container;if(!this.isInvisible){const n=document.createElement("div");t.appendChild(n),t=n}this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)}return this.widgetId}async init(){K(y0()&&!P0(),this.auth,"internal-error"),await z6(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const t=await U3(this.auth);K(t,this.auth,"internal-error"),this.parameters.sitekey=t}getAssertedRecaptcha(){return K(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function z6(){let e=null;return new Promise(t=>{if(document.readyState==="complete"){t();return}e=()=>t(),window.addEventListener("load",e)}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(t,n){this.verificationId=t,this.onConfirmation=n}confirm(t){const n=oa._fromVerification(this.verificationId,t);return this.onConfirmation(n)}}async function W6(e,t,n){if(je(e.app))return Promise.reject(Tn(e));const i=ze(e),s=await gm(i,t,It(n));return new R0(s,o=>hm(i,o))}async function q6(e,t,n){const i=It(e);await um(!1,i,"phone");const s=await gm(i.auth,t,It(n));return new R0(s,o=>Mx(i,o))}async function K6(e,t,n){const i=It(e);if(je(i.auth.app))return Promise.reject(Tn(i.auth));const s=await gm(i.auth,t,It(n));return new R0(s,o=>Nx(i,o))}async function gm(e,t,n){var i;const s=await n.verify();try{K(typeof s=="string",e,"argument-error"),K(n.type===Wx,e,"argument-error");let o;if(typeof t=="string"?o={phoneNumber:t}:o=t,"session"in o){const a=o.session;if("phoneNumber"in o)return K(a.type==="enroll",e,"internal-error"),(await f6(e,{idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:s}})).phoneSessionInfo.sessionInfo;{K(a.type==="signin",e,"internal-error");const c=((i=o.multiFactorHint)===null||i===void 0?void 0:i.uid)||o.multiFactorUid;return K(c,e,"missing-multi-factor-info"),(await x6(e,{mfaPendingCredential:a.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:s}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:a}=await C9(e,{phoneNumber:o.phoneNumber,recaptchaToken:s});return a}}finally{n._reset()}}async function G6(e,t){const n=It(e);if(je(n.auth.app))return Promise.reject(Tn(n.auth));await E0(n,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pa=class Np{constructor(t){this.providerId=Np.PROVIDER_ID,this.auth=ze(t)}verifyPhoneNumber(t,n){return gm(this.auth,t,It(n))}static credential(t,n){return oa._fromVerification(t,n)}static credentialFromResult(t){const n=t;return Np.credentialFromTaggedObject(n)}static credentialFromError(t){return Np.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:n,temporaryProof:i}=t;return n&&i?oa._fromTokenResponse(n,i):null}};pa.PROVIDER_ID="phone";pa.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(e,t){return t?Ri(t):(K(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0 extends pc{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return rr(t,this._buildIdpRequest())}_linkToIdToken(t,n){return rr(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return rr(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Y6(e){return Ox(e.auth,new k0(e),e.bypassAuthState)}function X6(e){const{auth:t,user:n}=e;return K(n,t,"internal-error"),Dx(n,new k0(e),e.bypassAuthState)}async function Q6(e){const{auth:t,user:n}=e;return K(n,t,"internal-error"),E0(n,new k0(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(t,n,i,s,o=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:o,error:a,type:c}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Y6;case"linkViaPopup":case"linkViaRedirect":return Q6;case"reauthViaPopup":case"reauthViaRedirect":return X6;default:Sn(this.auth,"internal-error")}}resolve(t){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=new ad(2e3,1e4);async function Z6(e,t,n){if(je(e.app))return Promise.reject(pn(e,"operation-not-supported-in-this-environment"));const i=ze(e);dc(e,t,gr);const s=Sa(i,n);return new Js(i,"signInViaPopup",t,s).executeNotNull()}async function tB(e,t,n){const i=It(e);if(je(i.auth.app))return Promise.reject(pn(i.auth,"operation-not-supported-in-this-environment"));dc(i.auth,t,gr);const s=Sa(i.auth,n);return new Js(i.auth,"reauthViaPopup",t,s,i).executeNotNull()}async function eB(e,t,n){const i=It(e);dc(i.auth,t,gr);const s=Sa(i.auth,n);return new Js(i.auth,"linkViaPopup",t,s,i).executeNotNull()}class Js extends qx{constructor(t,n,i,s,o){super(t,n,s,o),this.provider=i,this.authWindow=null,this.pollId=null,Js.currentPopupAction&&Js.currentPopupAction.cancel(),Js.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return K(t,this.auth,"internal-error"),t}async onExecution(){is(this.filter.length===1,"Popup operations only handle one event");const t=dd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Js.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,J6.get())};t()}}Js.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB="pendingRedirect",lh=new Map;class iB extends qx{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=lh.get(this.auth._key());if(!t){try{const i=await sB(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}lh.set(this.auth._key(),t)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sB(e,t){const n=Gx(t),i=Kx(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}async function x0(e,t){return Kx(e)._set(Gx(t),"true")}function rB(){lh.clear()}function D0(e,t){lh.set(e._key(),t)}function Kx(e){return Ri(e._redirectPersistence)}function Gx(e){return ra(nB,e.config.apiKey,e.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oB(e,t,n){return aB(e,t,n)}async function aB(e,t,n){if(je(e.app))return Promise.reject(Tn(e));const i=ze(e);dc(e,t,gr),await i._initializationPromise;const s=Sa(i,n);return await x0(s,i),s._openRedirect(i,t,"signInViaRedirect")}function lB(e,t,n){return cB(e,t,n)}async function cB(e,t,n){const i=It(e);if(dc(i.auth,t,gr),je(i.auth.app))return Promise.reject(Tn(i.auth));await i.auth._initializationPromise;const s=Sa(i.auth,n);await x0(s,i.auth);const o=await Yx(i);return s._openRedirect(i.auth,t,"reauthViaRedirect",o)}function uB(e,t,n){return hB(e,t,n)}async function hB(e,t,n){const i=It(e);dc(i.auth,t,gr),await i.auth._initializationPromise;const s=Sa(i.auth,n);await um(!1,i,t.providerId),await x0(s,i.auth);const o=await Yx(i);return s._openRedirect(i.auth,t,"linkViaRedirect",o)}async function dB(e,t){return await ze(e)._initializationPromise,mm(e,t,!1)}async function mm(e,t,n=!1){if(je(e.app))return Promise.reject(Tn(e));const i=ze(e),s=Sa(i,t),a=await new iB(i,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}async function Yx(e){const t=dd(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fB=10*60*1e3;class Xx{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!pB(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!Qx(t)){const s=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(pn(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=fB&&this.cachedEventUids.clear(),this.cachedEventUids.has(WA(t))}saveEventToCache(t){this.cachedEventUids.add(WA(t)),this.lastProcessedEventTime=Date.now()}}function WA(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Qx({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function pB(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qx(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jx(e,t={}){return Ge(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mB=/^https?/;async function _B(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Jx(e);for(const n of t)try{if(yB(n))return}catch{}Sn(e,"unauthorized-domain")}function yB(e){const t=Dh(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!mB.test(n))return!1;if(gB.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB=new ad(3e4,6e4);function qA(){const e=an().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function bB(e){return new Promise((t,n)=>{var i,s,o;function a(){qA(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{qA(),n(pn(e,"network-request-failed"))},timeout:vB.get()})}if(!((s=(i=an().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((o=an().gapi)===null||o===void 0)&&o.load)a();else{const c=Sx("iframefcb");return an()[c]=()=>{gapi.load?a():n(pn(e,"network-request-failed"))},w0(`${l9()}?onload=${c}`).catch(u=>n(u))}}).catch(t=>{throw Lp=null,t})}let Lp=null;function wB(e){return Lp=Lp||bB(e),Lp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB=new ad(5e3,15e3),IB="__/auth/iframe",TB="emulator/auth/iframe",SB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CB(e){const t=e.config;K(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?v0(t,TB):`https://${e.config.authDomain}/${IB}`,i={apiKey:t.apiKey,appName:e.name,v:fr},s=AB.get(e.config.apiHost);s&&(i.eid=s);const o=e._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${uc(i).slice(1)}`}async function PB(e){const t=await wB(e),n=an().gapi;return K(n,e,"internal-error"),t.open({where:document.body,url:CB(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SB,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const a=pn(e,"network-request-failed"),c=an().setTimeout(()=>{o(a)},EB.get());function u(){an().clearTimeout(c),s(i)}i.ping(u).then(u,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kB=500,xB=600,DB="_blank",OB="http://localhost";class KA{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MB(e,t,n,i=kB,s=xB){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const u=Object.assign(Object.assign({},RB),{width:i.toString(),height:s.toString(),top:o,left:a}),d=De().toLowerCase();n&&(c=vx(d)?DB:n),yx(d)&&(t=t||OB,u.scrollbars="yes");const f=Object.entries(u).reduce((_,[v,I])=>`${_}${v}=${I},`,"");if(Q3(d)&&c!=="_self")return NB(t||"",c),new KA(null);const g=window.open(t||"",c,f);K(g,e,"popup-blocked");try{g.focus()}catch{}return new KA(g)}function NB(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LB="__/auth/handler",VB="emulator/auth/handler",FB=encodeURIComponent("fac");async function Qv(e,t,n,i,s,o){K(e.config.authDomain,e,"auth-domain-config-required"),K(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:fr,eventId:s};if(t instanceof gr){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",o5(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[f,g]of Object.entries(o||{}))a[f]=g}if(t instanceof gc){const f=t.getScopes().filter(g=>g!=="");f.length>0&&(a.scopes=f.join(","))}e.tenantId&&(a.tid=e.tenantId);const c=a;for(const f of Object.keys(c))c[f]===void 0&&delete c[f];const u=await e._getAppCheckToken(),d=u?`#${FB}=${encodeURIComponent(u)}`:"";return`${UB(e)}?${uc(c).slice(1)}${d}`}function UB({config:e}){return e.emulator?v0(e,VB):`https://${e.authDomain}/${LB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="webStorageSupport";class BB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lo,this._completeRedirectFn=mm,this._overrideRedirectResult=D0}async _openPopup(t,n,i,s){var o;is((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await Qv(t,n,i,Dh(),s);return MB(t,a,dd())}async _openRedirect(t,n,i,s){await this._originValidation(t);const o=await Qv(t,n,i,Dh(),s);return E6(o),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(is(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await PB(t),i=new Xx(t);return n.register("authEvent",s=>(K(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(ev,{type:ev},s=>{var o;const a=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[ev];a!==void 0&&n(!!a),Sn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_B(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ix()||b0()||fc()}}const Zx=BB;class jB{constructor(t){this.factorId=t}_process(t,n,i){switch(n.type){case"enroll":return this._finalizeEnroll(t,n.credential,i);case"signin":return this._finalizeSignIn(t,n.credential);default:return Ts("unexpected MultiFactorSessionType")}}}class O0 extends jB{constructor(t){super("phone"),this.credential=t}static _fromCredential(t){return new O0(t)}_finalizeEnroll(t,n,i){return p6(t,{idToken:n,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(t,n){return D6(t,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class t2{constructor(){}static assertion(t){return O0._fromCredential(t)}}t2.FACTOR_ID="phone";var GA="@firebase/auth",YA="1.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zB(e){ar(new Os("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=i.options;K(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:c,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tx(e)},d=new s9(i,s,o,u);return f9(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),ar(new Os("auth-internal",t=>{const n=ze(t.getProvider("auth").getImmediate());return(i=>new $B(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gi(GA,YA,HB(e)),gi(GA,YA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB=5*60,qB=qk("authIdTokenMaxAge")||WB;let XA=null;const KB=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>qB)return;const s=n==null?void 0:n.token;XA!==s&&(XA=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Yt(e=om()){const t=hc(e,"auth");if(t.isInitialized())return t.getImmediate();const n=d9(e,{popupRedirectResolver:Zx,persistence:[Xl,hd,lo]}),i=qk("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const a=KB(o.toString());u6(n,a,()=>a(n.currentUser)),c6(n,c=>a(c))}}const s=Hk("auth");return s&&Ax(n,`http://${s}`),n}function GB(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}r9({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const o=pn("internal-error");o.customData=s,n(o)},i.type="text/javascript",i.charset="UTF-8",GB().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zB("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB=2e3;async function XB(e,t,n){var i;const{BuildInfo:s}=ga();is(t.sessionId,"AuthEvent did not contain a session ID");const o=await ej(t.sessionId),a={};return fc()?a.ibi=s.packageName:ld()?a.apn=s.packageName:Sn(e,"operation-not-supported-in-this-environment"),s.displayName&&(a.appDisplayName=s.displayName),a.sessionId=o,Qv(e,n,t.type,void 0,(i=t.eventId)!==null&&i!==void 0?i:void 0,a)}async function QB(e){const{BuildInfo:t}=ga(),n={};fc()?n.iosBundleId=t.packageName:ld()?n.androidPackageName=t.packageName:Sn(e,"operation-not-supported-in-this-environment"),await Jx(e,n)}function JB(e){const{cordova:t}=ga();return new Promise(n=>{t.plugins.browsertab.isAvailable(i=>{let s=null;i?t.plugins.browsertab.openUrl(e):s=t.InAppBrowser.open(e,X3()?"_blank":"_system","location=yes"),n(s)})})}async function ZB(e,t,n){const{cordova:i}=ga();let s=()=>{};try{await new Promise((o,a)=>{let c=null;function u(){var g;o();const _=(g=i.plugins.browsertab)===null||g===void 0?void 0:g.close;typeof _=="function"&&_(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function d(){c||(c=window.setTimeout(()=>{a(pn(e,"redirect-cancelled-by-user"))},YB))}function f(){(document==null?void 0:document.visibilityState)==="visible"&&d()}t.addPassiveListener(u),document.addEventListener("resume",d,!1),ld()&&document.addEventListener("visibilitychange",f,!1),s=()=>{t.removePassiveListener(u),document.removeEventListener("resume",d,!1),document.removeEventListener("visibilitychange",f,!1),c&&window.clearTimeout(c)}})}finally{s()}}function tj(e){var t,n,i,s,o,a,c,u,d,f;const g=ga();K(typeof((t=g==null?void 0:g.universalLinks)===null||t===void 0?void 0:t.subscribe)=="function",e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),K(typeof((n=g==null?void 0:g.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),K(typeof((o=(s=(i=g==null?void 0:g.cordova)===null||i===void 0?void 0:i.plugins)===null||s===void 0?void 0:s.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),K(typeof((u=(c=(a=g==null?void 0:g.cordova)===null||a===void 0?void 0:a.plugins)===null||c===void 0?void 0:c.browsertab)===null||u===void 0?void 0:u.isAvailable)=="function",e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),K(typeof((f=(d=g==null?void 0:g.cordova)===null||d===void 0?void 0:d.InAppBrowser)===null||f===void 0?void 0:f.open)=="function",e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function ej(e){const t=nj(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}function nj(e){if(is(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=20;class sj extends Xx{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(t=>{this.resolveInialized=t})}addPassiveListener(t){this.passiveListeners.add(t)}removePassiveListener(t){this.passiveListeners.delete(t)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(t){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(t)),super.onEvent(t)}async initialized(){await this.initPromise}}function rj(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:lj(),postBody:null,tenantId:e.tenantId,error:pn(e,"no-auth-event")}}function oj(e,t){return Jv()._set(Zv(e),t)}async function QA(e){const t=await Jv()._get(Zv(e));return t&&await Jv()._remove(Zv(e)),t}function aj(e,t){var n,i;const s=uj(t);if(s.includes("/__/auth/callback")){const o=Vp(s),a=o.firebaseError?cj(decodeURIComponent(o.firebaseError)):null,c=(i=(n=a==null?void 0:a.code)===null||n===void 0?void 0:n.split("auth/"))===null||i===void 0?void 0:i[1],u=c?pn(c):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:s,postBody:null}}return null}function lj(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<ij;n++){const i=Math.floor(Math.random()*t.length);e.push(t.charAt(i))}return e.join("")}function Jv(){return Ri(hd)}function Zv(e){return ra("authEvent",e.config.apiKey,e.name)}function cj(e){try{return JSON.parse(e)}catch{return null}}function uj(e){const t=Vp(e),n=t.link?decodeURIComponent(t.link):void 0,i=Vp(n).link,s=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Vp(s).link||s||i||n||e}function Vp(e){if(!(e!=null&&e.includes("?")))return{};const[t,...n]=e.split("?");return Tl(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=500;class dj{constructor(){this._redirectPersistence=lo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=mm,this._overrideRedirectResult=D0}async _initialize(t){const n=t._key();let i=this.eventManagers.get(n);return i||(i=new sj(t),this.eventManagers.set(n,i),this.attachCallbackListeners(t,i)),i}_openPopup(t){Sn(t,"operation-not-supported-in-this-environment")}async _openRedirect(t,n,i,s){tj(t);const o=await this._initialize(t);await o.initialized(),o.resetRedirect(),rB(),await this._originValidation(t);const a=rj(t,i,s);await oj(t,a);const c=await XB(t,a,n),u=await JB(c);return ZB(t,o,u)}_isIframeWebStorageSupported(t,n){throw new Error("Method not implemented.")}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QB(t)),this.originValidationPromises[n]}attachCallbackListeners(t,n){const{universalLinks:i,handleOpenURL:s,BuildInfo:o}=ga(),a=setTimeout(async()=>{await QA(t),n.onEvent(JA())},hj),c=async f=>{clearTimeout(a);const g=await QA(t);let _=null;g&&(f!=null&&f.url)&&(_=aj(g,f.url)),n.onEvent(_||JA())};typeof i<"u"&&typeof i.subscribe=="function"&&i.subscribe(null,c);const u=s,d=`${o.packageName.toLowerCase()}://`;ga().handleOpenURL=async f=>{if(f.toLowerCase().startsWith(d)&&c({url:f}),typeof u=="function")try{u(f)}catch(g){console.error(g)}}}}const fj=dj;function JA(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:pn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(e,t){ze(e)._logFramework(t)}var gj="@firebase/auth-compat",mj="0.5.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=1e3;function ch(){var e;return((e=self==null?void 0:self.location)===null||e===void 0?void 0:e.protocol)||null}function yj(){return ch()==="http:"||ch()==="https:"}function e2(e=De()){return!!((ch()==="file:"||ch()==="ionic:"||ch()==="capacitor:")&&e.toLowerCase().match(/iphone|ipad|ipod|android/))}function vj(){return h0()||u0()}function bj(){return Xk()&&(document==null?void 0:document.documentMode)===11}function wj(e=De()){return/Edge\/\d+/.test(e)}function Ej(e=De()){return bj()||wj(e)}function n2(){try{const e=self.localStorage,t=dd();if(e)return e.setItem(t,"1"),e.removeItem(t),Ej()?Rh():!0}catch{return M0()&&Rh()}return!1}function M0(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function nv(){return(yj()||Yk()||e2())&&!vj()&&n2()&&!M0()}function i2(){return e2()&&typeof document<"u"}async function Ij(){return i2()?new Promise(e=>{const t=setTimeout(()=>{e(!1)},_j);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})}):!1}function Tj(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci={LOCAL:"local",NONE:"none",SESSION:"session"},Ru=K,s2="persistence";function Sj(e,t){if(Ru(Object.values(Ci).includes(t),e,"invalid-persistence-type"),h0()){Ru(t!==Ci.SESSION,e,"unsupported-persistence-type");return}if(u0()){Ru(t===Ci.NONE,e,"unsupported-persistence-type");return}if(M0()){Ru(t===Ci.NONE||t===Ci.LOCAL&&Rh(),e,"unsupported-persistence-type");return}Ru(t===Ci.NONE||n2(),e,"unsupported-persistence-type")}async function tb(e){await e._initializationPromise;const t=r2(),n=ra(s2,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Aj(e,t){const n=r2();if(!n)return[];const i=ra(s2,e,t);switch(n.getItem(i)){case Ci.NONE:return[Gl];case Ci.LOCAL:return[Xl,lo];case Ci.SESSION:return[lo];default:return[]}}function r2(){var e;try{return((e=Tj())===null||e===void 0?void 0:e.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=K;class Kr{constructor(){this.browserResolver=Ri(Zx),this.cordovaResolver=Ri(fj),this.underlyingResolver=null,this._redirectPersistence=lo,this._completeRedirectFn=mm,this._overrideRedirectResult=D0}async _initialize(t){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(t)}async _openPopup(t,n,i,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(t,n,i,s)}async _openRedirect(t,n,i,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(t,n,i,s)}_isIframeWebStorageSupported(t,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(t,n)}_originValidation(t){return this.assertedUnderlyingResolver._originValidation(t)}get _shouldInitProactively(){return i2()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Cj(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const t=await Ij();this.underlyingResolver=t?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(e){return e.unwrap()}function Pj(e){return e.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(e){return a2(e)}function kj(e,t){var n;const i=(n=t.customData)===null||n===void 0?void 0:n._tokenResponse;if((t==null?void 0:t.code)==="auth/multi-factor-auth-required"){const s=t;s.resolver=new xj(e,d6(e,t))}else if(i){const s=a2(t),o=t;s&&(o.credential=s,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function a2(e){const{_tokenResponse:t}=e instanceof Hn?e.customData:e;if(!t)return null;if(!(e instanceof Hn)&&"temporaryProof"in t&&"phoneNumber"in t)return pa.credentialFromResult(e);const n=t.providerId;if(!n||n===Pu.PASSWORD)return null;let i;switch(n){case Pu.GOOGLE:i=bs;break;case Pu.FACEBOOK:i=vs;break;case Pu.GITHUB:i=ws;break;case Pu.TWITTER:i=Es;break;default:const{oauthIdToken:s,oauthAccessToken:o,oauthTokenSecret:a,pendingToken:c,nonce:u}=t;return!o&&!a&&!s&&!c?null:c?n.startsWith("saml.")?Yl._create(n,c):Ms._fromParams({providerId:n,signInMethod:n,pendingToken:c,idToken:s,accessToken:o}):new Nl(n).credential({idToken:s,accessToken:o,rawNonce:u})}return e instanceof Hn?i.credentialFromError(e):i.credentialFromResult(e)}function hi(e,t){return t.catch(n=>{throw n instanceof Hn&&kj(e,n),n}).then(n=>{const i=n.operationType,s=n.user;return{operationType:i,credential:Rj(n),additionalUserInfo:a6(n),user:_m.getOrCreate(s)}})}async function eb(e,t){const n=await t;return{verificationId:n.verificationId,confirm:i=>hi(e,n.confirm(i))}}class xj{constructor(t,n){this.resolver=n,this.auth=Pj(t)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(t){return hi(o2(this.auth),this.resolver.resolveSignIn(t))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _m=class Hu{constructor(t){this._delegate=t,this.multiFactor=m6(t)}static getOrCreate(t){return Hu.USER_MAP.has(t)||Hu.USER_MAP.set(t,new Hu(t)),Hu.USER_MAP.get(t)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(t){return this._delegate.getIdTokenResult(t)}getIdToken(t){return this._delegate.getIdToken(t)}linkAndRetrieveDataWithCredential(t){return this.linkWithCredential(t)}async linkWithCredential(t){return hi(this.auth,Mx(this._delegate,t))}async linkWithPhoneNumber(t,n){return eb(this.auth,q6(this._delegate,t,n))}async linkWithPopup(t){return hi(this.auth,eB(this._delegate,t,Kr))}async linkWithRedirect(t){return await tb(ze(this.auth)),uB(this._delegate,t,Kr)}reauthenticateAndRetrieveDataWithCredential(t){return this.reauthenticateWithCredential(t)}async reauthenticateWithCredential(t){return hi(this.auth,Nx(this._delegate,t))}reauthenticateWithPhoneNumber(t,n){return eb(this.auth,K6(this._delegate,t,n))}reauthenticateWithPopup(t){return hi(this.auth,tB(this._delegate,t,Kr))}async reauthenticateWithRedirect(t){return await tb(ze(this.auth)),lB(this._delegate,t,Kr)}sendEmailVerification(t){return Q9(this._delegate,t)}async unlink(t){return await V9(this._delegate,t),this}updateEmail(t){return t6(this._delegate,t)}updatePassword(t){return e6(this._delegate,t)}updatePhoneNumber(t){return G6(this._delegate,t)}updateProfile(t){return Yv(this._delegate,t)}verifyBeforeUpdateEmail(t,n){return J9(this._delegate,t,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};_m.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=K;class nb{constructor(t,n){if(this.app=t,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:i}=t.options;ku(i,"invalid-api-key",{appName:t.name}),ku(i,"invalid-api-key",{appName:t.name});const s=typeof window<"u"?Kr:void 0;this._delegate=n.initialize({options:{persistence:Dj(i,t.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(R3),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?_m.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(t){this._delegate.languageCode=t}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(t){this._delegate.tenantId=t}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(t,n){Ax(this._delegate,t,n)}applyActionCode(t){return $9(this._delegate,t)}checkActionCode(t){return Lx(this._delegate,t)}confirmPasswordReset(t,n){return j9(this._delegate,t,n)}async createUserWithEmailAndPassword(t,n){return hi(this._delegate,z9(this._delegate,t,n))}fetchProvidersForEmail(t){return this.fetchSignInMethodsForEmail(t)}fetchSignInMethodsForEmail(t){return X9(this._delegate,t)}isSignInWithEmailLink(t){return K9(this._delegate,t)}async getRedirectResult(){ku(nv(),this._delegate,"operation-not-supported-in-this-environment");const t=await dB(this._delegate,Kr);return t?hi(this._delegate,Promise.resolve(t)):{credential:null,user:null}}addFrameworkForLogging(t){pj(this._delegate,t)}onAuthStateChanged(t,n,i){const{next:s,error:o,complete:a}=ZA(t,n,i);return this._delegate.onAuthStateChanged(s,o,a)}onIdTokenChanged(t,n,i){const{next:s,error:o,complete:a}=ZA(t,n,i);return this._delegate.onIdTokenChanged(s,o,a)}sendSignInLinkToEmail(t,n){return q9(this._delegate,t,n)}sendPasswordResetEmail(t,n){return B9(this._delegate,t,n||void 0)}async setPersistence(t){Sj(this._delegate,t);let n;switch(t){case Ci.SESSION:n=lo;break;case Ci.LOCAL:n=await Ri(Xl)._isAvailable()?Xl:hd;break;case Ci.NONE:n=Gl;break;default:return Sn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(t){return this.signInWithCredential(t)}signInAnonymously(){return hi(this._delegate,L9(this._delegate))}signInWithCredential(t){return hi(this._delegate,hm(this._delegate,t))}signInWithCustomToken(t){return hi(this._delegate,U9(this._delegate,t))}signInWithEmailAndPassword(t,n){return hi(this._delegate,W9(this._delegate,t,n))}signInWithEmailLink(t,n){return hi(this._delegate,G9(this._delegate,t,n))}signInWithPhoneNumber(t,n){return eb(this._delegate,W6(this._delegate,t,n))}async signInWithPopup(t){return ku(nv(),this._delegate,"operation-not-supported-in-this-environment"),hi(this._delegate,Z6(this._delegate,t,Kr))}async signInWithRedirect(t){return ku(nv(),this._delegate,"operation-not-supported-in-this-environment"),await tb(this._delegate),oB(this._delegate,t,Kr)}updateCurrentUser(t){return this._delegate.updateCurrentUser(t)}verifyPasswordResetCode(t){return H9(this._delegate,t)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}nb.Persistence=Ci;function ZA(e,t,n){let i=e;typeof e!="function"&&({next:i,error:t,complete:n}=e);const s=i;return{next:a=>s(a&&_m.getOrCreate(a)),error:t,complete:n}}function Dj(e,t){const n=Aj(e,t);if(typeof self<"u"&&!n.includes(Xl)&&n.push(Xl),typeof window<"u")for(const i of[hd,lo])n.includes(i)||n.push(i);return n.includes(Gl)||n.push(Gl),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(){this.providerId="phone",this._delegate=new pa(o2(pt.auth()))}static credential(t,n){return pa.credential(t,n)}verifyPhoneNumber(t,n){return this._delegate.verifyPhoneNumber(t,n)}unwrap(){return this._delegate}}N0.PHONE_SIGN_IN_METHOD=pa.PHONE_SIGN_IN_METHOD;N0.PROVIDER_ID=pa.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj=K;class Mj{constructor(t,n,i=pt.app()){var s;Oj((s=i.options)===null||s===void 0?void 0:s.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new H6(i.auth(),t,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj="auth-compat";function Lj(e){e.INTERNAL.registerComponent(new Os(Nj,t=>{const n=t.getProvider("app-compat").getImmediate(),i=t.getProvider("auth");return new nb(n,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ml.EMAIL_SIGNIN,PASSWORD_RESET:ml.PASSWORD_RESET,RECOVER_EMAIL:ml.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ml.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ml.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ml.VERIFY_EMAIL}},EmailAuthProvider:mo,FacebookAuthProvider:vs,GithubAuthProvider:ws,GoogleAuthProvider:bs,OAuthProvider:Nl,SAMLAuthProvider:hg,PhoneAuthProvider:N0,PhoneMultiFactorGenerator:t2,RecaptchaVerifier:Mj,TwitterAuthProvider:Es,Auth:nb,AuthCredential:pc,Error:Hn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion(gj,mj)}Lj(pt);function Vj(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var l2={exports:{}};(function(e){(function(){var t=window.CustomEvent;(!t||typeof t=="object")&&(t=function(w,T){T=T||{};var S=document.createEvent("CustomEvent");return S.initCustomEvent(w,!!T.bubbles,!!T.cancelable,T.detail||null),S},t.prototype=window.Event.prototype);function n(b){for(;b&&b!==document.body;){var w=window.getComputedStyle(b),T=function(S,k){return!(w[S]===void 0||w[S]===k)};if(w.opacity<1||T("zIndex","auto")||T("transform","none")||T("mixBlendMode","normal")||T("filter","none")||T("perspective","none")||w.isolation==="isolate"||w.position==="fixed"||w.webkitOverflowScrolling==="touch")return!0;b=b.parentElement}return!1}function i(b){for(;b;){if(b.localName==="dialog")return b;b=b.parentElement}return null}function s(b){b&&b.blur&&b!==document.body&&b.blur()}function o(b,w){for(var T=0;T<b.length;++T)if(b[T]===w)return!0;return!1}function a(b){return!b||!b.hasAttribute("method")?!1:b.getAttribute("method").toLowerCase()==="dialog"}function c(b){if(this.dialog_=b,this.replacedStyleTop_=!1,this.openAsModal_=!1,b.hasAttribute("role")||b.setAttribute("role","dialog"),b.show=this.show.bind(this),b.showModal=this.showModal.bind(this),b.close=this.close.bind(this),"returnValue"in b||(b.returnValue=""),"MutationObserver"in window){var w=new MutationObserver(this.maybeHideModal.bind(this));w.observe(b,{attributes:!0,attributeFilter:["open"]})}else{var T=!1,S=(function(){T?this.downgradeModal():this.maybeHideModal(),T=!1}).bind(this),k,x=function(D){if(D.target===b){var M="DOMNodeRemoved";T|=D.type.substr(0,M.length)===M,window.clearTimeout(k),k=window.setTimeout(S,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(D){b.addEventListener(D,x)})}Object.defineProperty(b,"open",{set:this.setOpen.bind(this),get:b.hasAttribute.bind(b,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),u.dm.removeDialog(this))},setOpen:function(b){b?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(b){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var w=document.createElement("div");this.dialog_.insertBefore(w,this.dialog_.firstChild),w.tabIndex=-1,w.focus(),this.dialog_.removeChild(w)}var T=document.createEvent("MouseEvents");T.initMouseEvent(b.type,b.bubbles,b.cancelable,window,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget),this.dialog_.dispatchEvent(T),b.stopPropagation()},focus_:function(){var b=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!b&&this.dialog_.tabIndex>=0&&(b=this.dialog_),!b){var w=["button","input","keygen","select","textarea"],T=w.map(function(S){return S+":not([disabled])"});T.push('[tabindex]:not([disabled]):not([tabindex=""])'),b=this.dialog_.querySelector(T.join(", "))}s(document.activeElement),b&&b.focus()},updateZIndex:function(b,w){if(b<w)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=b,this.backdrop_.style.zIndex=w},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!u.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");n(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,u.needsCentering(this.dialog_)?(u.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(b){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),b!==void 0&&(this.dialog_.returnValue=b);var w=new t("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(w)}};var u={};if(u.reposition=function(b){var w=document.body.scrollTop||document.documentElement.scrollTop,T=w+(window.innerHeight-b.offsetHeight)/2;b.style.top=Math.max(w,T)+"px"},u.isInlinePositionSetByStylesheet=function(b){for(var w=0;w<document.styleSheets.length;++w){var T=document.styleSheets[w],S=null;try{S=T.cssRules}catch{}if(S)for(var k=0;k<S.length;++k){var x=S[k],D=null;try{D=document.querySelectorAll(x.selectorText)}catch{}if(!(!D||!o(D,b))){var M=x.style.getPropertyValue("top"),V=x.style.getPropertyValue("bottom");if(M&&M!=="auto"||V&&V!=="auto")return!0}}}return!1},u.needsCentering=function(b){var w=window.getComputedStyle(b);return w.position!=="absolute"||b.style.top!=="auto"&&b.style.top!==""||b.style.bottom!=="auto"&&b.style.bottom!==""?!1:!u.isInlinePositionSetByStylesheet(b)},u.forceRegisterDialog=function(b){if((window.HTMLDialogElement||b.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",b),b.localName!=="dialog")throw new Error("Failed to register dialog: The element is not a dialog.");new c(b)},u.registerDialog=function(b){b.showModal||u.forceRegisterDialog(b)},u.DialogManager=function(){this.pendingDialogStack=[];var b=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",(function(w){this.forwardTab_=void 0,w.stopPropagation(),b([])}).bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(w){var T=[];w.forEach(function(S){for(var k=0,x;x=S.removedNodes[k];++k){if(x instanceof Element)x.localName==="dialog"&&T.push(x);else continue;T=T.concat(x.querySelectorAll("dialog"))}}),T.length&&b(T)}))},u.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},u.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},u.DialogManager.prototype.updateStacking=function(){for(var b=this.zIndexHigh_,w=0,T;T=this.pendingDialogStack[w];++w)T.updateZIndex(--b,--b),w===0&&(this.overlay.style.zIndex=--b);var S=this.pendingDialogStack[0];if(S){var k=S.dialog.parentNode||document.body;k.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},u.DialogManager.prototype.containedByTopDialog_=function(b){for(;b=i(b);){for(var w=0,T;T=this.pendingDialogStack[w];++w)if(T.dialog===b)return w===0;b=b.parentElement}return!1},u.DialogManager.prototype.handleFocus_=function(b){if(!this.containedByTopDialog_(b.target)&&(b.preventDefault(),b.stopPropagation(),s(b.target),this.forwardTab_!==void 0)){var w=this.pendingDialogStack[0],T=w.dialog,S=T.compareDocumentPosition(b.target);return S&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?w.focus_():document.documentElement.focus()),!1}},u.DialogManager.prototype.handleKey_=function(b){if(this.forwardTab_=void 0,b.keyCode===27){b.preventDefault(),b.stopPropagation();var w=new t("cancel",{bubbles:!1,cancelable:!0}),T=this.pendingDialogStack[0];T&&T.dialog.dispatchEvent(w)&&T.dialog.close()}else b.keyCode===9&&(this.forwardTab_=!b.shiftKey)},u.DialogManager.prototype.checkDOM_=function(b){var w=this.pendingDialogStack.slice();w.forEach(function(T){b.indexOf(T.dialog)!==-1?T.downgradeModal():T.maybeHideModal()})},u.DialogManager.prototype.pushDialog=function(b){var w=(this.zIndexHigh_-this.zIndexLow_)/2-1;return this.pendingDialogStack.length>=w?!1:(this.pendingDialogStack.unshift(b)===1&&this.blockDocument(),this.updateStacking(),!0)},u.DialogManager.prototype.removeDialog=function(b){var w=this.pendingDialogStack.indexOf(b);w!==-1&&(this.pendingDialogStack.splice(w,1),this.pendingDialogStack.length===0&&this.unblockDocument(),this.updateStacking())},u.dm=new u.DialogManager,u.formSubmitter=null,u.useValue=null,window.HTMLDialogElement===void 0){var d=document.createElement("form");if(d.setAttribute("method","dialog"),d.method!=="dialog"){var f=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(f){var g=f.get;f.get=function(){return a(this)?"dialog":g.call(this)};var _=f.set;f.set=function(b){return typeof b=="string"&&b.toLowerCase()==="dialog"?this.setAttribute("method",b):_.call(this,b)},Object.defineProperty(HTMLFormElement.prototype,"method",f)}}document.addEventListener("click",function(b){if(u.formSubmitter=null,u.useValue=null,!b.defaultPrevented){var w=b.target;if(!(!w||!a(w.form))){var T=w.type==="submit"&&["button","input"].indexOf(w.localName)>-1;if(!T){if(!(w.localName==="input"&&w.type==="image"))return;u.useValue=b.offsetX+","+b.offsetY}var S=i(w);S&&(u.formSubmitter=w)}}},!1);var v=HTMLFormElement.prototype.submit,I=function(){if(!a(this))return v.call(this);var b=i(this);b&&b.close()};HTMLFormElement.prototype.submit=I,document.addEventListener("submit",function(b){var w=b.target;if(a(w)){b.preventDefault();var T=i(w);if(T){var S=u.formSubmitter;S&&S.form===w?T.close(u.useValue||S.value):T.close(),u.formSubmitter=null}}},!0)}u.forceRegisterDialog=u.forceRegisterDialog,u.registerDialog=u.registerDialog,typeof e.exports=="object"?e.exports=u:window.dialogPolyfill=u})()})(l2);var Fj=l2.exports;const Uj=Vj(Fj);/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me={upgradeDom:function(e,t){},upgradeElement:function(e,t){},upgradeElements:function(e){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(e,t){},register:function(e){},downgradeElements:function(e){}};Me=function(){var e=[],t=[],n="mdlComponentConfigInternal_";function i(b,w){for(var T=0;T<e.length;T++)if(e[T].className===b)return typeof w<"u"&&(e[T]=w),e[T];return!1}function s(b){var w=b.getAttribute("data-upgraded");return w===null?[""]:w.split(",")}function o(b,w){var T=s(b);return T.indexOf(w)!==-1}function a(b,w,T){if("CustomEvent"in window&&typeof window.CustomEvent=="function")return new CustomEvent(b,{bubbles:w,cancelable:T});var S=document.createEvent("Events");return S.initEvent(b,w,T),S}function c(b,w){if(typeof b>"u"&&typeof w>"u")for(var T=0;T<e.length;T++)c(e[T].className,e[T].cssClass);else{var S=b;if(typeof w>"u"){var k=i(S);k&&(w=k.cssClass)}for(var x=document.querySelectorAll("."+w),D=0;D<x.length;D++)u(x[D],S)}}function u(b,w){if(!(typeof b=="object"&&b instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var T=a("mdl-componentupgrading",!0,!0);if(b.dispatchEvent(T),!T.defaultPrevented){var S=s(b),k=[];if(w)o(b,w)||k.push(i(w));else{var x=b.classList;e.forEach(function(yt){x.contains(yt.cssClass)&&k.indexOf(yt)===-1&&!o(b,yt.className)&&k.push(yt)})}for(var D=0,M=k.length,V;D<M;D++){if(V=k[D],V){S.push(V.className),b.setAttribute("data-upgraded",S.join(","));var z=new V.classConstructor(b);z[n]=V,t.push(z);for(var st=0,gt=V.callbacks.length;st<gt;st++)V.callbacks[st](b);V.widget&&(b[V.className]=z)}else throw new Error("Unable to find a registered component for the given class.");var J=a("mdl-componentupgraded",!0,!1);b.dispatchEvent(J)}}}function d(b){Array.isArray(b)||(b instanceof Element?b=[b]:b=Array.prototype.slice.call(b));for(var w=0,T=b.length,S;w<T;w++)S=b[w],S instanceof HTMLElement&&(u(S),S.children.length>0&&d(S.children))}function f(b){var w=typeof b.widget>"u"&&typeof b.widget>"u",T=!0;w||(T=b.widget||b.widget);var S={classConstructor:b.constructor||b.constructor,className:b.classAsString||b.classAsString,cssClass:b.cssClass||b.cssClass,widget:T,callbacks:[]};if(e.forEach(function(x){if(x.cssClass===S.cssClass)throw new Error("The provided cssClass has already been registered: "+x.cssClass);if(x.className===S.className)throw new Error("The provided className has already been registered")}),b.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");var k=i(b.classAsString,S);k||e.push(S)}function g(b,w){var T=i(b);T&&T.callbacks.push(w)}function _(){for(var b=0;b<e.length;b++)c(e[b].className)}function v(b){if(b){var w=t.indexOf(b);t.splice(w,1);var T=b.element_.getAttribute("data-upgraded").split(","),S=T.indexOf(b[n].classAsString);T.splice(S,1),b.element_.setAttribute("data-upgraded",T.join(","));var k=a("mdl-componentdowngraded",!0,!1);b.element_.dispatchEvent(k)}}function I(b){var w=function(S){t.filter(function(k){return k.element_===S}).forEach(v)};if(b instanceof Array||b instanceof NodeList)for(var T=0;T<b.length;T++)w(b[T]);else if(b instanceof Node)w(b);else throw new Error("Invalid argument provided to downgrade MDL nodes.")}return{upgradeDom:c,upgradeElement:u,upgradeElements:d,upgradeAllRegistered:_,registerUpgradedCallback:g,register:f,downgradeElements:I}}();Me.ComponentConfigPublic;Me.ComponentConfig;Me.Component;Me.upgradeDom=Me.upgradeDom;Me.upgradeElement=Me.upgradeElement;Me.upgradeElements=Me.upgradeElements;Me.upgradeAllRegistered=Me.upgradeAllRegistered;Me.registerUpgradedCallback=Me.registerUpgradedCallback;Me.register=Me.register;Me.downgradeElements=Me.downgradeElements;window.componentHandler=Me;window.componentHandler=Me;window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),Me.upgradeAllRegistered()):(Me.upgradeElement=function(){},Me.register=function(){})});/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var e=function(n){this.element_=n,this.init()};window.MaterialButton=e,e.prototype.Constant_={},e.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},e.prototype.blurHandler_=function(t){t&&this.element_.blur()},e.prototype.disable=function(){this.element_.disabled=!0},e.prototype.disable=e.prototype.disable,e.prototype.enable=function(){this.element_.disabled=!1},e.prototype.enable=e.prototype.enable,e.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var t=document.createElement("span");t.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),t.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(t)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:e,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var e=function(n){this.element_=n,this.init()};window.MaterialProgress=e,e.prototype.Constant_={},e.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},e.prototype.setProgress=function(t){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=t+"%")},e.prototype.setProgress=e.prototype.setProgress,e.prototype.setBuffer=function(t){this.bufferbar_.style.width=t+"%",this.auxbar_.style.width=100-t+"%"},e.prototype.setBuffer=e.prototype.setBuffer,e.prototype.init=function(){if(this.element_){var t=document.createElement("div");t.className="progressbar bar bar1",this.element_.appendChild(t),this.progressbar_=t,t=document.createElement("div"),t.className="bufferbar bar bar2",this.element_.appendChild(t),this.bufferbar_=t,t=document.createElement("div"),t.className="auxbar bar bar3",this.element_.appendChild(t),this.auxbar_=t,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:e,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var e=function(n){this.element_=n,this.init()};window.MaterialSpinner=e,e.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},e.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},e.prototype.createLayer=function(t){var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+t);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var o=document.createElement("div");o.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),o.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var a=[i,s,o],c=0;c<a.length;c++){var u=document.createElement("div");u.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),a[c].appendChild(u)}n.appendChild(i),n.appendChild(s),n.appendChild(o),this.element_.appendChild(n)},e.prototype.createLayer=e.prototype.createLayer,e.prototype.stop=function(){this.element_.classList.remove("is-active")},e.prototype.stop=e.prototype.stop,e.prototype.start=function(){this.element_.classList.add("is-active")},e.prototype.start=e.prototype.start,e.prototype.init=function(){if(this.element_){for(var t=1;t<=this.Constant_.MDL_SPINNER_LAYER_COUNT;t++)this.createLayer(t);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:e,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var e=function(n){this.element_=n,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=e,e.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},e.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},e.prototype.onKeyDown_=function(t){var n=t.target.value.split(`
`).length;t.keyCode===13&&n>=this.maxRows&&t.preventDefault()},e.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},e.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},e.prototype.onReset_=function(t){this.updateClasses_()},e.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},e.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},e.prototype.checkDisabled=e.prototype.checkDisabled,e.prototype.checkFocus=function(){this.element_.querySelector(":focus")?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},e.prototype.checkFocus=e.prototype.checkFocus,e.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},e.prototype.checkValidity=e.prototype.checkValidity,e.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},e.prototype.checkDirty=e.prototype.checkDirty,e.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},e.prototype.disable=e.prototype.disable,e.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},e.prototype.enable=e.prototype.enable,e.prototype.change=function(t){this.input_.value=t||"",this.updateClasses_()},e.prototype.change=e.prototype.change,e.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var t=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),t&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:e,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})})();(function(){(function(){var e,t=typeof Object.create=="function"?Object.create:function(r){function l(){}return l.prototype=r,new l},n;if(typeof Object.setPrototypeOf=="function")n=Object.setPrototypeOf;else{var i;t:{var s={xb:!0},o={};try{o.__proto__=s,i=o.xb;break t}catch{}i=!1}n=i?function(r,l){if(r.__proto__=l,r.__proto__!==l)throw new TypeError(r+" is not extensible");return r}:null}var a=n;function c(r,l){if(r.prototype=t(l.prototype),r.prototype.constructor=r,a)a(r,l);else for(var h in l)if(h!="prototype")if(Object.defineProperties){var p=Object.getOwnPropertyDescriptor(l,h);p&&Object.defineProperty(r,h,p)}else r[h]=l[h];r.K=l.prototype}var u=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,l,h){r!=Array.prototype&&r!=Object.prototype&&(r[l]=h.value)},d=typeof window<"u"&&window===this?this:typeof global<"u"&&global!=null?global:this;function f(r,l){if(l){var h=d;r=r.split(".");for(var p=0;p<r.length-1;p++){var m=r[p];m in h||(h[m]={}),h=h[m]}r=r[r.length-1],p=h[r],l=l(p),l!=p&&l!=null&&u(h,r,{configurable:!0,writable:!0,value:l})}}f("Object.is",function(r){return r||function(l,h){return l===h?l!==0||1/l===1/h:l!==l&&h!==h}}),f("Array.prototype.includes",function(r){return r||function(l,h){var p=this;p instanceof String&&(p=String(p));var m=p.length;for(h=h||0,0>h&&(h=Math.max(h+m,0));h<m;h++){var y=p[h];if(y===l||Object.is(y,l))return!0}return!1}});var g=this;function _(r){return r!==void 0}function v(r){return typeof r=="string"}var I=/^[\w+/_-]+[=]{0,2}$/,b=null;function w(){}function T(r){r.W=void 0,r.Xa=function(){return r.W?r.W:r.W=new r}}function S(r){var l=typeof r;if(l=="object")if(r){if(r instanceof Array)return"array";if(r instanceof Object)return l;var h=Object.prototype.toString.call(r);if(h=="[object Window]")return"object";if(h=="[object Array]"||typeof r.length=="number"&&typeof r.splice<"u"&&typeof r.propertyIsEnumerable<"u"&&!r.propertyIsEnumerable("splice"))return"array";if(h=="[object Function]"||typeof r.call<"u"&&typeof r.propertyIsEnumerable<"u"&&!r.propertyIsEnumerable("call"))return"function"}else return"null";else if(l=="function"&&typeof r.call>"u")return"object";return l}function k(r){return S(r)=="array"}function x(r){var l=S(r);return l=="array"||l=="object"&&typeof r.length=="number"}function D(r){return S(r)=="function"}function M(r){var l=typeof r;return l=="object"&&r!=null||l=="function"}var V="closure_uid_"+(1e9*Math.random()>>>0),z=0;function st(r,l,h){return r.call.apply(r.bind,arguments)}function gt(r,l,h){if(!r)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,p),r.apply(l,m)}}return function(){return r.apply(l,arguments)}}function J(r,l,h){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?J=st:J=gt,J.apply(null,arguments)}function yt(r,l){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),r.apply(this,p)}}function bt(r,l){for(var h in l)r[h]=l[h]}var pe=Date.now||function(){return+new Date};function dt(r,l){r=r.split(".");var h=g;r[0]in h||typeof h.execScript>"u"||h.execScript("var "+r[0]);for(var p;r.length&&(p=r.shift());)!r.length&&_(l)?h[p]=l:h[p]&&h[p]!==Object.prototype[p]?h=h[p]:h=h[p]={}}function Y(r,l){function h(){}h.prototype=l.prototype,r.K=l.prototype,r.prototype=new h,r.prototype.constructor=r,r.vc=function(p,m,y){for(var E=Array(arguments.length-2),C=2;C<arguments.length;C++)E[C-2]=arguments[C];return l.prototype[m].apply(p,E)}}function ct(r){if(Error.captureStackTrace)Error.captureStackTrace(this,ct);else{var l=Error().stack;l&&(this.stack=l)}r&&(this.message=String(r))}Y(ct,Error),ct.prototype.name="CustomError";var kt;function ae(r,l){r=r.split("%s");for(var h="",p=r.length-1,m=0;m<p;m++)h+=r[m]+(m<l.length?l[m]:"%s");ct.call(this,h+r[p])}Y(ae,ct),ae.prototype.name="AssertionError";function Ie(r,l){throw new ae("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}var _n=Array.prototype.indexOf?function(r,l){return Array.prototype.indexOf.call(r,l,void 0)}:function(r,l){if(v(r))return v(l)&&l.length==1?r.indexOf(l,0):-1;for(var h=0;h<r.length;h++)if(h in r&&r[h]===l)return h;return-1},ge=Array.prototype.forEach?function(r,l,h){Array.prototype.forEach.call(r,l,h)}:function(r,l,h){for(var p=r.length,m=v(r)?r.split(""):r,y=0;y<p;y++)y in m&&l.call(h,m[y],y,r)};function ri(r,l){for(var h=v(r)?r.split(""):r,p=r.length-1;0<=p;--p)p in h&&l.call(void 0,h[p],p,r)}var Nn=Array.prototype.filter?function(r,l){return Array.prototype.filter.call(r,l,void 0)}:function(r,l){for(var h=r.length,p=[],m=0,y=v(r)?r.split(""):r,E=0;E<h;E++)if(E in y){var C=y[E];l.call(void 0,C,E,r)&&(p[m++]=C)}return p},Mi=Array.prototype.map?function(r,l){return Array.prototype.map.call(r,l,void 0)}:function(r,l){for(var h=r.length,p=Array(h),m=v(r)?r.split(""):r,y=0;y<h;y++)y in m&&(p[y]=l.call(void 0,m[y],y,r));return p},ye=Array.prototype.some?function(r,l){return Array.prototype.some.call(r,l,void 0)}:function(r,l){for(var h=r.length,p=v(r)?r.split(""):r,m=0;m<h;m++)if(m in p&&l.call(void 0,p[m],m,r))return!0;return!1};function L(r,l){return 0<=_n(r,l)}function at(r,l){l=_n(r,l);var h;return(h=0<=l)&&tt(r,l),h}function tt(r,l){return Array.prototype.splice.call(r,l,1).length==1}function ft(r,l){t:{for(var h=r.length,p=v(r)?r.split(""):r,m=0;m<h;m++)if(m in p&&l.call(void 0,p[m],m,r)){l=m;break t}l=-1}0<=l&&tt(r,l)}function ne(r,l){var h=0;ri(r,function(p,m){l.call(void 0,p,m,r)&&tt(r,m)&&h++})}function me(r){return Array.prototype.concat.apply([],arguments)}function A(r){var l=r.length;if(0<l){for(var h=Array(l),p=0;p<l;p++)h[p]=r[p];return h}return[]}function R(r,l,h){return 2>=arguments.length?Array.prototype.slice.call(r,l):Array.prototype.slice.call(r,l,h)}var O=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},j=/&/g,F=/</g,X=/>/g,it=/"/g,G=/'/g,Z=/\x00/g,W=/[\x00&<>"']/;function ot(r,l){return r<l?-1:r>l?1:0}function mt(r){return W.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(j,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(F,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(X,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(it,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(G,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(Z,"&#0;"))),r}function _t(r,l,h){for(var p in r)l.call(h,r[p],p,r)}function At(r){var l={},h;for(h in r)l[h]=r[h];return l}var Ut="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qt(r,l){for(var h,p,m=1;m<arguments.length;m++){p=arguments[m];for(h in p)r[h]=p[h];for(var y=0;y<Ut.length;y++)h=Ut[y],Object.prototype.hasOwnProperty.call(p,h)&&(r[h]=p[h])}}var ie="StopIteration"in g?g.StopIteration:{message:"StopIteration",stack:""};function ve(){}ve.prototype.next=function(){throw ie},ve.prototype.ha=function(){return this};function oi(r){if(r instanceof ve)return r;if(typeof r.ha=="function")return r.ha(!1);if(x(r)){var l=0,h=new ve;return h.next=function(){for(;;){if(l>=r.length)throw ie;if(l in r)return r[l++];l++}},h}throw Error("Not implemented")}function wr(r,l){if(x(r))try{ge(r,l,void 0)}catch(h){if(h!==ie)throw h}else{r=oi(r);try{for(;;)l.call(void 0,r.next(),void 0,r)}catch(h){if(h!==ie)throw h}}}function Od(r){if(x(r))return A(r);r=oi(r);var l=[];return wr(r,function(h){l.push(h)}),l}function ls(r,l){this.g={},this.a=[],this.j=this.h=0;var h=arguments.length;if(1<h){if(h%2)throw Error("Uneven number of arguments");for(var p=0;p<h;p+=2)this.set(arguments[p],arguments[p+1])}else if(r)if(r instanceof ls)for(h=r.ja(),p=0;p<h.length;p++)this.set(h[p],r.get(h[p]));else for(p in r)this.set(p,r[p])}e=ls.prototype,e.la=function(){wo(this);for(var r=[],l=0;l<this.a.length;l++)r.push(this.g[this.a[l]]);return r},e.ja=function(){return wo(this),this.a.concat()},e.clear=function(){this.g={},this.j=this.h=this.a.length=0};function wo(r){if(r.h!=r.a.length){for(var l=0,h=0;l<r.a.length;){var p=r.a[l];Xe(r.g,p)&&(r.a[h++]=p),l++}r.a.length=h}if(r.h!=r.a.length){var m={};for(h=l=0;l<r.a.length;)p=r.a[l],Xe(m,p)||(r.a[h++]=p,m[p]=1),l++;r.a.length=h}}e.get=function(r,l){return Xe(this.g,r)?this.g[r]:l},e.set=function(r,l){Xe(this.g,r)||(this.h++,this.a.push(r),this.j++),this.g[r]=l},e.forEach=function(r,l){for(var h=this.ja(),p=0;p<h.length;p++){var m=h[p],y=this.get(m);r.call(l,y,m,this)}},e.ha=function(r){wo(this);var l=0,h=this.j,p=this,m=new ve;return m.next=function(){if(h!=p.j)throw Error("The map has changed since the iterator was created");if(l>=p.a.length)throw ie;var y=p.a[l++];return r?y:p.g[y]},m};function Xe(r,l){return Object.prototype.hasOwnProperty.call(r,l)}var Ni=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Md(r,l){if(r){r=r.split("&");for(var h=0;h<r.length;h++){var p=r[h].indexOf("="),m=null;if(0<=p){var y=r[h].substring(0,p);m=r[h].substring(p+1)}else y=r[h];l(y,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function p1(r,l,h,p){for(var m=h.length;0<=(l=r.indexOf(h,l))&&l<p;){var y=r.charCodeAt(l-1);if((y==38||y==63)&&(y=r.charCodeAt(l+m),!y||y==61||y==38||y==35))return l;l+=m+1}return-1}var g1=/#|$/;function Nd(r,l){var h=r.search(g1),p=p1(r,0,l,h);if(0>p)return null;var m=r.indexOf("&",p);return(0>m||m>h)&&(m=h),p+=l.length+1,decodeURIComponent(r.substr(p,m-p).replace(/\+/g," "))}var GM=/[?&]($|#)/;function Er(r,l){this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1;var h;r instanceof Er?(this.i=_(l)?l:r.i,r_(this,r.j),this.A=r.A,this.h=r.h,o_(this,r.C),this.g=r.g,a_(this,y1(r.a)),this.s=r.s):r&&(h=String(r).match(Ni))?(this.i=!!l,r_(this,h[1]||"",!0),this.A=Ec(h[2]||""),this.h=Ec(h[3]||"",!0),o_(this,h[4]),this.g=Ec(h[5]||"",!0),a_(this,h[6]||"",!0),this.s=Ec(h[7]||"")):(this.i=!!l,this.a=new Tc(null,this.i))}Er.prototype.toString=function(){var r=[],l=this.j;l&&r.push(Ic(l,m1,!0),":");var h=this.h;return(h||l=="file")&&(r.push("//"),(l=this.A)&&r.push(Ic(l,m1,!0),"@"),r.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.C,h!=null&&r.push(":",String(h))),(h=this.g)&&(this.h&&h.charAt(0)!="/"&&r.push("/"),r.push(Ic(h,h.charAt(0)=="/"?QM:XM,!0))),(h=this.a.toString())&&r.push("?",h),(h=this.s)&&r.push("#",Ic(h,ZM)),r.join("")};function r_(r,l,h){r.j=h?Ec(l,!0):l,r.j&&(r.j=r.j.replace(/:$/,""))}function o_(r,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);r.C=l}else r.C=null}function a_(r,l,h){l instanceof Tc?(r.a=l,tN(r.a,r.i)):(h||(l=Ic(l,JM)),r.a=new Tc(l,r.i))}function l_(r){return r instanceof Er?new Er(r):new Er(r,void 0)}function Ec(r,l){return r?l?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Ic(r,l,h){return v(r)?(r=encodeURI(r).replace(l,YM),h&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function YM(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var m1=/[#\/\?@]/g,XM=/[#\?:]/g,QM=/[#\?]/g,JM=/[#\?@]/g,ZM=/#/g;function Tc(r,l){this.g=this.a=null,this.h=r||null,this.j=!!l}function Ir(r){r.a||(r.a=new ls,r.g=0,r.h&&Md(r.h,function(l,h){r.add(decodeURIComponent(l.replace(/\+/g," ")),h)}))}e=Tc.prototype,e.add=function(r,l){Ir(this),this.h=null,r=Da(this,r);var h=this.a.get(r);return h||this.a.set(r,h=[]),h.push(l),this.g+=1,this};function Eo(r,l){Ir(r),l=Da(r,l),Xe(r.a.g,l)&&(r.h=null,r.g-=r.a.get(l).length,r=r.a,Xe(r.g,l)&&(delete r.g[l],r.h--,r.j++,r.a.length>2*r.h&&wo(r)))}e.clear=function(){this.a=this.h=null,this.g=0};function _1(r,l){return Ir(r),l=Da(r,l),Xe(r.a.g,l)}e.forEach=function(r,l){Ir(this),this.a.forEach(function(h,p){ge(h,function(m){r.call(l,m,p,this)},this)},this)},e.ja=function(){Ir(this);for(var r=this.a.la(),l=this.a.ja(),h=[],p=0;p<l.length;p++)for(var m=r[p],y=0;y<m.length;y++)h.push(l[p]);return h},e.la=function(r){Ir(this);var l=[];if(v(r))_1(this,r)&&(l=me(l,this.a.get(Da(this,r))));else{r=this.a.la();for(var h=0;h<r.length;h++)l=me(l,r[h])}return l},e.set=function(r,l){return Ir(this),this.h=null,r=Da(this,r),_1(this,r)&&(this.g-=this.a.get(r).length),this.a.set(r,[l]),this.g+=1,this},e.get=function(r,l){return r?(r=this.la(r),0<r.length?String(r[0]):l):l},e.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var r=[],l=this.a.ja(),h=0;h<l.length;h++){var p=l[h],m=encodeURIComponent(String(p));p=this.la(p);for(var y=0;y<p.length;y++){var E=m;p[y]!==""&&(E+="="+encodeURIComponent(String(p[y]))),r.push(E)}}return this.h=r.join("&")};function y1(r){var l=new Tc;return l.h=r.h,r.a&&(l.a=new ls(r.a),l.g=r.g),l}function Da(r,l){return l=String(l),r.j&&(l=l.toLowerCase()),l}function tN(r,l){l&&!r.j&&(Ir(r),r.h=null,r.a.forEach(function(h,p){var m=p.toLowerCase();p!=m&&(Eo(this,p),Eo(this,m),0<h.length&&(this.h=null,this.a.set(Da(this,m),A(h)),this.g+=h.length))},r)),r.j=l}function Io(r){this.a=l_(r)}function eN(r,l){l?r.a.a.set(en.Sa,l):Eo(r.a.a,en.Sa)}function nN(r,l){l!==null?r.a.a.set(en.Qa,l?"1":"0"):Eo(r.a.a,en.Qa)}function v1(r){return r.a.a.get(en.Pa)||null}function b1(r,l){l?r.a.a.set(en.PROVIDER_ID,l):Eo(r.a.a,en.PROVIDER_ID)}Io.prototype.toString=function(){return this.a.toString()};var en={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"},Oa;t:{var w1=g.navigator;if(w1){var E1=w1.userAgent;if(E1){Oa=E1;break t}}Oa=""}function Bt(r){return Oa.indexOf(r)!=-1}function I1(){return(Bt("Chrome")||Bt("CriOS"))&&!Bt("Edge")}function c_(r){return c_[" "](r),r}c_[" "]=w;function iN(r,l){var h=oN;return Object.prototype.hasOwnProperty.call(h,r)?h[r]:h[r]=l(r)}var T1=Bt("Opera"),Ve=Bt("Trident")||Bt("MSIE"),Tr=Bt("Edge"),sN=Tr||Ve,Hi=Bt("Gecko")&&!(Oa.toLowerCase().indexOf("webkit")!=-1&&!Bt("Edge"))&&!(Bt("Trident")||Bt("MSIE"))&&!Bt("Edge"),Yn=Oa.toLowerCase().indexOf("webkit")!=-1&&!Bt("Edge"),rN=Yn&&Bt("Mobile"),Sr=Bt("Macintosh");function S1(){var r=g.document;return r?r.documentMode:void 0}var Ld;t:{var u_="",h_=function(){var r=Oa;if(Hi)return/rv:([^\);]+)(\)|;)/.exec(r);if(Tr)return/Edge\/([\d\.]+)/.exec(r);if(Ve)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(Yn)return/WebKit\/(\S+)/.exec(r);if(T1)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(h_&&(u_=h_?h_[1]:""),Ve){var d_=S1();if(d_!=null&&d_>parseFloat(u_)){Ld=String(d_);break t}}Ld=u_}var oN={};function To(r){return iN(r,function(){for(var l=0,h=O(String(Ld)).split("."),p=O(String(r)).split("."),m=Math.max(h.length,p.length),y=0;l==0&&y<m;y++){var E=h[y]||"",C=p[y]||"";do{if(E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],C=/(\d*)(\D*)(.*)/.exec(C)||["","","",""],E[0].length==0&&C[0].length==0)break;l=ot(E[1].length==0?0:parseInt(E[1],10),C[1].length==0?0:parseInt(C[1],10))||ot(E[2].length==0,C[2].length==0)||ot(E[2],C[2]),E=E[3],C=C[3]}while(l==0)}return 0<=l})}var Sc,A1=g.document;Sc=A1&&Ve?S1()||(A1.compatMode=="CSS1Compat"?parseInt(Ld,10):5):void 0;function Ma(r,l){this.a=r===P1&&l||"",this.g=C1}Ma.prototype.ma=!0,Ma.prototype.ka=function(){return this.a},Ma.prototype.toString=function(){return"Const{"+this.a+"}"};var C1={},P1={};function So(){this.a="",this.h=k1}So.prototype.ma=!0,So.prototype.ka=function(){return this.a.toString()},So.prototype.g=function(){return 1},So.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function R1(r){return r instanceof So&&r.constructor===So&&r.h===k1?r.a:(Ie("expected object of type TrustedResourceUrl, got '"+r+"' of type "+S(r)),"type_error:TrustedResourceUrl")}function aN(){var r=JN;r instanceof Ma&&r.constructor===Ma&&r.g===C1?r=r.a:(Ie("expected object of type Const, got '"+r+"'"),r="type_error:Const");var l=new So;return l.a=r,l}var k1={};function vi(){this.a="",this.h=O1}vi.prototype.ma=!0,vi.prototype.ka=function(){return this.a.toString()},vi.prototype.g=function(){return 1},vi.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Ar(r){return r instanceof vi&&r.constructor===vi&&r.h===O1?r.a:(Ie("expected object of type SafeUrl, got '"+r+"' of type "+S(r)),"type_error:SafeUrl")}var x1=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Vd(r){return r instanceof vi?r:(r=typeof r=="object"&&r.ma?r.ka():String(r),x1.test(r)||(r="about:invalid#zClosurez"),f_(r))}function D1(r){return r instanceof vi?r:(r=typeof r=="object"&&r.ma?r.ka():String(r),x1.test(r)||(r="about:invalid#zClosurez"),f_(r))}var O1={};function f_(r){var l=new vi;return l.a=r,l}f_("about:blank");function Na(){this.a="",this.g=M1}Na.prototype.ma=!0;var M1={};Na.prototype.ka=function(){return this.a},Na.prototype.toString=function(){return"SafeStyle{"+this.a+"}"};function Cr(){this.a="",this.j=N1,this.h=null}Cr.prototype.g=function(){return this.h},Cr.prototype.ma=!0,Cr.prototype.ka=function(){return this.a.toString()},Cr.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function Fd(r){return r instanceof Cr&&r.constructor===Cr&&r.j===N1?r.a:(Ie("expected object of type SafeHtml, got '"+r+"' of type "+S(r)),"type_error:SafeHtml")}var N1={};function Ac(r,l){var h=new Cr;return h.a=r,h.h=l,h}Ac("<!DOCTYPE html>",0);var lN=Ac("",0);Ac("<br>",0);var cN=function(r){var l=!1,h;return function(){return l||(h=r(),l=!0),h}}(function(){if(typeof document>"u")return!1;var r=document.createElement("div"),l=document.createElement("div");return l.appendChild(document.createElement("div")),r.appendChild(l),r.firstChild?(l=r.firstChild.firstChild,r.innerHTML=Fd(lN),!l.parentElement):!1});function uN(r,l){if(r.src=R1(l),b===null)t:{if(l=g.document,(l=l.querySelector&&l.querySelector("script[nonce]"))&&(l=l.nonce||l.getAttribute("nonce"))&&I.test(l)){b=l;break t}b=""}l=b,l&&r.setAttribute("nonce",l)}function La(r,l){l=l instanceof vi?l:D1(l),r.assign(Ar(l))}function Pr(r,l){this.a=_(r)?r:0,this.g=_(l)?l:0}Pr.prototype.toString=function(){return"("+this.a+", "+this.g+")"},Pr.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},Pr.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},Pr.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this};function p_(r,l){this.width=r,this.height=l}e=p_.prototype,e.toString=function(){return"("+this.width+" x "+this.height+")"},e.aspectRatio=function(){return this.width/this.height},e.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},e.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},e.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};function Ud(r){return r?new y_(Cc(r)):kt||(kt=new y_)}function g_(r,l){var h=l||document;return h.querySelectorAll&&h.querySelector?h.querySelectorAll("."+r):L1(document,r,l)}function m_(r,l){var h=l||document;if(h.getElementsByClassName)r=h.getElementsByClassName(r)[0];else{h=document;var p=l||h;r=p.querySelectorAll&&p.querySelector&&r?p.querySelector(r?"."+r:""):L1(h,r,l)[0]||null}return r||null}function L1(r,l,h){var p;if(r=h||r,r.querySelectorAll&&r.querySelector&&l)return r.querySelectorAll(l?"."+l:"");if(l&&r.getElementsByClassName){var m=r.getElementsByClassName(l);return m}if(m=r.getElementsByTagName("*"),l){var y={};for(h=p=0;r=m[h];h++){var E=r.className;typeof E.split=="function"&&L(E.split(/\s+/),l)&&(y[p++]=r)}return y.length=p,y}return m}function hN(r,l){_t(l,function(h,p){h&&typeof h=="object"&&h.ma&&(h=h.ka()),p=="style"?r.style.cssText=h:p=="class"?r.className=h:p=="for"?r.htmlFor=h:V1.hasOwnProperty(p)?r.setAttribute(V1[p],h):p.lastIndexOf("aria-",0)==0||p.lastIndexOf("data-",0)==0?r.setAttribute(p,h):r[p]=h})}var V1={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Bd(r){return r.scrollingElement?r.scrollingElement:(Yn||r.compatMode!="CSS1Compat")&&r.body||r.documentElement}function Ao(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function Cc(r){return r.nodeType==9?r:r.ownerDocument||r.document}function __(r,l){if("textContent"in r)r.textContent=l;else if(r.nodeType==3)r.data=String(l);else if(r.firstChild&&r.firstChild.nodeType==3){for(;r.lastChild!=r.firstChild;)r.removeChild(r.lastChild);r.firstChild.data=String(l)}else{for(var h;h=r.firstChild;)r.removeChild(h);r.appendChild(Cc(r).createTextNode(String(l)))}}function F1(r,l){return l?dN(r,function(h){return!l||v(h.className)&&L(h.className.split(/\s+/),l)}):null}function dN(r,l){for(var h=0;r;){if(l(r))return r;r=r.parentNode,h++}return null}function y_(r){this.a=r||g.document||document}y_.prototype.N=function(){return v(void 0)?this.a.getElementById(void 0):void 0};var jd={Fc:!0},U1={Hc:!0},fN={Ec:!0},B1={Gc:!0};function Rr(){throw Error("Do not instantiate directly")}Rr.prototype.va=null,Rr.prototype.toString=function(){return this.content};function Pc(r,l,h,p){if(r=r(l||mN,void 0,h),p=(p||Ud()).a.createElement("DIV"),r=pN(r),r.match(gN),r=Ac(r,null),cN())for(;p.lastChild;)p.removeChild(p.lastChild);return p.innerHTML=Fd(r),p.childNodes.length==1&&(r=p.firstChild,r.nodeType==1&&(p=r)),p}function pN(r){if(!M(r))return mt(String(r));if(r instanceof Rr){if(r.fa===jd)return r.content;if(r.fa===B1)return mt(r.content)}return Ie("Soy template output is unsafe for use as HTML: "+r),"zSoyz"}var gN=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,mN={};function _N(r){if(r!=null)switch(r.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}function $d(){Rr.call(this)}Y($d,Rr),$d.prototype.fa=jd;function Ct(r){return r!=null&&r.fa===jd?r:r instanceof Cr?lt(Fd(r).toString(),r.g()):lt(mt(String(String(r))),_N(r))}function Hd(){Rr.call(this)}Y(Hd,Rr),Hd.prototype.fa=U1,Hd.prototype.va=1;function zd(r,l){this.content=String(r),this.va=l??null}Y(zd,Rr),zd.prototype.fa=B1;function Jt(r){return new zd(r,void 0)}var lt=function(r){function l(h){this.content=h}return l.prototype=r.prototype,function(h,p){return h=new l(String(h)),p!==void 0&&(h.va=p),h}}($d),yN=function(r){function l(h){this.content=h}return l.prototype=r.prototype,function(h){return new l(String(h))}}(Hd);function vN(r){function l(){}var h={label:Fe("New password")};l.prototype=r,r=new l;for(var p in h)r[p]=h[p];return r}function Fe(r){return(r=String(r))?new zd(r,void 0):""}var j1=function(r){function l(h){this.content=h}return l.prototype=r.prototype,function(h,p){return h=String(h),h?(h=new l(h),p!==void 0&&(h.va=p),h):""}}($d);function Xn(r){return r!=null&&r.fa===jd?String(String(r.content).replace(AN,"").replace(CN,"&lt;")).replace(IN,wN):mt(String(r))}function Co(r){return r!=null&&r.fa===U1?r=String(r).replace(b_,v_):r instanceof vi?r=String(Ar(r).toString()).replace(b_,v_):(r=String(r),SN.test(r)?r=r.replace(b_,v_):(Ie("Bad value `%s` for |filterNormalizeUri",[r]),r="#zSoyz")),r}function $1(r){return r!=null&&r.fa===fN?r=r.content:r==null?r="":r instanceof Na?r instanceof Na&&r.constructor===Na&&r.g===M1?r=r.a:(Ie("expected object of type SafeStyle, got '"+r+"' of type "+S(r)),r="type_error:SafeStyle"):(r=String(r),TN.test(r)||(Ie("Bad value `%s` for |filterCssValue",[r]),r="zSoyz")),r}var bN={"\0":"&#0;","	":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;"," ":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function wN(r){return bN[r]}var EN={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","\x07":"%07","\b":"%08","	":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","\x1B":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85"," ":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","！":"%EF%BC%81","＃":"%EF%BC%83","＄":"%EF%BC%84","＆":"%EF%BC%86","＇":"%EF%BC%87","（":"%EF%BC%88","）":"%EF%BC%89","＊":"%EF%BC%8A","＋":"%EF%BC%8B","，":"%EF%BC%8C","／":"%EF%BC%8F","：":"%EF%BC%9A","；":"%EF%BC%9B","＝":"%EF%BC%9D","？":"%EF%BC%9F","＠":"%EF%BC%A0","［":"%EF%BC%BB","］":"%EF%BC%BD"};function v_(r){return EN[r]}var IN=/[\x00\x22\x27\x3c\x3e]/g,b_=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,TN=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,SN=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,AN=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,CN=/</g;function w_(){return Jt("Enter a valid phone number")}function H1(){return Jt("Unable to send password reset code to specified email")}function z1(){return Jt("Something went wrong. Please try again.")}function W1(){return Jt("This email already exists without any means of sign-in. Please reset the password to recover.")}function q1(r){r=r||{};var l="";switch(r.code){case"invalid-argument":l+="Client specified an invalid argument.";break;case"invalid-configuration":l+="Client specified an invalid project configuration.";break;case"failed-precondition":l+="Request can not be executed in the current system state.";break;case"out-of-range":l+="Client specified an invalid range.";break;case"unauthenticated":l+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":l+="Client does not have sufficient permission.";break;case"not-found":l+="Specified resource is not found.";break;case"aborted":l+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":l+="The resource that a client tried to create already exists.";break;case"resource-exhausted":l+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":l+="Request cancelled by the client.";break;case"data-loss":l+="Unrecoverable data loss or data corruption.";break;case"unknown":l+="Unknown server error.";break;case"internal":l+="Internal server error.";break;case"not-implemented":l+="API method not implemented by the server.";break;case"unavailable":l+="Service unavailable.";break;case"deadline-exceeded":l+="Request deadline exceeded.";break;case"auth/user-disabled":l+="The user account has been disabled by an administrator.";break;case"auth/timeout":l+="The operation has timed out.";break;case"auth/too-many-requests":l+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":l+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":l+="A network error has occurred. Try again later.";break;case"restart-process":l+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":l+="No sign-in provider is available for the given email, please try with a different email."}return Jt(l)}function K1(){return Jt("Please login again to perform this operation")}function Rc(r,l,h){var p=Error.call(this);if(this.message=p.message,"stack"in p&&(this.stack=p.stack),this.code=PN+r,!(r=l)){switch(r="",this.code){case"firebaseui/merge-conflict":r+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:r+=z1()}r=Jt(r).toString()}this.message=r||"",this.credential=h||null}c(Rc,Error),Rc.prototype.toJSON=function(){return{code:this.code,message:this.message}};var PN="firebaseui/";function Po(){this.T=this.T,this.C=this.C}var RN=0;Po.prototype.T=!1,Po.prototype.m=function(){!this.T&&(this.T=!0,this.o(),RN!=0)&&(this[V]||(this[V]=++z))};function kc(r,l){r.T?_(void 0)?l.call(void 0):l():(r.C||(r.C=[]),r.C.push(_(void 0)?J(l,void 0):l))}Po.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function xc(r){r&&typeof r.m=="function"&&r.m()}var kN=Object.freeze||function(r){return r},G1=!Ve||9<=Number(Sc),xN=Ve&&!To("9"),DN=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var r=!1,l=Object.defineProperty({},"passive",{get:function(){r=!0}});try{g.addEventListener("test",w,l),g.removeEventListener("test",w,l)}catch{}return r}();function Bs(r,l){this.type=r,this.g=this.target=l,this.h=!1,this.qb=!0}Bs.prototype.stopPropagation=function(){this.h=!0},Bs.prototype.preventDefault=function(){this.qb=!1};function Qn(r,l){if(Bs.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var h=this.type=r.type,p=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=l,l=r.relatedTarget){if(Hi){t:{try{c_(l.nodeName);var m=!0;break t}catch{}m=!1}m||(l=null)}}else h=="mouseover"?l=r.fromElement:h=="mouseout"&&(l=r.toElement);this.relatedTarget=l,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.keyCode=r.keyCode||0,this.key=r.key||"",this.j=r.charCode||(h=="keypress"?r.keyCode:0),this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=v(r.pointerType)?r.pointerType:ON[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}Y(Qn,Bs);var ON=kN({2:"touch",3:"pen",4:"mouse"});Qn.prototype.stopPropagation=function(){Qn.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Qn.prototype.preventDefault=function(){Qn.K.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,xN)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}};var Dc="closure_listenable_"+(1e6*Math.random()|0),MN=0;function NN(r,l,h,p,m){this.listener=r,this.proxy=null,this.src=l,this.type=h,this.capture=!!p,this.La=m,this.key=++MN,this.sa=this.Ia=!1}function Wd(r){r.sa=!0,r.listener=null,r.proxy=null,r.src=null,r.La=null}function qd(r){this.src=r,this.a={},this.g=0}qd.prototype.add=function(r,l,h,p,m){var y=r.toString();r=this.a[y],r||(r=this.a[y]=[],this.g++);var E=I_(r,l,p,m);return-1<E?(l=r[E],h||(l.Ia=!1)):(l=new NN(l,this.src,y,!!p,m),l.Ia=h,r.push(l)),l};function E_(r,l){var h=l.type;h in r.a&&at(r.a[h],l)&&(Wd(l),r.a[h].length==0&&(delete r.a[h],r.g--))}function I_(r,l,h,p){for(var m=0;m<r.length;++m){var y=r[m];if(!y.sa&&y.listener==l&&y.capture==!!h&&y.La==p)return m}return-1}var T_="closure_lm_"+(1e6*Math.random()|0),S_={};function zi(r,l,h,p,m){if(p&&p.once)return Oc(r,l,h,p,m);if(k(l)){for(var y=0;y<l.length;y++)zi(r,l[y],h,p,m);return null}return h=C_(h),r&&r[Dc]?r.J.add(String(l),h,!1,M(p)?!!p.capture:!!p,m):Y1(r,l,h,!1,p,m)}function Y1(r,l,h,p,m,y){if(!l)throw Error("Invalid event type");var E=M(m)?!!m.capture:!!m,C=Kd(r);if(C||(r[T_]=C=new qd(r)),h=C.add(l,h,p,E,y),h.proxy)return h;if(p=LN(),h.proxy=p,p.src=r,p.listener=h,r.addEventListener)DN||(m=E),m===void 0&&(m=!1),r.addEventListener(l.toString(),p,m);else if(r.attachEvent)r.attachEvent(X1(l.toString()),p);else if(r.addListener&&r.removeListener)r.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function LN(){var r=VN,l=G1?function(h){return r.call(l.src,l.listener,h)}:function(h){if(h=r.call(l.src,l.listener,h),!h)return h};return l}function Oc(r,l,h,p,m){if(k(l)){for(var y=0;y<l.length;y++)Oc(r,l[y],h,p,m);return null}return h=C_(h),r&&r[Dc]?r.J.add(String(l),h,!0,M(p)?!!p.capture:!!p,m):Y1(r,l,h,!0,p,m)}function Ro(r,l,h,p,m){if(k(l))for(var y=0;y<l.length;y++)Ro(r,l[y],h,p,m);else p=M(p)?!!p.capture:!!p,h=C_(h),r&&r[Dc]?(r=r.J,l=String(l).toString(),l in r.a&&(y=r.a[l],h=I_(y,h,p,m),-1<h&&(Wd(y[h]),tt(y,h),y.length==0&&(delete r.a[l],r.g--)))):r&&(r=Kd(r))&&(l=r.a[l.toString()],r=-1,l&&(r=I_(l,h,p,m)),(h=-1<r?l[r]:null)&&kr(h))}function kr(r){if(typeof r!="number"&&r&&!r.sa){var l=r.src;if(l&&l[Dc])E_(l.J,r);else{var h=r.type,p=r.proxy;l.removeEventListener?l.removeEventListener(h,p,r.capture):l.detachEvent?l.detachEvent(X1(h),p):l.addListener&&l.removeListener&&l.removeListener(p),(h=Kd(l))?(E_(h,r),h.g==0&&(h.src=null,l[T_]=null)):Wd(r)}}}function X1(r){return r in S_?S_[r]:S_[r]="on"+r}function Q1(r,l,h,p){var m=!0;if((r=Kd(r))&&(l=r.a[l.toString()]))for(l=l.concat(),r=0;r<l.length;r++){var y=l[r];y&&y.capture==h&&!y.sa&&(y=J1(y,p),m=m&&y!==!1)}return m}function J1(r,l){var h=r.listener,p=r.La||r.src;return r.Ia&&kr(r),h.call(p,l)}function VN(r,l){if(r.sa)return!0;if(!G1){if(!l)t:{l=["window","event"];for(var h=g,p=0;p<l.length;p++)if(h=h[l[p]],h==null){l=null;break t}l=h}if(p=l,l=new Qn(p,this),h=!0,!(0>p.keyCode||p.returnValue!=null)){t:{var m=!1;if(p.keyCode==0)try{p.keyCode=-1;break t}catch{m=!0}(m||p.returnValue==null)&&(p.returnValue=!0)}for(p=[],m=l.g;m;m=m.parentNode)p.push(m);for(r=r.type,m=p.length-1;!l.h&&0<=m;m--){l.g=p[m];var y=Q1(p[m],r,!0,l);h=h&&y}for(m=0;!l.h&&m<p.length;m++)l.g=p[m],y=Q1(p[m],r,!1,l),h=h&&y}return h}return J1(r,new Qn(l,this))}function Kd(r){return r=r[T_],r instanceof qd?r:null}var A_="__closure_events_fn_"+(1e9*Math.random()>>>0);function C_(r){return D(r)?r:(r[A_]||(r[A_]=function(l){return r.handleEvent(l)}),r[A_])}function nn(){Po.call(this),this.J=new qd(this),this.wb=this,this.Ha=null}Y(nn,Po),nn.prototype[Dc]=!0,nn.prototype.Za=function(r){this.Ha=r},nn.prototype.removeEventListener=function(r,l,h,p){Ro(this,r,l,h,p)};function xr(r,l){var h,p=r.Ha;if(p)for(h=[];p;p=p.Ha)h.push(p);if(r=r.wb,p=l.type||l,v(l))l=new Bs(l,r);else if(l instanceof Bs)l.target=l.target||r;else{var m=l;l=new Bs(p,r),Qt(l,m)}if(m=!0,h)for(var y=h.length-1;!l.h&&0<=y;y--){var E=l.g=h[y];m=Gd(E,p,!0,l)&&m}if(l.h||(E=l.g=r,m=Gd(E,p,!0,l)&&m,l.h||(m=Gd(E,p,!1,l)&&m)),h)for(y=0;!l.h&&y<h.length;y++)E=l.g=h[y],m=Gd(E,p,!1,l)&&m;return m}nn.prototype.o=function(){if(nn.K.o.call(this),this.J){var r=this.J,l;for(l in r.a){for(var h=r.a[l],p=0;p<h.length;p++)Wd(h[p]);delete r.a[l],r.g--}}this.Ha=null};function Gd(r,l,h,p){if(l=r.J.a[String(l)],!l)return!0;l=l.concat();for(var m=!0,y=0;y<l.length;++y){var E=l[y];if(E&&!E.sa&&E.capture==h){var C=E.listener,N=E.La||E.src;E.Ia&&E_(r.J,E),m=C.call(N,p)!==!1&&m}}return m&&p.qb!=0}var bi={},Z1=0;function tE(r,l){if(!r)throw Error("Event target element must be provided!");if(r=P_(r),bi[r]&&bi[r].length)for(var h=0;h<bi[r].length;h++)xr(bi[r][h],l)}function FN(r){var l=P_(r.N());bi[l]&&bi[l].length&&(ft(bi[l],function(h){return h==r}),bi[l].length||delete bi[l])}function P_(r){return typeof r.a>"u"&&(r.a=Z1,Z1++),r.a}function Yd(r){if(!r)throw Error("Event target element must be provided!");nn.call(this),this.a=r}c(Yd,nn),Yd.prototype.N=function(){return this.a},Yd.prototype.register=function(){var r=P_(this.N());bi[r]?L(bi[r],this)||bi[r].push(this):bi[r]=[this]};function eE(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function R_(r,l){this.h=r,this.j=l,this.g=0,this.a=null}R_.prototype.get=function(){if(0<this.g){this.g--;var r=this.a;this.a=r.next,r.next=null}else r=this.h();return r};function nE(r,l){r.j(l),100>r.g&&(r.g++,l.next=r.a,r.a=l)}function iE(){this.g=this.a=null}var sE=new R_(function(){return new k_},function(r){r.reset()});iE.prototype.add=function(r,l){var h=sE.get();h.set(r,l),this.g?this.g.next=h:this.a=h,this.g=h};function UN(){var r=oE,l=null;return r.a&&(l=r.a,r.a=r.a.next,r.a||(r.g=null),l.next=null),l}function k_(){this.next=this.g=this.a=null}k_.prototype.set=function(r,l){this.a=r,this.g=l,this.next=null},k_.prototype.reset=function(){this.next=this.g=this.a=null};function rE(r){g.setTimeout(function(){throw r},0)}var x_;function BN(){var r=g.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Bt("Presto")&&(r=function(){var m=document.createElement("IFRAME");m.style.display="none",m.src="",document.documentElement.appendChild(m);var y=m.contentWindow;m=y.document,m.open(),m.write(""),m.close();var E="callImmediate"+Math.random(),C=y.location.protocol=="file:"?"*":y.location.protocol+"//"+y.location.host;m=J(function(N){(C=="*"||N.origin==C)&&N.data==E&&this.port1.onmessage()},this),y.addEventListener("message",m,!1),this.port1={},this.port2={postMessage:function(){y.postMessage(E,C)}}}),typeof r<"u"&&!Bt("Trident")&&!Bt("MSIE")){var l=new r,h={},p=h;return l.port1.onmessage=function(){if(_(h.next)){h=h.next;var m=h.gb;h.gb=null,m()}},function(m){p.next={gb:m},p=p.next,l.port2.postMessage(0)}}return typeof document<"u"&&"onreadystatechange"in document.createElement("SCRIPT")?function(m){var y=document.createElement("SCRIPT");y.onreadystatechange=function(){y.onreadystatechange=null,y.parentNode.removeChild(y),y=null,m(),m=null},document.documentElement.appendChild(y)}:function(m){g.setTimeout(m,0)}}function D_(r,l){Xd||jN(),O_||(Xd(),O_=!0),oE.add(r,l)}var Xd;function jN(){if(g.Promise&&g.Promise.resolve){var r=g.Promise.resolve(void 0);Xd=function(){r.then(aE)}}else Xd=function(){var l=aE;!D(g.setImmediate)||g.Window&&g.Window.prototype&&!Bt("Edge")&&g.Window.prototype.setImmediate==g.setImmediate?(x_||(x_=BN()),x_(l)):g.setImmediate(l)}}var O_=!1,oE=new iE;function aE(){for(var r;r=UN();){try{r.a.call(r.g)}catch(l){rE(l)}nE(sE,r)}O_=!1}function sn(r){if(this.a=ko,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,r!=w)try{var l=this;r.call(void 0,function(h){xo(l,Mc,h)},function(h){if(!(h instanceof Fa))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}xo(l,js,h)})}catch(h){xo(this,js,h)}}var ko=0,Mc=2,js=3;function lE(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}lE.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var cE=new R_(function(){return new lE},function(r){r.reset()});function M_(r,l,h){var p=cE.get();return p.s=r,p.g=l,p.j=h,p}function Ue(r){if(r instanceof sn)return r;var l=new sn(w);return xo(l,Mc,r),l}function Va(r){return new sn(function(l,h){h(r)})}sn.prototype.then=function(r,l,h){return hE(this,D(r)?r:null,D(l)?l:null,h)},sn.prototype.$goog_Thenable=!0,e=sn.prototype,e.fc=function(r,l){return r=M_(r,r,l),r.h=!0,N_(this,r),this},e.Ca=function(r,l){return hE(this,null,r,l)},e.cancel=function(r){this.a==ko&&D_(function(){var l=new Fa(r);uE(this,l)},this)};function uE(r,l){if(r.a==ko)if(r.h){var h=r.h;if(h.g){for(var p=0,m=null,y=null,E=h.g;E&&(E.h||(p++,E.a==r&&(m=E),!(m&&1<p)));E=E.next)m||(y=E);m&&(h.a==ko&&p==1?uE(h,l):(y?(p=y,p.next==h.j&&(h.j=p),p.next=p.next.next):fE(h),pE(h,m,js,l)))}r.h=null}else xo(r,js,l)}function N_(r,l){r.g||r.a!=Mc&&r.a!=js||dE(r),r.j?r.j.next=l:r.g=l,r.j=l}function hE(r,l,h,p){var m=M_(null,null,null);return m.a=new sn(function(y,E){m.s=l?function(C){try{var N=l.call(p,C);y(N)}catch(q){E(q)}}:y,m.g=h?function(C){try{var N=h.call(p,C);!_(N)&&C instanceof Fa?E(C):y(N)}catch(q){E(q)}}:E}),m.a.h=r,N_(r,m),m.a}e.hc=function(r){this.a=ko,xo(this,Mc,r)},e.ic=function(r){this.a=ko,xo(this,js,r)};function xo(r,l,h){if(r.a==ko){r===h&&(l=js,h=new TypeError("Promise cannot resolve to itself")),r.a=1;t:{var p=h,m=r.hc,y=r.ic;if(p instanceof sn){N_(p,M_(m||w,y||null,r));var E=!0}else if(eE(p))p.then(m,y,r),E=!0;else{if(M(p))try{var C=p.then;if(D(C)){$N(p,C,m,y,r),E=!0;break t}}catch(N){y.call(r,N),E=!0;break t}E=!1}}E||(r.A=h,r.a=l,r.h=null,dE(r),l!=js||h instanceof Fa||HN(r,h))}}function $N(r,l,h,p,m){function y(N){C||(C=!0,p.call(m,N))}function E(N){C||(C=!0,h.call(m,N))}var C=!1;try{l.call(r,E,y)}catch(N){y(N)}}function dE(r){r.i||(r.i=!0,D_(r.Hb,r))}function fE(r){var l=null;return r.g&&(l=r.g,r.g=l.next,l.next=null),r.g||(r.j=null),l}e.Hb=function(){for(var r;r=fE(this);)pE(this,r,this.a,this.A);this.i=!1};function pE(r,l,h,p){if(h==js&&l.g&&!l.h)for(;r&&r.s;r=r.h)r.s=!1;if(l.a)l.a.h=null,gE(l,h,p);else try{l.h?l.s.call(l.j):gE(l,h,p)}catch(m){mE.call(null,m)}nE(cE,l)}function gE(r,l,h){l==Mc?r.s.call(r.j,h):r.g&&r.g.call(r.j,h)}function HN(r,l){r.s=!0,D_(function(){r.s&&mE.call(null,l)})}var mE=rE;function Fa(r){ct.call(this,r)}Y(Fa,ct),Fa.prototype.name="cancel";function _E(r,l,h){l||(l={}),h=h||window;var p=r instanceof vi?r:Vd(typeof r.href<"u"?r.href:String(r));r=l.target||r.target;var m=[];for(y in l)switch(y){case"width":case"height":case"top":case"left":m.push(y+"="+l[y]);break;case"target":case"noopener":case"noreferrer":break;default:m.push(y+"="+(l[y]?1:0))}var y=m.join(",");return(Bt("iPhone")&&!Bt("iPod")&&!Bt("iPad")||Bt("iPad")||Bt("iPod"))&&h.navigator&&h.navigator.standalone&&r&&r!="_self"?(y=h.document.createElement("A"),p=p instanceof vi?p:D1(p),y.href=Ar(p),y.setAttribute("target",r),l.noreferrer&&y.setAttribute("rel","noreferrer"),l=document.createEvent("MouseEvent"),l.initMouseEvent("click",!0,!0,h,1),y.dispatchEvent(l),h={}):l.noreferrer?(h=h.open("",r,y),l=Ar(p).toString(),h&&(sN&&l.indexOf(";")!=-1&&(l="'"+l.replace(/'/g,"%27")+"'"),h.opener=null,l=Ac('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+mt(l)+'">',null),h.document.write(Fd(l)),h.document.close())):(h=h.open(Ar(p).toString(),r,y))&&l.noopener&&(h.opener=null),h}function yE(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch{}return!1}function Ua(r){_E(r,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function Qd(r,l){if(r=M(r)&&r.nodeType==1?r:document.querySelector(String(r)),r==null)throw Error(l||"Cannot find element.");return r}function $s(){return window.location.href}function zN(){var r=null;return new sn(function(l){g.document.readyState=="complete"?l():(r=function(){l()},Oc(window,"load",r))}).Ca(function(l){throw Ro(window,"load",r),l})}function WN(){for(var r=32,l=[];0<r;)l.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return l.join("")}function qN(r,l,h){return h=h===void 0?{}:h,Object.keys(r).filter(function(p){return l.includes(p)}).reduce(function(p,m){return p[m]=r[m],p},h)}function Dr(r){var l=YN;this.s=[],this.T=l,this.O=r||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}Dr.prototype.cancel=function(r){if(this.a)this.h instanceof Dr&&this.h.cancel();else{if(this.g){var l=this.g;delete this.g,r?l.cancel(r):(l.C--,0>=l.C&&l.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(r=new Lc,Jd(this),Nc(this,!1,r))}},Dr.prototype.L=function(r,l){this.A=!1,Nc(this,r,l)};function Nc(r,l,h){r.a=!0,r.h=h,r.j=!l,wE(r)}function Jd(r){if(r.a){if(!r.J)throw new Zd;r.J=!1}}Dr.prototype.callback=function(r){Jd(this),Nc(this,!0,r)};function vE(r,l,h){r.s.push([l,h,void 0]),r.a&&wE(r)}Dr.prototype.then=function(r,l,h){var p,m,y=new sn(function(E,C){p=E,m=C});return vE(this,p,function(E){E instanceof Lc?y.cancel():m(E)}),y.then(r,l,h)},Dr.prototype.$goog_Thenable=!0;function bE(r){return ye(r.s,function(l){return D(l[1])})}function wE(r){if(r.i&&r.a&&bE(r)){var l=r.i,h=tf[l];h&&(g.clearTimeout(h.a),delete tf[l]),r.i=0}r.g&&(r.g.C--,delete r.g),l=r.h;for(var p=h=!1;r.s.length&&!r.A;){var m=r.s.shift(),y=m[0],E=m[1];if(m=m[2],y=r.j?E:y)try{var C=y.call(m||r.O,l);_(C)&&(r.j=r.j&&(C==l||C instanceof Error),r.h=l=C),(eE(l)||typeof g.Promise=="function"&&l instanceof g.Promise)&&(p=!0,r.A=!0)}catch(N){l=N,r.j=!0,bE(r)||(h=!0)}}r.h=l,p&&(C=J(r.L,r,!0),p=J(r.L,r,!1),l instanceof Dr?(vE(l,C,p),l.l=!0):l.then(C,p)),h&&(l=new EE(l),tf[l.a]=l,r.i=l.a)}function Zd(){ct.call(this)}Y(Zd,ct),Zd.prototype.message="Deferred has already fired",Zd.prototype.name="AlreadyCalledError";function Lc(){ct.call(this)}Y(Lc,ct),Lc.prototype.message="Deferred was canceled",Lc.prototype.name="CanceledError";function EE(r){this.a=g.setTimeout(J(this.h,this),0),this.g=r}EE.prototype.h=function(){throw delete tf[this.a],this.g};var tf={};function KN(r){var l={},h=l.document||document,p=R1(r).toString(),m=document.createElement("SCRIPT"),y={rb:m,sb:void 0},E=new Dr(y),C=null,N=l.timeout!=null?l.timeout:5e3;return 0<N&&(C=window.setTimeout(function(){ef(m,!0);var q=new L_(QN,"Timeout reached for loading script "+p);Jd(E),Nc(E,!1,q)},N),y.sb=C),m.onload=m.onreadystatechange=function(){m.readyState&&m.readyState!="loaded"&&m.readyState!="complete"||(ef(m,l.xc||!1,C),E.callback(null))},m.onerror=function(){ef(m,!0,C);var q=new L_(XN,"Error while loading script "+p);Jd(E),Nc(E,!1,q)},y=l.attributes||{},Qt(y,{type:"text/javascript",charset:"UTF-8"}),hN(m,y),uN(m,r),GN(h).appendChild(m),E}function GN(r){var l=(r||document).getElementsByTagName("HEAD");return l&&l.length!=0?l[0]:r.documentElement}function YN(){if(this&&this.rb){var r=this.rb;r&&r.tagName=="SCRIPT"&&ef(r,!0,this.sb)}}function ef(r,l,h){h!=null&&g.clearTimeout(h),r.onload=w,r.onerror=w,r.onreadystatechange=w,l&&window.setTimeout(function(){Ao(r)},0)}var XN=0,QN=1;function L_(r,l){var h="Jsloader error (code #"+r+")";l&&(h+=": "+l),ct.call(this,h),this.code=r}Y(L_,ct);function Vc(){return g.google&&g.google.accounts&&g.google.accounts.id||null}function V_(r){this.a=r||Vc(),this.h=!1,this.g=null}V_.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())};function IE(r,l,h){if(r.a&&l)return function(){return r.h=!0,new sn(function(m){r.g=m,r.a.initialize({client_id:l,callback:m,auto_select:!h}),r.a.prompt()})}();if(l){var p=F_.Xa().load().then(function(){return r.a=Vc(),IE(r,l,h)}).Ca(function(){return null});return Ue(p)}return Ue(null)}T(V_);var JN=new Ma(P1,"https://accounts.google.com/gsi/client");function F_(){this.a=null}F_.prototype.load=function(){var r=this;if(this.a)return this.a;var l=aN();return Vc()?Ue():this.a=zN().then(function(){if(!Vc())return new sn(function(h,p){var m=setTimeout(function(){r.a=null,p(Error("Network error!"))},1e4);g.onGoogleLibraryLoad=function(){clearTimeout(m),h()},Ue(KN(l)).then(function(){Vc()&&h()}).Ca(function(y){clearTimeout(m),r.a=null,p(y)})})})},T(F_);function U_(r,l){this.a=r,this.g=l||function(h){throw h}}U_.prototype.confirm=function(r){return Ue(this.a.confirm(r)).Ca(this.g)};function B_(r,l,h){this.reset(r,l,h,void 0,void 0)}B_.prototype.a=null,B_.prototype.reset=function(r,l,h,p,m){this.h=p||pe(),this.j=r,this.s=l,this.g=h,delete this.a};function j_(r){this.s=r,this.a=this.h=this.j=this.g=null}function nf(r,l){this.name=r,this.value=l}nf.prototype.toString=function(){return this.name};var TE=new nf("SEVERE",1e3),SE=new nf("WARNING",900),AE=new nf("CONFIG",700);function CE(r){return r.j?r.j:r.g?CE(r.g):(Ie("Root logger has no level set."),null)}j_.prototype.log=function(r,l,h){if(r.value>=CE(this).value)for(D(l)&&(l=l()),r=new B_(r,String(l),this.s),h&&(r.a=h),h=this;h;){var p=h,m=r;if(p.a)for(var y=0;l=p.a[y];y++)l(m);h=h.g}};var $_={},Fc=null;function PE(){Fc||(Fc=new j_(""),$_[""]=Fc,Fc.j=AE)}function RE(r){PE();var l;if(!(l=$_[r])){l=new j_(r);var h=r.lastIndexOf("."),p=r.substr(h+1);h=RE(r.substr(0,h)),h.h||(h.h={}),h.h[p]=l,l.g=h,$_[r]=l}return l}function sf(){this.a=pe()}var H_=null;sf.prototype.set=function(r){this.a=r},sf.prototype.reset=function(){this.set(pe())},sf.prototype.get=function(){return this.a};function Uc(r){this.j=r||"",H_||(H_=new sf),this.s=H_}Uc.prototype.a=!0,Uc.prototype.g=!0,Uc.prototype.h=!1;function Do(r){return 10>r?"0"+r:String(r)}function ZN(r,l){r=(r.h-l)/1e3,l=r.toFixed(3);var h=0;if(1>r)h=2;else for(;100>r;)h++,r*=10;for(;0<h--;)l=" "+l;return l}function kE(r){Uc.call(this,r)}Y(kE,Uc);function tL(r,l){var h=[];if(h.push(r.j," "),r.g){var p=new Date(l.h);h.push("[",Do(p.getFullYear()-2e3)+Do(p.getMonth()+1)+Do(p.getDate())+" "+Do(p.getHours())+":"+Do(p.getMinutes())+":"+Do(p.getSeconds())+"."+Do(Math.floor(p.getMilliseconds()/10)),"] ")}return h.push("[",ZN(l,r.s.get()),"s] "),h.push("[",l.g,"] "),h.push(l.s),r.h&&(l=l.a)&&h.push(`
`,l instanceof Error?l.message:l.toString()),r.a&&h.push(`
`),h.join("")}function xE(){this.s=J(this.h,this),this.a=new kE,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}xE.prototype.h=function(r){function l(y){if(y){if(y.value>=TE.value)return"error";if(y.value>=SE.value)return"warn";if(y.value>=AE.value)return"log"}return"debug"}if(!this.j[r.g]){var h=tL(this.a,r),p=eL;if(p){var m=l(r.j);nL(p,m,h,r.a)}}};var eL=g.console;function nL(r,l,h,p){r[l]?r[l](h,p||""):r.log(h,p||"")}function wi(r,l){var h=z_;h&&h.log(TE,r,l)}var z_;z_=RE("firebaseui");var W_=new xE;if(W_.g!=1){var rf;PE(),rf=Fc;var iL=W_.s;rf.a||(rf.a=[]),rf.a.push(iL),W_.g=!0}function Or(r){var l=z_;l&&l.log(SE,r,void 0)}function DE(){this.a=(typeof document>"u"?null:document)||{cookie:""}}e=DE.prototype,e.set=function(r,l,h,p,m,y){if(/[;=\s]/.test(r))throw Error('Invalid cookie name "'+r+'"');if(/[;\r\n]/.test(l))throw Error('Invalid cookie value "'+l+'"');_(h)||(h=-1),m=m?";domain="+m:"",p=p?";path="+p:"",y=y?";secure":"",h=0>h?"":h==0?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(pe()+1e3*h).toUTCString(),this.a.cookie=r+"="+l+m+p+h+y},e.get=function(r,l){for(var h=r+"=",p=(this.a.cookie||"").split(";"),m=0,y;m<p.length;m++){if(y=O(p[m]),y.lastIndexOf(h,0)==0)return y.substr(h.length);if(y==r)return""}return l},e.ja=function(){return q_(this).keys},e.la=function(){return q_(this).values},e.clear=function(){for(var r=q_(this).keys,l=r.length-1;0<=l;l--){var h=r[l];this.get(h),this.set(h,"",0,void 0,void 0)}};function q_(r){r=(r.a.cookie||"").split(";");for(var l=[],h=[],p,m,y=0;y<r.length;y++)m=O(r[y]),p=m.indexOf("="),p==-1?(l.push(""),h.push(m)):(l.push(m.substring(0,p)),h.push(m.substring(p+1)));return{keys:l,values:h}}var of=new DE;function OE(){}function Ba(r,l,h,p){this.h=typeof r<"u"&&r!==null?r:-1,this.g=l||null,this.a=h||null,this.j=!!p}c(Ba,OE),Ba.prototype.set=function(r,l){of.set(r,l,this.h,this.g,this.a,this.j)},Ba.prototype.get=function(r){return of.get(r)||null},Ba.prototype.ra=function(r){var l=this.g,h=this.a;of.get(r),of.set(r,"",0,l,h)};function K_(r,l){this.g=r,this.a=l||null}function ME(r){return{email:r.g,credential:r.a&&r.a.toJSON()}}function NE(r){if(r&&r.email){var l=r.credential&&pt.auth.AuthCredential.fromJSON(r.credential);return new K_(r.email,l)}return null}function LE(r){this.a=r||null}function VE(r){for(var l=[],h=0,p=0;p<r.length;p++){var m=r.charCodeAt(p);255<m&&(l[h++]=m&255,m>>=8),l[h++]=m}return l}function sL(r){return Mi(r,function(l){return l=l.toString(16),1<l.length?l:"0"+l}).join("")}function af(r){for(this.i=r,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(ja*(this.j+1)),r=0;r<this.g;r++)this.a[r]=[this.i[4*r],this.i[4*r+1],this.i[4*r+2],this.i[4*r+3]];var l=Array(4);for(r=this.g;r<ja*(this.j+1);r++){if(l[0]=this.a[r-1][0],l[1]=this.a[r-1][1],l[2]=this.a[r-1][2],l[3]=this.a[r-1][3],r%this.g==0){var h=l,p=h[0];h[0]=h[1],h[1]=h[2],h[2]=h[3],h[3]=p,$E(l),l[0]^=cf[r/this.g][0],l[1]^=cf[r/this.g][1],l[2]^=cf[r/this.g][2],l[3]^=cf[r/this.g][3]}else 6<this.g&&r%this.g==4&&$E(l);this.a[r]=Array(4),this.a[r][0]=this.a[r-this.g][0]^l[0],this.a[r][1]=this.a[r-this.g][1]^l[1],this.a[r][2]=this.a[r-this.g][2]^l[2],this.a[r][3]=this.a[r-this.g][3]^l[3]}}af.prototype.A=16;var ja=af.prototype.A/4;function FE(r,l){for(var h,p=0;p<ja;p++)for(var m=0;4>m;m++)h=4*m+p,h=l[h],r.h[p][m]=h}function UE(r){for(var l=[],h=0;h<ja;h++)for(var p=0;4>p;p++)l[4*p+h]=r.h[h][p];return l}function $a(r,l){for(var h=0;4>h;h++)for(var p=0;4>p;p++)r.h[h][p]^=r.a[4*l+p][h]}function lf(r,l){for(var h=0;4>h;h++)for(var p=0;4>p;p++)r.h[h][p]=l[r.h[h][p]]}function BE(r){for(var l=1;4>l;l++)for(var h=0;4>h;h++)r.s[l][h]=r.h[l][h];for(l=1;4>l;l++)for(h=0;4>h;h++)r.h[l][h]=r.s[l][(h+l)%ja]}function jE(r){for(var l=1;4>l;l++)for(var h=0;4>h;h++)r.s[l][(h+l)%ja]=r.h[l][h];for(l=1;4>l;l++)for(h=0;4>h;h++)r.h[l][h]=r.s[l][h]}function $E(r){r[0]=Ha[r[0]],r[1]=Ha[r[1]],r[2]=Ha[r[2]],r[3]=Ha[r[3]]}var Ha=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],HE=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],cf=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],uf=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],hf=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],df=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],ff=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],pf=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],gf=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function zE(r,l){r=new af(qE(r)),l=VE(l);for(var h=l.splice(0,16),p="",m;h.length;){m=16-h.length;for(var y=0;y<m;y++)h.push(0);for(m=r,FE(m,h),$a(m,0),h=1;h<m.j;++h){lf(m,Ha),BE(m),y=m.h;for(var E=m.s[0],C=0;4>C;C++)E[0]=y[0][C],E[1]=y[1][C],E[2]=y[2][C],E[3]=y[3][C],y[0][C]=uf[E[0]]^hf[E[1]]^E[2]^E[3],y[1][C]=E[0]^uf[E[1]]^hf[E[2]]^E[3],y[2][C]=E[0]^E[1]^uf[E[2]]^hf[E[3]],y[3][C]=hf[E[0]]^E[1]^E[2]^uf[E[3]];$a(m,h)}lf(m,Ha),BE(m),$a(m,m.j),p+=sL(UE(m)),h=l.splice(0,16)}return p}function WE(r,l){r=new af(qE(r));for(var h=[],p=0;p<l.length;p+=2)h.push(parseInt(l.substring(p,p+2),16));var m=h.splice(0,16);for(l="";m.length;){for(p=r,FE(p,m),$a(p,p.j),m=1;m<p.j;++m){jE(p),lf(p,HE),$a(p,p.j-m);for(var y=p.h,E=p.s[0],C=0;4>C;C++)E[0]=y[0][C],E[1]=y[1][C],E[2]=y[2][C],E[3]=y[3][C],y[0][C]=gf[E[0]]^ff[E[1]]^pf[E[2]]^df[E[3]],y[1][C]=df[E[0]]^gf[E[1]]^ff[E[2]]^pf[E[3]],y[2][C]=pf[E[0]]^df[E[1]]^gf[E[2]]^ff[E[3]],y[3][C]=ff[E[0]]^pf[E[1]]^df[E[2]]^gf[E[3]]}if(jE(p),lf(p,HE),$a(p,0),p=UE(p),8192>=p.length)p=String.fromCharCode.apply(null,p);else{for(m="",y=0;y<p.length;y+=8192)m+=String.fromCharCode.apply(null,R(p,y,y+8192));p=m}l+=p,m=h.splice(0,16)}return l.replace(/(\x00)+$/,"")}function qE(r){r=VE(r.substring(0,32));for(var l=32-r.length,h=0;h<l;h++)r.push(0);return r}function KE(r){var l=[];return G_(new rL,r,l),l.join("")}function rL(){}function G_(r,l,h){if(l==null)h.push("null");else{if(typeof l=="object"){if(k(l)){var p=l;l=p.length,h.push("[");for(var m="",y=0;y<l;y++)h.push(m),G_(r,p[y],h),m=",";h.push("]");return}if(l instanceof String||l instanceof Number||l instanceof Boolean)l=l.valueOf();else{h.push("{"),m="";for(p in l)Object.prototype.hasOwnProperty.call(l,p)&&(y=l[p],typeof y!="function"&&(h.push(m),YE(p,h),h.push(":"),G_(r,y,h),m=","));h.push("}");return}}switch(typeof l){case"string":YE(l,h);break;case"number":h.push(isFinite(l)&&!isNaN(l)?String(l):"null");break;case"boolean":h.push(String(l));break;case"function":h.push("null");break;default:throw Error("Unknown type: "+typeof l)}}}var GE={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},oL=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function YE(r,l){l.push('"',r.replace(oL,function(h){var p=GE[h];return p||(p="\\u"+(h.charCodeAt(0)|65536).toString(16).substr(1),GE[h]=p),p}),'"')}function Bc(r){this.a=r}Bc.prototype.set=function(r,l){_(l)?this.a.set(r,KE(l)):this.a.ra(r)},Bc.prototype.get=function(r){try{var l=this.a.get(r)}catch{return}if(l!==null)try{return JSON.parse(l)}catch{throw"Storage: Invalid value was encountered"}};function mf(){}Y(mf,OE),mf.prototype.clear=function(){var r=Od(this.ha(!0)),l=this;ge(r,function(h){l.ra(h)})};function _f(r){this.a=r}Y(_f,mf);function yf(r){if(!r.a)return!1;try{return r.a.setItem("__sak","1"),r.a.removeItem("__sak"),!0}catch{return!1}}e=_f.prototype,e.set=function(r,l){try{this.a.setItem(r,l)}catch{throw this.a.length==0?"Storage mechanism: Storage disabled":"Storage mechanism: Quota exceeded"}},e.get=function(r){if(r=this.a.getItem(r),!v(r)&&r!==null)throw"Storage mechanism: Invalid value was encountered";return r},e.ra=function(r){this.a.removeItem(r)},e.ha=function(r){var l=0,h=this.a,p=new ve;return p.next=function(){if(l>=h.length)throw ie;var m=h.key(l++);if(r)return m;if(m=h.getItem(m),!v(m))throw"Storage mechanism: Invalid value was encountered";return m},p},e.clear=function(){this.a.clear()},e.key=function(r){return this.a.key(r)};function Y_(){var r=null;try{r=window.localStorage||null}catch{}this.a=r}Y(Y_,_f);function X_(){var r=null;try{r=window.sessionStorage||null}catch{}this.a=r}Y(X_,_f);function za(r,l){this.g=r,this.a=l+"::"}Y(za,mf),za.prototype.set=function(r,l){this.g.set(this.a+r,l)},za.prototype.get=function(r){return this.g.get(this.a+r)},za.prototype.ra=function(r){this.g.ra(this.a+r)},za.prototype.ha=function(r){var l=this.g.ha(!0),h=this,p=new ve;return p.next=function(){for(var m=l.next();m.substr(0,h.a.length)!=h.a;)m=l.next();return r?m.substr(h.a.length):h.g.get(m)},p},yf(new Y_);var XE,QE=new X_;XE=yf(QE)?new za(QE,"firebaseui"):null;var Q_=new Bc(XE),J_={name:"pendingEmailCredential",storage:Q_},Oo={name:"redirectStatus",storage:Q_},jc={name:"redirectUrl",storage:Q_},Wa={name:"emailForSignIn",storage:new Bc(new Ba(3600,"/"))},$c={name:"pendingEncryptedCredential",storage:new Bc(new Ba(3600,"/"))};function qa(r,l){return r.storage.get(l?r.name+":"+l:r.name)}function ai(r,l){r.storage.a.ra(l?r.name+":"+l:r.name)}function Ka(r,l,h){r.storage.set(h?r.name+":"+h:r.name,l)}function JE(r){return qa(jc,r)||null}function cs(r){return r=qa(J_,r)||null,NE(r)}function us(r){ai(J_,r)}function ZE(r,l){Ka(J_,ME(r),l)}function Z_(r){return(r=qa(Oo,r)||null)&&typeof r.tenantId<"u"?new LE(r.tenantId):null}function aL(r,l){Ka(Oo,{tenantId:r.a},l)}function lL(r,l){l=qa(Wa,l);var h=null;if(l)try{var p=WE(r,l),m=JSON.parse(p);h=m&&m.email||null}catch{}return h}function cL(r,l){l=qa($c,l);var h=null;if(l)try{var p=WE(r,l);h=JSON.parse(p)}catch{}return NE(h||null)}function uL(r,l,h){Ka($c,zE(r,JSON.stringify(ME(l))),h)}function ty(){this.W={}}function Qe(r,l,h){if(l.toLowerCase()in r.W)throw Error("Configuration "+l+" has already been defined.");r.W[l.toLowerCase()]=h}function ey(r,l,h){if(!(l.toLowerCase()in r.W))throw Error("Configuration "+l+" is not defined.");r.W[l.toLowerCase()]=h}ty.prototype.get=function(r){if(!(r.toLowerCase()in this.W))throw Error("Configuration "+r+" is not defined.");return this.W[r.toLowerCase()]};function ny(r,l){if(r=r.get(l),!r)throw Error("Configuration "+l+" is required.");return r}function iy(){this.g=void 0,this.a={}}e=iy.prototype,e.set=function(r,l){tI(this,r,l,!1)},e.add=function(r,l){tI(this,r,l,!0)};function tI(r,l,h,p){for(var m=0;m<l.length;m++){var y=l.charAt(m);r.a[y]||(r.a[y]=new iy),r=r.a[y]}if(p&&r.g!==void 0)throw Error('The collection already contains the key "'+l+'"');r.g=h}e.get=function(r){t:{for(var l=this,h=0;h<r.length;h++)if(l=l.a[r.charAt(h)],!l){r=void 0;break t}r=l}return r?r.g:void 0},e.la=function(){var r=[];return eI(this,r),r};function eI(r,l){r.g!==void 0&&l.push(r.g);for(var h in r.a)eI(r.a[h],l)}e.ja=function(){var r=[];return nI(this,"",r),r};function nI(r,l,h){r.g!==void 0&&h.push(l);for(var p in r.a)nI(r.a[p],l+p,h)}e.clear=function(){this.a={},this.g=void 0};function iI(r){for(this.a=r,this.g=new iy,r=0;r<this.a.length;r++){var l=this.g.get("+"+this.a[r].b);l?l.push(this.a[r]):this.g.add("+"+this.a[r].b,[this.a[r]])}}function vf(r,l){r=r.g;var h={},p=0;for(r.g!==void 0&&(h[p]=r.g);p<l.length;p++){var m=l.charAt(p);if(!(m in r.a))break;r=r.a[m],r.g!==void 0&&(h[p]=r.g)}for(var y in h)if(h.hasOwnProperty(y))return h[y];return[]}function Mo(r){for(var l=0;l<Jn.length;l++)if(Jn[l].c===r)return Jn[l];return null}function sI(r){r=r.toUpperCase();for(var l=[],h=0;h<Jn.length;h++)Jn[h].f===r&&l.push(Jn[h]);return l}function rI(r){if(0<r.length&&r.charAt(0)=="+"){r=r.substring(1);for(var l=[],h=0;h<Jn.length;h++)Jn[h].b==r&&l.push(Jn[h]);r=l}else r=sI(r);return r}function oI(r){r.sort(function(l,h){return l.name.localeCompare(h.name,"en")})}var Jn=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"Åland Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Côte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaçao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Réunion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthélemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"São Tomé and Príncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];oI(Jn);var Hc=new iI(Jn);function aI(r,l){this.a=r,this.Aa=l}function lI(r){r=O(r);var l=vf(Hc,r);return 0<l.length?new aI(l[0].b=="1"?"1-US-0":l[0].c,O(r.substr(l[0].b.length+1))):null}function sy(r){var l=Mo(r.a);if(!l)throw Error("Country ID "+r.a+" not found.");return"+"+l.b+r.Aa}function cI(r,l){for(var h=0;h<r.length;h++)if(!L(uI,r[h])&&(Ga!==null&&r[h]in Ga||L(l,r[h])))return r[h];return null}var uI=["emailLink","password","phone"],Ga={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function hL(){this.a=new ty,Qe(this.a,"autoUpgradeAnonymousUsers"),Qe(this.a,"callbacks"),Qe(this.a,"credentialHelper",Ef),Qe(this.a,"immediateFederatedRedirect",!1),Qe(this.a,"popupMode",!1),Qe(this.a,"privacyPolicyUrl"),Qe(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),Qe(this.a,"queryParameterForWidgetMode","mode"),Qe(this.a,"signInFlow"),Qe(this.a,"signInOptions"),Qe(this.a,"signInSuccessUrl"),Qe(this.a,"siteName"),Qe(this.a,"tosUrl"),Qe(this.a,"widgetUrl"),Qe(this.a,"adminRestrictedOperation")}function bf(r){var l=!!r.a.get("autoUpgradeAnonymousUsers");return l&&!bI(r)&&wi('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),l}function wf(r){r=r.a.get("signInOptions")||[];for(var l=[],h=0;h<r.length;h++){var p=r[h];p=M(p)?p:{provider:p},p.provider&&l.push(p)}return l}function Ei(r,l){r=wf(r);for(var h=0;h<r.length;h++)if(r[h].provider===l)return r[h];return null}function Ya(r){return wf(r).map(function(l){return l.provider})}function zc(r,l){r=hI(r);for(var h=0;h<r.length;h++)if(r[h].providerId===l)return r[h];return null}function hI(r){return wf(r).map(function(l){if(Ga[l.provider]||L(wL,l.provider)){l={providerId:l.provider,S:l.providerName||null,V:l.fullLabel||null,ta:l.buttonColor||null,za:l.iconUrl?Ar(Vd(l.iconUrl)).toString():null};for(var h in l)l[h]===null&&delete l[h];return l}return{providerId:l.provider,S:l.providerName||null,V:l.fullLabel||null,ta:l.buttonColor||null,za:l.iconUrl?Ar(Vd(l.iconUrl)).toString():null,Ob:l.loginHintKey||null}})}function dI(r){var l=Ei(r,pt.auth.GoogleAuthProvider.PROVIDER_ID),h;if(h=l&&l.clientId){t:{if((window.location&&window.location.protocol)==="http:"||(window.location&&window.location.protocol)==="https:"){for(p in r=r.a.get("credentialHelper"),cy)if(cy[p]===r){var p=cy[p];break t}}p=Ef}h=p===ly}return h&&l.clientId||null}function fI(r){return r=Ei(r,pt.auth.EmailAuthProvider.PROVIDER_ID),!!(r&&r.disableSignUp&&r.disableSignUp.status)}function No(r){return r=r.a.get("adminRestrictedOperation")||null,!(!r||!r.status)}function dL(r){var l=null;if(wf(r).forEach(function(p){p.provider==pt.auth.PhoneAuthProvider.PROVIDER_ID&&M(p.recaptchaParameters)&&!Array.isArray(p.recaptchaParameters)&&(l=At(p.recaptchaParameters))}),l){var h=[];EL.forEach(function(p){typeof l[p]<"u"&&(h.push(p),delete l[p])}),h.length&&Or('The following provided "recaptchaParameters" keys are not allowed: '+h.join(", "))}return l}function fL(r){return(r=r.a.get("adminRestrictedOperation"))&&r.adminEmail?r.adminEmail:null}function pL(r){if(r=r.a.get("adminRestrictedOperation")||null){var l=r.helpLink||null;if(l&&typeof l=="string")return function(){Ua(l)}}return null}function gL(r){return(r=Ei(r,pt.auth.EmailAuthProvider.PROVIDER_ID))&&r.disableSignUp&&r.disableSignUp.adminEmail||null}function mL(r){if((r=Ei(r,pt.auth.EmailAuthProvider.PROVIDER_ID))&&r.disableSignUp){var l=r.disableSignUp.helpLink||null;if(l&&typeof l=="string")return function(){Ua(l)}}return null}function pI(r,l){return r=(r=Ei(r,l))&&r.scopes,Array.isArray(r)?r:[]}function gI(r,l){return r=(r=Ei(r,l))&&r.customParameters,M(r)?(r=At(r),l===pt.auth.GoogleAuthProvider.PROVIDER_ID&&delete r.login_hint,l===pt.auth.GithubAuthProvider.PROVIDER_ID&&delete r.login,r):null}function _L(r){r=Ei(r,pt.auth.PhoneAuthProvider.PROVIDER_ID);var l=null;return r&&typeof r.loginHint=="string"&&(l=lI(r.loginHint)),r&&r.defaultNationalNumber||l&&l.Aa||null}function yL(r){var l=(r=Ei(r,pt.auth.PhoneAuthProvider.PROVIDER_ID))&&r.defaultCountry||null;l=l&&sI(l);var h=null;return r&&typeof r.loginHint=="string"&&(h=lI(r.loginHint)),l&&l[0]||h&&Mo(h.a)||null}function ry(r){if(r=Ei(r,pt.auth.PhoneAuthProvider.PROVIDER_ID),!r)return null;var l=r.whitelistedCountries,h=r.blacklistedCountries;if(typeof l<"u"&&(!Array.isArray(l)||l.length==0))throw Error("WhitelistedCountries must be a non-empty array.");if(typeof h<"u"&&!Array.isArray(h))throw Error("BlacklistedCountries must be an array.");if(l&&h)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!l&&!h)return Jn;if(r=[],l){h={};for(var p=0;p<l.length;p++)for(var m=rI(l[p]),y=0;y<m.length;y++)h[m[y].c]=m[y];for(var E in h)h.hasOwnProperty(E)&&r.push(h[E])}else{for(E={},l=0;l<h.length;l++)for(m=rI(h[l]),p=0;p<m.length;p++)E[m[p].c]=m[p];for(m=0;m<Jn.length;m++)E!==null&&Jn[m].c in E||r.push(Jn[m])}return r}function mI(r){return ny(r.a,"queryParameterForWidgetMode")}function Je(r){var l=r.a.get("tosUrl")||null;if(r=r.a.get("privacyPolicyUrl")||null,l&&!r&&Or("Privacy Policy URL is missing, the link will not be displayed."),l&&r){if(typeof l=="function")return l;if(typeof l=="string")return function(){Ua(l)}}return null}function Ze(r){var l=r.a.get("tosUrl")||null,h=r.a.get("privacyPolicyUrl")||null;if(h&&!l&&Or("Term of Service URL is missing, the link will not be displayed."),l&&h){if(typeof h=="function")return h;if(typeof h=="string")return function(){Ua(h)}}return null}function _I(r){return(r=Ei(r,pt.auth.EmailAuthProvider.PROVIDER_ID))&&typeof r.requireDisplayName<"u"?!!r.requireDisplayName:!0}function Xa(r){return r=Ei(r,pt.auth.EmailAuthProvider.PROVIDER_ID),!(!r||r.signInMethod!==pt.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function vL(r){return r=Ei(r,pt.auth.EmailAuthProvider.PROVIDER_ID),!(!r||!r.forceSameDevice)}function bL(r){if(Xa(r)){var l={url:$s(),handleCodeInApp:!0};(r=Ei(r,pt.auth.EmailAuthProvider.PROVIDER_ID))&&typeof r.emailLinkSignIn=="function"&&Qt(l,r.emailLinkSignIn()),r=l.url;var h=$s();h instanceof Er||(h=l_(h)),r instanceof Er||(r=l_(r));var p=h;h=new Er(p);var m=!!r.j;m?r_(h,r.j):m=!!r.A,m?h.A=r.A:m=!!r.h,m?h.h=r.h:m=r.C!=null;var y=r.g;if(m)o_(h,r.C);else if(m=!!r.g){if(y.charAt(0)!="/"&&(p.h&&!p.g?y="/"+y:(p=h.g.lastIndexOf("/"),p!=-1&&(y=h.g.substr(0,p+1)+y))),y==".."||y==".")y="";else if(y.indexOf("./")!=-1||y.indexOf("/.")!=-1){p=y.lastIndexOf("/",0)==0,y=y.split("/");for(var E=[],C=0;C<y.length;){var N=y[C++];N=="."?p&&C==y.length&&E.push(""):N==".."?((1<E.length||E.length==1&&E[0]!="")&&E.pop(),p&&C==y.length&&E.push("")):(E.push(N),p=!0)}y=E.join("/")}}return m?h.g=y:m=r.a.toString()!=="",m?a_(h,y1(r.a)):m=!!r.s,m&&(h.s=r.s),l.url=h.toString(),l}return null}function oy(r){var l=!!r.a.get("immediateFederatedRedirect"),h=Ya(r);return r=yI(r),l&&h.length==1&&!L(uI,h[0])&&r==If}function yI(r){r=r.a.get("signInFlow");for(var l in uy)if(uy[l]==r)return uy[l];return If}function ay(r){return Wc(r).signInSuccess||null}function vI(r){return Wc(r).signInSuccessWithAuthResult||null}function bI(r){return Wc(r).signInFailure||null}function Wc(r){return r.a.get("callbacks")||{}}var ly="googleyolo",Ef="none",cy={nc:ly,NONE:Ef},If="redirect",uy={qc:"popup",rc:If},hy={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},wL=["anonymous"],EL=["sitekey","tabindex","callback","expired-callback"],qc,Qa,dy,wI,se={};function ut(r,l,h,p){se[r].apply(null,Array.prototype.slice.call(arguments,1))}function EI(r){return r.classList?r.classList:(r=r.className,v(r)&&r.match(/\S+/g)||[])}function Kc(r,l){return r.classList?r.classList.contains(l):L(EI(r),l)}function hs(r,l){r.classList?r.classList.add(l):Kc(r,l)||(r.className+=0<r.className.length?" "+l:l)}function ds(r,l){r.classList?r.classList.remove(l):Kc(r,l)&&(r.className=Nn(EI(r),function(h){return h!=l}).join(" "))}function yn(r){var l=r.type;switch(v(l)&&l.toLowerCase()){case"checkbox":case"radio":return r.checked?r.value:null;case"select-one":return l=r.selectedIndex,0<=l?r.options[l].value:null;case"select-multiple":l=[];for(var h,p=0;h=r.options[p];p++)h.selected&&l.push(h.value);return l.length?l:null;default:return r.value!=null?r.value:null}}function II(r,l){var h=r.type;switch(v(h)&&h.toLowerCase()){case"checkbox":case"radio":r.checked=l;break;case"select-one":if(r.selectedIndex=-1,v(l)){for(var p=0;h=r.options[p];p++)if(h.value==l){h.selected=!0;break}}break;case"select-multiple":for(v(l)&&(l=[l]),p=0;h=r.options[p];p++)if(h.selected=!1,l)for(var m,y=0;m=l[y];y++)h.value==m&&(h.selected=!0);break;default:r.value=l??""}}function IL(r){if(r.altKey&&!r.ctrlKey||r.metaKey||112<=r.keyCode&&123>=r.keyCode)return!1;if(Gc(r.keyCode))return!0;switch(r.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!Hi;default:return 166>r.keyCode||183<r.keyCode}}function TI(r,l,h,p,m,y){if(Yn&&!To("525"))return!0;if(Sr&&m)return Gc(r);if(m&&!p)return!1;if(!Hi){typeof l=="number"&&(l=fy(l));var E=l==17||l==18||Sr&&l==91;if((!h||Sr)&&E||Sr&&l==16&&(p||y))return!1}if((Yn||Tr)&&p&&h)switch(r){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Ve&&p&&l==r)return!1;switch(r){case 13:return Hi?y||m?!1:!(h&&p):!0;case 27:return!(Yn||Tr||Hi)}return Hi&&(p||m||y)?!1:Gc(r)}function Gc(r){if(48<=r&&57>=r||96<=r&&106>=r||65<=r&&90>=r||(Yn||Tr)&&r==0)return!0;switch(r){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return Hi;default:return!1}}function fy(r){if(Hi)r=TL(r);else if(Sr&&Yn)switch(r){case 93:r=91}return r}function TL(r){switch(r){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return r}}function Ja(r){nn.call(this),this.a=r,zi(r,"keydown",this.g,!1,this),zi(r,"click",this.h,!1,this)}Y(Ja,nn),Ja.prototype.g=function(r){(r.keyCode==13||Yn&&r.keyCode==3)&&SI(this,r)},Ja.prototype.h=function(r){SI(this,r)};function SI(r,l){var h=new CI(l);if(xr(r,h)){h=new AI(l);try{xr(r,h)}finally{l.stopPropagation()}}}Ja.prototype.o=function(){Ja.K.o.call(this),Ro(this.a,"keydown",this.g,!1,this),Ro(this.a,"click",this.h,!1,this),delete this.a};function AI(r){Qn.call(this,r.a),this.type="action"}Y(AI,Qn);function CI(r){Qn.call(this,r.a),this.type="beforeaction"}Y(CI,Qn);function Za(r){nn.call(this),this.a=r,r=Ve?"focusout":"blur",this.g=zi(this.a,Ve?"focusin":"focus",this,!Ve),this.h=zi(this.a,r,this,!Ve)}Y(Za,nn),Za.prototype.handleEvent=function(r){var l=new Qn(r.a);l.type=r.type=="focusin"||r.type=="focus"?"focusin":"focusout",xr(this,l)},Za.prototype.o=function(){Za.K.o.call(this),kr(this.g),kr(this.h),delete this.a};function Tf(r,l){nn.call(this),this.g=r||1,this.a=l||g,this.h=J(this.gc,this),this.j=pe()}Y(Tf,nn),e=Tf.prototype,e.Ka=!1,e.aa=null,e.gc=function(){if(this.Ka){var r=pe()-this.j;0<r&&r<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-r):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),xr(this,"tick"),this.Ka&&(Sf(this),this.start()))}},e.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=pe())};function Sf(r){r.Ka=!1,r.aa&&(r.a.clearTimeout(r.aa),r.aa=null)}e.o=function(){Tf.K.o.call(this),Sf(this),delete this.a};function SL(r,l){if(D(r))l&&(r=J(r,l));else if(r&&typeof r.handleEvent=="function")r=J(r.handleEvent,r);else throw Error("Invalid listener argument");return g.setTimeout(r,0)}function tl(r){Po.call(this),this.g=r,this.a={}}Y(tl,Po);var PI=[];function el(r,l,h,p){k(h)||(h&&(PI[0]=h.toString()),h=PI);for(var m=0;m<h.length;m++){var y=zi(l,h[m],p||r.handleEvent,!1,r.g||r);if(!y)break;r.a[y.key]=y}}function RI(r){_t(r.a,function(l,h){this.a.hasOwnProperty(h)&&kr(l)},r),r.a={}}tl.prototype.o=function(){tl.K.o.call(this),RI(this)},tl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Yc(r){nn.call(this),this.a=null,this.g=r,r=Ve||Tr||Yn&&!To("531")&&r.tagName=="TEXTAREA",this.h=new tl(this),el(this.h,this.g,r?["keydown","paste","cut","drop","input"]:"input",this)}Y(Yc,nn),Yc.prototype.handleEvent=function(r){if(r.type=="input")Ve&&To(10)&&r.keyCode==0&&r.j==0||(py(this),xr(this,kI(r)));else if(r.type!="keydown"||IL(r)){var l=r.type=="keydown"?this.g.value:null;Ve&&r.keyCode==229&&(l=null);var h=kI(r);py(this),this.a=SL(function(){this.a=null,this.g.value!=l&&xr(this,h)},this)}};function py(r){r.a!=null&&(g.clearTimeout(r.a),r.a=null)}function kI(r){return r=new Qn(r.a),r.type="input",r}Yc.prototype.o=function(){Yc.K.o.call(this),this.h.m(),py(this),delete this.g};function Xc(r,l){nn.call(this),r&&(this.Oa&&NI(this),this.qa=r,this.Na=zi(this.qa,"keypress",this,l),this.Ya=zi(this.qa,"keydown",this.Jb,l,this),this.Oa=zi(this.qa,"keyup",this.Kb,l,this))}Y(Xc,nn),e=Xc.prototype,e.qa=null,e.Na=null,e.Ya=null,e.Oa=null,e.R=-1,e.X=-1,e.Ua=!1;var xI={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},DI={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},OI=!Yn||To("525"),MI=Sr&&Hi;e=Xc.prototype,e.Jb=function(r){(Yn||Tr)&&(this.R==17&&!r.ctrlKey||this.R==18&&!r.altKey||Sr&&this.R==91&&!r.metaKey)&&(this.X=this.R=-1),this.R==-1&&(r.ctrlKey&&r.keyCode!=17?this.R=17:r.altKey&&r.keyCode!=18?this.R=18:r.metaKey&&r.keyCode!=91&&(this.R=91)),OI&&!TI(r.keyCode,this.R,r.shiftKey,r.ctrlKey,r.altKey,r.metaKey)?this.handleEvent(r):(this.X=fy(r.keyCode),MI&&(this.Ua=r.altKey))},e.Kb=function(r){this.X=this.R=-1,this.Ua=r.altKey},e.handleEvent=function(r){var l=r.a,h=l.altKey;if(Ve&&r.type=="keypress")var p=this.X,m=p!=13&&p!=27?l.keyCode:0;else(Yn||Tr)&&r.type=="keypress"?(p=this.X,m=0<=l.charCode&&63232>l.charCode&&Gc(p)?l.charCode:0):T1&&!Yn?(p=this.X,m=Gc(p)?l.keyCode:0):(r.type=="keypress"?(MI&&(h=this.Ua),l.keyCode==l.charCode?32>l.keyCode?(p=l.keyCode,m=0):(p=this.X,m=l.charCode):(p=l.keyCode||this.X,m=l.charCode||0)):(p=l.keyCode||this.X,m=l.charCode||0),Sr&&m==63&&p==224&&(p=191));var y=p=fy(p);p?63232<=p&&p in xI?y=xI[p]:p==25&&r.shiftKey&&(y=9):l.keyIdentifier&&l.keyIdentifier in DI&&(y=DI[l.keyIdentifier]),Hi&&OI&&r.type=="keypress"&&!TI(y,this.R,r.shiftKey,r.ctrlKey,h,r.metaKey)||(r=y==this.R,this.R=y,l=new LI(y,m,r,l),l.altKey=h,xr(this,l))},e.N=function(){return this.qa};function NI(r){r.Na&&(kr(r.Na),kr(r.Ya),kr(r.Oa),r.Na=null,r.Ya=null,r.Oa=null),r.qa=null,r.R=-1,r.X=-1}e.o=function(){Xc.K.o.call(this),NI(this)};function LI(r,l,h,p){Qn.call(this,p),this.type="key",this.keyCode=r,this.j=l,this.repeat=h}Y(LI,Qn);function nl(r,l,h,p){this.top=r,this.right=l,this.bottom=h,this.left=p}nl.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},nl.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},nl.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},nl.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};function Af(r,l){var h=Cc(r);return h.defaultView&&h.defaultView.getComputedStyle&&(r=h.defaultView.getComputedStyle(r,null))&&(r[l]||r.getPropertyValue(l))||""}function VI(r){try{var l=r.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}return Ve&&r.ownerDocument.body&&(r=r.ownerDocument,l.left-=r.documentElement.clientLeft+r.body.clientLeft,l.top-=r.documentElement.clientTop+r.body.clientTop),l}function AL(r,l){l=l||Bd(document);var h=l||Bd(document),p=FI(r),m=FI(h);if(!Ve||9<=Number(Sc)){E=Af(h,"borderLeftWidth");var y=Af(h,"borderRightWidth");C=Af(h,"borderTopWidth"),N=Af(h,"borderBottomWidth"),y=new nl(parseFloat(C),parseFloat(y),parseFloat(N),parseFloat(E))}else{var E=Cf(h,"borderLeft");y=Cf(h,"borderRight");var C=Cf(h,"borderTop"),N=Cf(h,"borderBottom");y=new nl(C,y,N,E)}h==Bd(document)?(E=p.a-h.scrollLeft,p=p.g-h.scrollTop,!Ve||10<=Number(Sc)||(E+=y.left,p+=y.top)):(E=p.a-m.a-y.left,p=p.g-m.g-y.top),m=r.offsetWidth,y=r.offsetHeight,C=Yn&&!m&&!y,_(m)&&!C||!r.getBoundingClientRect?r=new p_(m,y):(r=VI(r),r=new p_(r.right-r.left,r.bottom-r.top)),m=h.clientHeight-r.height,y=h.scrollLeft,C=h.scrollTop,y+=Math.min(E,Math.max(E-(h.clientWidth-r.width),0)),C+=Math.min(p,Math.max(p-m,0)),h=new Pr(y,C),l.scrollLeft=h.a,l.scrollTop=h.g}function FI(r){var l=Cc(r),h=new Pr(0,0),p=l?Cc(l):document;return p=!Ve||9<=Number(Sc)||Ud(p).a.compatMode=="CSS1Compat"?p.documentElement:p.body,r==p||(r=VI(r),p=Ud(l).a,l=Bd(p),p=p.parentWindow||p.defaultView,l=Ve&&To("10")&&p.pageYOffset!=l.scrollTop?new Pr(l.scrollLeft,l.scrollTop):new Pr(p.pageXOffset||l.scrollLeft,p.pageYOffset||l.scrollTop),h.a=r.left+l.a,h.g=r.top+l.g),h}var UI={thin:2,medium:4,thick:6};function Cf(r,l){if((r.currentStyle?r.currentStyle[l+"Style"]:null)=="none")return 0;var h=r.currentStyle?r.currentStyle[l+"Width"]:null;if(h in UI)r=UI[h];else if(/^\d+px?$/.test(h))r=parseInt(h,10);else{l=r.style.left;var p=r.runtimeStyle.left;r.runtimeStyle.left=r.currentStyle.left,r.style.left=h,h=r.style.pixelLeft,r.style.left=l,r.runtimeStyle.left=p,r=+h}return r}function gy(){}T(gy),gy.prototype.a=0;function Lo(r){nn.call(this),this.s=r||Ud(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}Y(Lo,nn),e=Lo.prototype,e.Lb=gy.Xa(),e.N=function(){return this.g};function Kt(r,l){return r.g?m_(l,r.g||r.s.a):null}function Qc(r){return r.L||(r.L=new tl(r)),r.L}e.Za=function(r){if(this.Y&&this.Y!=r)throw Error("Method not supported");Lo.K.Za.call(this,r)},e.kb=function(){this.g=this.s.a.createElement("DIV")},e.render=function(r){if(this.na)throw Error("Component already rendered");this.g||this.kb(),r?r.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},e.v=function(){this.na=!0,my(this,function(r){!r.na&&r.N()&&r.v()})},e.ya=function(){my(this,function(r){r.na&&r.ya()}),this.L&&RI(this.L),this.na=!1},e.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),my(this,function(r){r.m()}),this.g&&Ao(this.g),this.Y=this.g=this.oa=this.Ea=null,Lo.K.o.call(this)};function my(r,l){r.Ea&&ge(r.Ea,l,void 0)}e.removeChild=function(r,l){if(r){var h=v(r)?r:r.cb||(r.cb=":"+(r.Lb.a++).toString(36));if(this.oa&&h?(r=this.oa,r=(r!==null&&h in r?r[h]:void 0)||null):r=null,h&&r){var p=this.oa;if(h in p&&delete p[h],at(this.Ea,r),l&&(r.ya(),r.g&&Ao(r.g)),l=r,l==null)throw Error("Unable to set parent component");l.Y=null,Lo.K.Za.call(l,null)}}if(!r)throw Error("Child is not in parent component");return r};function Be(r,l){var h=F1(r,"firebaseui-textfield");l?(ds(r,"firebaseui-input-invalid"),hs(r,"firebaseui-input"),h&&ds(h,"firebaseui-textfield-invalid")):(ds(r,"firebaseui-input"),hs(r,"firebaseui-input-invalid"),h&&hs(h,"firebaseui-textfield-invalid"))}function il(r,l,h){l=new Yc(l),kc(r,yt(xc,l)),el(Qc(r),l,"input",h)}function Jc(r,l,h){l=new Xc(l),kc(r,yt(xc,l)),el(Qc(r),l,"key",function(p){p.keyCode==13&&(p.stopPropagation(),p.preventDefault(),h(p))})}function CL(r,l,h){l=new Za(l),kc(r,yt(xc,l)),el(Qc(r),l,"focusin",h)}function PL(r,l,h){l=new Za(l),kc(r,yt(xc,l)),el(Qc(r),l,"focusout",h)}function Oe(r,l,h){l=new Ja(l),kc(r,yt(xc,l)),el(Qc(r),l,"action",function(p){p.stopPropagation(),p.preventDefault(),h(p)})}function Ii(r){hs(r,"firebaseui-hidden")}function vn(r,l){l&&__(r,l),ds(r,"firebaseui-hidden")}function sl(r){return!Kc(r,"firebaseui-hidden")&&r.style.display!="none"}function rl(r){r=r||{};var l=r.email,h=r.disabled,p='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return p=r.wc?p+"Enter new email address":p+"Email",p+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+Xn(l??"")+'"'+(h?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',lt(p)}function li(r){r=r||{},r=r.label;var l='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return l=r?l+Ct(r):l+"Next",lt(l+"</button>")}function _y(){var r=""+li({label:Fe("Sign In")});return lt(r)}function BI(){var r=""+li({label:Fe("Save")});return lt(r)}function Wi(){var r=""+li({label:Fe("Continue")});return lt(r)}function jI(r){r=r||{},r=r.label;var l='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return l=r?l+Ct(r):l+"Choose password",lt(l+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function $I(){var r={},l='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return l=r.current?l+"Current password":l+"Password",lt(l+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function HI(){return lt('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function Ti(r){r=r||{},r=r.label;var l='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return l=r?l+Ct(r):l+"Cancel",lt(l+"</button>")}function Pn(r){var l="";return r.F&&r.D&&(l+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),lt(l)}function ol(r){var l="";return r.F&&r.D&&(l+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),lt(l)}function zI(r){return r='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+Ct(r.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',lt(r)}zI.a="firebaseui.auth.soy2.element.infoBar";function WI(r){var l=r.content;return r=r.Ab,lt('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(r?" "+Xn(r):"")+'">'+Ct(l)+"</dialog>")}function qI(r){var l=r.message;return lt(WI({content:j1('<div class="firebaseui-dialog-icon-wrapper"><div class="'+Xn(r.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+Ct(l)+"</div>")}))}qI.a="firebaseui.auth.soy2.element.progressDialog";function KI(r){var l='<div class="firebaseui-list-box-actions">';r=r.items;for(var h=r.length,p=0;p<h;p++){var m=r[p];l+='<button type="button" data-listboxid="'+Xn(m.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(m.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+Xn(m.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+Ct(m.label)+"</div></button>"}return l=""+WI({Ab:Fe("firebaseui-list-box-dialog"),content:j1(l+"</div>")}),lt(l)}KI.a="firebaseui.auth.soy2.element.listBoxDialog";function Pf(r){return r=r||{},lt(r.tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}Pf.a="firebaseui.auth.soy2.element.busyIndicator";function Mr(r,l){return r=r||{},r=r.ga,Jt(r.S?r.S:l.hb[r.providerId]?""+l.hb[r.providerId]:r.providerId&&r.providerId.indexOf("saml.")==0||r.providerId&&r.providerId.indexOf("oidc.")==0?r.providerId.substring(5):""+r.providerId)}function yy(r){GI(r,"upgradeElement")}function vy(r){GI(r,"downgradeElements")}var RL=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function GI(r,l){r&&window.componentHandler&&window.componentHandler[l]&&RL.forEach(function(h){Kc(r,h)&&window.componentHandler[l](r),ge(g_(h,r),function(p){window.componentHandler[l](p)})})}function YI(r,l,h){if(Rf.call(this),document.body.appendChild(r),r.showModal||window.dialogPolyfill.registerDialog(r),r.showModal(),yy(r),l&&Oe(this,r,function(y){var E=r.getBoundingClientRect();(y.clientX<E.left||E.left+E.width<y.clientX||y.clientY<E.top||E.top+E.height<y.clientY)&&Rf.call(this)}),!h){var p=this.N().parentElement||this.N().parentNode;if(p){var m=this;this.da=function(){if(r.open){var y=r.getBoundingClientRect().height,E=p.getBoundingClientRect().height,C=p.getBoundingClientRect().top-document.body.getBoundingClientRect().top,N=p.getBoundingClientRect().left-document.body.getBoundingClientRect().left,q=r.getBoundingClientRect().width,ht=p.getBoundingClientRect().width;r.style.top=(C+(E-y)/2).toString()+"px",y=N+(ht-q)/2,r.style.left=y.toString()+"px",r.style.right=(document.body.getBoundingClientRect().width-y-q).toString()+"px"}else window.removeEventListener("resize",m.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function Rf(){var r=by.call(this);r&&(vy(r),r.open&&r.close(),Ao(r),this.da&&window.removeEventListener("resize",this.da))}function by(){return m_("firebaseui-id-dialog")}function XI(){Ao(QI.call(this))}function QI(){return Kt(this,"firebaseui-id-info-bar")}function JI(){return Kt(this,"firebaseui-id-dismiss-info-bar")}var kL={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function wy(r,l,h){Bs.call(this,r,l);for(var p in h)this[p]=h[p]}Y(wy,Bs);function B(r,l,h,p,m){Lo.call(this,h),this.fb=r,this.eb=l,this.Fa=!1,this.Ga=p||null,this.A=this.ca=null,this.Z=At(kL),Qt(this.Z,m||{})}Y(B,Lo),e=B.prototype,e.kb=function(){var r=Pc(this.fb,this.eb,this.Z,this.s);yy(r),this.g=r},e.v=function(){if(B.K.v.call(this),tE(ke(this),new wy("pageEnter",ke(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var r=this.Z.F;Oe(this,this.bb(),function(){r()})}if(this.ab()&&this.Z.D){var l=this.Z.D;Oe(this,this.ab(),function(){l()})}},e.ya=function(){tE(ke(this),new wy("pageExit",ke(this),{pageId:this.Ga})),B.K.ya.call(this)},e.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,vy(this.N()),B.K.o.call(this)};function xL(r){r.Fa=!0;var l=Kc(r.N(),"firebaseui-use-spinner");r.ca=window.setTimeout(function(){r.N()&&r.A===null&&(r.A=Pc(Pf,{tb:l},null,r.s),r.N().appendChild(r.A),yy(r.A))},500)}e.I=function(r,l,h,p){function m(){if(y.T)return null;y.Fa=!1,window.clearTimeout(y.ca),y.ca=null,y.A&&(vy(y.A),Ao(y.A),y.A=null)}var y=this;return y.Fa?null:(xL(y),r.apply(null,l).then(h,p).then(m,m))};function ke(r){return r.N().parentElement||r.N().parentNode}function Zc(r,l,h){Jc(r,l,function(){h.focus()})}function al(r,l,h){Jc(r,l,function(){h()})}bt(B.prototype,{a:function(r){XI.call(this);var l=Pc(zI,{message:r},null,this.s);this.N().appendChild(l),Oe(this,JI.call(this),function(){Ao(l)})},yc:XI,Ac:QI,zc:JI,$:function(r,l){r=Pc(qI,{Ma:r,message:l},null,this.s),YI.call(this,r)},h:Rf,Cb:by,Cc:function(){return Kt(this,"firebaseui-tos")},bb:function(){return Kt(this,"firebaseui-tos-link")},ab:function(){return Kt(this,"firebaseui-pp-link")},Dc:function(){return Kt(this,"firebaseui-tos-list")}});function ZI(r,l,h){r=r||{},l=r.Va;var p=r.ia;return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+rl(r)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(l?Ti(null):"")+li(null)+'</div></div><div class="firebaseui-card-footer">'+(p?ol(h):Pn(h))+"</div></form></div>",lt(r)}ZI.a="firebaseui.auth.soy2.page.signIn";function tT(r,l,h){return r=r||{},l=r.ia,r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+rl(r)+$I()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+HI()+'</div><div class="firebaseui-form-actions">'+_y()+'</div></div><div class="firebaseui-card-footer">'+(l?ol(h):Pn(h))+"</div></form></div>",lt(r)}tT.a="firebaseui.auth.soy2.page.passwordSignIn";function eT(r,l,h){r=r||{};var p=r.Tb;l=r.Ta;var m=r.ia,y='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+rl(r);return p?(r=r||{},r=r.name,r='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+Xn(r??"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',r=lt(r)):r="",h=y+r+jI(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(l?Ti(null):"")+BI()+'</div></div><div class="firebaseui-card-footer">'+(m?ol(h):Pn(h))+"</div></form></div>",lt(h)}eT.a="firebaseui.auth.soy2.page.passwordSignUp";function nT(r,l,h){return r=r||{},l=r.Ta,r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+rl(r)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(l?Ti(null):"")+li({label:Fe("Send")})+'</div></div><div class="firebaseui-card-footer">'+Pn(h)+"</div></form></div>",lt(r)}nT.a="firebaseui.auth.soy2.page.passwordRecovery";function iT(r,l,h){l=r.G;var p="";return r="Follow the instructions sent to <strong>"+(Ct(r.email)+"</strong> to recover your password"),p+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions">',l&&(p+='<div class="firebaseui-form-actions">'+li({label:Fe("Done")})+"</div>"),p+='</div><div class="firebaseui-card-footer">'+Pn(h)+"</div></div>",lt(p)}iT.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent";function sT(r,l,h){return lt('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+Pf(null)+"</div></div>")}sT.a="firebaseui.auth.soy2.page.callback";function rT(r,l,h){return lt('<div class="firebaseui-container firebaseui-id-page-spinner">'+Pf({tb:!0})+"</div>")}rT.a="firebaseui.auth.soy2.page.spinner";function oT(){return lt('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}oT.a="firebaseui.auth.soy2.page.blank";function aT(r,l,h){l="",r="A sign-in email with additional instructions was sent to <strong>"+(Ct(r.email)+"</strong>. Check your email to complete sign-in.");var p=lt('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>');return l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+p+'</div><div class="firebaseui-form-actions">'+Ti({label:Fe("Back")})+'</div></div><div class="firebaseui-card-footer">'+Pn(h)+"</div></form></div>",lt(l)}aT.a="firebaseui.auth.soy2.page.emailLinkSignInSent";function lT(r,l,h){return r=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn't work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">`+lt('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+Ti({label:Fe("Back")})+'</div></div><div class="firebaseui-card-footer">'+Pn(h)+"</div></form></div>",lt(r)}lT.a="firebaseui.auth.soy2.page.emailNotReceived";function cT(r,l,h){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+rl(r)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ti(null)+li(null)+'</div></div><div class="firebaseui-card-footer">'+Pn(h)+"</div></form></div>",lt(r)}cT.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation";function uT(){var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ti({label:Fe("Dismiss")})+"</div></div></div>";return lt(r)}uT.a="firebaseui.auth.soy2.page.differentDeviceError";function hT(){var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ti({label:Fe("Dismiss")})+"</div></div></div>";return lt(r)}hT.a="firebaseui.auth.soy2.page.anonymousUserMismatch";function dT(r,l,h){return l="",r="You’ve already used <strong>"+(Ct(r.email)+"</strong> to sign in. Enter your password for that account."),l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+r+"</p>"+$I()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+HI()+'</div><div class="firebaseui-form-actions">'+_y()+'</div></div><div class="firebaseui-card-footer">'+Pn(h)+"</div></form></div>",lt(l)}dT.a="firebaseui.auth.soy2.page.passwordLinking";function fT(r,l,h){var p=r.email;return l="",r=""+Mr(r,h),r=Fe(r),p="You’ve already used <strong>"+(Ct(p)+("</strong>. You can connect your <strong>"+(Ct(r)+("</strong> account with <strong>"+(Ct(p)+"</strong> by signing in with email link below."))))),r="For this flow to successfully connect your "+(Ct(r)+" account with this email, you have to open the link on the same device or browser."),l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+p+'<p class="firebaseui-text firebaseui-text-justify">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+_y()+'</div></div><div class="firebaseui-card-footer">'+Pn(h)+"</div></form></div>",lt(l)}fT.a="firebaseui.auth.soy2.page.emailLinkSignInLinking";function pT(r,l,h){l="";var p=""+Mr(r,h);return p=Fe(p),r="You originally intended to connect <strong>"+(Ct(p)+"</strong> to your email account but have opened the link on a different device where you are not signed in."),p="If you still want to connect your <strong>"+(Ct(p)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device."),l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+r+'</p><p class="firebaseui-text firebaseui-text-justify">'+p+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Wi()+'</div></div><div class="firebaseui-card-footer">'+Pn(h)+"</div></form></div>",lt(l)}pT.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice";function gT(r,l,h){var p=r.email;return l="",r=""+Mr(r,h),r=Fe(r),p="You’ve already used <strong>"+(Ct(p)+("</strong>. Sign in with "+(Ct(r)+" to continue."))),l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+p+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+li({label:Fe("Sign in with "+r)})+'</div></div><div class="firebaseui-card-footer">'+Pn(h)+"</div></form></div>",lt(l)}gT.a="firebaseui.auth.soy2.page.federatedLinking";function mT(r,l,h){r=r||{};var p=r.kc;l=r.yb,r=r.Eb;var m='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return p?(p="<strong>"+(Ct(p)+"</strong> is not authorized to view the requested page."),m+=p):m+="User is not authorized to view the requested page.",m+="</p>",l&&(l="Please contact <strong>"+(Ct(l)+"</strong> for authorization."),m+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+l+"</p>"),m+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',r&&(m+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),m+='</div><div class="firebaseui-form-actions">'+Ti({label:Fe("Back")})+'</div></div><div class="firebaseui-card-footer">'+Pn(h)+"</div></form></div>",lt(m)}mT.a="firebaseui.auth.soy2.page.unauthorizedUser";function _T(r,l,h){return l="",r="To continue sign in with <strong>"+(Ct(r.email)+"</strong> on this device, you have to recover the password."),l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ti(null)+li({label:Fe("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+Pn(h)+"</div></form></div>",lt(l)}_T.a="firebaseui.auth.soy2.page.unsupportedProvider";function yT(r){var l="",h='<p class="firebaseui-text">for <strong>'+(Ct(r.email)+"</strong></p>");return l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+h+jI(vN(r))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+BI()+"</div></div></form></div>",lt(l)}yT.a="firebaseui.auth.soy2.page.passwordReset";function vT(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Wi()+"</div>":"")+"</div></div>",lt(r)}vT.a="firebaseui.auth.soy2.page.passwordResetSuccess";function bT(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Wi()+"</div>":"")+"</div></div>",lt(r)}bT.a="firebaseui.auth.soy2.page.passwordResetFailure";function wT(r){var l=r.G,h="";return r="Your sign-in email address has been changed back to <strong>"+(Ct(r.email)+"</strong>."),h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p><p class="firebaseui-text">If you didn’t ask to change your sign-in email, it’s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(l?'<div class="firebaseui-form-actions">'+Wi()+"</div>":"")+"</div></form></div>",lt(h)}wT.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess";function ET(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can’t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Wi()+"</div>":"")+"</div></div>",lt(r)}ET.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure";function IT(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Wi()+"</div>":"")+"</div></div>",lt(r)}IT.a="firebaseui.auth.soy2.page.emailVerificationSuccess";function TT(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Wi()+"</div>":"")+"</div></div>",lt(r)}TT.a="firebaseui.auth.soy2.page.emailVerificationFailure";function ST(r){var l=r.G,h="";return r="You can now sign in with your new email <strong>"+(Ct(r.email)+"</strong>."),h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions">'+(l?'<div class="firebaseui-form-actions">'+Wi()+"</div>":"")+"</div></div>",lt(h)}ST.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess";function AT(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Wi()+"</div>":"")+"</div></div>",lt(r)}AT.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure";function CT(r){var l=r.factorId,h=r.phoneNumber;r=r.G;var p='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(l){case"phone":l="The <strong>"+(Ct(l)+(" "+(Ct(h)+"</strong> was removed as a second authentication step."))),p+=l;break;default:p+="The device or app was removed as a second authentication step."}return p+=`</p><p class="firebaseui-text">If you don't recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">`+(r?'<div class="firebaseui-form-actions">'+Wi()+"</div>":"")+"</div></form></div>",lt(p)}CT.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess";function PT(r){return r=r||{},r=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn't remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn't work, contact support for assistance.</p></div><div class="firebaseui-card-actions">`+(r.G?'<div class="firebaseui-form-actions">'+Wi()+"</div>":"")+"</div></div>",lt(r)}PT.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure";function RT(r){var l=r.zb;return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Ct(r.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',l&&(r+=li({label:Fe("Retry")})),lt(r+"</div></div></div>")}RT.a="firebaseui.auth.soy2.page.recoverableError";function kT(r){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Ct(r.errorMessage)+"</p></div></div>",lt(r)}kT.a="firebaseui.auth.soy2.page.unrecoverableError";function xT(r,l,h){var p=r.Qb;return l="",r="Continue with "+(Ct(r.jc)+"?"),p="You originally wanted to sign in with "+Ct(p),l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+r+'</h2><p class="firebaseui-text">'+p+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ti(null)+li({label:Fe("Continue")})+'</div></div><div class="firebaseui-card-footer">'+Pn(h)+"</div></form></div>",lt(l)}xT.a="firebaseui.auth.soy2.page.emailMismatch";function DT(r,l,h){var p='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';r=r.Sb,l=r.length;for(var m=0;m<l;m++){var y={ga:r[m]},E=h;y=y||{};var C=y.ga,N=y;N=N||{};var q="";switch(N.ga.providerId){case"google.com":q+="firebaseui-idp-google";break;case"github.com":q+="firebaseui-idp-github";break;case"facebook.com":q+="firebaseui-idp-facebook";break;case"twitter.com":q+="firebaseui-idp-twitter";break;case"phone":q+="firebaseui-idp-phone";break;case"anonymous":q+="firebaseui-idp-anonymous";break;case"password":q+="firebaseui-idp-password";break;default:q+="firebaseui-idp-generic"}N='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+Xn(Jt(q))+' firebaseui-id-idp-button" data-provider-id="'+Xn(C.providerId)+'" style="background-color:',q=(q=y)||{},q=q.ga,N=N+Xn($1(Jt(q.ta?q.ta:E.wa[q.providerId]?""+E.wa[q.providerId]:q.providerId.indexOf("saml.")==0?""+E.wa.saml:q.providerId.indexOf("oidc.")==0?""+E.wa.oidc:""+E.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var ht=y;q=E,ht=ht||{},ht=ht.ga,q=yN(ht.za?Co(ht.za):q.xa[ht.providerId]?Co(q.xa[ht.providerId]):ht.providerId.indexOf("saml.")==0?Co(q.xa.saml):ht.providerId.indexOf("oidc.")==0?Co(q.xa.oidc):Co(q.xa.password)),N=N+Xn(Co(q))+'"></span>',C.providerId=="password"?(N+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',C.V?N+=Ct(C.V):C.S?(y="Sign in with "+Ct(Mr(y,E)),N+=y):N+="Sign in with email",N+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',N=C.S?N+Ct(C.S):N+"Email",N+="</span>"):C.providerId=="phone"?(N+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',C.V?N+=Ct(C.V):C.S?(y="Sign in with "+Ct(Mr(y,E)),N+=y):N+="Sign in with phone",N+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',N=C.S?N+Ct(C.S):N+"Phone",N+="</span>"):C.providerId=="anonymous"?(N+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',C.V?N+=Ct(C.V):C.S?(y="Sign in with "+Ct(Mr(y,E)),N+=y):N+="Continue as guest",N+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',N=C.S?N+Ct(C.S):N+"Guest",N+="</span>"):(N+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',C.V?N+=Ct(C.V):(q="Sign in with "+Ct(Mr(y,E)),N+=q),N+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(C.S?Ct(C.S):Ct(Mr(y,E)))+"</span>"),C=lt(N+"</button>"),p+='<li class="firebaseui-list-item">'+C+"</li>"}return p+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+ol(h)+"</div></div>",lt(p)}DT.a="firebaseui.auth.soy2.page.providerSignIn";function OT(r,l,h){r=r||{};var p=r.Gb,m=r.Va;l=r.ia,r=r||{},r=r.Aa,r='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+Xn(r??"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+lt(r);var y;return p?y=lt('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):y="",y=r+y+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(m?Ti(null):"")+li({label:Fe("Verify")})+'</div></div><div class="firebaseui-card-footer">',l?(l='<p class="firebaseui-tos firebaseui-phone-tos">',l=h.F&&h.D?l+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':l+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",h=lt(l+"</p>")):h=lt('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+Pn(h),lt(y+h+"</div></form></div>")}OT.a="firebaseui.auth.soy2.page.phoneSignInStart";function MT(r,l,h){r=r||{},l=r.phoneNumber;var p="";return r='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+(Ct(l)+"</a>"),Ct(l),l=p,p=lt('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'),h='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+"</p>"+p+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ti(null)+li({label:Fe("Continue")})+'</div></div><div class="firebaseui-card-footer">'+Pn(h)+"</div></form>",r=lt('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),lt(l+(h+r+"</div>"))}MT.a="firebaseui.auth.soy2.page.phoneSignInFinish";function NT(){return lt('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}NT.a="firebaseui.auth.soy2.page.signOut";function LT(r,l,h){var p='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';r=r.ec,l=r.length;for(var m=0;m<l;m++){var y=r[m],E="",C=Ct(y.displayName),N=y.tenantId?y.tenantId:"top-level-project";N=Fe(N),E+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+Xn(N)+' firebaseui-id-tenant-selection-button"'+(y.tenantId?'data-tenant-id="'+Xn(y.tenantId)+'"':"")+'style="background-color:'+Xn($1(y.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+Xn(Co(y.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',y.V?E+=Ct(y.V):(y="Sign in to "+Ct(y.displayName),E+=y),E=lt(E+('</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+C+"</span></button>")),p+='<li class="firebaseui-list-item">'+E+"</li>"}return p+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+ol(h)+"</div></div>",lt(p)}LT.a="firebaseui.auth.soy2.page.selectTenant";function VT(r,l,h){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+rl(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+li(null)+'</div></div><div class="firebaseui-card-footer">'+ol(h)+"</div></form></div>",lt(r)}VT.a="firebaseui.auth.soy2.page.providerMatchByEmail";function hn(){return Kt(this,"firebaseui-id-submit")}function rn(){return Kt(this,"firebaseui-id-secondary-link")}function bn(r,l){Oe(this,hn.call(this),function(p){r(p)});var h=rn.call(this);h&&l&&Oe(this,h,function(p){l(p)})}function kf(){return Kt(this,"firebaseui-id-password")}function xf(){return Kt(this,"firebaseui-id-password-error")}function FT(){var r=kf.call(this),l=xf.call(this);il(this,r,function(){sl(l)&&(Be(r,!0),Ii(l))})}function UT(){var r=kf.call(this),l=xf.call(this);return yn(r)?(Be(r,!0),Ii(l),l=!0):(Be(r,!1),vn(l,Jt("Enter your password").toString()),l=!1),l?yn(r):null}function ll(r,l,h,p,m,y){B.call(this,dT,{email:r},y,"passwordLinking",{F:p,D:m}),this.w=l,this.H=h}c(ll,B),ll.prototype.v=function(){this.P(),this.M(this.w,this.H),al(this,this.i(),this.w),this.i().focus(),B.prototype.v.call(this)},ll.prototype.o=function(){this.w=null,B.prototype.o.call(this)},ll.prototype.j=function(){return yn(Kt(this,"firebaseui-id-email"))},bt(ll.prototype,{i:kf,B:xf,P:FT,u:UT,ea:hn,ba:rn,M:bn});var DL=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Hs(){return Kt(this,"firebaseui-id-email")}function Nr(){return Kt(this,"firebaseui-id-email-error")}function cl(r){var l=Hs.call(this),h=Nr.call(this);il(this,l,function(){sl(h)&&(Be(l,!0),Ii(h))}),r&&Jc(this,l,function(){r()})}function ul(){return O(yn(Hs.call(this))||"")}function hl(){var r=Hs.call(this),l=Nr.call(this),h=yn(r)||"";return h?DL.test(h)?(Be(r,!0),Ii(l),l=!0):(Be(r,!1),vn(l,Jt("That email address isn't correct").toString()),l=!1):(Be(r,!1),vn(l,Jt("Enter your email address to continue").toString()),l=!1),l?O(yn(r)):null}function tu(r,l,h,p,m,y,E){B.call(this,tT,{email:h,ia:!!y},E,"passwordSignIn",{F:p,D:m}),this.w=r,this.H=l}c(tu,B),tu.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),Zc(this,this.l(),this.i()),al(this,this.i(),this.w),yn(this.l())?this.i().focus():this.l().focus(),B.prototype.v.call(this)},tu.prototype.o=function(){this.H=this.w=null,B.prototype.o.call(this)},bt(tu.prototype,{l:Hs,U:Nr,P:cl,M:ul,j:hl,i:kf,B:xf,ea:FT,u:UT,ua:hn,pa:rn,ba:bn});function le(r,l,h,p,m,y){B.call(this,r,l,p,m||"notice",y),this.i=h||null}Y(le,B),le.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),le.K.v.call(this)},le.prototype.o=function(){this.i=null,le.K.o.call(this)},bt(le.prototype,{l:hn,w:rn,u:bn});function Df(r,l,h,p,m){le.call(this,iT,{email:r,G:!!l},l,m,"passwordRecoveryEmailSent",{F:h,D:p})}Y(Df,le);function BT(r,l){le.call(this,IT,{G:!!r},r,l,"emailVerificationSuccess")}Y(BT,le);function jT(r,l){le.call(this,TT,{G:!!r},r,l,"emailVerificationFailure")}Y(jT,le);function $T(r,l,h){le.call(this,ST,{email:r,G:!!l},l,h,"verifyAndChangeEmailSuccess")}Y($T,le);function HT(r,l){le.call(this,AT,{G:!!r},r,l,"verifyAndChangeEmailFailure")}Y(HT,le);function zT(r,l){le.call(this,PT,{G:!!r},r,l,"revertSecondFactorAdditionFailure")}Y(zT,le);function WT(r){le.call(this,NT,void 0,void 0,r,"signOut")}Y(WT,le);function qT(r,l){le.call(this,vT,{G:!!r},r,l,"passwordResetSuccess")}Y(qT,le);function KT(r,l){le.call(this,bT,{G:!!r},r,l,"passwordResetFailure")}Y(KT,le);function GT(r,l){le.call(this,ET,{G:!!r},r,l,"emailChangeRevokeFailure")}Y(GT,le);function YT(r,l,h){le.call(this,RT,{errorMessage:r,zb:!!l},l,h,"recoverableError")}Y(YT,le);function XT(r,l){le.call(this,kT,{errorMessage:r},void 0,l,"unrecoverableError")}Y(XT,le);function eu(r){if(r.code==="auth/invalid-credential"&&r.message&&r.message.indexOf("error=consent_required")!==-1)return{code:"auth/user-cancelled"};if(r.message&&r.message.indexOf("HTTP Cloud Function returned an error:")!==-1){var l=JSON.parse(r.message.substring(r.message.indexOf("{"),r.message.lastIndexOf("}")+1));return{code:r.code,message:l&&l.error&&l.error.message||r.message}}return r}function zs(r,l,h,p){function m(E){if(!E.name||E.name!="cancel"){t:{var C=E.message;try{var N=((JSON.parse(C).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(N&&N.length){var q=!0;break t}}catch{}q=!1}if(q)E=ke(l),l.m(),_e(r,E,void 0,Jt("Your sign-in session has expired. Please try again.").toString());else{if(q=E&&E.message||"",E.code){if(E.code=="auth/email-already-in-use"||E.code=="auth/credential-already-in-use")return;q=ue(E)}l.a(q)}}}if(yS(r),p)return QT(r,h),Ue();if(!h.credential)throw Error("No credential found!");if(!jt(r).currentUser&&!h.user)throw Error("User not logged in.");try{var y=uV(r,h)}catch(E){return wi(E.code||E.message,E),l.a(E.code||E.message),Ue()}return h=y.then(function(E){QT(r,E)},m).then(void 0,m),Nt(r,y),Ue(h)}function QT(r,l){if(!l.user)throw Error("No user found");var h=vI($(r));if(ay($(r))&&h&&Or("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),h){h=vI($(r));var p=JE(St(r))||void 0;ai(jc,St(r));var m=!1;yE()?((!h||h(l,p))&&(m=!0,La(window.opener.location,Of(r,p))),h||window.close()):(!h||h(l,p))&&(m=!0,La(window.location,Of(r,p))),m||r.reset()}else{h=l.user,l=l.credential,p=ay($(r)),m=JE(St(r))||void 0,ai(jc,St(r));var y=!1;yE()?((!p||p(h,l,m))&&(y=!0,La(window.opener.location,Of(r,m))),p||window.close()):(!p||p(h,l,m))&&(y=!0,La(window.location,Of(r,m))),y||r.reset()}}function Of(r,l){if(r=l||$(r).a.get("signInSuccessUrl"),!r)throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return r}function ue(r){var l={code:r.code};l=l||{};var h="";switch(l.code){case"auth/email-already-in-use":h+="The email address is already used by another account";break;case"auth/requires-recent-login":h+=K1();break;case"auth/too-many-requests":h+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":h+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":h+="That email address doesn't match an existing account";break;case"auth/user-token-expired":h+=K1();break;case"auth/weak-password":h+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":h+="The email and password you entered don't match";break;case"auth/network-request-failed":h+="A network error has occurred";break;case"auth/invalid-phone-number":h+=w_();break;case"auth/invalid-verification-code":h+=Jt("Wrong code. Try again.");break;case"auth/code-expired":h+="This code is no longer valid";break;case"auth/expired-action-code":h+="This code has expired.";break;case"auth/invalid-action-code":h+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(l=Jt(h).toString())return l;try{return JSON.parse(r.message),wi("Internal error: "+r.message,void 0),z1().toString()}catch{return r.message}}function OL(r,l,h){var p=Ga[l]&&pt.auth[Ga[l]]?new pt.auth[Ga[l]]:l.indexOf("saml.")==0?new pt.auth.SAMLAuthProvider(l):new pt.auth.OAuthProvider(l);if(!p)throw Error("Invalid Firebase Auth provider!");var m=pI($(r),l);if(p.addScope)for(var y=0;y<m.length;y++)p.addScope(m[y]);return m=gI($(r),l)||{},h&&(l==pt.auth.GoogleAuthProvider.PROVIDER_ID?r="login_hint":l==pt.auth.GithubAuthProvider.PROVIDER_ID?r="login":r=(r=zc($(r),l))&&r.Ob,r&&(m[r]=h)),p.setCustomParameters&&p.setCustomParameters(m),p}function nu(r,l,h,p){function m(){aL(new LE(r.h.tenantId||null),St(r)),Nt(r,l.I(J(r.dc,r),[N],function(){if((window.location&&window.location.protocol)==="file:")return Nt(r,fS(r).then(function(q){l.m(),ai(Oo,St(r)),ut("callback",r,C,Ue(q))},y))},E))}function y(q){if(ai(Oo,St(r)),!q.name||q.name!="cancel")switch(q=eu(q),q.code){case"auth/popup-blocked":m();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":break;case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":l.a(ue(q));break;case"auth/admin-restricted-operation":l.m(),No($(r))?ut("handleUnauthorizedUser",r,C,null,h):ut("callback",r,C,Va(q));break;default:l.m(),ut("callback",r,C,Va(q))}}function E(q){ai(Oo,St(r)),q.name&&q.name=="cancel"||(wi("signInWithRedirect: "+q.code,void 0),q=ue(q),l.Ga=="blank"&&oy($(r))?(l.m(),ut("providerSignIn",r,C,q)):l.a(q))}var C=ke(l),N=OL(r,h,p);yI($(r))==If?m():Nt(r,cV(r,N).then(function(q){l.m(),ut("callback",r,C,Ue(q))},y))}function ML(r,l){Nt(r,l.I(J(r.$b,r),[],function(h){return l.m(),zs(r,l,h,!0)},function(h){h.name&&h.name=="cancel"||(wi("ContinueAsGuest: "+h.code,void 0),h=ue(h),l.a(h))}))}function NL(r,l,h){function p(y){var E=!1;return y=l.I(J(r.ac,r),[y],function(C){var N=ke(l);l.m(),ut("callback",r,N,Ue(C)),E=!0},function(C){if((!C.name||C.name!="cancel")&&(!C||C.code!="auth/credential-already-in-use"))if(C&&C.code=="auth/email-already-in-use"&&C.email&&C.credential){var N=ke(l);l.m(),ut("callback",r,N,Va(C))}else C&&C.code=="auth/admin-restricted-operation"&&No($(r))?(C=ke(l),l.m(),ut("handleUnauthorizedUser",r,C,null,pt.auth.GoogleAuthProvider.PROVIDER_ID)):(C=ue(C),l.a(C))}),Nt(r,y),y.then(function(){return E},function(){return!1})}if(h&&h.credential&&h.clientId===dI($(r))){if(pI($(r),pt.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var m=JSON.parse(atob(h.credential.split(".")[1])).email}catch{}return nu(r,l,pt.auth.GoogleAuthProvider.PROVIDER_ID,m),Ue(!0)}return p(pt.auth.GoogleAuthProvider.credential(h.credential))}return h&&l.a(Jt("The selected credential for the authentication provider is not supported!").toString()),Ue(!1)}function LL(r,l){var h=l.j(),p=l.u();if(h)if(p){var m=pt.auth.EmailAuthProvider.credential(h,p);Nt(r,l.I(J(r.bc,r),[h,p],function(y){return zs(r,l,{user:y.user,credential:m,operationType:y.operationType,additionalUserInfo:y.additionalUserInfo})},function(y){if(!y.name||y.name!="cancel")switch(y.code){case"auth/email-already-in-use":break;case"auth/email-exists":Be(l.l(),!1),vn(l.U(),ue(y));break;case"auth/too-many-requests":case"auth/wrong-password":Be(l.i(),!1),vn(l.B(),ue(y));break;default:wi("verifyPassword: "+y.message,void 0),l.a(ue(y))}}))}else l.i().focus();else l.l().focus()}function Mf(r){return r=Ya($(r)),r.length==1&&r[0]==pt.auth.EmailAuthProvider.PROVIDER_ID}function JT(r){return r=Ya($(r)),r.length==1&&r[0]==pt.auth.PhoneAuthProvider.PROVIDER_ID}function _e(r,l,h,p){Mf(r)?p?ut("signIn",r,l,h,p):Iy(r,l,h):r&&JT(r)&&!p?ut("phoneSignInStart",r,l):r&&oy($(r))&&!p?ut("federatedRedirect",r,l,h):ut("providerSignIn",r,l,p,h)}function ZT(r,l,h,p){var m=ke(l);Nt(r,l.I(J(jt(r).fetchSignInMethodsForEmail,jt(r)),[h],function(y){l.m(),tS(r,m,y,h,p)},function(y){y=ue(y),l.a(y)}))}function tS(r,l,h,p,m,y){h.length||Xa($(r))&&!Xa($(r))?L(h,pt.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ut("passwordSignIn",r,l,p,y):h.length==1&&h[0]===pt.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?Xa($(r))?ut("sendEmailLinkForSignIn",r,l,p,function(){ut("signIn",r,l)}):ut("unsupportedProvider",r,l,p):(h=cI(h,Ya($(r))))?(ZE(new K_(p),St(r)),ut("federatedSignIn",r,l,p,h,m)):ut("unsupportedProvider",r,l,p):fI($(r))?ut("handleUnauthorizedUser",r,l,p,pt.auth.EmailAuthProvider.PROVIDER_ID):Xa($(r))?ut("sendEmailLinkForSignIn",r,l,p,function(){ut("signIn",r,l)}):ut("passwordSignUp",r,l,p,void 0,void 0,y)}function Ey(r,l,h,p,m,y){var E=ke(l);Nt(r,l.I(J(r.Ib,r),[h,y],function(){l.m(),ut("emailLinkSignInSent",r,E,h,p,y)},m))}function Iy(r,l,h){h?ut("prefilledEmailSignIn",r,l,h):ut("signIn",r,l)}function iu(){return Nd($s(),"oobCode")}function Ty(){var r=Nd($s(),"continueUrl");return r?function(){La(window.location,r)}:null}function su(r,l){B.call(this,hT,void 0,l,"anonymousUserMismatch"),this.i=r}c(su,B),su.prototype.v=function(){var r=this;Oe(this,this.l(),function(){r.i()}),this.l().focus(),B.prototype.v.call(this)},su.prototype.o=function(){this.i=null,B.prototype.o.call(this)},bt(su.prototype,{l:rn}),se.anonymousUserMismatch=function(r,l){var h=new su(function(){h.m(),_e(r,l)});h.render(l),Ft(r,h)};function Nf(r){B.call(this,sT,void 0,r,"callback")}c(Nf,B),Nf.prototype.I=function(r,l,h,p){return r.apply(null,l).then(h,p)};function eS(r,l,h){if(h.user){var p={user:h.user,credential:h.credential,operationType:h.operationType,additionalUserInfo:h.additionalUserInfo},m=cs(St(r)),y=m&&m.g;if(y&&!FL(h.user,y))VL(r,l,p);else{var E=m&&m.a;E?Nt(r,h.user.linkWithCredential(E).then(function(C){p={user:C.user,credential:E,operationType:C.operationType,additionalUserInfo:C.additionalUserInfo},nS(r,l,p)},function(C){Lf(r,l,C)})):nS(r,l,p)}}else h=ke(l),l.m(),us(St(r)),_e(r,h)}function nS(r,l,h){us(St(r)),zs(r,l,h)}function Lf(r,l,h){var p=ke(l);us(St(r)),h=ue(h),l.m(),_e(r,p,void 0,h)}function iS(r,l,h,p){var m=ke(l);Nt(r,jt(r).fetchSignInMethodsForEmail(h).then(function(y){l.m(),y.length?L(y,pt.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ut("passwordLinking",r,m,h):y.length==1&&y[0]===pt.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?ut("emailLinkSignInLinking",r,m,h):(y=cI(y,Ya($(r))))?ut("federatedLinking",r,m,h,y,p):(us(St(r)),ut("unsupportedProvider",r,m,h)):(us(St(r)),ut("passwordRecovery",r,m,h,!1,W1().toString()))},function(y){Lf(r,l,y)}))}function VL(r,l,h){var p=ke(l);Nt(r,Lr(r).then(function(){l.m(),ut("emailMismatch",r,p,h)},function(m){m.name&&m.name=="cancel"||(m=ue(m.code),l.a(m))}))}function FL(r,l){if(l==r.email)return!0;if(r.providerData){for(var h=0;h<r.providerData.length;h++)if(l==r.providerData[h].email)return!0}return!1}se.callback=function(r,l,h){var p=new Nf;p.render(l),Ft(r,p),h=h||fS(r),Nt(r,h.then(function(m){eS(r,p,m)},function(m){if((m=eu(m))&&(m.code=="auth/account-exists-with-different-credential"||m.code=="auth/email-already-in-use")&&m.email&&m.credential)ZE(new K_(m.email,m.credential),St(r)),iS(r,p,m.email);else if(m&&m.code=="auth/user-cancelled"){var y=cs(St(r)),E=ue(m);y&&y.a?iS(r,p,y.g,E):y?ZT(r,p,y.g,E):Lf(r,p,m)}else m&&m.code=="auth/credential-already-in-use"||(m&&m.code=="auth/operation-not-supported-in-this-environment"&&Mf(r)?eS(r,p,{user:null,credential:null}):m&&m.code=="auth/admin-restricted-operation"&&No($(r))?(p.m(),us(St(r)),ut("handleUnauthorizedUser",r,l,null,null)):Lf(r,p,m))}))};function ru(r,l){B.call(this,uT,void 0,l,"differentDeviceError"),this.i=r}c(ru,B),ru.prototype.v=function(){var r=this;Oe(this,this.l(),function(){r.i()}),this.l().focus(),B.prototype.v.call(this)},ru.prototype.o=function(){this.i=null,B.prototype.o.call(this)},bt(ru.prototype,{l:rn}),se.differentDeviceError=function(r,l){var h=new ru(function(){h.m(),_e(r,l)});h.render(l),Ft(r,h)};function ou(r,l,h,p){B.call(this,wT,{email:r,G:!!h},p,"emailChangeRevoke"),this.l=l,this.i=h||null}c(ou,B),ou.prototype.v=function(){var r=this;Oe(this,Kt(this,"firebaseui-id-reset-password-link"),function(){r.l()}),this.i&&(this.w(this.i),this.u().focus()),B.prototype.v.call(this)},ou.prototype.o=function(){this.l=this.i=null,B.prototype.o.call(this)},bt(ou.prototype,{u:hn,B:rn,w:bn});function au(){return Kt(this,"firebaseui-id-new-password")}function Vf(){return Kt(this,"firebaseui-id-password-toggle")}function UL(){this.Ra=!this.Ra;var r=Vf.call(this),l=au.call(this);this.Ra?(l.type="text",hs(r,"firebaseui-input-toggle-off"),ds(r,"firebaseui-input-toggle-on")):(l.type="password",hs(r,"firebaseui-input-toggle-on"),ds(r,"firebaseui-input-toggle-off")),l.focus()}function Ff(){return Kt(this,"firebaseui-id-new-password-error")}function sS(){this.Ra=!1;var r=au.call(this);r.type="password";var l=Ff.call(this);il(this,r,function(){sl(l)&&(Be(r,!0),Ii(l))});var h=Vf.call(this);hs(h,"firebaseui-input-toggle-on"),ds(h,"firebaseui-input-toggle-off"),CL(this,r,function(){hs(h,"firebaseui-input-toggle-focus"),ds(h,"firebaseui-input-toggle-blur")}),PL(this,r,function(){hs(h,"firebaseui-input-toggle-blur"),ds(h,"firebaseui-input-toggle-focus")}),Oe(this,h,J(UL,this))}function rS(){var r=au.call(this),l=Ff.call(this);return yn(r)?(Be(r,!0),Ii(l),l=!0):(Be(r,!1),vn(l,Jt("Enter your password").toString()),l=!1),l?yn(r):null}function lu(r,l,h){B.call(this,yT,{email:r},h,"passwordReset"),this.l=l}c(lu,B),lu.prototype.v=function(){this.H(),this.B(this.l),al(this,this.i(),this.l),this.i().focus(),B.prototype.v.call(this)},lu.prototype.o=function(){this.l=null,B.prototype.o.call(this)},bt(lu.prototype,{i:au,w:Ff,M:Vf,H:sS,u:rS,U:hn,P:rn,B:bn});function cu(r,l,h,p,m){B.call(this,CT,{factorId:r,phoneNumber:h||null,G:!!p},m,"revertSecondFactorAdditionSuccess"),this.l=l,this.i=p||null}c(cu,B),cu.prototype.v=function(){var r=this;Oe(this,Kt(this,"firebaseui-id-reset-password-link"),function(){r.l()}),this.i&&(this.w(this.i),this.u().focus()),B.prototype.v.call(this)},cu.prototype.o=function(){this.l=this.i=null,B.prototype.o.call(this)},bt(cu.prototype,{u:hn,B:rn,w:bn});function BL(r,l,h,p,m){var y=h.u();y&&Nt(r,h.I(J(jt(r).confirmPasswordReset,jt(r)),[p,y],function(){h.m();var E=new qT(m);E.render(l),Ft(r,E)},function(E){oS(r,l,h,E)}))}function oS(r,l,h,p){(p&&p.code)=="auth/weak-password"?(r=ue(p),Be(h.i(),!1),vn(h.w(),r),h.i().focus()):(h&&h.m(),h=new KT,h.render(l),Ft(r,h))}function jL(r,l,h){var p=new ou(h,function(){Nt(r,p.I(J(jt(r).sendPasswordResetEmail,jt(r)),[h],function(){p.m(),p=new Df(h,void 0,Je($(r)),Ze($(r))),p.render(l),Ft(r,p)},function(){p.a(H1().toString())}))});p.render(l),Ft(r,p)}function $L(r,l,h,p){var m=new cu(p.factorId,function(){m.I(J(jt(r).sendPasswordResetEmail,jt(r)),[h],function(){m.m(),m=new Df(h,void 0,Je($(r)),Ze($(r))),m.render(l),Ft(r,m)},function(){m.a(H1().toString())})},p.phoneNumber);m.render(l),Ft(r,m)}se.passwordReset=function(r,l,h,p){Nt(r,jt(r).verifyPasswordResetCode(h).then(function(m){var y=new lu(m,function(){BL(r,l,y,h,p)});y.render(l),Ft(r,y)},function(){oS(r,l)}))},se.emailChangeRevocation=function(r,l,h){var p=null;Nt(r,jt(r).checkActionCode(h).then(function(m){return p=m.data.email,jt(r).applyActionCode(h)}).then(function(){jL(r,l,p)},function(){var m=new GT;m.render(l),Ft(r,m)}))},se.emailVerification=function(r,l,h,p){Nt(r,jt(r).applyActionCode(h).then(function(){var m=new BT(p);m.render(l),Ft(r,m)},function(){var m=new jT;m.render(l),Ft(r,m)}))},se.revertSecondFactorAddition=function(r,l,h){var p=null,m=null;Nt(r,jt(r).checkActionCode(h).then(function(y){return p=y.data.email,m=y.data.multiFactorInfo,jt(r).applyActionCode(h)}).then(function(){$L(r,l,p,m)},function(){var y=new zT;y.render(l),Ft(r,y)}))},se.verifyAndChangeEmail=function(r,l,h,p){var m=null;Nt(r,jt(r).checkActionCode(h).then(function(y){return m=y.data.email,jt(r).applyActionCode(h)}).then(function(){var y=new $T(m,p);y.render(l),Ft(r,y)},function(){var y=new HT;y.render(l),Ft(r,y)}))};function Uf(r,l){try{var h=typeof r.selectionStart=="number"}catch{h=!1}h?(r.selectionStart=l,r.selectionEnd=l):Ve&&!To("9")&&(r.type=="textarea"&&(l=r.value.substring(0,l).replace(/(\r\n|\r|\n)/g,`
`).length),r=r.createTextRange(),r.collapse(!0),r.move("character",l),r.select())}function uu(r,l,h,p,m,y){B.call(this,cT,{email:h},y,"emailLinkSignInConfirmation",{F:p,D:m}),this.l=r,this.u=l}c(uu,B),uu.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),Uf(this.i(),(this.i().value||"").length),B.prototype.v.call(this)},uu.prototype.o=function(){this.u=this.l=null,B.prototype.o.call(this)},bt(uu.prototype,{i:Hs,M:Nr,w:cl,H:ul,j:hl,U:hn,P:rn,B:bn}),se.emailLinkConfirmation=function(r,l,h,p,m,y){var E=new uu(function(){var C=E.j();C?(E.m(),p(r,l,C,h)):E.i().focus()},function(){E.m(),_e(r,l,m||void 0)},m||void 0,Je($(r)),Ze($(r)));E.render(l),Ft(r,E),y&&E.a(y)};function hu(r,l,h,p,m){B.call(this,pT,{ga:r},m,"emailLinkSignInLinkingDifferentDevice",{F:h,D:p}),this.i=l}c(hu,B),hu.prototype.v=function(){this.u(this.i),this.l().focus(),B.prototype.v.call(this)},hu.prototype.o=function(){this.i=null,B.prototype.o.call(this)},bt(hu.prototype,{l:hn,u:bn}),se.emailLinkNewDeviceLinking=function(r,l,h,p){var m=new Io(h);if(h=m.a.a.get(en.PROVIDER_ID)||null,b1(m,null),h){var y=new hu(zc($(r),h),function(){y.m(),p(r,l,m.toString())},Je($(r)),Ze($(r)));y.render(l),Ft(r,y)}else _e(r,l)};function Bf(r){B.call(this,oT,void 0,r,"blank")}c(Bf,B);function Sy(r,l,h,p,m){var y=new Bf,E=new Io(h),C=E.a.a.get(en.$a)||"",N=E.a.a.get(en.Sa)||"",q=E.a.a.get(en.Qa)==="1",ht=v1(E),ce=E.a.a.get(en.PROVIDER_ID)||null;E=E.a.a.get(en.vb)||null,vS(r,E);var Gi=!qa(Wa,St(r)),TS=p||lL(N,St(r)),Tu=(p=cL(N,St(r)))&&p.a;ce&&Tu&&Tu.providerId!==ce&&(Tu=null),y.render(l),Ft(r,y),Nt(r,y.I(function(){var Li=Ue(null);Li=ht&&Gi||Gi&&q?Va(Error("anonymous-user-not-found")):oV(r,h).then(function(Ly){if(ce&&!Tu)throw Error("pending-credential-not-found");return Ly});var Su=null;return Li.then(function(Ly){return Su=Ly,m?null:jt(r).checkActionCode(C)}).then(function(){return Su})},[],function(Li){TS?zL(r,y,TS,h,Tu,Li):q?(y.m(),ut("differentDeviceError",r,l)):(y.m(),ut("emailLinkConfirmation",r,l,h,aS))},function(Li){var Su=void 0;if(!Li||!Li.name||Li.name!="cancel")switch(y.m(),Li&&Li.message){case"anonymous-user-not-found":ut("differentDeviceError",r,l);break;case"anonymous-user-mismatch":ut("anonymousUserMismatch",r,l);break;case"pending-credential-not-found":ut("emailLinkNewDeviceLinking",r,l,h,HL);break;default:Li&&(Su=ue(Li)),_e(r,l,void 0,Su)}}))}function aS(r,l,h,p){Sy(r,l,p,h,!0)}function HL(r,l,h){Sy(r,l,h)}function zL(r,l,h,p,m,y){var E=ke(l);l.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Jt("Signing in...").toString());var C=null;m=(y?aV(r,y,h,p,m):lV(r,h,p,m)).then(function(N){ai($c,St(r)),ai(Wa,St(r)),l.h(),l.$("firebaseui-icon-done",Jt("Signed in!").toString()),C=setTimeout(function(){l.h(),zs(r,l,N,!0)},1e3),Nt(r,function(){l&&(l.h(),l.m()),clearTimeout(C)})},function(N){if(l.h(),l.m(),!N.name||N.name!="cancel"){N=eu(N);var q=ue(N);N.code=="auth/email-already-in-use"||N.code=="auth/credential-already-in-use"?(ai($c,St(r)),ai(Wa,St(r))):N.code=="auth/invalid-email"?(q=Jt("The email provided does not match the current sign-in session.").toString(),ut("emailLinkConfirmation",r,E,p,aS,null,q)):_e(r,E,h,q)}}),Nt(r,m)}se.emailLinkSignInCallback=Sy;function du(r,l,h,p,m,y){B.call(this,fT,{email:r,ga:l},y,"emailLinkSignInLinking",{F:p,D:m}),this.i=h}c(du,B),du.prototype.v=function(){this.u(this.i),this.l().focus(),B.prototype.v.call(this)},du.prototype.o=function(){this.i=null,B.prototype.o.call(this)},bt(du.prototype,{l:hn,u:bn});function WL(r,l,h,p){var m=ke(l);Ey(r,l,h,function(){_e(r,m,h)},function(y){if(!y.name||y.name!="cancel"){var E=ue(y);y&&y.code=="auth/network-request-failed"?l.a(E):(l.m(),_e(r,m,h,E))}},p)}se.emailLinkSignInLinking=function(r,l,h){var p=cs(St(r));if(us(St(r)),p){var m=p.a.providerId,y=new du(h,zc($(r),m),function(){WL(r,y,h,p)},Je($(r)),Ze($(r)));y.render(l),Ft(r,y)}else _e(r,l)};function fu(r,l,h,p,m,y){B.call(this,aT,{email:r},y,"emailLinkSignInSent",{F:p,D:m}),this.u=l,this.i=h}c(fu,B),fu.prototype.v=function(){var r=this;Oe(this,this.l(),function(){r.i()}),Oe(this,Kt(this,"firebaseui-id-trouble-getting-email-link"),function(){r.u()}),this.l().focus(),B.prototype.v.call(this)},fu.prototype.o=function(){this.i=this.u=null,B.prototype.o.call(this)},bt(fu.prototype,{l:rn}),se.emailLinkSignInSent=function(r,l,h,p,m){var y=new fu(h,function(){y.m(),ut("emailNotReceived",r,l,h,p,m)},function(){y.m(),p()},Je($(r)),Ze($(r)));y.render(l),Ft(r,y)};function pu(r,l,h,p,m,y,E){B.call(this,xT,{jc:r,Qb:l},E,"emailMismatch",{F:m,D:y}),this.l=h,this.i=p}c(pu,B),pu.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),B.prototype.v.call(this)},pu.prototype.o=function(){this.i=null,B.prototype.o.call(this)},bt(pu.prototype,{u:hn,B:rn,w:bn}),se.emailMismatch=function(r,l,h){var p=cs(St(r));if(p){var m=new pu(h.user.email,p.g,function(){var y=m;us(St(r)),zs(r,y,h)},function(){var y=h.credential.providerId,E=ke(m);m.m(),p.a?ut("federatedLinking",r,E,p.g,y):ut("federatedSignIn",r,E,p.g,y)},Je($(r)),Ze($(r)));m.render(l),Ft(r,m)}else _e(r,l)};function dl(r,l,h,p,m){B.call(this,lT,void 0,m,"emailNotReceived",{F:h,D:p}),this.l=r,this.i=l}c(dl,B),dl.prototype.v=function(){var r=this;Oe(this,this.u(),function(){r.i()}),Oe(this,this.Da(),function(){r.l()}),this.u().focus(),B.prototype.v.call(this)},dl.prototype.Da=function(){return Kt(this,"firebaseui-id-resend-email-link")},dl.prototype.o=function(){this.i=this.l=null,B.prototype.o.call(this)},bt(dl.prototype,{u:rn}),se.emailNotReceived=function(r,l,h,p,m){var y=new dl(function(){Ey(r,y,h,p,function(E){E=ue(E),y.a(E)},m)},function(){y.m(),_e(r,l,h)},Je($(r)),Ze($(r)));y.render(l),Ft(r,y)};function fl(r,l,h,p,m,y){B.call(this,gT,{email:r,ga:l},y,"federatedLinking",{F:p,D:m}),this.i=h}c(fl,B),fl.prototype.v=function(){this.u(this.i),this.l().focus(),B.prototype.v.call(this)},fl.prototype.o=function(){this.i=null,B.prototype.o.call(this)},bt(fl.prototype,{l:hn,u:bn}),se.federatedLinking=function(r,l,h,p,m){var y=cs(St(r));if(y&&y.a){var E=new fl(h,zc($(r),p),function(){nu(r,E,p,h)},Je($(r)),Ze($(r)));E.render(l),Ft(r,E),m&&E.a(m)}else _e(r,l)},se.federatedRedirect=function(r,l,h){var p=new Bf;p.render(l),Ft(r,p),l=Ya($(r))[0],nu(r,p,l,h)},se.federatedSignIn=function(r,l,h,p,m){var y=new fl(h,zc($(r),p),function(){nu(r,y,p,h)},Je($(r)),Ze($(r)));y.render(l),Ft(r,y),m&&y.a(m)};function qL(r,l,h,p){var m=l.u();m?Nt(r,l.I(J(r.Xb,r),[h,m],function(y){return y=y.user.linkWithCredential(p).then(function(E){return zs(r,l,{user:E.user,credential:p,operationType:E.operationType,additionalUserInfo:E.additionalUserInfo})}),Nt(r,y),y},function(y){if(!y.name||y.name!="cancel")switch(y.code){case"auth/wrong-password":Be(l.i(),!1),vn(l.B(),ue(y));break;case"auth/too-many-requests":l.a(ue(y));break;default:wi("signInWithEmailAndPassword: "+y.message,void 0),l.a(ue(y))}})):l.i().focus()}se.passwordLinking=function(r,l,h){var p=cs(St(r));us(St(r));var m=p&&p.a;if(m){var y=new ll(h,function(){qL(r,y,h,m)},function(){y.m(),ut("passwordRecovery",r,l,h)},Je($(r)),Ze($(r)));y.render(l),Ft(r,y)}else _e(r,l)};function gu(r,l,h,p,m,y){B.call(this,nT,{email:h,Ta:!!l},y,"passwordRecovery",{F:p,D:m}),this.l=r,this.u=l}c(gu,B),gu.prototype.v=function(){this.B(),this.H(this.l,this.u),yn(this.i())||this.i().focus(),al(this,this.i(),this.l),B.prototype.v.call(this)},gu.prototype.o=function(){this.u=this.l=null,B.prototype.o.call(this)},bt(gu.prototype,{i:Hs,w:Nr,B:cl,M:ul,j:hl,U:hn,P:rn,H:bn});function KL(r,l){var h=l.j();if(h){var p=ke(l);Nt(r,l.I(J(jt(r).sendPasswordResetEmail,jt(r)),[h],function(){l.m();var m=new Df(h,function(){m.m(),_e(r,p)},Je($(r)),Ze($(r)));m.render(p),Ft(r,m)},function(m){Be(l.i(),!1),vn(l.w(),ue(m))}))}else l.i().focus()}se.passwordRecovery=function(r,l,h,p,m){var y=new gu(function(){KL(r,y)},p?void 0:function(){y.m(),_e(r,l)},h,Je($(r)),Ze($(r)));y.render(l),Ft(r,y),m&&y.a(m)},se.passwordSignIn=function(r,l,h,p){var m=new tu(function(){LL(r,m)},function(){var y=m.M();m.m(),ut("passwordRecovery",r,l,y)},h,Je($(r)),Ze($(r)),p);m.render(l),Ft(r,m)};function Ay(){return Kt(this,"firebaseui-id-name")}function Cy(){return Kt(this,"firebaseui-id-name-error")}function mu(r,l,h,p,m,y,E,C,N){B.call(this,eT,{email:p,Tb:r,name:m,Ta:!!h,ia:!!C},N,"passwordSignUp",{F:y,D:E}),this.w=l,this.H=h,this.B=r}c(mu,B),mu.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(Zc(this,this.i(),this.u()),Zc(this,this.u(),this.l())):Zc(this,this.i(),this.l()),this.w&&al(this,this.l(),this.w),yn(this.i())?this.B&&!yn(this.u())?this.u().focus():this.l().focus():this.i().focus(),B.prototype.v.call(this)},mu.prototype.o=function(){this.H=this.w=null,B.prototype.o.call(this)},bt(mu.prototype,{i:Hs,U:Nr,ea:cl,jb:ul,j:hl,u:Ay,Bc:Cy,Ja:function(){var r=Ay.call(this),l=Cy.call(this);il(this,r,function(){sl(l)&&(Be(r,!0),Ii(l))})},M:function(){var r=Ay.call(this),l=Cy.call(this),h=yn(r);return h=!/^[\s\xa0]*$/.test(h==null?"":String(h)),Be(r,h),h?(Ii(l),l=!0):(vn(l,Jt("Enter your account name").toString()),l=!1),l?O(yn(r)):null},l:au,ba:Ff,lb:Vf,ua:sS,P:rS,Nb:hn,Mb:rn,pa:bn});function GL(r,l){var h=_I($(r)),p=l.j(),m=null;h&&(m=l.M());var y=l.P();if(p){if(h)if(m)m=mt(m);else{l.u().focus();return}if(y){var E=pt.auth.EmailAuthProvider.credential(p,y);Nt(r,l.I(J(r.Yb,r),[p,y],function(C){var N={user:C.user,credential:E,operationType:C.operationType,additionalUserInfo:C.additionalUserInfo};return h?(C=C.user.updateProfile({displayName:m}).then(function(){return zs(r,l,N)}),Nt(r,C),C):zs(r,l,N)},function(C){if(!C.name||C.name!="cancel"){var N=eu(C);switch(C=ue(N),N.code){case"auth/email-already-in-use":return YL(r,l,p,N);case"auth/too-many-requests":C=Jt("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":Be(l.l(),!1),vn(l.ba(),C);break;case"auth/admin-restricted-operation":No($(r))?(C=ke(l),l.m(),ut("handleUnauthorizedUser",r,C,p,pt.auth.EmailAuthProvider.PROVIDER_ID)):l.a(C);break;default:N="setAccountInfo: "+KE(N),wi(N,void 0),l.a(C)}}}))}else l.l().focus()}else l.i().focus()}function YL(r,l,h,p){function m(){var E=ue(p);Be(l.i(),!1),vn(l.U(),E),l.i().focus()}var y=jt(r).fetchSignInMethodsForEmail(h).then(function(E){E.length?m():(E=ke(l),l.m(),ut("passwordRecovery",r,E,h,!1,W1().toString()))},function(){m()});return Nt(r,y),y}se.passwordSignUp=function(r,l,h,p,m,y){function E(){C.m(),_e(r,l)}var C=new mu(_I($(r)),function(){GL(r,C)},m?void 0:E,h,p,Je($(r)),Ze($(r)),y);C.render(l),Ft(r,C)};function Py(){return Kt(this,"firebaseui-id-phone-confirmation-code")}function lS(){return Kt(this,"firebaseui-id-phone-confirmation-code-error")}function cS(){return Kt(this,"firebaseui-id-resend-countdown")}function pl(r,l,h,p,m,y,E,C,N){B.call(this,MT,{phoneNumber:m},N,"phoneSignInFinish",{F:E,D:C}),this.jb=y,this.i=new Tf(1e3),this.B=y,this.P=r,this.l=l,this.H=h,this.M=p}c(pl,B),pl.prototype.v=function(){var r=this;this.U(this.jb),zi(this.i,"tick",this.w,!1,this),this.i.start(),Oe(this,Kt(this,"firebaseui-id-change-phone-number-link"),function(){r.P()}),Oe(this,this.Da(),function(){r.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),B.prototype.v.call(this)},pl.prototype.o=function(){this.M=this.H=this.l=this.P=null,Sf(this.i),Ro(this.i,"tick",this.w),this.i=null,B.prototype.o.call(this)},pl.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(Sf(this.i),Ro(this.i,"tick",this.w),this.ua(),this.lb())},bt(pl.prototype,{u:Py,pa:lS,Ja:function(r){var l=Py.call(this),h=lS.call(this);il(this,l,function(){sl(h)&&(Be(l,!0),Ii(h))}),r&&Jc(this,l,function(){r()})},ba:function(){var r=O(yn(Py.call(this))||"");return/^\d{6}$/.test(r)?r:null},Fb:cS,U:function(r){__(cS.call(this),Jt("Resend code in "+((9<r?"0:":"0:0")+r)).toString())},ua:function(){Ii(this.Fb())},Da:function(){return Kt(this,"firebaseui-id-resend-link")},lb:function(){vn(this.Da())},Nb:hn,Mb:rn,ea:bn});function XL(r,l,h,p){function m(E){l.u().focus(),Be(l.u(),!1),vn(l.pa(),E)}var y=l.ba();y?(l.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Jt("Verifying...").toString()),Nt(r,l.I(J(p.confirm,p),[y],function(E){l.h(),l.$("firebaseui-icon-done",Jt("Verified!").toString());var C=setTimeout(function(){l.h(),l.m();var N={user:qi(r).currentUser,credential:null,operationType:E.operationType,additionalUserInfo:E.additionalUserInfo};zs(r,l,N,!0)},1e3);Nt(r,function(){l&&l.h(),clearTimeout(C)})},function(E){if(E.name&&E.name=="cancel")l.h();else{var C=eu(E);switch(E=ue(C),C.code){case"auth/credential-already-in-use":l.h();break;case"auth/code-expired":C=ke(l),l.h(),l.m(),ut("phoneSignInStart",r,C,h,E);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":l.h(),m(E);break;default:l.h(),l.a(E)}}}))):m(Jt("Wrong code. Try again.").toString())}se.phoneSignInFinish=function(r,l,h,p,m,y){var E=new pl(function(){E.m(),ut("phoneSignInStart",r,l,h)},function(){XL(r,E,h,m)},function(){E.m(),_e(r,l)},function(){E.m(),ut("phoneSignInStart",r,l,h)},sy(h),p,Je($(r)),Ze($(r)));E.render(l),Ft(r,E),y&&E.a(y)};var QL=!Ve&&!(Bt("Safari")&&!(I1()||Bt("Coast")||Bt("Opera")||Bt("Edge")||Bt("Firefox")||Bt("FxiOS")||Bt("Silk")||Bt("Android")));function jf(r,l){return/-[a-z]/.test(l)?null:QL&&r.dataset?!Bt("Android")||I1()||Bt("Firefox")||Bt("FxiOS")||Bt("Opera")||Bt("Silk")||l in r.dataset?(r=r.dataset[l],r===void 0?null:r):null:r.getAttribute("data-"+String(l).replace(/([A-Z])/g,"-$1").toLowerCase())}function JL(r,l,h){var p=this;r=Pc(KI,{items:r},null,this.s),YI.call(this,r,!0,!0),h&&(h=ZL(r,h))&&(h.focus(),AL(h,r)),Oe(this,r,function(m){(m=(m=F1(m.target,"firebaseui-id-list-box-dialog-button"))&&jf(m,"listboxid"))&&(Rf.call(p),l(m))})}function ZL(r,l){r=(r||document).getElementsByTagName("BUTTON");for(var h=0;h<r.length;h++)if(jf(r[h],"listboxid")===l)return r[h];return null}function Vo(){return Kt(this,"firebaseui-id-phone-number")}function uS(){return Kt(this,"firebaseui-id-country-selector")}function Ry(){return Kt(this,"firebaseui-id-phone-number-error")}function tV(r,l){var h=r.a,p=ky("1-US-0",h),m=null;if(l&&ky(l,h)?m=l:p?m="1-US-0":m=0<h.length?h[0].c:null,!m)throw Error("No available default country");$f.call(this,m,r)}function ky(r,l){return r=Mo(r),!(!r||!L(l,r))}function eV(r){return r.map(function(l){return{id:l.c,Ma:"firebaseui-flag "+xy(l),label:l.name+" "+("‎+"+l.b)}})}function xy(r){return"firebaseui-flag-"+r.f}function nV(r){var l=this;JL.call(this,eV(r.a),function(h){$f.call(l,h,r,!0),l.O().focus()},this.Ba)}function $f(r,l,h){var p=Mo(r);p&&(h&&(h=O(yn(Vo.call(this))||""),l=vf(l,h),l.length&&l[0].b!=p.b&&(h="+"+p.b+h.substr(l[0].b.length+1),II(Vo.call(this),h))),l=Mo(this.Ba),this.Ba=r,r=Kt(this,"firebaseui-id-country-selector-flag"),l&&ds(r,xy(l)),hs(r,xy(p)),__(Kt(this,"firebaseui-id-country-selector-code"),"‎+"+p.b))}function _u(r,l,h,p,m,y,E,C,N,q){B.call(this,OT,{Gb:l,Aa:N||null,Va:!!h,ia:!!y},q,"phoneSignInStart",{F:p,D:m}),this.H=C||null,this.M=l,this.l=r,this.w=h||null,this.pa=E||null}c(_u,B),_u.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||Zc(this,this.O(),this.i()),al(this,this.i(),this.l),this.O().focus(),Uf(this.O(),(this.O().value||"").length),B.prototype.v.call(this)},_u.prototype.o=function(){this.w=this.l=null,B.prototype.o.call(this)},bt(_u.prototype,{Cb:by,O:Vo,B:Ry,ea:function(r,l,h){var p=this,m=Vo.call(this),y=uS.call(this),E=Ry.call(this),C=r||Hc,N=C.a;if(N.length==0)throw Error("No available countries provided.");tV.call(p,C,l),Oe(this,y,function(){nV.call(p,C)}),il(this,m,function(){sl(E)&&(Be(m,!0),Ii(E));var q=O(yn(m)||""),ht=Mo(this.Ba),ce=vf(C,q);q=ky("1-US-0",N),ce.length&&ce[0].b!=ht.b&&(ht=ce[0],$f.call(p,ht.b=="1"&&q?"1-US-0":ht.c,C))}),h&&Jc(this,m,function(){h()})},U:function(r){var l=O(yn(Vo.call(this))||"");r=r||Hc;var h=r.a,p=vf(Hc,l);if(p.length&&!L(h,p[0]))throw II(Vo.call(this)),Vo.call(this).focus(),vn(Ry.call(this),Jt("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return h=Mo(this.Ba),p.length&&p[0].b!=h.b&&$f.call(this,p[0].c,r),p.length&&(l=l.substr(p[0].b.length+1)),l?new aI(this.Ba,l):null},Ja:uS,ba:function(){return Kt(this,"firebaseui-recaptcha-container")},u:function(){return Kt(this,"firebaseui-id-recaptcha-error")},i:hn,ua:rn,P:bn});function hS(r,l,h,p){try{var m=l.U(dy)}catch{return}m?qc?(l.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Jt("Verifying...").toString()),Nt(r,l.I(J(r.cc,r),[sy(m),h],function(y){var E=ke(l);l.$("firebaseui-icon-done",Jt("Code sent!").toString());var C=setTimeout(function(){l.h(),l.m(),ut("phoneSignInFinish",r,E,m,15,y)},1e3);Nt(r,function(){l&&l.h(),clearTimeout(C)})},function(y){if(l.h(),!y.name||y.name!="cancel"){grecaptcha.reset(wI),qc=null;var E=y&&y.message||"";if(y.code)switch(y.code){case"auth/too-many-requests":E=Jt("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":l.O().focus(),vn(l.B(),w_().toString());return;case"auth/admin-restricted-operation":if(No($(r))){y=ke(l),l.m(),ut("handleUnauthorizedUser",r,y,sy(m),pt.auth.PhoneAuthProvider.PROVIDER_ID);return}E=ue(y);break;default:E=ue(y)}l.a(E)}}))):Qa?vn(l.u(),Jt("Solve the reCAPTCHA").toString()):!Qa&&p&&l.i().click():(l.O().focus(),vn(l.B(),w_().toString()))}se.phoneSignInStart=function(r,l,h,p){var m=dL($(r))||{};qc=null,Qa=!(m&&m.size==="invisible");var y=JT(r),E=yL($(r)),C=y?_L($(r)):null;E=h&&h.a||E&&E.c||null,h=h&&h.Aa||C,(C=ry($(r)))&&oI(C),dy=C?new iI(ry($(r))):Hc;var N=new _u(function(ht){hS(r,N,q,!(!ht||!ht.keyCode))},Qa,y?null:function(){q.clear(),N.m(),_e(r,l)},Je($(r)),Ze($(r)),y,dy,E,h);N.render(l),Ft(r,N),p&&N.a(p),m.callback=function(ht){N.u()&&Ii(N.u()),qc=ht,Qa||hS(r,N,q)},m["expired-callback"]=function(){qc=null};var q=new pt.auth.RecaptchaVerifier(Qa?N.ba():N.i(),m,qi(r).app);Nt(r,N.I(J(q.render,q),[],function(ht){wI=ht},function(ht){ht.name&&ht.name=="cancel"||(ht=ue(ht),N.m(),_e(r,l,void 0,ht))}))},se.prefilledEmailSignIn=function(r,l,h){var p=new Bf;p.render(l),Ft(r,p),Nt(r,p.I(J(jt(r).fetchSignInMethodsForEmail,jt(r)),[h],function(m){p.m();var y=!(!Mf(r)||!pS(r));tS(r,l,m,h,void 0,y)},function(m){m=ue(m),p.m(),ut("signIn",r,l,h,m)}))};function yu(r,l,h,p,m){B.call(this,DT,{Sb:l},m,"providerSignIn",{F:h,D:p}),this.i=r}c(yu,B),yu.prototype.v=function(){this.l(this.i),B.prototype.v.call(this)},yu.prototype.o=function(){this.i=null,B.prototype.o.call(this)},bt(yu.prototype,{l:function(r){function l(E){r(E)}for(var h=this.g?g_("firebaseui-id-idp-button",this.g||this.s.a):[],p=0;p<h.length;p++){var m=h[p],y=jf(m,"providerId");Oe(this,m,yt(l,y))}}}),se.providerSignIn=function(r,l,h,p){var m=new yu(function(y){y==pt.auth.EmailAuthProvider.PROVIDER_ID?(m.m(),Iy(r,l,p)):y==pt.auth.PhoneAuthProvider.PROVIDER_ID?(m.m(),ut("phoneSignInStart",r,l)):y=="anonymous"?ML(r,m):nu(r,m,y,p),Gt(r),r.l.cancel()},hI($(r)),Je($(r)),Ze($(r)));m.render(l),Ft(r,m),h&&m.a(h),rV(r)},se.sendEmailLinkForSignIn=function(r,l,h,p){var m=new Nf;m.render(l),Ft(r,m),Ey(r,m,h,p,function(y){m.m(),y&&y.code=="auth/admin-restricted-operation"&&No($(r))?ut("handleUnauthorizedUser",r,l,h,pt.auth.EmailAuthProvider.PROVIDER_ID):(y=ue(y),ut("signIn",r,l,h,y))})};function vu(r,l,h,p,m,y,E){B.call(this,ZI,{email:h,Va:!!l,ia:!!y},E,"signIn",{F:p,D:m}),this.i=r,this.u=l}c(vu,B),vu.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),Uf(this.l(),(this.l().value||"").length),B.prototype.v.call(this)},vu.prototype.o=function(){this.u=this.i=null,B.prototype.o.call(this)},bt(vu.prototype,{l:Hs,M:Nr,w:cl,H:ul,j:hl,U:hn,P:rn,B:bn}),se.signIn=function(r,l,h,p){var m=Mf(r),y=new vu(function(){var E=y,C=E.j()||"";C&&ZT(r,E,C)},m?null:function(){y.m(),_e(r,l,h)},h,Je($(r)),Ze($(r)),m);y.render(l),Ft(r,y),p&&y.a(p)};function bu(r,l,h,p,m,y,E){B.call(this,mT,{kc:r,yb:h,Eb:!!p},E,"unauthorizedUser",{F:m,D:y}),this.l=l,this.i=p}c(bu,B),bu.prototype.v=function(){var r=this,l=Kt(this,"firebaseui-id-unauthorized-user-help-link");this.i&&l&&Oe(this,l,function(){r.i()}),Oe(this,this.u(),function(){r.l()}),this.u().focus(),B.prototype.v.call(this)},bu.prototype.o=function(){this.i=this.l=null,B.prototype.o.call(this)},bt(bu.prototype,{u:rn}),se.handleUnauthorizedUser=function(r,l,h,p){function m(){_e(r,l)}p===pt.auth.EmailAuthProvider.PROVIDER_ID?m=function(){Iy(r,l)}:p===pt.auth.PhoneAuthProvider.PROVIDER_ID&&(m=function(){ut("phoneSignInStart",r,l)});var y=null,E=null;p===pt.auth.EmailAuthProvider.PROVIDER_ID&&fI($(r))?(y=gL($(r)),E=mL($(r))):No($(r))&&(y=fL($(r)),E=pL($(r)));var C=new bu(h,function(){C.m(),m()},y,E,Je($(r)),Ze($(r)));C.render(l),Ft(r,C)};function wu(r,l,h,p,m,y){B.call(this,_T,{email:r},y,"unsupportedProvider",{F:p,D:m}),this.l=l,this.i=h}c(wu,B),wu.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),B.prototype.v.call(this)},wu.prototype.o=function(){this.i=this.l=null,B.prototype.o.call(this)},bt(wu.prototype,{u:hn,B:rn,w:bn}),se.unsupportedProvider=function(r,l,h){var p=new wu(h,function(){p.m(),ut("passwordRecovery",r,l,h)},function(){p.m(),_e(r,l,h)},Je($(r)),Ze($(r)));p.render(l),Ft(r,p)};function fs(r,l){this.$=!1;var h=Dy(l);if(Eu[h])throw Error('An AuthUI instance already exists for the key "'+h+'"');Eu[h]=this,this.a=r,this.u=null,this.Y=!1,dS(this.a),this.h=pt.initializeApp({apiKey:r.app.options.apiKey,authDomain:r.app.options.authDomain},r.app.name+"-firebaseui-temp").auth(),(r=r.emulatorConfig)&&(h=r.port,this.h.useEmulator(r.protocol+"://"+r.host+(h===null?"":":"+h),r.options)),dS(this.h),this.h.setPersistence&&this.h.setPersistence(pt.auth.Auth.Persistence.SESSION),this.oa=l,this.ca=new hL,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=V_.Xa(),this.j=this.C=null,this.da=this.A=!1}function dS(r){r&&r.INTERNAL&&r.INTERNAL.logFramework&&r.INTERNAL.logFramework("FirebaseUI-web")}var Eu={};function Dy(r){return r||"[DEFAULT]"}function fS(r){return Gt(r),r.i||(r.i=Ws(r,function(l){return l&&!cs(St(r))?Ue(qi(r).getRedirectResult().then(function(h){return h},function(h){if(h&&h.code=="auth/email-already-in-use"&&h.email&&h.credential)throw h;return Vr(r,h)})):Ue(jt(r).getRedirectResult().then(function(h){return bf($(r))&&!h.user&&r.j&&!r.j.isAnonymous?qi(r).getRedirectResult():h}))})),r.i}function Ft(r,l){Gt(r),r.g=l}var gl=null;function jt(r){return Gt(r),r.h}function qi(r){return Gt(r),r.a}function St(r){return Gt(r),r.oa}function pS(r){return Gt(r),r.O?r.O.emailHint:void 0}e=fs.prototype,e.nb=function(){return Gt(this),!!Z_(St(this))||gS($s())};function gS(r){return r=new Io(r),(r.a.a.get(en.ub)||null)==="signIn"&&!!r.a.a.get(en.$a)}e.start=function(r,l){mS(this,r,l)};function mS(r,l,h,p){Gt(r),typeof r.a.languageCode<"u"&&(r.u=r.a.languageCode);var m="en".replace(/_/g,"-");r.a.languageCode=m,r.h.languageCode=m,r.Y=!0,typeof r.a.tenantId<"u"&&(r.h.tenantId=r.a.tenantId),r.ib(h),r.O=p||null;var y=g.document;r.C?r.C.then(function(){y.readyState=="complete"?Hf(r,l):Oc(window,"load",function(){Hf(r,l)})}):y.readyState=="complete"?Hf(r,l):Oc(window,"load",function(){Hf(r,l)})}function Hf(r,l){var h=Qd(l,"Could not find the FirebaseUI widget element on the page.");if(h.setAttribute("lang","en".replace(/_/g,"-")),gl){var p=gl;Gt(p),cs(St(p))&&Or("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),gl.reset()}if(gl=r,r.T=h,sV(r,h),yf(new Y_)&&yf(new X_)){l=Qd(l,"Could not find the FirebaseUI widget element on the page."),h=$s(),p=ny($(r).a,"queryParameterForSignInSuccessUrl"),h=(h=Nd(h,p))?Ar(Vd(h)).toString():null;t:{p=$s();var m=mI($(r));p=Nd(p,m)||"";for(y in hy)if(hy[y].toLowerCase()==p.toLowerCase()){var y=hy[y];break t}y="callback"}switch(y){case"callback":h&&(y=St(r),Ka(jc,h,y)),r.nb()?ut("callback",r,l):_e(r,l,pS(r));break;case"resetPassword":ut("passwordReset",r,l,iu(),Ty());break;case"recoverEmail":ut("emailChangeRevocation",r,l,iu());break;case"revertSecondFactorAddition":ut("revertSecondFactorAddition",r,l,iu());break;case"verifyEmail":ut("emailVerification",r,l,iu(),Ty());break;case"verifyAndChangeEmail":ut("verifyAndChangeEmail",r,l,iu(),Ty());break;case"signIn":ut("emailLinkSignInCallback",r,l,$s()),bS();break;case"select":h&&(y=St(r),Ka(jc,h,y)),_e(r,l);break;default:throw Error("Unhandled widget operation.")}l=$(r),(l=Wc(l).uiShown||null)&&l()}else l=Qd(l,"Could not find the FirebaseUI widget element on the page."),y=new XT(Jt("The browser you are using does not support Web Storage. Please try again in a different browser.").toString()),y.render(l),Ft(r,y);l=r.g&&r.g.Ga=="blank"&&oy($(r)),Z_(St(r))&&!l&&(l=Z_(St(r)),vS(r,l.a),ai(Oo,St(r)))}function Ws(r,l){if(r.A)return l(_S(r));if(Nt(r,function(){r.A=!1}),bf($(r))){var h=new sn(function(p){Nt(r,r.a.onAuthStateChanged(function(m){r.j=m,r.A||(r.A=!0,p(l(_S(r))))}))});return Nt(r,h),h}return r.A=!0,l(null)}function _S(r){return Gt(r),bf($(r))&&r.j&&r.j.isAnonymous?r.j:null}function Nt(r,l){if(Gt(r),l){r.s.push(l);var h=function(){ne(r.s,function(p){return p==l})};typeof l!="function"&&l.then(h,h)}}e.Db=function(){Gt(this),this.Z=!0};function iV(r){Gt(r);var l;return(l=r.Z)||(r=$(r),r=gI(r,pt.auth.GoogleAuthProvider.PROVIDER_ID),l=!(!r||r.prompt!=="select_account")),l}function yS(r){typeof r.a.languageCode<"u"&&r.Y&&(r.Y=!1,r.a.languageCode=r.u)}function vS(r,l){r.a.tenantId=l,r.h.tenantId=l}e.reset=function(){Gt(this);var r=this;this.T&&this.T.removeAttribute("lang"),this.J&&FN(this.J),yS(this),this.O=null,bS(),ai(Oo,St(this)),Gt(this),this.l.cancel(),this.i=Ue({user:null,credential:null}),gl==this&&(gl=null),this.T=null;for(var l=0;l<this.s.length;l++)typeof this.s[l]=="function"?this.s[l]():this.s[l].cancel&&this.s[l].cancel();this.s=[],us(St(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=Lr(this).then(function(){r.C=null},function(){r.C=null}))};function sV(r,l){r.L=null,r.J=new Yd(l),r.J.register(),zi(r.J,"pageEnter",function(h){if(h=h&&h.pageId,r.L!=h){var p=$(r);(p=Wc(p).uiChanged||null)&&p(r.L,h),r.L=h}})}e.ib=function(r){Gt(this);var l=this.ca,h;for(h in r)try{ey(l.a,h,r[h])}catch{wi('Invalid config: "'+h+'"',void 0)}rN&&ey(l.a,"popupMode",!1),ry(l),!this.da&&ay($(this))&&(Or("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)};function $(r){return Gt(r),r.ca}e.Wb=function(){Gt(this);var r=$(this),l=ny(r.a,"widgetUrl");r=mI(r);for(var h=l.search(g1),p=0,m,y=[];0<=(m=p1(l,p,r,h));)y.push(l.substring(p,m)),p=Math.min(l.indexOf("&",m)+1||h,h);y.push(l.substr(p)),l=y.join("").replace(GM,"$1"),h="="+encodeURIComponent("select"),(r+=h)?(h=l.indexOf("#"),0>h&&(h=l.length),p=l.indexOf("?"),0>p||p>h?(p=h,m=""):m=l.substring(p+1,h),l=[l.substr(0,p),m,l.substr(h)],h=l[1],l[1]=r?h?h+"&"+r:r:h,h=l[0]+(l[1]?"?"+l[1]:"")+l[2]):h=l,$(this).a.get("popupMode")?(r=(window.screen.availHeight-600)/2,l=(window.screen.availWidth-500)/2,h=h||"about:blank",r={width:500,height:600,top:0<r?r:0,left:0<l?l:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},r.target=r.target||h.target||"google_popup",r.width=r.width||690,r.height=r.height||500,(r=_E(h,r))&&r.focus()):La(window.location,h)};function Gt(r){if(r.$)throw Error("AuthUI instance is deleted!")}e.Wa=function(){var r=this;return Gt(this),this.h.app.delete().then(function(){var l=Dy(St(r));delete Eu[l],r.reset(),r.$=!0})};function rV(r){Gt(r);try{IE(r.l,dI($(r)),iV(r)).then(function(l){return r.g?NL(r,r.g,l):!1})}catch{}}e.Ib=function(r,l){Gt(this);var h=this,p=WN();if(!Xa($(this)))return Va(Error("Email link sign-in should be enabled to trigger email sending."));var m=bL($(this)),y=new Io(m.url);return eN(y,p),l&&l.a&&(uL(p,l,St(this)),b1(y,l.a.providerId)),nN(y,vL($(this))),Ws(this,function(E){return E&&((E=E.uid)?y.a.a.set(en.Pa,E):Eo(y.a.a,en.Pa)),m.url=y.toString(),jt(h).sendSignInLinkToEmail(r,m)}).then(function(){var E=St(h),C={};C.email=r,Ka(Wa,zE(p,JSON.stringify(C)),E)},function(E){throw ai($c,St(h)),ai(Wa,St(h)),E})};function oV(r,l){var h=v1(new Io(l));return h?(l=new sn(function(p,m){var y=qi(r).onAuthStateChanged(function(E){y(),E&&E.isAnonymous&&E.uid===h?p(E):E&&E.isAnonymous&&E.uid!==h?m(Error("anonymous-user-mismatch")):m(Error("anonymous-user-not-found"))});Nt(r,y)}),Nt(r,l),l):Ue(null)}function aV(r,l,h,p,m){Gt(r);var y=m||null,E=pt.auth.EmailAuthProvider.credentialWithLink(h,p);return h=y?jt(r).signInWithEmailLink(h,p).then(function(C){return C.user.linkWithCredential(y)}).then(function(){return Lr(r)}).then(function(){return Vr(r,{code:"auth/email-already-in-use"},y)}):jt(r).fetchSignInMethodsForEmail(h).then(function(C){return C.length?Vr(r,{code:"auth/email-already-in-use"},E):l.linkWithCredential(E)}),Nt(r,h),h}function lV(r,l,h,p){Gt(r);var m=p||null,y;return l=jt(r).signInWithEmailLink(l,h).then(function(E){if(y={user:E.user,credential:null,operationType:E.operationType,additionalUserInfo:E.additionalUserInfo},m)return E.user.linkWithCredential(m).then(function(C){y={user:C.user,credential:m,operationType:y.operationType,additionalUserInfo:C.additionalUserInfo}})}).then(function(){Lr(r)}).then(function(){return qi(r).updateCurrentUser(y.user)}).then(function(){return y.user=qi(r).currentUser,y}),Nt(r,l),l}function bS(){var r=$s();if(gS(r)){r=new Io(r);for(var l in en)en.hasOwnProperty(l)&&Eo(r.a.a,en[l]);l={state:"signIn",mode:"emailLink",operation:"clear"};var h=g.document.title;g.history&&g.history.replaceState&&g.history.replaceState(l,h,r.toString())}}e.bc=function(r,l){Gt(this);var h=this;return jt(this).signInWithEmailAndPassword(r,l).then(function(p){return Ws(h,function(m){return m?Lr(h).then(function(){return Vr(h,{code:"auth/email-already-in-use"},pt.auth.EmailAuthProvider.credential(r,l))}):p})})},e.Yb=function(r,l){Gt(this);var h=this;return Ws(this,function(p){if(p){var m=pt.auth.EmailAuthProvider.credential(r,l);return p.linkWithCredential(m)}return jt(h).createUserWithEmailAndPassword(r,l)})},e.ac=function(r){Gt(this);var l=this;return Ws(this,function(h){return h?h.linkWithCredential(r).then(function(p){return p},function(p){if(p&&p.code=="auth/email-already-in-use"&&p.email&&p.credential)throw p;return Vr(l,p,r)}):jt(l).signInWithCredential(r)})};function cV(r,l){return Gt(r),Ws(r,function(h){return h&&!cs(St(r))?h.linkWithPopup(l).then(function(p){return p},function(p){if(p&&p.code=="auth/email-already-in-use"&&p.email&&p.credential)throw p;return Vr(r,p)}):jt(r).signInWithPopup(l)})}e.dc=function(r){Gt(this);var l=this,h=this.i;return this.i=null,Ws(this,function(p){return p&&!cs(St(l))?p.linkWithRedirect(r):jt(l).signInWithRedirect(r)}).then(function(){},function(p){throw l.i=h,p})},e.cc=function(r,l){Gt(this);var h=this;return Ws(this,function(p){return p?p.linkWithPhoneNumber(r,l).then(function(m){return new U_(m,function(y){if(y.code=="auth/credential-already-in-use")return Vr(h,y);throw y})}):qi(h).signInWithPhoneNumber(r,l).then(function(m){return new U_(m)})})},e.$b=function(){return Gt(this),qi(this).signInAnonymously()};function uV(r,l){return Gt(r),Ws(r,function(h){if(r.j&&!r.j.isAnonymous&&bf($(r))&&!jt(r).currentUser)return Lr(r).then(function(){return l.credential.providerId=="password"&&(l.credential=null),l});if(h)return Lr(r).then(function(){return h.linkWithCredential(l.credential)}).then(function(p){return l.user=p.user,l.credential=p.credential,l.operationType=p.operationType,l.additionalUserInfo=p.additionalUserInfo,l},function(p){if(p&&p.code=="auth/email-already-in-use"&&p.email&&p.credential)throw p;return Vr(r,p,l.credential)});if(!l.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return Lr(r).then(function(){return qi(r).updateCurrentUser(l.user)}).then(function(){return l.user=qi(r).currentUser,l.operationType="signIn",l.credential&&l.credential.providerId&&l.credential.providerId=="password"&&(l.credential=null),l})})}e.Xb=function(r,l){return Gt(this),jt(this).signInWithEmailAndPassword(r,l)};function Lr(r){return Gt(r),jt(r).signOut()}function Vr(r,l,h){if(Gt(r),l&&l.code&&(l.code=="auth/email-already-in-use"||l.code=="auth/credential-already-in-use")){var p=bI($(r));return Ue().then(function(){return p(new Rc("anonymous-upgrade-merge-conflict",null,h||l.credential))}).then(function(){throw r.g&&(r.g.m(),r.g=null),l})}return Va(l)}function Iu(r,l,h,p){B.call(this,VT,void 0,p,"providerMatchByEmail",{F:l,D:h}),this.i=r}c(Iu,B),Iu.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),Uf(this.l(),(this.l().value||"").length),B.prototype.v.call(this)},Iu.prototype.o=function(){this.i=null,B.prototype.o.call(this)},bt(Iu.prototype,{l:Hs,H:Nr,u:cl,B:ul,j:hl,M:hn,w:bn});function zf(r,l,h,p,m){B.call(this,LT,{ec:l},m,"selectTenant",{F:h,D:p}),this.i=r}c(zf,B),zf.prototype.v=function(){hV(this,this.i),B.prototype.v.call(this)},zf.prototype.o=function(){this.i=null,B.prototype.o.call(this)};function hV(r,l){function h(C){l(C)}for(var p=r.g?g_("firebaseui-id-tenant-selection-button",r.g||r.s.a):[],m=0;m<p.length;m++){var y=p[m],E=jf(y,"tenantId");Oe(r,y,yt(h,E))}}function Oy(r){B.call(this,rT,void 0,r,"spinner")}c(Oy,B);function dV(r){this.a=new ty,Qe(this.a,"authDomain"),Qe(this.a,"displayMode",qf),Qe(this.a,"tenants"),Qe(this.a,"callbacks"),Qe(this.a,"tosUrl"),Qe(this.a,"privacyPolicyUrl");for(var l in r)if(r.hasOwnProperty(l))try{ey(this.a,l,r[l])}catch{wi('Invalid config: "'+l+'"',void 0)}}function fV(r){r=r.a.get("displayMode");for(var l in Ny)if(Ny[l]===r)return Ny[l];return qf}function Wf(r){return r.a.get("callbacks")||{}}function wS(r){var l=r.a.get("tosUrl")||null;if(r=r.a.get("privacyPolicyUrl")||null,l&&!r&&Or("Privacy Policy URL is missing, the link will not be displayed."),l&&r){if(typeof l=="function")return l;if(typeof l=="string")return function(){Ua(l)}}return null}function ES(r){var l=r.a.get("tosUrl")||null,h=r.a.get("privacyPolicyUrl")||null;if(h&&!l&&Or("Terms of Service URL is missing, the link will not be displayed."),l&&h){if(typeof h=="function")return h;if(typeof h=="string")return function(){Ua(h)}}return null}function My(r,l){if(r=r.a.get("tenants"),!r||!r.hasOwnProperty(l)&&!r.hasOwnProperty(Kf))throw Error("Invalid tenant configuration!")}function IS(r,l,h){if(r=r.a.get("tenants"),!r)throw Error("Invalid tenant configuration!");var p=[];if(r=r[l]||r[Kf],!r)return wi("Invalid tenant configuration: "+(l+" is not configured!"),void 0),p;if(l=r.signInOptions,!l)throw Error("Invalid tenant configuration: signInOptions are invalid!");return l.forEach(function(m){if(typeof m=="string")p.push(m);else if(typeof m.provider=="string"){var y=m.hd;y&&h?(y instanceof RegExp?y:new RegExp("@"+y.replace(".","\\.")+"$")).test(h)&&p.push(m.provider):p.push(m.provider)}else m="Invalid tenant configuration: signInOption "+(JSON.stringify(m)+" is invalid!"),wi(m,void 0)}),p}function pV(r,l,h){return r=gV(r,l),(l=r.signInOptions)&&h&&(l=l.filter(function(p){return typeof p=="string"?h.includes(p):h.includes(p.provider)}),r.signInOptions=l),r}function gV(r,l){var h=mV,p=p===void 0?{}:p;return My(r,l),r=r.a.get("tenants"),qN(r[l]||r[Kf],h,p)}var mV=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],qf="optionFirst",Ny={pc:qf,oc:"identifierFirst"},Kf="*";function Ki(r,l){var h=this;this.s=Qd(r),this.a={},Object.keys(l).forEach(function(p){h.a[p]=new dV(l[p])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(p){this.ob=p||null},enumerable:!1})}e=Ki.prototype,e.Ub=function(r,l){var h=this;Fr(this);var p=r.apiKey;return new sn(function(m,y){if(h.a.hasOwnProperty(p)){var E=Wf(h.a[p]).selectTenantUiHidden||null;if(fV(h.a[p])===qf){var C=[];l.forEach(function(ht){ht=ht||"_";var ce=h.a[p].a.get("tenants");if(!ce)throw Error("Invalid tenant configuration!");(ce=ce[ht]||ce[Kf])?ht={tenantId:ht!=="_"?ht:null,V:ce.fullLabel||null,displayName:ce.displayName,za:ce.iconUrl,ta:ce.buttonColor}:(wi("Invalid tenant configuration: "+(ht+" is not configured!"),void 0),ht=null),ht&&C.push(ht)});var N=function(ht){ht={tenantId:ht,providerIds:IS(h.a[p],ht||"_")},m(ht)};if(C.length===1){N(C[0].tenantId);return}h.g=new zf(function(ht){Fr(h),E&&E(),N(ht)},C,wS(h.a[p]),ES(h.a[p]))}else h.g=new Iu(function(){var ht=h.g.j();if(ht){for(var ce=0;ce<l.length;ce++){var Gi=IS(h.a[p],l[ce]||"_",ht);if(Gi.length!==0){ht={tenantId:l[ce],providerIds:Gi,email:ht},Fr(h),E&&E(),m(ht);return}}h.g.a(q1({code:"no-matching-tenant-for-email"}).toString())}},wS(h.a[p]),ES(h.a[p]));h.g.render(h.s),(y=Wf(h.a[p]).selectTenantUiShown||null)&&y()}else{var q=Error("Invalid project configuration: API key is invalid!");q.code="invalid-configuration",h.pb(q),y(q)}})},e.Pb=function(r,l){if(!this.a.hasOwnProperty(r))throw Error("Invalid project configuration: API key is invalid!");var h=l||void 0;My(this.a[r],l||"_");try{this.i=pt.app(h).auth()}catch{var p=this.a[r].a.get("authDomain");if(!p)throw Error("Invalid project configuration: authDomain is required!");r=pt.initializeApp({apiKey:r,authDomain:p},h),r.auth().tenantId=l,this.i=r.auth()}return this.i},e.Zb=function(r,l){var h=this;return new sn(function(p,m){function y(ce,Gi){h.j=new fs(r),mS(h.j,h.s,ce,Gi)}var E=r.app.options.apiKey;h.a.hasOwnProperty(E)||m(Error("Invalid project configuration: API key is invalid!"));var C=pV(h.a[E],r.tenantId||"_",l&&l.providerIds);Fr(h),m={signInSuccessWithAuthResult:function(ce){return p(ce),!1}};var N=Wf(h.a[E]).signInUiShown||null,q=!1;m.uiChanged=function(ce,Gi){ce===null&&Gi==="callback"?((ce=m_("firebaseui-id-page-callback",h.s))&&Ii(ce),h.h=new Oy,h.h.render(h.s)):q||ce===null&&Gi==="spinner"||Gi==="blank"||(h.h&&(h.h.m(),h.h=null),q=!0,N&&N(r.tenantId))},C.callbacks=m,C.credentialHelper="none";var ht;l&&l.email&&(ht={emailHint:l.email}),h.j?h.j.Wa().then(function(){y(C,ht)}):y(C,ht)})},e.reset=function(){var r=this;return Ue().then(function(){r.j&&r.j.Wa()}).then(function(){r.j=null,Fr(r)})},e.Vb=function(){var r=this;this.h||this.A||(this.A=window.setTimeout(function(){Fr(r),r.h=new Oy,r.g=r.h,r.h.render(r.s),r.A=null},500))},e.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},e.Bb=function(){return Fr(this),this.g=new WT,this.g.render(this.s),Ue()};function Fr(r){r.j&&r.j.reset(),r.mb(),r.g&&r.g.m()}e.pb=function(r){var l=this,h=q1({code:r.code}).toString()||r.message;Fr(this);var p;r.retry&&typeof r.retry=="function"&&(p=function(){l.reset(),r.retry()}),this.g=new YT(h,p),this.g.render(this.s)},e.Rb=function(r){var l=this;return Ue().then(function(){var h=l.i&&l.i.app.options.apiKey;if(!l.a.hasOwnProperty(h))throw Error("Invalid project configuration: API key is invalid!");if(My(l.a[h],r.tenantId||"_"),!l.i.currentUser||l.i.currentUser.uid!==r.uid)throw Error("The user being processed does not match the signed in user!");return(h=Wf(l.a[h]).beforeSignInSuccess||null)?h(r):r}).then(function(h){if(h.uid!==r.uid)throw Error("User with mismatching UID returned.");return h})},dt("firebaseui.auth.FirebaseUiHandler",Ki),dt("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",Ki.prototype.Ub),dt("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",Ki.prototype.Pb),dt("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",Ki.prototype.Zb),dt("firebaseui.auth.FirebaseUiHandler.prototype.reset",Ki.prototype.reset),dt("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",Ki.prototype.Vb),dt("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",Ki.prototype.mb),dt("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",Ki.prototype.Bb),dt("firebaseui.auth.FirebaseUiHandler.prototype.handleError",Ki.prototype.pb),dt("firebaseui.auth.FirebaseUiHandler.prototype.processUser",Ki.prototype.Rb),dt("firebaseui.auth.AuthUI",fs),dt("firebaseui.auth.AuthUI.getInstance",function(r){return r=Dy(r),Eu[r]?Eu[r]:null}),dt("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",fs.prototype.Db),dt("firebaseui.auth.AuthUI.prototype.start",fs.prototype.start),dt("firebaseui.auth.AuthUI.prototype.setConfig",fs.prototype.ib),dt("firebaseui.auth.AuthUI.prototype.signIn",fs.prototype.Wb),dt("firebaseui.auth.AuthUI.prototype.reset",fs.prototype.reset),dt("firebaseui.auth.AuthUI.prototype.delete",fs.prototype.Wa),dt("firebaseui.auth.AuthUI.prototype.isPendingRedirect",fs.prototype.nb),dt("firebaseui.auth.AuthUIError",Rc),dt("firebaseui.auth.AuthUIError.prototype.toJSON",Rc.prototype.toJSON),dt("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",ly),dt("firebaseui.auth.CredentialHelper.NONE",Ef),dt("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),sn.prototype.catch=sn.prototype.Ca,sn.prototype.finally=sn.prototype.fc}).apply(typeof global<"u"?global:typeof self<"u"?self:window)}).apply(typeof global<"u"?global:typeof self<"u"?self:window);typeof window<"u"&&(window.dialogPolyfill=Uj);var tC=firebaseui.auth,Bj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nt,L0=L0||{},xt=Bj||self;function ym(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function pd(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function jj(e){return Object.prototype.hasOwnProperty.call(e,iv)&&e[iv]||(e[iv]=++$j)}var iv="closure_uid_"+(1e9*Math.random()>>>0),$j=0;function Hj(e,t,n){return e.call.apply(e.bind,arguments)}function zj(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),e.apply(t,s)}}return function(){return e.apply(t,arguments)}}function zn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?zn=Hj:zn=zj,zn.apply(null,arguments)}function ep(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function Cn(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(i,s,o){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return t.prototype[s].apply(i,a)}}function _o(){this.s=this.s,this.o=this.o}var Wj=0;_o.prototype.s=!1;_o.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Wj!=0)&&jj(this)};_o.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const c2=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function V0(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function eC(e,t){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(ym(i)){const s=e.length||0,o=i.length||0;e.length=s+o;for(let a=0;a<o;a++)e[s+a]=i[a]}else e.push(i)}}function Wn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Wn.prototype.h=function(){this.defaultPrevented=!0};var qj=function(){if(!xt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};xt.addEventListener("test",n,t),xt.removeEventListener("test",n,t)}catch{}return e}();function Lh(e){return/^[\s\xa0]*$/.test(e)}function vm(){var e=xt.navigator;return e&&(e=e.userAgent)?e:""}function Is(e){return vm().indexOf(e)!=-1}function F0(e){return F0[" "](e),e}F0[" "]=function(){};function Kj(e,t){var n=U$;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var Gj=Is("Opera"),Ql=Is("Trident")||Is("MSIE"),u2=Is("Edge"),ib=u2||Ql,h2=Is("Gecko")&&!(vm().toLowerCase().indexOf("webkit")!=-1&&!Is("Edge"))&&!(Is("Trident")||Is("MSIE"))&&!Is("Edge"),Yj=vm().toLowerCase().indexOf("webkit")!=-1&&!Is("Edge");function d2(){var e=xt.document;return e?e.documentMode:void 0}var sb;t:{var sv="",rv=function(){var e=vm();if(h2)return/rv:([^\);]+)(\)|;)/.exec(e);if(u2)return/Edge\/([\d\.]+)/.exec(e);if(Ql)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(Yj)return/WebKit\/(\S+)/.exec(e);if(Gj)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(rv&&(sv=rv?rv[1]:""),Ql){var ov=d2();if(ov!=null&&ov>parseFloat(sv)){sb=String(ov);break t}}sb=sv}var rb;if(xt.document&&Ql){var nC=d2();rb=nC||parseInt(sb,10)||void 0}else rb=void 0;var Xj=rb;function Vh(e,t){if(Wn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(h2){t:{try{F0(t.nodeName);var s=!0;break t}catch{}s=!1}s||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:Qj[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Vh.$.h.call(this)}}Cn(Vh,Wn);var Qj={2:"touch",3:"pen",4:"mouse"};Vh.prototype.h=function(){Vh.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var gd="closure_listenable_"+(1e6*Math.random()|0),Jj=0;function Zj(e,t,n,i,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.la=s,this.key=++Jj,this.fa=this.ia=!1}function bm(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function U0(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function t$(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function f2(e){const t={};for(const n in e)t[n]=e[n];return t}const iC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function p2(e,t){let n,i;for(let s=1;s<arguments.length;s++){i=arguments[s];for(n in i)e[n]=i[n];for(let o=0;o<iC.length;o++)n=iC[o],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function wm(e){this.src=e,this.g={},this.h=0}wm.prototype.add=function(e,t,n,i,s){var o=e.toString();e=this.g[o],e||(e=this.g[o]=[],this.h++);var a=ab(e,t,i,s);return-1<a?(t=e[a],n||(t.ia=!1)):(t=new Zj(t,this.src,o,!!i,s),t.ia=n,e.push(t)),t};function ob(e,t){var n=t.type;if(n in e.g){var i=e.g[n],s=c2(i,t),o;(o=0<=s)&&Array.prototype.splice.call(i,s,1),o&&(bm(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function ab(e,t,n,i){for(var s=0;s<e.length;++s){var o=e[s];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==i)return s}return-1}var B0="closure_lm_"+(1e6*Math.random()|0),av={};function g2(e,t,n,i,s){if(i&&i.once)return _2(e,t,n,i,s);if(Array.isArray(t)){for(var o=0;o<t.length;o++)g2(e,t[o],n,i,s);return null}return n=H0(n),e&&e[gd]?e.O(t,n,pd(i)?!!i.capture:!!i,s):m2(e,t,n,!1,i,s)}function m2(e,t,n,i,s,o){if(!t)throw Error("Invalid event type");var a=pd(s)?!!s.capture:!!s,c=$0(e);if(c||(e[B0]=c=new wm(e)),n=c.add(t,n,i,a,o),n.proxy)return n;if(i=e$(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)qj||(s=a),s===void 0&&(s=!1),e.addEventListener(t.toString(),i,s);else if(e.attachEvent)e.attachEvent(v2(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function e$(){function e(n){return t.call(e.src,e.listener,n)}const t=n$;return e}function _2(e,t,n,i,s){if(Array.isArray(t)){for(var o=0;o<t.length;o++)_2(e,t[o],n,i,s);return null}return n=H0(n),e&&e[gd]?e.P(t,n,pd(i)?!!i.capture:!!i,s):m2(e,t,n,!0,i,s)}function y2(e,t,n,i,s){if(Array.isArray(t))for(var o=0;o<t.length;o++)y2(e,t[o],n,i,s);else i=pd(i)?!!i.capture:!!i,n=H0(n),e&&e[gd]?(e=e.i,t=String(t).toString(),t in e.g&&(o=e.g[t],n=ab(o,n,i,s),-1<n&&(bm(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete e.g[t],e.h--)))):e&&(e=$0(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ab(t,n,i,s)),(n=-1<e?t[e]:null)&&j0(n))}function j0(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[gd])ob(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(v2(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=$0(t))?(ob(n,e),n.h==0&&(n.src=null,t[B0]=null)):bm(e)}}}function v2(e){return e in av?av[e]:av[e]="on"+e}function n$(e,t){if(e.fa)e=!0;else{t=new Vh(t,this);var n=e.listener,i=e.la||e.src;e.ia&&j0(e),e=n.call(i,t)}return e}function $0(e){return e=e[B0],e instanceof wm?e:null}var lv="__closure_events_fn_"+(1e9*Math.random()>>>0);function H0(e){return typeof e=="function"?e:(e[lv]||(e[lv]=function(t){return e.handleEvent(t)}),e[lv])}function An(){_o.call(this),this.i=new wm(this),this.S=this,this.J=null}Cn(An,_o);An.prototype[gd]=!0;An.prototype.removeEventListener=function(e,t,n,i){y2(this,e,t,n,i)};function Dn(e,t){var n,i=e.J;if(i)for(n=[];i;i=i.J)n.push(i);if(e=e.S,i=t.type||t,typeof t=="string")t=new Wn(t,e);else if(t instanceof Wn)t.target=t.target||e;else{var s=t;t=new Wn(i,e),p2(t,s)}if(s=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];s=np(a,i,!0,t)&&s}if(a=t.g=e,s=np(a,i,!0,t)&&s,s=np(a,i,!1,t)&&s,n)for(o=0;o<n.length;o++)a=t.g=n[o],s=np(a,i,!1,t)&&s}An.prototype.N=function(){if(An.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)bm(n[i]);delete e.g[t],e.h--}}this.J=null};An.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};An.prototype.P=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function np(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var s=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.fa&&a.capture==n){var c=a.listener,u=a.la||a.src;a.ia&&ob(e.i,a),s=c.call(u,i)!==!1&&s}}return s&&!i.defaultPrevented}var z0=xt.JSON.stringify;class i${constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function s$(){var e=W0;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class r${constructor(){this.h=this.g=null}add(t,n){const i=b2.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i}}var b2=new i$(()=>new o$,e=>e.reset());class o${constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function a$(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function l$(e){xt.setTimeout(()=>{throw e},0)}let Fh,Uh=!1,W0=new r$,w2=()=>{const e=xt.Promise.resolve(void 0);Fh=()=>{e.then(c$)}};var c$=()=>{for(var e;e=s$();){try{e.h.call(e.g)}catch(n){l$(n)}var t=b2;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Uh=!1};function Em(e,t){An.call(this),this.h=e||1,this.g=t||xt,this.j=zn(this.qb,this),this.l=Date.now()}Cn(Em,An);nt=Em.prototype;nt.ga=!1;nt.T=null;nt.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Dn(this,"tick"),this.ga&&(q0(this),this.start()))}};nt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function q0(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}nt.N=function(){Em.$.N.call(this),q0(this),delete this.g};function K0(e,t,n){if(typeof e=="function")n&&(e=zn(e,n));else if(e&&typeof e.handleEvent=="function")e=zn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:xt.setTimeout(e,t||0)}function E2(e){e.g=K0(()=>{e.g=null,e.i&&(e.i=!1,E2(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class u$ extends _o{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:E2(this)}N(){super.N(),this.g&&(xt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bh(e){_o.call(this),this.h=e,this.g={}}Cn(Bh,_o);var sC=[];function I2(e,t,n,i){Array.isArray(n)||(n&&(sC[0]=n.toString()),n=sC);for(var s=0;s<n.length;s++){var o=g2(t,n[s],i||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function T2(e){U0(e.g,function(t,n){this.g.hasOwnProperty(n)&&j0(t)},e),e.g={}}Bh.prototype.N=function(){Bh.$.N.call(this),T2(this)};Bh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Im(){this.g=!0}Im.prototype.Ea=function(){this.g=!1};function h$(e,t,n,i,s,o){e.info(function(){if(e.g)if(o)for(var a="",c=o.split("&"),u=0;u<c.length;u++){var d=c[u].split("=");if(1<d.length){var f=d[0];d=d[1];var g=f.split("_");a=2<=g.length&&g[1]=="type"?a+(f+"="+d+"&"):a+(f+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+t+`
`+n+`
`+a})}function d$(e,t,n,i,s,o,a){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+t+`
`+n+`
`+o+" "+a})}function Sl(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+p$(e,n)+(i?" "+i:"")})}function f$(e,t){e.info(function(){return"TIMEOUT: "+t})}Im.prototype.info=function(){};function p$(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var o=s[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<s.length;a++)s[a]=""}}}}return z0(n)}catch{return t}}var Aa={},rC=null;function Tm(){return rC=rC||new An}Aa.Ta="serverreachability";function S2(e){Wn.call(this,Aa.Ta,e)}Cn(S2,Wn);function jh(e){const t=Tm();Dn(t,new S2(t))}Aa.STAT_EVENT="statevent";function A2(e,t){Wn.call(this,Aa.STAT_EVENT,e),this.stat=t}Cn(A2,Wn);function si(e){const t=Tm();Dn(t,new A2(t,e))}Aa.Ua="timingevent";function C2(e,t){Wn.call(this,Aa.Ua,e),this.size=t}Cn(C2,Wn);function md(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return xt.setTimeout(function(){e()},t)}var Sm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},P2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function G0(){}G0.prototype.h=null;function oC(e){return e.h||(e.h=e.i())}function R2(){}var _d={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Y0(){Wn.call(this,"d")}Cn(Y0,Wn);function X0(){Wn.call(this,"c")}Cn(X0,Wn);var lb;function Am(){}Cn(Am,G0);Am.prototype.g=function(){return new XMLHttpRequest};Am.prototype.i=function(){return{}};lb=new Am;function yd(e,t,n,i){this.l=e,this.j=t,this.m=n,this.W=i||1,this.U=new Bh(this),this.P=g$,e=ib?125:void 0,this.V=new Em(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new k2}function k2(){this.i=null,this.g="",this.h=!1}var g$=45e3,x2={},cb={};nt=yd.prototype;nt.setTimeout=function(e){this.P=e};function ub(e,t,n){e.L=1,e.A=Pm(cr(t)),e.u=n,e.S=!0,D2(e,null)}function D2(e,t){e.G=Date.now(),vd(e),e.B=cr(e.A);var n=e.B,i=e.W;Array.isArray(i)||(i=[String(i)]),B2(n.i,"t",i),e.o=0,n=e.l.J,e.h=new k2,e.g=aD(e.l,n?t:null,!e.u),0<e.O&&(e.M=new u$(zn(e.Pa,e,e.g),e.O)),I2(e.U,e.g,"readystatechange",e.nb),t=e.I?f2(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),jh(),h$(e.j,e.v,e.B,e.m,e.W,e.u)}nt.nb=function(e){e=e.target;const t=this.M;t&&Ss(e)==3?t.l():this.Pa(e)};nt.Pa=function(e){try{if(e==this.g)t:{const f=Ss(this.g);var t=this.g.Ia();const g=this.g.da();if(!(3>f)&&(f!=3||ib||this.g&&(this.h.h||this.g.ja()||uC(this.g)))){this.J||f!=4||t==7||(t==8||0>=g?jh(3):jh(2)),Cm(this);var n=this.g.da();this.ca=n;e:if(O2(this)){var i=uC(this.g);e="";var s=i.length,o=Ss(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jo(this),uh(this);var a="";break e}this.h.i=new xt.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:o&&t==s-1});i.length=0,this.h.g+=e,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,d$(this.j,this.v,this.B,this.m,this.W,f,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var c,u=this.g;if((c=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lh(c)){var d=c;break e}}d=null}if(n=d)Sl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hb(this,n);else{this.i=!1,this.s=3,si(12),Jo(this),uh(this);break t}}this.S?(M2(this,f,a),ib&&this.i&&f==3&&(I2(this.U,this.V,"tick",this.mb),this.V.start())):(Sl(this.j,this.m,a,null),hb(this,a)),f==4&&Jo(this),this.i&&!this.J&&(f==4?iD(this.l,this):(this.i=!1,vd(this)))}else L$(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.s=3,si(12)):(this.s=0,si(13)),Jo(this),uh(this)}}}catch{}finally{}};function O2(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function M2(e,t,n){let i=!0,s;for(;!e.J&&e.o<n.length;)if(s=m$(e,n),s==cb){t==4&&(e.s=4,si(14),i=!1),Sl(e.j,e.m,null,"[Incomplete Response]");break}else if(s==x2){e.s=4,si(15),Sl(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else Sl(e.j,e.m,s,null),hb(e,s);O2(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,si(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),nw(t),t.M=!0,si(11))):(Sl(e.j,e.m,n,"[Invalid Chunked Response]"),Jo(e),uh(e))}nt.mb=function(){if(this.g){var e=Ss(this.g),t=this.g.ja();this.o<t.length&&(Cm(this),M2(this,e,t),this.i&&e!=4&&vd(this))}};function m$(e,t){var n=e.o,i=t.indexOf(`
`,n);return i==-1?cb:(n=Number(t.substring(n,i)),isNaN(n)?x2:(i+=1,i+n>t.length?cb:(t=t.slice(i,i+n),e.o=i+n,t)))}nt.cancel=function(){this.J=!0,Jo(this)};function vd(e){e.Y=Date.now()+e.P,N2(e,e.P)}function N2(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=md(zn(e.lb,e),t)}function Cm(e){e.C&&(xt.clearTimeout(e.C),e.C=null)}nt.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(f$(this.j,this.B),this.L!=2&&(jh(),si(17)),Jo(this),this.s=2,uh(this)):N2(this,this.Y-e)};function uh(e){e.l.H==0||e.J||iD(e.l,e)}function Jo(e){Cm(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,q0(e.V),T2(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function hb(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||db(n.i,e))){if(!e.K&&db(n.i,e)&&n.H==3){try{var i=n.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var s=i;if(s[0]==0){t:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)_g(n),Dm(n);else break t;ew(n),si(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=md(zn(n.ib,n),6e3));if(1>=H2(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Zo(n,11)}else if((e.K||n.g==e)&&_g(n),!Lh(t))for(s=n.Ja.g.parse(t),t=0;t<s.length;t++){let d=s[t];if(n.V=d[0],d=d[1],n.H==2)if(d[0]=="c"){n.K=d[1],n.pa=d[2];const f=d[3];f!=null&&(n.ra=f,n.l.info("VER="+n.ra));const g=d[4];g!=null&&(n.Ga=g,n.l.info("SVER="+n.Ga));const _=d[5];_!=null&&typeof _=="number"&&0<_&&(i=1.5*_,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const v=e.g;if(v){const I=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(I){var o=i.i;o.g||I.indexOf("spdy")==-1&&I.indexOf("quic")==-1&&I.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Q0(o,o.h),o.h=null))}if(i.F){const b=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;b&&(i.Da=b,Se(i.I,i.F,b))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var a=e;if(i.wa=oD(i,i.J?i.pa:null,i.Y),a.K){z2(i.i,a);var c=a,u=i.L;u&&c.setTimeout(u),c.C&&(Cm(c),vd(c)),i.g=a}else eD(i);0<n.j.length&&Om(n)}else d[0]!="stop"&&d[0]!="close"||Zo(n,7);else n.H==3&&(d[0]=="stop"||d[0]=="close"?d[0]=="stop"?Zo(n,7):tw(n):d[0]!="noop"&&n.h&&n.h.Aa(d),n.A=0)}}jh(4)}catch{}}function _$(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(ym(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function y$(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(ym(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}function L2(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(ym(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=y$(e),i=_$(e),s=i.length,o=0;o<s;o++)t.call(void 0,i[o],n&&n[o],e)}var V2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function v$(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),s=null;if(0<=i){var o=e[n].substring(0,i);s=e[n].substring(i+1)}else o=e[n];t(o,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function aa(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof aa){this.h=e.h,gg(this,e.j),this.s=e.s,this.g=e.g,mg(this,e.m),this.l=e.l;var t=e.i,n=new $h;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),aC(this,n),this.o=e.o}else e&&(t=String(e).match(V2))?(this.h=!1,gg(this,t[1]||"",!0),this.s=zu(t[2]||""),this.g=zu(t[3]||"",!0),mg(this,t[4]),this.l=zu(t[5]||"",!0),aC(this,t[6]||"",!0),this.o=zu(t[7]||"")):(this.h=!1,this.i=new $h(null,this.h))}aa.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Wu(t,lC,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Wu(t,lC,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Wu(n,n.charAt(0)=="/"?E$:w$,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Wu(n,T$)),e.join("")};function cr(e){return new aa(e)}function gg(e,t,n){e.j=n?zu(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function mg(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function aC(e,t,n){t instanceof $h?(e.i=t,S$(e.i,e.h)):(n||(t=Wu(t,I$)),e.i=new $h(t,e.h))}function Se(e,t,n){e.i.set(t,n)}function Pm(e){return Se(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function zu(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Wu(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,b$),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function b$(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var lC=/[#\/\?@]/g,w$=/[#\?:]/g,E$=/[#\?]/g,I$=/[#\?@]/g,T$=/#/g;function $h(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function yo(e){e.g||(e.g=new Map,e.h=0,e.i&&v$(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}nt=$h.prototype;nt.add=function(e,t){yo(this),this.i=null,e=mc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function F2(e,t){yo(e),t=mc(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function U2(e,t){return yo(e),t=mc(e,t),e.g.has(t)}nt.forEach=function(e,t){yo(this),this.g.forEach(function(n,i){n.forEach(function(s){e.call(t,s,i,this)},this)},this)};nt.ta=function(){yo(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const s=e[i];for(let o=0;o<s.length;o++)n.push(t[i])}return n};nt.Z=function(e){yo(this);let t=[];if(typeof e=="string")U2(this,e)&&(t=t.concat(this.g.get(mc(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};nt.set=function(e,t){return yo(this),this.i=null,e=mc(this,e),U2(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};nt.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function B2(e,t,n){F2(e,t),0<n.length&&(e.i=null,e.g.set(mc(e,t),V0(n)),e.h+=n.length)}nt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const o=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var s=o;a[i]!==""&&(s+="="+encodeURIComponent(String(a[i]))),e.push(s)}}return this.i=e.join("&")};function mc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function S$(e,t){t&&!e.j&&(yo(e),e.i=null,e.g.forEach(function(n,i){var s=i.toLowerCase();i!=s&&(F2(this,i),B2(this,s,n))},e)),e.j=t}var A$=class{constructor(e,t){this.g=e,this.map=t}};function j2(e){this.l=e||C$,xt.PerformanceNavigationTiming?(e=xt.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(xt.g&&xt.g.Ka&&xt.g.Ka()&&xt.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var C$=10;function $2(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function H2(e){return e.h?1:e.g?e.g.size:0}function db(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Q0(e,t){e.g?e.g.add(t):e.h=t}function z2(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}j2.prototype.cancel=function(){if(this.i=W2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function W2(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return V0(e.i)}var P$=class{stringify(e){return xt.JSON.stringify(e,void 0)}parse(e){return xt.JSON.parse(e,void 0)}};function R$(){this.g=new P$}function k$(e,t,n){const i=n||"";try{L2(e,function(s,o){let a=s;pd(s)&&(a=z0(s)),t.push(i+o+"="+encodeURIComponent(a))})}catch(s){throw t.push(i+"type="+encodeURIComponent("_badmap")),s}}function x$(e,t){const n=new Im;if(xt.Image){const i=new Image;i.onload=ep(ip,n,i,"TestLoadImage: loaded",!0,t),i.onerror=ep(ip,n,i,"TestLoadImage: error",!1,t),i.onabort=ep(ip,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=ep(ip,n,i,"TestLoadImage: timeout",!1,t),xt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function ip(e,t,n,i,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(i)}catch{}}function Rm(e){this.l=e.ec||null,this.j=e.ob||!1}Cn(Rm,G0);Rm.prototype.g=function(){return new km(this.l,this.j)};Rm.prototype.i=function(e){return function(){return e}}({});function km(e,t){An.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=J0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Cn(km,An);var J0=0;nt=km.prototype;nt.open=function(e,t){if(this.readyState!=J0)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Hh(this)};nt.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||xt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};nt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bd(this)),this.readyState=J0};nt.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Hh(this)),this.g&&(this.readyState=3,Hh(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof xt.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;q2(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function q2(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}nt.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?bd(this):Hh(this),this.readyState==3&&q2(this)}};nt.Za=function(e){this.g&&(this.response=this.responseText=e,bd(this))};nt.Ya=function(e){this.g&&(this.response=e,bd(this))};nt.ka=function(){this.g&&bd(this)};function bd(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Hh(e)}nt.setRequestHeader=function(e,t){this.v.append(e,t)};nt.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};nt.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Hh(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(km.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var D$=xt.JSON.parse;function We(e){An.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=K2,this.L=this.M=!1}Cn(We,An);var K2="",O$=/^https?$/i,M$=["POST","PUT"];nt=We.prototype;nt.Oa=function(e){this.M=e};nt.ha=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():lb.g(),this.C=this.u?oC(this.u):oC(lb),this.g.onreadystatechange=zn(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){cC(this,o);return}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const o of i.keys())n.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),s=xt.FormData&&e instanceof xt.FormData,!(0<=c2(M$,t))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{X2(this),0<this.B&&((this.L=N$(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zn(this.ua,this)):this.A=K0(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){cC(this,o)}};function N$(e){return Ql&&typeof e.timeout=="number"&&e.ontimeout!==void 0}nt.ua=function(){typeof L0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dn(this,"timeout"),this.abort(8))};function cC(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,G2(e),xm(e)}function G2(e){e.F||(e.F=!0,Dn(e,"complete"),Dn(e,"error"))}nt.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Dn(this,"complete"),Dn(this,"abort"),xm(this))};nt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xm(this,!0)),We.$.N.call(this)};nt.La=function(){this.s||(this.G||this.v||this.l?Y2(this):this.kb())};nt.kb=function(){Y2(this)};function Y2(e){if(e.h&&typeof L0<"u"&&(!e.C[1]||Ss(e)!=4||e.da()!=2)){if(e.v&&Ss(e)==4)K0(e.La,0,e);else if(Dn(e,"readystatechange"),Ss(e)==4){e.h=!1;try{const a=e.da();t:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var i;if(i=a===0){var s=String(e.I).match(V2)[1]||null;!s&&xt.self&&xt.self.location&&(s=xt.self.location.protocol.slice(0,-1)),i=!O$.test(s?s.toLowerCase():"")}n=i}if(n)Dn(e,"complete"),Dn(e,"success");else{e.m=6;try{var o=2<Ss(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.da()+"]",G2(e)}}finally{xm(e)}}}}function xm(e,t){if(e.g){X2(e);const n=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Dn(e,"ready");try{n.onreadystatechange=i}catch{}}}function X2(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(xt.clearTimeout(e.A),e.A=null)}nt.isActive=function(){return!!this.g};function Ss(e){return e.g?e.g.readyState:0}nt.da=function(){try{return 2<Ss(this)?this.g.status:-1}catch{return-1}};nt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};nt.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),D$(t)}};function uC(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case K2:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function L$(e){const t={};e=(e.g&&2<=Ss(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<e.length;i++){if(Lh(e[i]))continue;var n=a$(e[i]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=t[s]||[];t[s]=o,o.push(n)}t$(t,function(i){return i.join(", ")})}nt.Ia=function(){return this.m};nt.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Q2(e){let t="";return U0(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function Z0(e,t,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=Q2(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Se(e,t,n))}function xu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function J2(e){this.Ga=0,this.j=[],this.l=new Im,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=xu("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=xu("baseRetryDelayMs",5e3,e),this.hb=xu("retryDelaySeedMs",1e4,e),this.eb=xu("forwardChannelMaxRetries",2,e),this.xa=xu("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new j2(e&&e.concurrentRequestLimit),this.Ja=new R$,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}nt=J2.prototype;nt.ra=8;nt.H=1;function tw(e){if(Z2(e),e.H==3){var t=e.W++,n=cr(e.I);if(Se(n,"SID",e.K),Se(n,"RID",t),Se(n,"TYPE","terminate"),wd(e,n),t=new yd(e,e.l,t),t.L=2,t.A=Pm(cr(n)),n=!1,xt.navigator&&xt.navigator.sendBeacon)try{n=xt.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&xt.Image&&(new Image().src=t.A,n=!0),n||(t.g=aD(t.l,null),t.g.ha(t.A)),t.G=Date.now(),vd(t)}rD(e)}function Dm(e){e.g&&(nw(e),e.g.cancel(),e.g=null)}function Z2(e){Dm(e),e.u&&(xt.clearTimeout(e.u),e.u=null),_g(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&xt.clearTimeout(e.m),e.m=null)}function Om(e){if(!$2(e.i)&&!e.m){e.m=!0;var t=e.Na;Fh||w2(),Uh||(Fh(),Uh=!0),W0.add(t,e),e.C=0}}function V$(e,t){return H2(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=md(zn(e.Na,e,t),sD(e,e.C)),e.C++,!0)}nt.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const s=new yd(this,this.l,e);let o=this.s;if(this.U&&(o?(o=f2(o),p2(o,this.U)):o=this.U),this.o!==null||this.O||(s.I=o,o=null),this.P)t:{for(var t=0,n=0;n<this.j.length;n++){e:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break e}i=void 0}if(i===void 0)break;if(t+=i,4096<t){t=n;break t}if(t===4096||n===this.j.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=tD(this,s,t),n=cr(this.I),Se(n,"RID",e),Se(n,"CVER",22),this.F&&Se(n,"X-HTTP-Session-Id",this.F),wd(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Q2(o)))+"&"+t:this.o&&Z0(n,this.o,o)),Q0(this.i,s),this.bb&&Se(n,"TYPE","init"),this.P?(Se(n,"$req",t),Se(n,"SID","null"),s.aa=!0,ub(s,n,null)):ub(s,n,t),this.H=2}}else this.H==3&&(e?hC(this,e):this.j.length==0||$2(this.i)||hC(this))};function hC(e,t){var n;t?n=t.m:n=e.W++;const i=cr(e.I);Se(i,"SID",e.K),Se(i,"RID",n),Se(i,"AID",e.V),wd(e,i),e.o&&e.s&&Z0(i,e.o,e.s),n=new yd(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=tD(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Q0(e.i,n),ub(n,i,t)}function wd(e,t){e.na&&U0(e.na,function(n,i){Se(t,i,n)}),e.h&&L2({},function(n,i){Se(t,i,n)})}function tD(e,t,n){n=Math.min(e.j.length,n);var i=e.h?zn(e.h.Va,e.h,e):null;t:{var s=e.j;let o=-1;for(;;){const a=["count="+n];o==-1?0<n?(o=s[0].g,a.push("ofs="+o)):o=0:a.push("ofs="+o);let c=!0;for(let u=0;u<n;u++){let d=s[u].g;const f=s[u].map;if(d-=o,0>d)o=Math.max(0,s[u].g-100),c=!1;else try{k$(f,a,"req"+d+"_")}catch{i&&i(f)}}if(c){i=a.join("&");break t}}}return e=e.j.splice(0,n),t.F=e,i}function eD(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Fh||w2(),Uh||(Fh(),Uh=!0),W0.add(t,e),e.A=0}}function ew(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=md(zn(e.Ma,e),sD(e,e.A)),e.A++,!0)}nt.Ma=function(){if(this.u=null,nD(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=md(zn(this.jb,this),e)}};nt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,si(10),Dm(this),nD(this))};function nw(e){e.B!=null&&(xt.clearTimeout(e.B),e.B=null)}function nD(e){e.g=new yd(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=cr(e.wa);Se(t,"RID","rpc"),Se(t,"SID",e.K),Se(t,"AID",e.V),Se(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Se(t,"TO",e.qa),Se(t,"TYPE","xmlhttp"),wd(e,t),e.o&&e.s&&Z0(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Pm(cr(t)),n.u=null,n.S=!0,D2(n,e)}nt.ib=function(){this.v!=null&&(this.v=null,Dm(this),ew(this),si(19))};function _g(e){e.v!=null&&(xt.clearTimeout(e.v),e.v=null)}function iD(e,t){var n=null;if(e.g==t){_g(e),nw(e),e.g=null;var i=2}else if(db(e.i,t))n=t.F,z2(e.i,t),i=1;else return;if(e.H!=0){if(t.i)if(i==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var s=e.C;i=Tm(),Dn(i,new C2(i,n)),Om(e)}else eD(e);else if(s=t.s,s==3||s==0&&0<t.ca||!(i==1&&V$(e,t)||i==2&&ew(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:Zo(e,5);break;case 4:Zo(e,10);break;case 3:Zo(e,6);break;default:Zo(e,2)}}}function sD(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Zo(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var i=zn(e.pb,e);n||(n=new aa("//www.google.com/images/cleardot.gif"),xt.location&&xt.location.protocol=="http"||gg(n,"https"),Pm(n)),x$(n.toString(),i)}else si(2);e.H=0,e.h&&e.h.za(t),rD(e),Z2(e)}nt.pb=function(e){e?(this.l.info("Successfully pinged google.com"),si(2)):(this.l.info("Failed to ping google.com"),si(1))};function rD(e){if(e.H=0,e.ma=[],e.h){const t=W2(e.i);(t.length!=0||e.j.length!=0)&&(eC(e.ma,t),eC(e.ma,e.j),e.i.i.length=0,V0(e.j),e.j.length=0),e.h.ya()}}function oD(e,t,n){var i=n instanceof aa?cr(n):new aa(n);if(i.g!="")t&&(i.g=t+"."+i.g),mg(i,i.m);else{var s=xt.location;i=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new aa(null);i&&gg(o,i),t&&(o.g=t),s&&mg(o,s),n&&(o.l=n),i=o}return n=e.F,t=e.Da,n&&t&&Se(i,n,t),Se(i,"VER",e.ra),wd(e,i),i}function aD(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new We(new Rm({ob:n})):new We(e.va),t.Oa(e.J),t}nt.isActive=function(){return!!this.h&&this.h.isActive(this)};function lD(){}nt=lD.prototype;nt.Ba=function(){};nt.Aa=function(){};nt.za=function(){};nt.ya=function(){};nt.isActive=function(){return!0};nt.Va=function(){};function yg(){if(Ql&&!(10<=Number(Xj)))throw Error("Environmental error: no available transport.")}yg.prototype.g=function(e,t){return new Oi(e,t)};function Oi(e,t){An.call(this),this.g=new J2(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Lh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Lh(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new _c(this)}Cn(Oi,An);Oi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;si(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=oD(e,null,e.Y),Om(e)};Oi.prototype.close=function(){tw(this.g)};Oi.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=z0(e),e=n);t.j.push(new A$(t.fb++,e)),t.H==3&&Om(t)};Oi.prototype.N=function(){this.g.h=null,delete this.j,tw(this.g),delete this.g,Oi.$.N.call(this)};function cD(e){Y0.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Cn(cD,Y0);function uD(){X0.call(this),this.status=1}Cn(uD,X0);function _c(e){this.g=e}Cn(_c,lD);_c.prototype.Ba=function(){Dn(this.g,"a")};_c.prototype.Aa=function(e){Dn(this.g,new cD(e))};_c.prototype.za=function(e){Dn(this.g,new uD)};_c.prototype.ya=function(){Dn(this.g,"b")};function F$(){this.blockSize=-1}function ss(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Cn(ss,F$);ss.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function cv(e,t,n){n||(n=0);var i=Array(16);if(typeof t=="string")for(var s=0;16>s;++s)i[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)i[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var o=e.g[3],a=t+(o^n&(s^o))+i[0]+3614090360&4294967295;t=n+(a<<7&4294967295|a>>>25),a=o+(s^t&(n^s))+i[1]+3905402710&4294967295,o=t+(a<<12&4294967295|a>>>20),a=s+(n^o&(t^n))+i[2]+606105819&4294967295,s=o+(a<<17&4294967295|a>>>15),a=n+(t^s&(o^t))+i[3]+3250441966&4294967295,n=s+(a<<22&4294967295|a>>>10),a=t+(o^n&(s^o))+i[4]+4118548399&4294967295,t=n+(a<<7&4294967295|a>>>25),a=o+(s^t&(n^s))+i[5]+1200080426&4294967295,o=t+(a<<12&4294967295|a>>>20),a=s+(n^o&(t^n))+i[6]+2821735955&4294967295,s=o+(a<<17&4294967295|a>>>15),a=n+(t^s&(o^t))+i[7]+4249261313&4294967295,n=s+(a<<22&4294967295|a>>>10),a=t+(o^n&(s^o))+i[8]+1770035416&4294967295,t=n+(a<<7&4294967295|a>>>25),a=o+(s^t&(n^s))+i[9]+2336552879&4294967295,o=t+(a<<12&4294967295|a>>>20),a=s+(n^o&(t^n))+i[10]+4294925233&4294967295,s=o+(a<<17&4294967295|a>>>15),a=n+(t^s&(o^t))+i[11]+2304563134&4294967295,n=s+(a<<22&4294967295|a>>>10),a=t+(o^n&(s^o))+i[12]+1804603682&4294967295,t=n+(a<<7&4294967295|a>>>25),a=o+(s^t&(n^s))+i[13]+4254626195&4294967295,o=t+(a<<12&4294967295|a>>>20),a=s+(n^o&(t^n))+i[14]+2792965006&4294967295,s=o+(a<<17&4294967295|a>>>15),a=n+(t^s&(o^t))+i[15]+1236535329&4294967295,n=s+(a<<22&4294967295|a>>>10),a=t+(s^o&(n^s))+i[1]+4129170786&4294967295,t=n+(a<<5&4294967295|a>>>27),a=o+(n^s&(t^n))+i[6]+3225465664&4294967295,o=t+(a<<9&4294967295|a>>>23),a=s+(t^n&(o^t))+i[11]+643717713&4294967295,s=o+(a<<14&4294967295|a>>>18),a=n+(o^t&(s^o))+i[0]+3921069994&4294967295,n=s+(a<<20&4294967295|a>>>12),a=t+(s^o&(n^s))+i[5]+3593408605&4294967295,t=n+(a<<5&4294967295|a>>>27),a=o+(n^s&(t^n))+i[10]+38016083&4294967295,o=t+(a<<9&4294967295|a>>>23),a=s+(t^n&(o^t))+i[15]+3634488961&4294967295,s=o+(a<<14&4294967295|a>>>18),a=n+(o^t&(s^o))+i[4]+3889429448&4294967295,n=s+(a<<20&4294967295|a>>>12),a=t+(s^o&(n^s))+i[9]+568446438&4294967295,t=n+(a<<5&4294967295|a>>>27),a=o+(n^s&(t^n))+i[14]+3275163606&4294967295,o=t+(a<<9&4294967295|a>>>23),a=s+(t^n&(o^t))+i[3]+4107603335&4294967295,s=o+(a<<14&4294967295|a>>>18),a=n+(o^t&(s^o))+i[8]+1163531501&4294967295,n=s+(a<<20&4294967295|a>>>12),a=t+(s^o&(n^s))+i[13]+2850285829&4294967295,t=n+(a<<5&4294967295|a>>>27),a=o+(n^s&(t^n))+i[2]+4243563512&4294967295,o=t+(a<<9&4294967295|a>>>23),a=s+(t^n&(o^t))+i[7]+1735328473&4294967295,s=o+(a<<14&4294967295|a>>>18),a=n+(o^t&(s^o))+i[12]+2368359562&4294967295,n=s+(a<<20&4294967295|a>>>12),a=t+(n^s^o)+i[5]+4294588738&4294967295,t=n+(a<<4&4294967295|a>>>28),a=o+(t^n^s)+i[8]+2272392833&4294967295,o=t+(a<<11&4294967295|a>>>21),a=s+(o^t^n)+i[11]+1839030562&4294967295,s=o+(a<<16&4294967295|a>>>16),a=n+(s^o^t)+i[14]+4259657740&4294967295,n=s+(a<<23&4294967295|a>>>9),a=t+(n^s^o)+i[1]+2763975236&4294967295,t=n+(a<<4&4294967295|a>>>28),a=o+(t^n^s)+i[4]+1272893353&4294967295,o=t+(a<<11&4294967295|a>>>21),a=s+(o^t^n)+i[7]+4139469664&4294967295,s=o+(a<<16&4294967295|a>>>16),a=n+(s^o^t)+i[10]+3200236656&4294967295,n=s+(a<<23&4294967295|a>>>9),a=t+(n^s^o)+i[13]+681279174&4294967295,t=n+(a<<4&4294967295|a>>>28),a=o+(t^n^s)+i[0]+3936430074&4294967295,o=t+(a<<11&4294967295|a>>>21),a=s+(o^t^n)+i[3]+3572445317&4294967295,s=o+(a<<16&4294967295|a>>>16),a=n+(s^o^t)+i[6]+76029189&4294967295,n=s+(a<<23&4294967295|a>>>9),a=t+(n^s^o)+i[9]+3654602809&4294967295,t=n+(a<<4&4294967295|a>>>28),a=o+(t^n^s)+i[12]+3873151461&4294967295,o=t+(a<<11&4294967295|a>>>21),a=s+(o^t^n)+i[15]+530742520&4294967295,s=o+(a<<16&4294967295|a>>>16),a=n+(s^o^t)+i[2]+3299628645&4294967295,n=s+(a<<23&4294967295|a>>>9),a=t+(s^(n|~o))+i[0]+4096336452&4294967295,t=n+(a<<6&4294967295|a>>>26),a=o+(n^(t|~s))+i[7]+1126891415&4294967295,o=t+(a<<10&4294967295|a>>>22),a=s+(t^(o|~n))+i[14]+2878612391&4294967295,s=o+(a<<15&4294967295|a>>>17),a=n+(o^(s|~t))+i[5]+4237533241&4294967295,n=s+(a<<21&4294967295|a>>>11),a=t+(s^(n|~o))+i[12]+1700485571&4294967295,t=n+(a<<6&4294967295|a>>>26),a=o+(n^(t|~s))+i[3]+2399980690&4294967295,o=t+(a<<10&4294967295|a>>>22),a=s+(t^(o|~n))+i[10]+4293915773&4294967295,s=o+(a<<15&4294967295|a>>>17),a=n+(o^(s|~t))+i[1]+2240044497&4294967295,n=s+(a<<21&4294967295|a>>>11),a=t+(s^(n|~o))+i[8]+1873313359&4294967295,t=n+(a<<6&4294967295|a>>>26),a=o+(n^(t|~s))+i[15]+4264355552&4294967295,o=t+(a<<10&4294967295|a>>>22),a=s+(t^(o|~n))+i[6]+2734768916&4294967295,s=o+(a<<15&4294967295|a>>>17),a=n+(o^(s|~t))+i[13]+1309151649&4294967295,n=s+(a<<21&4294967295|a>>>11),a=t+(s^(n|~o))+i[4]+4149444226&4294967295,t=n+(a<<6&4294967295|a>>>26),a=o+(n^(t|~s))+i[11]+3174756917&4294967295,o=t+(a<<10&4294967295|a>>>22),a=s+(t^(o|~n))+i[2]+718787259&4294967295,s=o+(a<<15&4294967295|a>>>17),a=n+(o^(s|~t))+i[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+o&4294967295}ss.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,i=this.m,s=this.h,o=0;o<t;){if(s==0)for(;o<=n;)cv(this,e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){cv(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){cv(this,i),s=0;break}}this.h=s,this.i+=t};ss.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var i=0;32>i;i+=8)e[n++]=this.g[t]>>>i&255;return e};function fe(e,t){this.h=t;for(var n=[],i=!0,s=e.length-1;0<=s;s--){var o=e[s]|0;i&&o==t||(n[s]=o,i=!1)}this.g=n}var U$={};function iw(e){return-128<=e&&128>e?Kj(e,function(t){return new fe([t|0],0>t?-1:0)}):new fe([e|0],0>e?-1:0)}function As(e){if(isNaN(e)||!isFinite(e))return Vl;if(0>e)return kn(As(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=fb;return new fe(t,0)}function hD(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return kn(hD(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=As(Math.pow(t,8)),i=Vl,s=0;s<e.length;s+=8){var o=Math.min(8,e.length-s),a=parseInt(e.substring(s,s+o),t);8>o?(o=As(Math.pow(t,o)),i=i.R(o).add(As(a))):(i=i.R(n),i=i.add(As(a)))}return i}var fb=4294967296,Vl=iw(0),pb=iw(1),dC=iw(16777216);nt=fe.prototype;nt.ea=function(){if(Fi(this))return-kn(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var i=this.D(n);e+=(0<=i?i:fb+i)*t,t*=fb}return e};nt.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Zs(this))return"0";if(Fi(this))return"-"+kn(this).toString(e);for(var t=As(Math.pow(e,6)),n=this,i="";;){var s=bg(n,t).g;n=vg(n,s.R(t));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=s,Zs(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};nt.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Zs(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function Fi(e){return e.h==-1}nt.X=function(e){return e=vg(this,e),Fi(e)?-1:Zs(e)?0:1};function kn(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new fe(n,~e.h).add(pb)}nt.abs=function(){return Fi(this)?kn(this):this};nt.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var o=i+(this.D(s)&65535)+(e.D(s)&65535),a=(o>>>16)+(this.D(s)>>>16)+(e.D(s)>>>16);i=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new fe(n,n[n.length-1]&-2147483648?-1:0)};function vg(e,t){return e.add(kn(t))}nt.R=function(e){if(Zs(this)||Zs(e))return Vl;if(Fi(this))return Fi(e)?kn(this).R(kn(e)):kn(kn(this).R(e));if(Fi(e))return kn(this.R(kn(e)));if(0>this.X(dC)&&0>e.X(dC))return As(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var o=this.D(i)>>>16,a=this.D(i)&65535,c=e.D(s)>>>16,u=e.D(s)&65535;n[2*i+2*s]+=a*u,sp(n,2*i+2*s),n[2*i+2*s+1]+=o*u,sp(n,2*i+2*s+1),n[2*i+2*s+1]+=a*c,sp(n,2*i+2*s+1),n[2*i+2*s+2]+=o*c,sp(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new fe(n,0)};function sp(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Du(e,t){this.g=e,this.h=t}function bg(e,t){if(Zs(t))throw Error("division by zero");if(Zs(e))return new Du(Vl,Vl);if(Fi(e))return t=bg(kn(e),t),new Du(kn(t.g),kn(t.h));if(Fi(t))return t=bg(e,kn(t)),new Du(kn(t.g),t.h);if(30<e.g.length){if(Fi(e)||Fi(t))throw Error("slowDivide_ only works with positive integers.");for(var n=pb,i=t;0>=i.X(e);)n=fC(n),i=fC(i);var s=_l(n,1),o=_l(i,1);for(i=_l(i,2),n=_l(n,2);!Zs(i);){var a=o.add(i);0>=a.X(e)&&(s=s.add(n),o=a),i=_l(i,1),n=_l(n,1)}return t=vg(e,s.R(t)),new Du(s,t)}for(s=Vl;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=As(n),a=o.R(t);Fi(a)||0<a.X(e);)n-=i,o=As(n),a=o.R(t);Zs(o)&&(o=pb),s=s.add(o),e=vg(e,a)}return new Du(s,e)}nt.gb=function(e){return bg(this,e).h};nt.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)&e.D(i);return new fe(n,this.h&e.h)};nt.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)|e.D(i);return new fe(n,this.h|e.h)};nt.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)^e.D(i);return new fe(n,this.h^e.h)};function fC(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.D(i)<<1|e.D(i-1)>>>31;return new fe(n,e.h)}function _l(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],o=0;o<i;o++)s[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new fe(s,e.h)}yg.prototype.createWebChannel=yg.prototype.g;Oi.prototype.send=Oi.prototype.u;Oi.prototype.open=Oi.prototype.m;Oi.prototype.close=Oi.prototype.close;Sm.NO_ERROR=0;Sm.TIMEOUT=8;Sm.HTTP_ERROR=6;P2.COMPLETE="complete";R2.EventType=_d;_d.OPEN="a";_d.CLOSE="b";_d.ERROR="c";_d.MESSAGE="d";An.prototype.listen=An.prototype.O;We.prototype.listenOnce=We.prototype.P;We.prototype.getLastError=We.prototype.Sa;We.prototype.getLastErrorCode=We.prototype.Ia;We.prototype.getStatus=We.prototype.da;We.prototype.getResponseJson=We.prototype.Wa;We.prototype.getResponseText=We.prototype.ja;We.prototype.send=We.prototype.ha;We.prototype.setWithCredentials=We.prototype.Oa;ss.prototype.digest=ss.prototype.l;ss.prototype.reset=ss.prototype.reset;ss.prototype.update=ss.prototype.j;fe.prototype.add=fe.prototype.add;fe.prototype.multiply=fe.prototype.R;fe.prototype.modulo=fe.prototype.gb;fe.prototype.compare=fe.prototype.X;fe.prototype.toNumber=fe.prototype.ea;fe.prototype.toString=fe.prototype.toString;fe.prototype.getBits=fe.prototype.D;fe.fromNumber=As;fe.fromString=hD;var B$=function(){return new yg},j$=function(){return Tm()},uv=Sm,$$=P2,H$=Aa,pC={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},rp=R2,z$=We,W$=ss,Fl=fe;const gC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fn.UNAUTHENTICATED=new Fn(null),Fn.GOOGLE_CREDENTIALS=new Fn("google-credentials-uid"),Fn.FIRST_PARTY=new Fn("first-party-uid"),Fn.MOCK_USER=new Fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yc="10.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new sm("@firebase/firestore");function Ou(){return ma.logLevel}function et(e,...t){if(ma.logLevel<=Ht.DEBUG){const n=t.map(sw);ma.debug(`Firestore (${yc}): ${e}`,...n)}}function Ns(e,...t){if(ma.logLevel<=Ht.ERROR){const n=t.map(sw);ma.error(`Firestore (${yc}): ${e}`,...n)}}function Jl(e,...t){if(ma.logLevel<=Ht.WARN){const n=t.map(sw);ma.warn(`Firestore (${yc}): ${e}`,...n)}}function sw(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(e="Unexpected state"){const t=`FIRESTORE (${yc}) INTERNAL ASSERTION FAILED: `+e;throw Ns(t),new Error(t)}function we(e,t){e||Rt()}function Mt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Hn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class q${getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Fn.UNAUTHENTICATED))}shutdown(){}}class K${constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class G${constructor(t){this.t=t,this.currentUser=Fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let i=this.i;const s=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let o=new Ps;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ps,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=o;t.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},c=u=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ps)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(we(typeof i.accessToken=="string"),new dD(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return we(t===null||typeof t=="string"),new Fn(t)}}class Y${constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=Fn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class X${constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new Y$(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Q${constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J${constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const i=o=>{o.error!=null&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,et("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const s=o=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(we(typeof n.token=="string"),this.R=n.token,new Q$(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z$(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const s=Z$(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<n&&(i+=t.charAt(s[o]%t.length))}return i}}function re(e,t){return e<t?-1:e>t?1:0}function Zl(e,t,n){return e.length===t.length&&e.every((i,s)=>n(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new rt(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rt(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new rt(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return gn.fromMillis(Date.now())}static fromDate(t){return gn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new gn(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?re(this.nanoseconds,t.nanoseconds):re(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Dt(t)}static min(){return new Dt(new gn(0,0))}static max(){return new Dt(new gn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(t,n,i){n===void 0?n=0:n>t.length&&Rt(),i===void 0?i=t.length-n:i>t.length-n&&Rt(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return zh.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof zh?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const o=t.get(s),a=n.get(s);if(o<a)return-1;if(o>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Ae extends zh{construct(t,n,i){return new Ae(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new rt(U.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Ae(n)}static emptyPath(){return new Ae([])}}const t7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xn extends zh{construct(t,n,i){return new xn(t,n,i)}static isValidIdentifier(t){return t7.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xn(["__name__"])}static fromServerFormat(t){const n=[];let i="",s=0;const o=()=>{if(i.length===0)throw new rt(U.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;s<t.length;){const c=t[s];if(c==="\\"){if(s+1===t.length)throw new rt(U.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new rt(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,s+=2}else c==="`"?(a=!a,s++):c!=="."||a?(i+=c,s++):(o(),s++)}if(o(),a)throw new rt(U.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new xn(n)}static emptyPath(){return new xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t){this.path=t}static fromPath(t){return new Et(Ae.fromString(t))}static fromName(t){return new Et(Ae.fromString(t).popFirst(5))}static empty(){return new Et(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ae.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new Ae(t.slice()))}}function e7(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=Dt.fromTimestamp(i===1e9?new gn(n+1,0):new gn(n,i));return new co(s,Et.empty(),t)}function n7(e){return new co(e.readTime,e.key,-1)}class co{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new co(Dt.min(),Et.empty(),-1)}static max(){return new co(Dt.max(),Et.empty(),-1)}}function i7(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Et.comparator(e.documentKey,t.documentKey),n!==0?n:re(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class r7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ed(e){if(e.code!==U.FAILED_PRECONDITION||e.message!==s7)throw e;et("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new H((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):H.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):H.reject(n)}static resolve(t){return new H((n,i)=>{n(t)})}static reject(t){return new H((n,i)=>{i(t)})}static waitFor(t){return new H((n,i)=>{let s=0,o=0,a=!1;t.forEach(c=>{++s,c.next(()=>{++o,a&&o===s&&n()},u=>i(u))}),a=!0,o===s&&n()})}static or(t){let n=H.resolve(!1);for(const i of t)n=n.next(s=>s?H.resolve(s):i());return n}static forEach(t,n){const i=[];return t.forEach((s,o)=>{i.push(n.call(this,s,o))}),this.waitFor(i)}static mapArray(t,n){return new H((i,s)=>{const o=t.length,a=new Array(o);let c=0;for(let u=0;u<o;u++){const d=u;n(t[d]).next(f=>{a[d]=f,++c,c===o&&i(a)},f=>s(f))}})}static doWhile(t,n){return new H((i,s)=>{const o=()=>{t()===!0?n().next(()=>{o()},s):i()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.V=new Ps,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new hh(t,n.error)):this.V.resolve()},this.transaction.onerror=i=>{const s=ow(i.target.error);this.V.reject(new hh(t,s))}}static open(t,n,i,s){try{return new rw(n,t.transaction(s,i))}catch(o){throw new hh(n,o)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(et("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const n=this.transaction.objectStore(t);return new a7(n)}}class ta{constructor(t,n,i){this.name=t,this.version=n,this.p=i,ta.S(De())===12.2&&Ns("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return et("SimpleDb","Removing database:",t),Yo(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!Rh())return!1;if(ta.C())return!0;const t=De(),n=ta.S(t),i=0<n&&n<10,s=ta.v(t),o=0<s&&s<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static C(){var t;return typeof process<"u"&&((t=process.__PRIVATE_env)===null||t===void 0?void 0:t.F)==="YES"}static M(t,n){return t.store(n)}static S(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(t){const n=t.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}async O(t){return this.db||(et("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,i)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=o=>{const a=o.target.result;n(a)},s.onblocked=()=>{i(new hh(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;a.name==="VersionError"?i(new rt(U.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?i(new rt(U.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):i(new hh(t,a))},s.onupgradeneeded=o=>{et("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const a=o.target.result;this.p.N(a,s.transaction,o.oldVersion,this.version).next(()=>{et("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(t){this.L=t,this.db&&(this.db.onversionchange=n=>t(n))}async runTransaction(t,n,i,s){const o=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.O(t);const c=rw.open(this.db,t,o?"readonly":"readwrite",i),u=s(c).next(d=>(c.g(),d)).catch(d=>(c.abort(d),H.reject(d))).toPromise();return u.catch(()=>{}),await c.m,u}catch(c){const u=c,d=u.name!=="FirebaseError"&&a<3;if(et("SimpleDb","Transaction failed with error:",u.message,"Retrying:",d),this.close(),!d)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}class o7{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return Yo(this.k.delete())}}class hh extends rt{constructor(t,n){super(U.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Id(e){return e.name==="IndexedDbTransactionError"}class a7{constructor(t){this.store=t}put(t,n){let i;return n!==void 0?(et("SimpleDb","PUT",this.store.name,t,n),i=this.store.put(n,t)):(et("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Yo(i)}add(t){return et("SimpleDb","ADD",this.store.name,t,t),Yo(this.store.add(t))}get(t){return Yo(this.store.get(t)).next(n=>(n===void 0&&(n=null),et("SimpleDb","GET",this.store.name,t,n),n))}delete(t){return et("SimpleDb","DELETE",this.store.name,t),Yo(this.store.delete(t))}count(){return et("SimpleDb","COUNT",this.store.name),Yo(this.store.count())}W(t,n){const i=this.options(t,n),s=i.index?this.store.index(i.index):this.store;if(typeof s.getAll=="function"){const o=s.getAll(i.range);return new H((a,c)=>{o.onerror=u=>{c(u.target.error)},o.onsuccess=u=>{a(u.target.result)}})}{const o=this.cursor(i),a=[];return this.G(o,(c,u)=>{a.push(u)}).next(()=>a)}}j(t,n){const i=this.store.getAll(t,n===null?void 0:n);return new H((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}H(t,n){et("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,n);i.J=!1;const s=this.cursor(i);return this.G(s,(o,a,c)=>c.delete())}Y(t,n){let i;n?i=t:(i={},n=t);const s=this.cursor(i);return this.G(s,n)}Z(t){const n=this.cursor({});return new H((i,s)=>{n.onerror=o=>{const a=ow(o.target.error);s(a)},n.onsuccess=o=>{const a=o.target.result;a?t(a.primaryKey,a.value).next(c=>{c?a.continue():i()}):i()}})}G(t,n){const i=[];return new H((s,o)=>{t.onerror=a=>{o(a.target.error)},t.onsuccess=a=>{const c=a.target.result;if(!c)return void s();const u=new o7(c),d=n(c.primaryKey,c.value,u);if(d instanceof H){const f=d.catch(g=>(u.done(),H.reject(g)));i.push(f)}u.isDone?s():u.$===null?c.continue():c.continue(u.$)}}).next(()=>H.waitFor(i))}options(t,n){let i;return t!==void 0&&(typeof t=="string"?i=t:n=t),{index:i,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const i=this.store.index(t.index);return t.J?i.openKeyCursor(t.range,n):i.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function Yo(e){return new H((t,n)=>{e.onsuccess=i=>{const s=i.target.result;t(s)},e.onerror=i=>{const s=ow(i.target.error);n(s)}})}let mC=!1;function ow(e){const t=ta.S(De());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){const i=new rt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return mC||(mC=!0,setTimeout(()=>{throw i},0)),i}}return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.se(i),this.oe=i=>n.writeSequenceNumber(i))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}aw._e=-1;function Mm(e){return e==null}function wg(e){return e===0&&1/e==-1/0}function l7(e){return typeof e=="number"&&Number.isInteger(e)&&!wg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ca(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function pD(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t,n){this.comparator=t,this.root=n||Rn.EMPTY}insert(t,n){return new Ne(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(t){return new Ne(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new op(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new op(this.root,t,this.comparator,!1)}getReverseIterator(){return new op(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new op(this.root,t,this.comparator,!0)}}class op{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?i(t.key,n):1,n&&s&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Rn{constructor(t,n,i,s,o){this.key=t,this.value=n,this.color=i??Rn.RED,this.left=s??Rn.EMPTY,this.right=o??Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,o){return new Rn(t??this.key,n??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,n,i),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return Rn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Rt();const t=this.left.check();if(t!==this.right.check())throw Rt();return t+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt()}get value(){throw Rt()}get color(){throw Rt()}get left(){throw Rt()}get right(){throw Rt()}copy(t,n,i,s,o){return this}insert(t,n,i){return new Rn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this.comparator=t,this.data=new Ne(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new yC(this.data.getIterator())}getIteratorFrom(t){return new yC(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof On)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new On(this.comparator);return n.data=t,n}}class yC{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(t){this.fields=t,t.sort(xn.comparator)}static empty(){return new ki([])}unionWith(t){let n=new On(xn.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new ki(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Zl(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new gD("Invalid base64 string: "+o):o}}(t);return new Kn(n)}static fromUint8Array(t){const n=function(s){let o="";for(let a=0;a<s.length;++a)o+=String.fromCharCode(s[a]);return o}(t);return new Kn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return re(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Kn.EMPTY_BYTE_STRING=new Kn("");const c7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uo(e){if(we(!!e),typeof e=="string"){let t=0;const n=c7.exec(e);if(we(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ln(e.seconds),nanos:ln(e.nanos)}}function ln(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function _a(e){return typeof e=="string"?Kn.fromBase64String(e):Kn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function cw(e){const t=e.mapValue.fields.__previous_value__;return lw(t)?cw(t):t}function Wh(e){const t=uo(e.mapValue.fields.__local_write_time__.timestampValue);return new gn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(t,n,i,s,o,a,c,u,d){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d}}class qh{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new qh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof qh&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ya(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?lw(e)?4:h7(e)?9007199254740991:10:Rt()}function Ls(e,t){if(e===t)return!0;const n=ya(e);if(n!==ya(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Wh(e).isEqual(Wh(t));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const a=uo(s.timestampValue),c=uo(o.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,o){return _a(s.bytesValue).isEqual(_a(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,o){return ln(s.geoPointValue.latitude)===ln(o.geoPointValue.latitude)&&ln(s.geoPointValue.longitude)===ln(o.geoPointValue.longitude)}(e,t);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return ln(s.integerValue)===ln(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const a=ln(s.doubleValue),c=ln(o.doubleValue);return a===c?wg(a)===wg(c):isNaN(a)&&isNaN(c)}return!1}(e,t);case 9:return Zl(e.arrayValue.values||[],t.arrayValue.values||[],Ls);case 10:return function(s,o){const a=s.mapValue.fields||{},c=o.mapValue.fields||{};if(_C(a)!==_C(c))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(c[u]===void 0||!Ls(a[u],c[u])))return!1;return!0}(e,t);default:return Rt()}}function Kh(e,t){return(e.values||[]).find(n=>Ls(n,t))!==void 0}function tc(e,t){if(e===t)return 0;const n=ya(e),i=ya(t);if(n!==i)return re(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(e.booleanValue,t.booleanValue);case 2:return function(o,a){const c=ln(o.integerValue||o.doubleValue),u=ln(a.integerValue||a.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(e,t);case 3:return vC(e.timestampValue,t.timestampValue);case 4:return vC(Wh(e),Wh(t));case 5:return re(e.stringValue,t.stringValue);case 6:return function(o,a){const c=_a(o),u=_a(a);return c.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(o,a){const c=o.split("/"),u=a.split("/");for(let d=0;d<c.length&&d<u.length;d++){const f=re(c[d],u[d]);if(f!==0)return f}return re(c.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,a){const c=re(ln(o.latitude),ln(a.latitude));return c!==0?c:re(ln(o.longitude),ln(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,a){const c=o.values||[],u=a.values||[];for(let d=0;d<c.length&&d<u.length;++d){const f=tc(c[d],u[d]);if(f)return f}return re(c.length,u.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,a){if(o===ap.mapValue&&a===ap.mapValue)return 0;if(o===ap.mapValue)return 1;if(a===ap.mapValue)return-1;const c=o.fields||{},u=Object.keys(c),d=a.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){const _=re(u[g],f[g]);if(_!==0)return _;const v=tc(c[u[g]],d[f[g]]);if(v!==0)return v}return re(u.length,f.length)}(e.mapValue,t.mapValue);default:throw Rt()}}function vC(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return re(e,t);const n=uo(e),i=uo(t),s=re(n.seconds,i.seconds);return s!==0?s:re(n.nanos,i.nanos)}function ec(e){return gb(e)}function gb(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=uo(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return _a(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Et.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",s=!0;for(const o of n.values||[])s?s=!1:i+=",",i+=gb(o);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${gb(n.fields[a])}`;return s+"}"}(e.mapValue):Rt()}function bC(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function mb(e){return!!e&&"integerValue"in e}function uw(e){return!!e&&"arrayValue"in e}function wC(e){return!!e&&"nullValue"in e}function EC(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Fp(e){return!!e&&"mapValue"in e}function dh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ca(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=dh(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=dh(e.arrayValue.values[n]);return t}return Object.assign({},e)}function h7(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t){this.value=t}static empty(){return new di({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Fp(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=dh(n)}setAll(t){let n=xn.emptyPath(),i={},s=[];t.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,i,s),i={},s=[],n=c.popLast()}a?i[c.lastSegment()]=dh(a):s.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,s)}delete(t){const n=this.field(t.popLast());Fp(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ls(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];Fp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){Ca(n,(s,o)=>t[s]=o);for(const s of i)delete t[s]}clone(){return new di(dh(this.value))}}function mD(e){const t=[];return Ca(e.fields,(n,i)=>{const s=new xn([n]);if(Fp(i)){const o=mD(i.mapValue).fields;if(o.length===0)t.push(s);else for(const a of o)t.push(s.child(a))}else t.push(s)}),new ki(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t,n,i,s,o,a,c){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=o,this.data=a,this.documentState=c}static newInvalidDocument(t){return new Un(t,0,Dt.min(),Dt.min(),Dt.min(),di.empty(),0)}static newFoundDocument(t,n,i,s){return new Un(t,1,n,Dt.min(),i,s,0)}static newNoDocument(t,n){return new Un(t,2,n,Dt.min(),Dt.min(),di.empty(),0)}static newUnknownDocument(t,n){return new Un(t,3,n,Dt.min(),Dt.min(),di.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=di.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(t,n){this.position=t,this.inclusive=n}}function IC(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const o=t[s],a=e.position[s];if(o.field.isKeyField()?i=Et.comparator(Et.fromName(a.referenceValue),n.key):i=tc(a,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function TC(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ls(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(t,n="asc"){this.field=t,this.dir=n}}function d7(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{}class un extends _D{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new p7(t,n,i):n==="array-contains"?new _7(t,i):n==="in"?new y7(t,i):n==="not-in"?new v7(t,i):n==="array-contains-any"?new b7(t,i):new un(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new g7(t,i):new m7(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(tc(n,this.value)):n!==null&&ya(this.value)===ya(n)&&this.matchesComparison(tc(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rs extends _D{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new rs(t,n)}matches(t){return yD(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function yD(e){return e.op==="and"}function vD(e){return f7(e)&&yD(e)}function f7(e){for(const t of e.filters)if(t instanceof rs)return!1;return!0}function _b(e){if(e instanceof un)return e.field.canonicalString()+e.op.toString()+ec(e.value);if(vD(e))return e.filters.map(t=>_b(t)).join(",");{const t=e.filters.map(n=>_b(n)).join(",");return`${e.op}(${t})`}}function bD(e,t){return e instanceof un?function(i,s){return s instanceof un&&i.op===s.op&&i.field.isEqual(s.field)&&Ls(i.value,s.value)}(e,t):e instanceof rs?function(i,s){return s instanceof rs&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,a,c)=>o&&bD(a,s.filters[c]),!0):!1}(e,t):void Rt()}function wD(e){return e instanceof un?function(n){return`${n.field.canonicalString()} ${n.op} ${ec(n.value)}`}(e):e instanceof rs?function(n){return n.op.toString()+" {"+n.getFilters().map(wD).join(" ,")+"}"}(e):"Filter"}class p7 extends un{constructor(t,n,i){super(t,n,i),this.key=Et.fromName(i.referenceValue)}matches(t){const n=Et.comparator(t.key,this.key);return this.matchesComparison(n)}}class g7 extends un{constructor(t,n){super(t,"in",n),this.keys=ED("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class m7 extends un{constructor(t,n){super(t,"not-in",n),this.keys=ED("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function ED(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Et.fromName(i.referenceValue))}class _7 extends un{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return uw(n)&&Kh(n.arrayValue,this.value)}}class y7 extends un{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Kh(this.value.arrayValue,n)}}class v7 extends un{constructor(t,n){super(t,"not-in",n)}matches(t){if(Kh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Kh(this.value.arrayValue,n)}}class b7 extends un{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!uw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Kh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(t,n=null,i=[],s=[],o=null,a=null,c=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=a,this.endAt=c,this.ce=null}}function SC(e,t=null,n=[],i=[],s=null,o=null,a=null){return new w7(e,t,n,i,s,o,a)}function hw(e){const t=Mt(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>_b(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Mm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>ec(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>ec(i)).join(",")),t.ce=n}return t.ce}function dw(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!d7(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!bD(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!TC(e.startAt,t.startAt)&&TC(e.endAt,t.endAt)}function yb(e){return Et.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(t,n=null,i=[],s=[],o=null,a="F",c=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=a,this.startAt=c,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function E7(e,t,n,i,s,o,a,c){return new vc(e,t,n,i,s,o,a,c)}function Nm(e){return new vc(e)}function AC(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function ID(e){return e.collectionGroup!==null}function fh(e){const t=Mt(e);if(t.le===null){t.le=[];const n=new Set;for(const o of t.explicitOrderBy)t.le.push(o),n.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new On(xn.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(t).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||t.le.push(new Gh(o,i))}),n.has(xn.keyField().canonicalString())||t.le.push(new Gh(xn.keyField(),i))}return t.le}function Rs(e){const t=Mt(e);return t.he||(t.he=I7(t,fh(e))),t.he}function I7(e,t){if(e.limitType==="F")return SC(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Gh(s.field,o)});const n=e.endAt?new Eg(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Eg(e.startAt.position,e.startAt.inclusive):null;return SC(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function vb(e,t){const n=e.filters.concat([t]);return new vc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ig(e,t,n){return new vc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Lm(e,t){return dw(Rs(e),Rs(t))&&e.limitType===t.limitType}function TD(e){return`${hw(Rs(e))}|lt:${e.limitType}`}function wl(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>wD(s)).join(", ")}]`),Mm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>ec(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>ec(s)).join(",")),`Target(${i})`}(Rs(e))}; limitType=${e.limitType})`}function Vm(e,t){return t.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Et.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(e,t)&&function(i,s){for(const o of fh(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(e,t)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(e,t)&&function(i,s){return!(i.startAt&&!function(a,c,u){const d=IC(a,c,u);return a.inclusive?d<=0:d<0}(i.startAt,fh(i),s)||i.endAt&&!function(a,c,u){const d=IC(a,c,u);return a.inclusive?d>=0:d>0}(i.endAt,fh(i),s))}(e,t)}function T7(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function SD(e){return(t,n)=>{let i=!1;for(const s of fh(e)){const o=S7(s,t,n);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function S7(e,t,n){const i=e.field.isKeyField()?Et.comparator(t.key,n.key):function(o,a,c){const u=a.data.field(o),d=c.data.field(o);return u!==null&&d!==null?tc(u,d):Rt()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Rt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return void(s[o]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Ca(this.inner,(n,i)=>{for(const[s,o]of i)t(s,o)})}isEmpty(){return pD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7=new Ne(Et.comparator);function ur(){return A7}const AD=new Ne(Et.comparator);function qu(...e){let t=AD;for(const n of e)t=t.insert(n.key,n);return t}function CD(e){let t=AD;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function ea(){return ph()}function PD(){return ph()}function ph(){return new bc(e=>e.toString(),(e,t)=>e.isEqual(t))}const C7=new Ne(Et.comparator),P7=new On(Et.comparator);function zt(...e){let t=P7;for(const n of e)t=t.add(n);return t}const R7=new On(re);function k7(){return R7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wg(t)?"-0":t}}function kD(e){return{integerValue:""+e}}function x7(e,t){return l7(t)?kD(t):RD(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(){this._=void 0}}function D7(e,t,n){return e instanceof Tg?function(s,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&lw(o)&&(o=cw(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,t):e instanceof Yh?DD(e,t):e instanceof Xh?OD(e,t):function(s,o){const a=xD(s,o),c=CC(a)+CC(s.Ie);return mb(a)&&mb(s.Ie)?kD(c):RD(s.serializer,c)}(e,t)}function O7(e,t,n){return e instanceof Yh?DD(e,t):e instanceof Xh?OD(e,t):n}function xD(e,t){return e instanceof Sg?function(i){return mb(i)||function(o){return!!o&&"doubleValue"in o}(i)}(t)?t:{integerValue:0}:null}class Tg extends Fm{}class Yh extends Fm{constructor(t){super(),this.elements=t}}function DD(e,t){const n=MD(t);for(const i of e.elements)n.some(s=>Ls(s,i))||n.push(i);return{arrayValue:{values:n}}}class Xh extends Fm{constructor(t){super(),this.elements=t}}function OD(e,t){let n=MD(t);for(const i of e.elements)n=n.filter(s=>!Ls(s,i));return{arrayValue:{values:n}}}class Sg extends Fm{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function CC(e){return ln(e.integerValue||e.doubleValue)}function MD(e){return uw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function M7(e,t){return e.field.isEqual(t.field)&&function(i,s){return i instanceof Yh&&s instanceof Yh||i instanceof Xh&&s instanceof Xh?Zl(i.elements,s.elements,Ls):i instanceof Sg&&s instanceof Sg?Ls(i.Ie,s.Ie):i instanceof Tg&&s instanceof Tg}(e.transform,t.transform)}class N7{constructor(t,n){this.version=t,this.transformResults=n}}class ji{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ji}static exists(t){return new ji(void 0,t)}static updateTime(t){return new ji(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Up(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Um{}function ND(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new fw(e.key,ji.none()):new Td(e.key,e.data,ji.none());{const n=e.data,i=di.empty();let s=new On(xn.comparator);for(let o of t.fields)if(!s.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?i.delete(o):i.set(o,a),s=s.add(o)}return new vo(e.key,i,new ki(s.toArray()),ji.none())}}function L7(e,t,n){e instanceof Td?function(s,o,a){const c=s.value.clone(),u=RC(s.fieldTransforms,o,a.transformResults);c.setAll(u),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(e,t,n):e instanceof vo?function(s,o,a){if(!Up(s.precondition,o))return void o.convertToUnknownDocument(a.version);const c=RC(s.fieldTransforms,o,a.transformResults),u=o.data;u.setAll(LD(s)),u.setAll(c),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(s,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function gh(e,t,n,i){return e instanceof Td?function(o,a,c,u){if(!Up(o.precondition,a))return c;const d=o.value.clone(),f=kC(o.fieldTransforms,u,a);return d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(e,t,n,i):e instanceof vo?function(o,a,c,u){if(!Up(o.precondition,a))return c;const d=kC(o.fieldTransforms,u,a),f=a.data;return f.setAll(LD(o)),f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(e,t,n,i):function(o,a,c){return Up(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(e,t,n)}function V7(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),o=xD(i.transform,s||null);o!=null&&(n===null&&(n=di.empty()),n.set(i.field,o))}return n||null}function PC(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Zl(i,s,(o,a)=>M7(o,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Td extends Um{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class vo extends Um{constructor(t,n,i,s,o=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function LD(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function RC(e,t,n){const i=new Map;we(e.length===n.length);for(let s=0;s<n.length;s++){const o=e[s],a=o.transform,c=t.data.field(o.field);i.set(o.field,O7(a,c,n[s]))}return i}function kC(e,t,n){const i=new Map;for(const s of e){const o=s.transform,a=n.data.field(s.field);i.set(s.field,D7(o,a,t))}return i}class fw extends Um{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class F7 extends Um{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(t.key)&&L7(o,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=gh(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=gh(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=PD();return this.mutations.forEach(s=>{const o=t.get(s.key),a=o.overlayedDocument;let c=this.applyToLocalView(a,o.mutatedFields);c=n.has(s.key)?null:c;const u=ND(a,c);u!==null&&i.set(s.key,u),a.isValidDocument()||a.convertToNoDocument(Dt.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),zt())}isEqual(t){return this.batchId===t.batchId&&Zl(this.mutations,t.mutations,(n,i)=>PC(n,i))&&Zl(this.baseMutations,t.baseMutations,(n,i)=>PC(n,i))}}class pw{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){we(t.mutations.length===i.length);let s=function(){return C7}();const o=t.mutations;for(let a=0;a<o.length;a++)s=s.insert(o[a].key,i[a].version);return new pw(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,Xt;function $7(e){switch(e){default:return Rt();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function VD(e){if(e===void 0)return Ns("GRPC error has no .code"),U.UNKNOWN;switch(e){case on.OK:return U.OK;case on.CANCELLED:return U.CANCELLED;case on.UNKNOWN:return U.UNKNOWN;case on.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case on.INTERNAL:return U.INTERNAL;case on.UNAVAILABLE:return U.UNAVAILABLE;case on.UNAUTHENTICATED:return U.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case on.NOT_FOUND:return U.NOT_FOUND;case on.ALREADY_EXISTS:return U.ALREADY_EXISTS;case on.PERMISSION_DENIED:return U.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case on.ABORTED:return U.ABORTED;case on.OUT_OF_RANGE:return U.OUT_OF_RANGE;case on.UNIMPLEMENTED:return U.UNIMPLEMENTED;case on.DATA_LOSS:return U.DATA_LOSS;default:return Rt()}}(Xt=on||(on={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H7(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z7=new Fl([4294967295,4294967295],0);function xC(e){const t=H7().encode(e),n=new W$;return n.update(t),new Uint8Array(n.digest())}function DC(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Fl([n,i],0),new Fl([s,o],0)]}class gw{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ku(`Invalid padding: ${n}`);if(i<0)throw new Ku(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Ku(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Ku(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=Fl.fromNumber(this.Te)}de(t,n,i){let s=t.add(n.multiply(Fl.fromNumber(i)));return s.compare(z7)===1&&(s=new Fl([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=xC(t),[i,s]=DC(n);for(let o=0;o<this.hashCount;o++){const a=this.de(i,s,o);if(!this.Ae(a))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),a=new gw(o,s,n);return i.forEach(c=>a.insert(c)),a}insert(t){if(this.Te===0)return;const n=xC(t),[i,s]=DC(n);for(let o=0;o<this.hashCount;o++){const a=this.de(i,s,o);this.Re(a)}}Re(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Ku extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t,n,i,s,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,Sd.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Bm(Dt.min(),s,new Ne(re),ur(),zt())}}class Sd{constructor(t,n,i,s,o){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Sd(i,n,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(t,n,i,s){this.Ve=t,this.removedTargetIds=n,this.key=i,this.me=s}}class FD{constructor(t,n){this.targetId=t,this.fe=n}}class UD{constructor(t,n,i=Kn.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class OC{constructor(){this.ge=0,this.pe=NC(),this.ye=Kn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=zt(),n=zt(),i=zt();return this.pe.forEach((s,o)=>{switch(o){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Rt()}}),new Sd(this.ye,this.we,t,n,i)}Fe(){this.Se=!1,this.pe=NC()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,we(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class W7{constructor(t){this.Be=t,this.ke=new Map,this.qe=ur(),this.Qe=MC(),this.Ke=new Ne(re)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const i=this.ze(n);switch(t.state){case 0:this.je(n)&&i.Ce(t.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(t.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Le(),i.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(t.resumeToken));break;default:Rt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((i,s)=>{this.je(s)&&n(s)})}Je(t){const n=t.targetId,i=t.fe.count,s=this.Ye(n);if(s){const o=s.target;if(yb(o))if(i===0){const a=new Et(o.path);this.We(n,a,Un.newNoDocument(a,Dt.min()))}else we(i===1);else{const a=this.Ze(n);if(a!==i){const c=this.Xe(t),u=c?this.et(c,t,a):1;if(u!==0){this.He(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,d)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let a,c;try{a=_a(i).toUint8Array()}catch(u){if(u instanceof gD)return Jl("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new gw(a,s,o)}catch(u){return Jl(u instanceof Ku?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Te===0?null:c}et(t,n,i){return n.fe.count===i-this.rt(t,n.targetId)?0:2}rt(t,n){const i=this.Be.getRemoteKeysForTarget(n);let s=0;return i.forEach(o=>{const a=this.Be.nt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;t.mightContain(c)||(this.We(n,o,null),s++)}),s}it(t){const n=new Map;this.ke.forEach((o,a)=>{const c=this.Ye(a);if(c){if(o.current&&yb(c.target)){const u=new Et(c.target.path);this.qe.get(u)!==null||this.st(a,u)||this.We(a,u,Un.newNoDocument(u,t))}o.De&&(n.set(a,o.ve()),o.Fe())}});let i=zt();this.Qe.forEach((o,a)=>{let c=!0;a.forEachWhile(u=>{const d=this.Ye(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(o))}),this.qe.forEach((o,a)=>a.setReadTime(t));const s=new Bm(t,n,this.Ke,this.qe,i);return this.qe=ur(),this.Qe=MC(),this.Ke=new Ne(re),s}Ue(t,n){if(!this.je(t))return;const i=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,i){if(!this.je(t))return;const s=this.ze(t);this.st(t,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Be.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new OC,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new On(re),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||et("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Be._t(t)}He(t){this.ke.set(t,new OC),this.Be.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Be.getRemoteKeysForTarget(t).has(n)}}function MC(){return new Ne(Et.comparator)}function NC(){return new Ne(Et.comparator)}const q7={asc:"ASCENDING",desc:"DESCENDING"},K7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},G7={and:"AND",or:"OR"};class Y7{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function bb(e,t){return e.useProto3Json||Mm(t)?t:{value:t}}function Ag(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function BD(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function X7(e,t){return Ag(e,t.toTimestamp())}function ks(e){return we(!!e),Dt.fromTimestamp(function(n){const i=uo(n);return new gn(i.seconds,i.nanos)}(e))}function mw(e,t){return wb(e,t).canonicalString()}function wb(e,t){const n=function(s){return new Ae(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function jD(e){const t=Ae.fromString(e);return we(qD(t)),t}function Eb(e,t){return mw(e.databaseId,t.path)}function hv(e,t){const n=jD(t);if(n.get(1)!==e.databaseId.projectId)throw new rt(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new rt(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Et(HD(n))}function $D(e,t){return mw(e.databaseId,t)}function Q7(e){const t=jD(e);return t.length===4?Ae.emptyPath():HD(t)}function Ib(e){return new Ae(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function HD(e){return we(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function LC(e,t,n){return{name:Eb(e,t),fields:n.value.mapValue.fields}}function J7(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Rt()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],o=function(d,f){return d.useProto3Json?(we(f===void 0||typeof f=="string"),Kn.fromBase64String(f||"")):(we(f===void 0||f instanceof Uint8Array),Kn.fromUint8Array(f||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,c=a&&function(d){const f=d.code===void 0?U.UNKNOWN:VD(d.code);return new rt(f,d.message||"")}(a);n=new UD(i,s,o,c||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=hv(e,i.document.name),o=ks(i.document.updateTime),a=i.document.createTime?ks(i.document.createTime):Dt.min(),c=new di({mapValue:{fields:i.document.fields}}),u=Un.newFoundDocument(s,o,a,c),d=i.targetIds||[],f=i.removedTargetIds||[];n=new Bp(d,f,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=hv(e,i.document),o=i.readTime?ks(i.readTime):Dt.min(),a=Un.newNoDocument(s,o),c=i.removedTargetIds||[];n=new Bp([],c,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=hv(e,i.document),o=i.removedTargetIds||[];n=new Bp([],o,s,null)}else{if(!("filter"in t))return Rt();{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,a=new j7(s,o),c=i.targetId;n=new FD(c,a)}}return n}function Z7(e,t){let n;if(t instanceof Td)n={update:LC(e,t.key,t.value)};else if(t instanceof fw)n={delete:Eb(e,t.key)};else if(t instanceof vo)n={update:LC(e,t.key,t.data),updateMask:l8(t.fieldMask)};else{if(!(t instanceof F7))return Rt();n={verify:Eb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(o,a){const c=a.transform;if(c instanceof Tg)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Yh)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Xh)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Sg)return{fieldPath:a.field.canonicalString(),increment:c.Ie};throw Rt()}(0,i))),t.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:X7(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Rt()}(e,t.precondition)),n}function t8(e,t){return e&&e.length>0?(we(t!==void 0),e.map(n=>function(s,o){let a=s.updateTime?ks(s.updateTime):ks(o);return a.isEqual(Dt.min())&&(a=ks(o)),new N7(a,s.transformResults||[])}(n,t))):[]}function e8(e,t){return{documents:[$D(e,t.path)]}}function n8(e,t){const n={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=$D(e,s);const o=function(d){if(d.length!==0)return WD(rs.create(d,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(d){if(d.length!==0)return d.map(f=>function(_){return{field:El(_.field),direction:r8(_.dir)}}(f))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const c=bb(e,t.limit);return c!==null&&(n.structuredQuery.limit=c),t.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{ut:n,parent:s}}function i8(e){let t=Q7(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){we(i===1);const f=n.from[0];f.allDescendants?s=f.collectionId:t=t.child(f.collectionId)}let o=[];n.where&&(o=function(g){const _=zD(g);return _ instanceof rs&&vD(_)?_.getFilters():[_]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(_=>function(I){return new Gh(Il(I.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(g){let _;return _=typeof g=="object"?g.value:g,Mm(_)?null:_}(n.limit));let u=null;n.startAt&&(u=function(g){const _=!!g.before,v=g.values||[];return new Eg(v,_)}(n.startAt));let d=null;return n.endAt&&(d=function(g){const _=!g.before,v=g.values||[];return new Eg(v,_)}(n.endAt)),E7(t,s,a,o,c,"F",u,d)}function s8(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function zD(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Il(n.unaryFilter.field);return un.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Il(n.unaryFilter.field);return un.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Il(n.unaryFilter.field);return un.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Il(n.unaryFilter.field);return un.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Rt()}}(e):e.fieldFilter!==void 0?function(n){return un.create(Il(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return rs.create(n.compositeFilter.filters.map(i=>zD(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Rt()}}(n.compositeFilter.op))}(e):Rt()}function r8(e){return q7[e]}function o8(e){return K7[e]}function a8(e){return G7[e]}function El(e){return{fieldPath:e.canonicalString()}}function Il(e){return xn.fromServerFormat(e.fieldPath)}function WD(e){return e instanceof un?function(n){if(n.op==="=="){if(EC(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NAN"}};if(wC(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(EC(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NOT_NAN"}};if(wC(n.value))return{unaryFilter:{field:El(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:El(n.field),op:o8(n.op),value:n.value}}}(e):e instanceof rs?function(n){const i=n.getFilters().map(s=>WD(s));return i.length===1?i[0]:{compositeFilter:{op:a8(n.op),filters:i}}}(e):Rt()}function l8(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function qD(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(t,n,i,s,o=Dt.min(),a=Dt.min(),c=Kn.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(t){return new Gr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(t){this.ct=t}}function u8(e){const t=i8({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Ig(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(){this._n=new d8}addToCollectionParentIndex(t,n){return this._n.add(n),H.resolve()}getCollectionParents(t,n){return H.resolve(this._n.getEntries(n))}addFieldIndex(t,n){return H.resolve()}deleteFieldIndex(t,n){return H.resolve()}deleteAllFieldIndexes(t){return H.resolve()}createTargetIndexes(t,n){return H.resolve()}getDocumentsMatchingTarget(t,n){return H.resolve(null)}getIndexType(t,n){return H.resolve(0)}getFieldIndexes(t,n){return H.resolve([])}getNextCollectionGroupToUpdate(t){return H.resolve(null)}getMinOffset(t,n){return H.resolve(co.min())}getMinOffsetFromCollectionGroup(t,n){return H.resolve(co.min())}updateCollectionGroup(t,n,i){return H.resolve()}updateIndexEntries(t,n){return H.resolve()}}class d8{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new On(Ae.comparator),o=!s.has(i);return this.index[n]=s.add(i),o}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new On(Ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new nc(0)}static Ln(){return new nc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(){this.changes=new bc(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Un.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?H.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(i!==null&&gh(i.mutation,s,ki.empty(),gn.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,zt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=zt()){const s=ea();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,i).next(o=>{let a=qu();return o.forEach((c,u)=>{a=a.insert(c,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const i=ea();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,zt()))}populateOverlays(t,n,i){const s=[];return i.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(t,s).next(o=>{o.forEach((a,c)=>{n.set(a,c)})})}computeViews(t,n,i,s){let o=ur();const a=ph(),c=function(){return ph()}();return n.forEach((u,d)=>{const f=i.get(d.key);s.has(d.key)&&(f===void 0||f.mutation instanceof vo)?o=o.insert(d.key,d):f!==void 0?(a.set(d.key,f.mutation.getFieldMask()),gh(f.mutation,d,f.mutation.getFieldMask(),gn.now())):a.set(d.key,ki.empty())}),this.recalculateAndSaveOverlays(t,o).next(u=>(u.forEach((d,f)=>a.set(d,f)),n.forEach((d,f)=>{var g;return c.set(d,new p8(f,(g=a.get(d))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(t,n){const i=ph();let s=new Ne((a,c)=>a-c),o=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const c of a)c.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let f=i.get(u)||ki.empty();f=c.applyToLocalView(d,f),i.set(u,f);const g=(s.get(c.batchId)||zt()).add(u);s=s.insert(c.batchId,g)})}).next(()=>{const a=[],c=s.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),d=u.key,f=u.value,g=PD();f.forEach(_=>{if(!o.has(_)){const v=ND(n.get(_),i.get(_));v!==null&&g.set(_,v),o=o.add(_)}}),a.push(this.documentOverlayCache.saveOverlays(t,d,g))}return H.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,s){return function(a){return Et.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):ID(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,s):this.getDocumentsMatchingCollectionQuery(t,n,i,s)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next(o=>{const a=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-o.size):H.resolve(ea());let c=-1,u=o;return a.next(d=>H.forEach(d,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),o.get(f)?H.resolve():this.remoteDocumentCache.getEntry(t,f).next(_=>{u=u.insert(f,_)}))).next(()=>this.populateOverlays(t,d,o)).next(()=>this.computeViews(t,u,d,zt())).next(f=>({batchId:c,changes:CD(f)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Et(n)).next(i=>{let s=qu();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,i,s){const o=n.collectionGroup;let a=qu();return this.indexManager.getCollectionParents(t,o).next(c=>H.forEach(c,u=>{const d=function(g,_){return new vc(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,i,s).next(f=>{f.forEach((g,_)=>{a=a.insert(g,_)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,o,s))).next(a=>{o.forEach((u,d)=>{const f=d.getKey();a.get(f)===null&&(a=a.insert(f,Un.newInvalidDocument(f)))});let c=qu();return a.forEach((u,d)=>{const f=o.get(u);f!==void 0&&gh(f.mutation,d,ki.empty(),gn.now()),Vm(n,d)&&(c=c.insert(u,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,n){return H.resolve(this.cr.get(n))}saveBundleMetadata(t,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ks(s.createTime)}}(n)),H.resolve()}getNamedQuery(t,n){return H.resolve(this.lr.get(n))}saveNamedQuery(t,n){return this.lr.set(n.name,function(s){return{name:s.name,query:u8(s.bundledQuery),readTime:ks(s.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(){this.overlays=new Ne(Et.comparator),this.hr=new Map}getOverlay(t,n){return H.resolve(this.overlays.get(n))}getOverlays(t,n){const i=ea();return H.forEach(n,s=>this.getOverlay(t,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((s,o)=>{this.ht(t,n,o)}),H.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.hr.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(i)),H.resolve()}getOverlaysForCollection(t,n,i){const s=ea(),o=n.length+1,a=new Et(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const u=c.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&u.largestBatchId>i&&s.set(u.getKey(),u)}return H.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let o=new Ne((d,f)=>d-f);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>i){let f=o.get(d.largestBatchId);f===null&&(f=ea(),o=o.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const c=ea(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=s)););return H.resolve(c)}ht(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const a=this.hr.get(s.largestBatchId).delete(i.key);this.hr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new B7(n,i));let o=this.hr.get(n);o===void 0&&(o=zt(),this.hr.set(n,o)),this.hr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(){this.Pr=new On(En.Ir),this.Tr=new On(En.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,n){const i=new En(t,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Ar(new En(t,n))}Rr(t,n){t.forEach(i=>this.removeReference(i,n))}Vr(t){const n=new Et(new Ae([])),i=new En(n,t),s=new En(n,t+1),o=[];return this.Tr.forEachInRange([i,s],a=>{this.Ar(a),o.push(a.key)}),o}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const n=new Et(new Ae([])),i=new En(n,t),s=new En(n,t+1);let o=zt();return this.Tr.forEachInRange([i,s],a=>{o=o.add(a.key)}),o}containsKey(t){const n=new En(t,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class En{constructor(t,n){this.key=t,this.pr=n}static Ir(t,n){return Et.comparator(t.key,n.key)||re(t.pr,n.pr)}static Er(t,n){return re(t.pr,n.pr)||Et.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new On(En.Ir)}checkEmpty(t){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new U7(o,n,i,s);this.mutationQueue.push(a);for(const c of s)this.wr=this.wr.add(new En(c.key,o)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return H.resolve(a)}lookupMutationBatch(t,n){return H.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.br(i),o=s<0?0:s;return H.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new En(n,0),s=new En(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([i,s],a=>{const c=this.Sr(a.pr);o.push(c)}),H.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new On(re);return n.forEach(s=>{const o=new En(s,0),a=new En(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,a],c=>{i=i.add(c.pr)})}),H.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let o=i;Et.isDocumentKey(o)||(o=o.child(""));const a=new En(new Et(o),0);let c=new On(re);return this.wr.forEachWhile(u=>{const d=u.key.path;return!!i.isPrefixOf(d)&&(d.length===s&&(c=c.add(u.pr)),!0)},a),H.resolve(this.Dr(c))}Dr(t){const n=[];return t.forEach(i=>{const s=this.Sr(i);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){we(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return H.forEach(n.mutations,s=>{const o=new En(s.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.wr=i})}Mn(t){}containsKey(t,n){const i=new En(n,0),s=this.wr.firstAfterOrEqual(i);return H.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,H.resolve()}Cr(t,n){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){const n=this.br(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(t){this.vr=t,this.docs=function(){return new Ne(Et.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),o=s?s.size:0,a=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return H.resolve(i?i.document.mutableCopy():Un.newInvalidDocument(n))}getEntries(t,n){let i=ur();return n.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Un.newInvalidDocument(s))}),H.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let o=ur();const a=n.path,c=new Et(a.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||i7(n7(f),i)<=0||(s.has(f.key)||Vm(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return H.resolve(o)}getAllFromCollectionGroup(t,n,i,s){Rt()}Fr(t,n){return H.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new b8(this)}getSize(t){return H.resolve(this.size)}}class b8 extends f8{constructor(t){super(),this.ar=t}applyChanges(t){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(t,s)):this.ar.removeEntry(i)}),H.waitFor(n)}getFromCache(t,n){return this.ar.getEntry(t,n)}getAllFromCache(t,n){return this.ar.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(t){this.persistence=t,this.Mr=new bc(n=>hw(n),dw),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new _w,this.targetCount=0,this.Lr=nc.Nn()}forEachTarget(t,n){return this.Mr.forEach((i,s)=>n(s)),H.resolve()}getLastRemoteSnapshotVersion(t){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return H.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),H.resolve()}qn(t){this.Mr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Lr=new nc(n),this.highestTargetId=n),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,n){return this.qn(n),this.targetCount+=1,H.resolve()}updateTargetData(t,n){return this.qn(n),H.resolve()}removeTargetData(t,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(t,n,i){let s=0;const o=[];return this.Mr.forEach((a,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.Mr.delete(a),o.push(this.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),H.waitFor(o).next(()=>s)}getTargetCount(t){return H.resolve(this.targetCount)}getTargetData(t,n){const i=this.Mr.get(n)||null;return H.resolve(i)}addMatchingKeys(t,n,i){return this.Nr.dr(n,i),H.resolve()}removeMatchingKeys(t,n,i){this.Nr.Rr(n,i);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(a=>{o.push(s.markPotentiallyOrphaned(t,a))}),H.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.Nr.Vr(n),H.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Nr.gr(n);return H.resolve(i)}containsKey(t,n){return H.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(t,n){this.Br={},this.overlays={},this.kr=new aw(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new w8(this),this.indexManager=new h8,this.remoteDocumentCache=function(s){return new v8(s)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new c8(n),this.$r=new m8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new _8,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.Br[t.toKey()];return i||(i=new y8(n,this.referenceDelegate),this.Br[t.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,n,i){et("MemoryPersistence","Starting transaction:",t);const s=new I8(this.kr.next());return this.referenceDelegate.Ur(),i(s).next(o=>this.referenceDelegate.Wr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Gr(t,n){return H.or(Object.values(this.Br).map(i=>()=>i.containsKey(t,n)))}}class I8 extends r7{constructor(t){super(),this.currentSequenceNumber=t}}class yw{constructor(t){this.persistence=t,this.zr=new _w,this.jr=null}static Hr(t){return new yw(t)}get Jr(){if(this.jr)return this.jr;throw Rt()}addReference(t,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),H.resolve()}removeReference(t,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),H.resolve()}markPotentiallyOrphaned(t,n){return this.Jr.add(n.toString()),H.resolve()}removeTarget(t,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(o=>this.Jr.add(o.toString()))}).next(()=>i.removeTargetData(t,n))}Ur(){this.jr=new Set}Wr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Jr,i=>{const s=Et.fromPath(i);return this.Yr(t,s).next(o=>{o||n.removeEntry(s,Dt.min())})}).next(()=>(this.jr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Yr(t,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(t){return 0}Yr(t,n){return H.or([()=>H.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.qi=i,this.Qi=s}static Ki(t,n){let i=zt(),s=zt();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new vw(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return e5()?8:ta.v(De())>0?6:4}()}initialize(t,n){this.zi=t,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(t,n,i,s){const o={result:null};return this.ji(t,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Hi(t,n,s,i).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new T8;return this.Ji(t,n,a).next(c=>{if(o.result=c,this.Ui)return this.Yi(t,n,a,c.size)})}).next(()=>o.result)}Yi(t,n,i,s){return i.documentReadCount<this.Wi?(Ou()<=Ht.DEBUG&&et("QueryEngine","SDK will not create cache indexes for query:",wl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),H.resolve()):(Ou()<=Ht.DEBUG&&et("QueryEngine","Query:",wl(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Gi*s?(Ou()<=Ht.DEBUG&&et("QueryEngine","The SDK decides to create cache indexes for query:",wl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Rs(n))):H.resolve())}ji(t,n){if(AC(n))return H.resolve(null);let i=Rs(n);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ig(n,null,"F"),i=Rs(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const a=zt(...o);return this.zi.getDocuments(t,a).next(c=>this.indexManager.getMinOffset(t,i).next(u=>{const d=this.Zi(n,c);return this.Xi(n,d,a,u.readTime)?this.ji(t,Ig(n,null,"F")):this.es(t,d,n,u)}))})))}Hi(t,n,i,s){return AC(n)||s.isEqual(Dt.min())?H.resolve(null):this.zi.getDocuments(t,i).next(o=>{const a=this.Zi(n,o);return this.Xi(n,a,i,s)?H.resolve(null):(Ou()<=Ht.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),wl(n)),this.es(t,a,n,e7(s,-1)).next(c=>c))})}Zi(t,n){let i=new On(SD(t));return n.forEach((s,o)=>{Vm(t,o)&&(i=i.add(o))}),i}Xi(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ji(t,n,i){return Ou()<=Ht.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",wl(n)),this.zi.getDocumentsMatchingQuery(t,n,co.min(),i)}es(t,n,i,s){return this.zi.getDocumentsMatchingQuery(t,i,s).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{constructor(t,n,i,s){this.persistence=t,this.ts=n,this.serializer=s,this.ns=new Ne(re),this.rs=new bc(o=>hw(o),dw),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(i)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new g8(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ns))}}function C8(e,t,n,i){return new A8(e,t,n,i)}async function KD(e,t){const n=Mt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,n._s(t),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const a=[],c=[];let u=zt();for(const d of s){a.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of o){c.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(i,u).next(d=>({us:d,removedBatchIds:a,addedBatchIds:c}))})})}function P8(e,t){const n=Mt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(c,u,d,f){const g=d.batch,_=g.keys();let v=H.resolve();return _.forEach(I=>{v=v.next(()=>f.getEntry(u,I)).next(b=>{const w=d.docVersions.get(I);we(w!==null),b.version.compareTo(w)<0&&(g.applyToRemoteDocument(b,d),b.isValidDocument()&&(b.setReadTime(d.commitVersion),f.addEntry(b)))})}),v.next(()=>c.mutationQueue.removeMutationBatch(u,g))}(n,i,t,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let u=zt();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,s))})}function GD(e){const t=Mt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Qr.getLastRemoteSnapshotVersion(n))}function R8(e,t){const n=Mt(e),i=t.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const c=[];t.targetChanges.forEach((f,g)=>{const _=s.get(g);if(!_)return;c.push(n.Qr.removeMatchingKeys(o,f.removedDocuments,g).next(()=>n.Qr.addMatchingKeys(o,f.addedDocuments,g)));let v=_.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(g)!==null?v=v.withResumeToken(Kn.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,i)),s=s.insert(g,v),function(b,w,T){return b.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(_,v,f)&&c.push(n.Qr.updateTargetData(o,v))});let u=ur(),d=zt();if(t.documentUpdates.forEach(f=>{t.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(k8(o,a,t.documentUpdates).next(f=>{u=f.cs,d=f.ls})),!i.isEqual(Dt.min())){const f=n.Qr.getLastRemoteSnapshotVersion(o).next(g=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,i));c.push(f)}return H.waitFor(c).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,d)).next(()=>u)}).then(o=>(n.ns=s,o))}function k8(e,t,n){let i=zt(),s=zt();return n.forEach(o=>i=i.add(o)),t.getEntries(e,i).next(o=>{let a=ur();return n.forEach((c,u)=>{const d=o.get(c);u.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),u.isNoDocument()&&u.version.isEqual(Dt.min())?(t.removeEntry(c,u.readTime),a=a.insert(c,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(u),a=a.insert(c,u)):et("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",u.version)}),{cs:a,ls:s}})}function x8(e,t){const n=Mt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function D8(e,t){const n=Mt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Qr.getTargetData(i,t).next(o=>o?(s=o,H.resolve(s)):n.Qr.allocateTargetId(i).next(a=>(s=new Gr(t,a,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.ns.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(t,i.targetId)),i})}async function Tb(e,t,n){const i=Mt(e),s=i.ns.get(t),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Id(a))throw a;et("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}i.ns=i.ns.remove(t),i.rs.delete(s.target)}function VC(e,t,n){const i=Mt(e);let s=Dt.min(),o=zt();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,d,f){const g=Mt(u),_=g.rs.get(f);return _!==void 0?H.resolve(g.ns.get(_)):g.Qr.getTargetData(d,f)}(i,a,Rs(t)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(a,c.targetId).next(u=>{o=u})}).next(()=>i.ts.getDocumentsMatchingQuery(a,t,n?s:Dt.min(),n?o:zt())).next(c=>(O8(i,T7(t),c),{documents:c,hs:o})))}function O8(e,t,n){let i=e.ss.get(t)||Dt.min();n.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),e.ss.set(t,i)}class FC{constructor(){this.activeTargetIds=k7()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class M8{constructor(){this.no=new FC,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,n,i){this.ro[t]=n}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new FC,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{io(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lp=null;function dv(){return lp===null?lp=function(){return 268435456+Math.round(2147483648*Math.random())}():lp++,"0x"+lp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}onMessage(t){this.Ao=t}close(){this.ho()}send(t){this.lo(t)}Ro(){this.Io()}Vo(t){this.Eo(t)}mo(t){this.Ao(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln="WebChannelConnection";class F8 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=i+"://"+n.host,this.po=`projects/${s}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}get wo(){return!1}So(n,i,s,o,a){const c=dv(),u=this.bo(n,i.toUriEncodedString());et("RestConnection",`Sending RPC '${n}' ${c}:`,u,s);const d={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(d,o,a),this.Co(n,u,d,s).then(f=>(et("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw Jl("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",s),f})}vo(n,i,s,o,a,c){return this.So(n,i,s,o,a)}Do(n,i,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,a)=>n[a]=o),s&&s.headers.forEach((o,a)=>n[a]=o)}bo(n,i){const s=L8[n];return`${this.fo}/v1/${i}:${s}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Co(t,n,i,s){const o=dv();return new Promise((a,c)=>{const u=new z$;u.setWithCredentials(!0),u.listenOnce($$.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case uv.NO_ERROR:const f=u.getResponseJson();et(Ln,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(f)),a(f);break;case uv.TIMEOUT:et(Ln,`RPC '${t}' ${o} timed out`),c(new rt(U.DEADLINE_EXCEEDED,"Request time out"));break;case uv.HTTP_ERROR:const g=u.getStatus();if(et(Ln,`RPC '${t}' ${o} failed with status:`,g,"response text:",u.getResponseText()),g>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);const v=_==null?void 0:_.error;if(v&&v.status&&v.message){const I=function(w){const T=w.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(T)>=0?T:U.UNKNOWN}(v.status);c(new rt(I,v.message))}else c(new rt(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new rt(U.UNAVAILABLE,"Connection failed."));break;default:Rt()}}finally{et(Ln,`RPC '${t}' ${o} completed.`)}});const d=JSON.stringify(s);et(Ln,`RPC '${t}' ${o} sending request:`,s),u.send(n,"POST",d,i,15)})}Fo(t,n,i){const s=dv(),o=[this.fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=B$(),c=j$(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const f=o.join("");et(Ln,`Creating RPC '${t}' stream ${s}: ${f}`,u);const g=a.createWebChannel(f,u);let _=!1,v=!1;const I=new V8({lo:w=>{v?et(Ln,`Not sending because RPC '${t}' stream ${s} is closed:`,w):(_||(et(Ln,`Opening RPC '${t}' stream ${s} transport.`),g.open(),_=!0),et(Ln,`RPC '${t}' stream ${s} sending:`,w),g.send(w))},ho:()=>g.close()}),b=(w,T,S)=>{w.listen(T,k=>{try{S(k)}catch(x){setTimeout(()=>{throw x},0)}})};return b(g,rp.EventType.OPEN,()=>{v||et(Ln,`RPC '${t}' stream ${s} transport opened.`)}),b(g,rp.EventType.CLOSE,()=>{v||(v=!0,et(Ln,`RPC '${t}' stream ${s} transport closed`),I.Vo())}),b(g,rp.EventType.ERROR,w=>{v||(v=!0,Jl(Ln,`RPC '${t}' stream ${s} transport errored:`,w),I.Vo(new rt(U.UNAVAILABLE,"The operation could not be completed")))}),b(g,rp.EventType.MESSAGE,w=>{var T;if(!v){const S=w.data[0];we(!!S);const k=S,x=k.error||((T=k[0])===null||T===void 0?void 0:T.error);if(x){et(Ln,`RPC '${t}' stream ${s} received error:`,x);const D=x.status;let M=function(st){const gt=on[st];if(gt!==void 0)return VD(gt)}(D),V=x.message;M===void 0&&(M=U.INTERNAL,V="Unknown error status: "+D+" with message "+x.message),v=!0,I.Vo(new rt(M,V)),g.close()}else et(Ln,`RPC '${t}' stream ${s} received:`,S),I.mo(S)}}),b(c,H$.STAT_EVENT,w=>{w.stat===pC.PROXY?et(Ln,`RPC '${t}' stream ${s} detected buffering proxy`):w.stat===pC.NOPROXY&&et(Ln,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{I.Ro()},0),I}}function fv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(e){return new Y7(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(t,n,i=1e3,s=1.5,o=6e4){this.oi=t,this.timerId=n,this.Mo=i,this.xo=s,this.Oo=o,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(t){this.cancel();const n=Math.floor(this.No+this.Qo()),i=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-i);s>0&&et("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),t())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(t,n,i,s,o,a,c,u){this.oi=t,this.$o=i,this.Uo=s,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new YD(t,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(t){this.n_(),this.stream.send(t)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(t,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,t!==4?this.jo.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Ns(n.toString()),Ns("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.To(n)}i_(){}auth(){this.state=1;const t=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Wo===n&&this.o_(i,s)},i=>{t(()=>{const s=new rt(U.UNKNOWN,"Fetching auth token failed: "+i.message);return this.__(s)})})}o_(t,n){const i=this.s_(this.Wo);this.stream=this.a_(t,n),this.stream.Po(()=>{i(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{i(()=>this.__(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(t){return et("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}s_(t){return n=>{this.oi.enqueueAndForget(()=>this.Wo===t?n():(et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class U8 extends XD{constructor(t,n,i,s,o,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,a),this.serializer=o}a_(t,n){return this.connection.Fo("Listen",t,n)}onMessage(t){this.jo.reset();const n=J7(this.serializer,t),i=function(o){if(!("targetChange"in o))return Dt.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?Dt.min():a.readTime?ks(a.readTime):Dt.min()}(t);return this.listener.u_(n,i)}c_(t){const n={};n.database=Ib(this.serializer),n.addTarget=function(o,a){let c;const u=a.target;if(c=yb(u)?{documents:e8(o,u)}:{query:n8(o,u).ut},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=BD(o,a.resumeToken);const d=bb(o,a.expectedCount);d!==null&&(c.expectedCount=d)}else if(a.snapshotVersion.compareTo(Dt.min())>0){c.readTime=Ag(o,a.snapshotVersion.toTimestamp());const d=bb(o,a.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,t);const i=s8(this.serializer,t);i&&(n.labels=i),this.t_(n)}l_(t){const n={};n.database=Ib(this.serializer),n.removeTarget=t,this.t_(n)}}class B8 extends XD{constructor(t,n,i,s,o,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,a),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(t,n){return this.connection.Fo("Write",t,n)}onMessage(t){if(we(!!t.streamToken),this.lastStreamToken=t.streamToken,this.h_){this.jo.reset();const n=t8(t.writeResults,t.commitTime),i=ks(t.commitTime);return this.listener.T_(i,n)}return we(!t.writeResults||t.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const t={};t.database=Ib(this.serializer),this.t_(t)}I_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>Z7(this.serializer,i))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8 extends class{}{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new rt(U.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.So(t,wb(n,i),s,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new rt(U.UNKNOWN,o.toString())})}vo(t,n,i,s,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.vo(t,wb(n,i),s,a,c,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new rt(U.UNKNOWN,a.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class $8{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(t){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.y_("Offline")))}set(t){this.b_(),this.m_=0,t==="Online"&&(this.g_=!1),this.y_(t)}y_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}w_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Ns(n),this.g_=!1):et("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(t,n,i,s,o){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(a=>{i.enqueueAndForget(async()=>{Pa(this)&&(et("RemoteStore","Restarting streams for network reachability change."),await async function(u){const d=Mt(u);d.v_.add(4),await Ad(d),d.x_.set("Unknown"),d.v_.delete(4),await $m(d)}(this))})}),this.x_=new $8(i,s)}}async function $m(e){if(Pa(e))for(const t of e.F_)await t(!0)}async function Ad(e){for(const t of e.F_)await t(!1)}function QD(e,t){const n=Mt(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),Iw(n)?Ew(n):wc(n).Jo()&&ww(n,t))}function bw(e,t){const n=Mt(e),i=wc(n);n.C_.delete(t),i.Jo()&&JD(n,t),n.C_.size===0&&(i.Jo()?i.Xo():Pa(n)&&n.x_.set("Unknown"))}function ww(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Dt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}wc(e).c_(t)}function JD(e,t){e.O_.Oe(t),wc(e).l_(t)}function Ew(e){e.O_=new W7({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),wc(e).start(),e.x_.p_()}function Iw(e){return Pa(e)&&!wc(e).Ho()&&e.C_.size>0}function Pa(e){return Mt(e).v_.size===0}function ZD(e){e.O_=void 0}async function z8(e){e.C_.forEach((t,n)=>{ww(e,t)})}async function W8(e,t){ZD(e),Iw(e)?(e.x_.S_(t),Ew(e)):e.x_.set("Unknown")}async function q8(e,t,n){if(e.x_.set("Online"),t instanceof UD&&t.state===2&&t.cause)try{await async function(s,o){const a=o.cause;for(const c of o.targetIds)s.C_.has(c)&&(await s.remoteSyncer.rejectListen(c,a),s.C_.delete(c),s.O_.removeTarget(c))}(e,t)}catch(i){et("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Cg(e,i)}else if(t instanceof Bp?e.O_.$e(t):t instanceof FD?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(Dt.min()))try{const i=await GD(e.localStore);n.compareTo(i)>=0&&await function(o,a){const c=o.O_.it(a);return c.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=o.C_.get(d);f&&o.C_.set(d,f.withResumeToken(u.resumeToken,a))}}),c.targetMismatches.forEach((u,d)=>{const f=o.C_.get(u);if(!f)return;o.C_.set(u,f.withResumeToken(Kn.EMPTY_BYTE_STRING,f.snapshotVersion)),JD(o,u);const g=new Gr(f.target,u,d,f.sequenceNumber);ww(o,g)}),o.remoteSyncer.applyRemoteEvent(c)}(e,n)}catch(i){et("RemoteStore","Failed to raise snapshot:",i),await Cg(e,i)}}async function Cg(e,t,n){if(!Id(t))throw t;e.v_.add(1),await Ad(e),e.x_.set("Offline"),n||(n=()=>GD(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{et("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await $m(e)})}function tO(e,t){return t().catch(n=>Cg(e,n,t))}async function Hm(e){const t=Mt(e),n=ho(t);let i=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;K8(t);)try{const s=await x8(t.localStore,i);if(s===null){t.D_.length===0&&n.Xo();break}i=s.batchId,G8(t,s)}catch(s){await Cg(t,s)}eO(t)&&nO(t)}function K8(e){return Pa(e)&&e.D_.length<10}function G8(e,t){e.D_.push(t);const n=ho(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function eO(e){return Pa(e)&&!ho(e).Ho()&&e.D_.length>0}function nO(e){ho(e).start()}async function Y8(e){ho(e).d_()}async function X8(e){const t=ho(e);for(const n of e.D_)t.I_(n.mutations)}async function Q8(e,t,n){const i=e.D_.shift(),s=pw.from(i,t,n);await tO(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Hm(e)}async function J8(e,t){t&&ho(e).P_&&await async function(i,s){if(function(a){return $7(a)&&a!==U.ABORTED}(s.code)){const o=i.D_.shift();ho(i).Zo(),await tO(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Hm(i)}}(e,t),eO(e)&&nO(e)}async function BC(e,t){const n=Mt(e);n.asyncQueue.verifyOperationInProgress(),et("RemoteStore","RemoteStore received new credentials");const i=Pa(n);n.v_.add(3),await Ad(n),i&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await $m(n)}async function Z8(e,t){const n=Mt(e);t?(n.v_.delete(2),await $m(n)):t||(n.v_.add(2),await Ad(n),n.x_.set("Unknown"))}function wc(e){return e.N_||(e.N_=function(n,i,s){const o=Mt(n);return o.R_(),new U8(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(e.datastore,e.asyncQueue,{Po:z8.bind(null,e),To:W8.bind(null,e),u_:q8.bind(null,e)}),e.F_.push(async t=>{t?(e.N_.Zo(),Iw(e)?Ew(e):e.x_.set("Unknown")):(await e.N_.stop(),ZD(e))})),e.N_}function ho(e){return e.L_||(e.L_=function(n,i,s){const o=Mt(n);return o.R_(),new B8(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(e.datastore,e.asyncQueue,{Po:Y8.bind(null,e),To:J8.bind(null,e),E_:X8.bind(null,e),T_:Q8.bind(null,e)}),e.F_.push(async t=>{t?(e.L_.Zo(),await Hm(e)):(await e.L_.stop(),e.D_.length>0&&(et("RemoteStore",`Stopping write stream with ${e.D_.length} pending writes`),e.D_=[]))})),e.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(t,n,i,s,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new Ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,o){const a=Date.now()+i,c=new Tw(t,n,a,s,o);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(U.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sw(e,t){if(Ns("AsyncQueue",`${t}: ${e}`),Id(e))return new rt(U.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t){this.comparator=t?(n,i)=>t(n,i)||Et.comparator(n.key,i.key):(n,i)=>Et.comparator(n.key,i.key),this.keyedMap=qu(),this.sortedSet=new Ne(this.comparator)}static emptySet(t){return new Ul(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ul)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Ul;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.B_=new Ne(Et.comparator)}track(t){const n=t.doc.key,i=this.B_.get(n);i?t.type!==0&&i.type===3?this.B_=this.B_.insert(n,t):t.type===3&&i.type!==1?this.B_=this.B_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.B_=this.B_.remove(n):t.type===1&&i.type===2?this.B_=this.B_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):Rt():this.B_=this.B_.insert(n,t)}k_(){const t=[];return this.B_.inorderTraversal((n,i)=>{t.push(i)}),t}}class ic{constructor(t,n,i,s,o,a,c,u,d){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(t,n,i,s,o){const a=[];return n.forEach(c=>{a.push({type:0,doc:c})}),new ic(t,n,Ul.emptySet(n),a,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Lm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(t=>t.U_())}}class eH{constructor(){this.queries=new bc(t=>TD(t),Lm),this.onlineState="Unknown",this.W_=new Set}}async function Aw(e,t){const n=Mt(e);let i=3;const s=t.query;let o=n.queries.get(s);o?!o.K_()&&t.U_()&&(i=2):(o=new tH,i=t.U_()?0:1);try{switch(i){case 0:o.q_=await n.onListen(s,!0);break;case 1:o.q_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const c=Sw(a,`Initialization of query '${wl(t.query)}' failed`);return void t.onError(c)}n.queries.set(s,o),o.Q_.push(t),t.G_(n.onlineState),o.q_&&t.z_(o.q_)&&Pw(n)}async function Cw(e,t){const n=Mt(e),i=t.query;let s=3;const o=n.queries.get(i);if(o){const a=o.Q_.indexOf(t);a>=0&&(o.Q_.splice(a,1),o.Q_.length===0?s=t.U_()?0:1:!o.K_()&&t.U_()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function nH(e,t){const n=Mt(e);let i=!1;for(const s of t){const o=s.query,a=n.queries.get(o);if(a){for(const c of a.Q_)c.z_(s)&&(i=!0);a.q_=s}}i&&Pw(n)}function iH(e,t,n){const i=Mt(e),s=i.queries.get(t);if(s)for(const o of s.Q_)o.onError(n);i.queries.delete(t)}function Pw(e){e.W_.forEach(t=>{t.next()})}var Sb,$C;($C=Sb||(Sb={})).j_="default",$C.Cache="cache";class Rw{constructor(t,n,i){this.query=t,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=i||{}}z_(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new ic(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.J_?this.Z_(t)&&(this.H_.next(t),n=!0):this.X_(t,this.onlineState)&&(this.ea(t),n=!0),this.Y_=t,n}onError(t){this.H_.error(t)}G_(t){this.onlineState=t;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,t)&&(this.ea(this.Y_),n=!0),n}X_(t,n){if(!t.fromCache||!this.U_())return!0;const i=n!=="Offline";return(!this.options.ta||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Z_(t){if(t.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(t){t=ic.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.J_=!0,this.H_.next(t)}U_(){return this.options.source!==Sb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(t){this.key=t}}class sO{constructor(t){this.key=t}}class sH{constructor(t,n){this.query=t,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=zt(),this.mutatedKeys=zt(),this.ha=SD(t),this.Pa=new Ul(this.ha)}get Ia(){return this.ua}Ta(t,n){const i=n?n.Ea:new jC,s=n?n.Pa:this.Pa;let o=n?n.mutatedKeys:this.mutatedKeys,a=s,c=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((f,g)=>{const _=s.get(f),v=Vm(this.query,g)?g:null,I=!!_&&this.mutatedKeys.has(_.key),b=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let w=!1;_&&v?_.data.isEqual(v.data)?I!==b&&(i.track({type:3,doc:v}),w=!0):this.da(_,v)||(i.track({type:2,doc:v}),w=!0,(u&&this.ha(v,u)>0||d&&this.ha(v,d)<0)&&(c=!0)):!_&&v?(i.track({type:0,doc:v}),w=!0):_&&!v&&(i.track({type:1,doc:_}),w=!0,(u||d)&&(c=!0)),w&&(v?(a=a.add(v),o=b?o.add(f):o.delete(f)):(a=a.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),o=o.delete(f.key),i.track({type:1,doc:f})}return{Pa:a,Ea:i,Xi:c,mutatedKeys:o}}da(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,s){const o=this.Pa;this.Pa=t.Pa,this.mutatedKeys=t.mutatedKeys;const a=t.Ea.k_();a.sort((f,g)=>function(v,I){const b=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt()}};return b(v)-b(I)}(f.type,g.type)||this.ha(f.doc,g.doc)),this.Aa(i),s=s!=null&&s;const c=n&&!s?this.Ra():[],u=this.la.size===0&&this.current&&!s?1:0,d=u!==this.ca;return this.ca=u,a.length!==0||d?{snapshot:new ic(this.query,t.Pa,o,a,t.mutatedKeys,u===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),Va:c}:{Va:c}}G_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new jC,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(t){return!this.ua.has(t)&&!!this.Pa.has(t)&&!this.Pa.get(t).hasLocalMutations}Aa(t){t&&(t.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=t.current)}Ra(){if(!this.current)return[];const t=this.la;this.la=zt(),this.Pa.forEach(i=>{this.ma(i.key)&&(this.la=this.la.add(i.key))});const n=[];return t.forEach(i=>{this.la.has(i)||n.push(new sO(i))}),this.la.forEach(i=>{t.has(i)||n.push(new iO(i))}),n}fa(t){this.ua=t.hs,this.la=zt();const n=this.Ta(t.documents);return this.applyChanges(n,!0)}ga(){return ic.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class rH{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class oH{constructor(t){this.key=t,this.pa=!1}}class aH{constructor(t,n,i,s,o,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.ya={},this.wa=new bc(c=>TD(c),Lm),this.Sa=new Map,this.ba=new Set,this.Da=new Ne(Et.comparator),this.Ca=new Map,this.va=new _w,this.Fa={},this.Ma=new Map,this.xa=nc.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function lH(e,t,n=!0){const i=uO(e);let s;const o=i.wa.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.ga()):s=await rO(i,t,n,!0),s}async function cH(e,t){const n=uO(e);await rO(n,t,!0,!1)}async function rO(e,t,n,i){const s=await D8(e.localStore,Rs(t)),o=s.targetId,a=n?e.sharedClientState.addLocalQueryTarget(o):"not-current";let c;return i&&(c=await uH(e,t,o,a==="current",s.resumeToken)),e.isPrimaryClient&&n&&QD(e.remoteStore,s),c}async function uH(e,t,n,i,s){e.Na=(g,_,v)=>async function(b,w,T,S){let k=w.view.Ta(T);k.Xi&&(k=await VC(b.localStore,w.query,!1).then(({documents:V})=>w.view.Ta(V,k)));const x=S&&S.targetChanges.get(w.targetId),D=S&&S.targetMismatches.get(w.targetId)!=null,M=w.view.applyChanges(k,b.isPrimaryClient,x,D);return zC(b,w.targetId,M.Va),M.snapshot}(e,g,_,v);const o=await VC(e.localStore,t,!0),a=new sH(t,o.hs),c=a.Ta(o.documents),u=Sd.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),d=a.applyChanges(c,e.isPrimaryClient,u);zC(e,n,d.Va);const f=new rH(t,n,a);return e.wa.set(t,f),e.Sa.has(n)?e.Sa.get(n).push(t):e.Sa.set(n,[t]),d.snapshot}async function hH(e,t,n){const i=Mt(e),s=i.wa.get(t),o=i.Sa.get(s.targetId);if(o.length>1)return i.Sa.set(s.targetId,o.filter(a=>!Lm(a,t))),void i.wa.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Tb(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&bw(i.remoteStore,s.targetId),Ab(i,s.targetId)}).catch(Ed)):(Ab(i,s.targetId),await Tb(i.localStore,s.targetId,!0))}async function dH(e,t){const n=Mt(e),i=n.wa.get(t),s=n.Sa.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),bw(n.remoteStore,i.targetId))}async function fH(e,t,n){const i=bH(e);try{const s=await function(a,c){const u=Mt(a),d=gn.now(),f=c.reduce((v,I)=>v.add(I.key),zt());let g,_;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let I=ur(),b=zt();return u.os.getEntries(v,f).next(w=>{I=w,I.forEach((T,S)=>{S.isValidDocument()||(b=b.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,I)).next(w=>{g=w;const T=[];for(const S of c){const k=V7(S,g.get(S.key).overlayedDocument);k!=null&&T.push(new vo(S.key,k,mD(k.value.mapValue),ji.exists(!0)))}return u.mutationQueue.addMutationBatch(v,d,T,c)}).next(w=>{_=w;const T=w.applyToLocalDocumentSet(g,b);return u.documentOverlayCache.saveOverlays(v,w.batchId,T)})}).then(()=>({batchId:_.batchId,changes:CD(g)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(a,c,u){let d=a.Fa[a.currentUser.toKey()];d||(d=new Ne(re)),d=d.insert(c,u),a.Fa[a.currentUser.toKey()]=d}(i,s.batchId,n),await Cd(i,s.changes),await Hm(i.remoteStore)}catch(s){const o=Sw(s,"Failed to persist write");n.reject(o)}}async function oO(e,t){const n=Mt(e);try{const i=await R8(n.localStore,t);t.targetChanges.forEach((s,o)=>{const a=n.Ca.get(o);a&&(we(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.pa=!0:s.modifiedDocuments.size>0?we(a.pa):s.removedDocuments.size>0&&(we(a.pa),a.pa=!1))}),await Cd(n,i,t)}catch(i){await Ed(i)}}function HC(e,t,n){const i=Mt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.wa.forEach((o,a)=>{const c=a.view.G_(t);c.snapshot&&s.push(c.snapshot)}),function(a,c){const u=Mt(a);u.onlineState=c;let d=!1;u.queries.forEach((f,g)=>{for(const _ of g.Q_)_.G_(c)&&(d=!0)}),d&&Pw(u)}(i.eventManager,t),s.length&&i.ya.u_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function pH(e,t,n){const i=Mt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Ca.get(t),o=s&&s.key;if(o){let a=new Ne(Et.comparator);a=a.insert(o,Un.newNoDocument(o,Dt.min()));const c=zt().add(o),u=new Bm(Dt.min(),new Map,new Ne(re),a,c);await oO(i,u),i.Da=i.Da.remove(o),i.Ca.delete(t),kw(i)}else await Tb(i.localStore,t,!1).then(()=>Ab(i,t,n)).catch(Ed)}async function gH(e,t){const n=Mt(e),i=t.batch.batchId;try{const s=await P8(n.localStore,t);lO(n,i,null),aO(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Cd(n,s)}catch(s){await Ed(s)}}async function mH(e,t,n){const i=Mt(e);try{const s=await function(a,c){const u=Mt(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,c).next(g=>(we(g!==null),f=g.keys(),u.mutationQueue.removeMutationBatch(d,g))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(i.localStore,t);lO(i,t,n),aO(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Cd(i,s)}catch(s){await Ed(s)}}function aO(e,t){(e.Ma.get(t)||[]).forEach(n=>{n.resolve()}),e.Ma.delete(t)}function lO(e,t,n){const i=Mt(e);let s=i.Fa[i.currentUser.toKey()];if(s){const o=s.get(t);o&&(n?o.reject(n):o.resolve(),s=s.remove(t)),i.Fa[i.currentUser.toKey()]=s}}function Ab(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Sa.get(t))e.wa.delete(i),n&&e.ya.La(i,n);e.Sa.delete(t),e.isPrimaryClient&&e.va.Vr(t).forEach(i=>{e.va.containsKey(i)||cO(e,i)})}function cO(e,t){e.ba.delete(t.path.canonicalString());const n=e.Da.get(t);n!==null&&(bw(e.remoteStore,n),e.Da=e.Da.remove(t),e.Ca.delete(n),kw(e))}function zC(e,t,n){for(const i of n)i instanceof iO?(e.va.addReference(i.key,t),_H(e,i)):i instanceof sO?(et("SyncEngine","Document no longer in limbo: "+i.key),e.va.removeReference(i.key,t),e.va.containsKey(i.key)||cO(e,i.key)):Rt()}function _H(e,t){const n=t.key,i=n.path.canonicalString();e.Da.get(n)||e.ba.has(i)||(et("SyncEngine","New document in limbo: "+n),e.ba.add(i),kw(e))}function kw(e){for(;e.ba.size>0&&e.Da.size<e.maxConcurrentLimboResolutions;){const t=e.ba.values().next().value;e.ba.delete(t);const n=new Et(Ae.fromString(t)),i=e.xa.next();e.Ca.set(i,new oH(n)),e.Da=e.Da.insert(n,i),QD(e.remoteStore,new Gr(Rs(Nm(n.path)),i,"TargetPurposeLimboResolution",aw._e))}}async function Cd(e,t,n){const i=Mt(e),s=[],o=[],a=[];i.wa.isEmpty()||(i.wa.forEach((c,u)=>{a.push(i.Na(u,t,n).then(d=>{if((d||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(u.targetId,d!=null&&d.fromCache?"not-current":"current"),d){s.push(d);const f=vw.Ki(u.targetId,d);o.push(f)}}))}),await Promise.all(a),i.ya.u_(s),await async function(u,d){const f=Mt(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>H.forEach(d,_=>H.forEach(_.qi,v=>f.persistence.referenceDelegate.addReference(g,_.targetId,v)).next(()=>H.forEach(_.Qi,v=>f.persistence.referenceDelegate.removeReference(g,_.targetId,v)))))}catch(g){if(!Id(g))throw g;et("LocalStore","Failed to update sequence numbers: "+g)}for(const g of d){const _=g.targetId;if(!g.fromCache){const v=f.ns.get(_),I=v.snapshotVersion,b=v.withLastLimboFreeSnapshotVersion(I);f.ns=f.ns.insert(_,b)}}}(i.localStore,o))}async function yH(e,t){const n=Mt(e);if(!n.currentUser.isEqual(t)){et("SyncEngine","User change. New user:",t.toKey());const i=await KD(n.localStore,t);n.currentUser=t,function(o,a){o.Ma.forEach(c=>{c.forEach(u=>{u.reject(new rt(U.CANCELLED,a))})}),o.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Cd(n,i.us)}}function vH(e,t){const n=Mt(e),i=n.Ca.get(t);if(i&&i.pa)return zt().add(i.key);{let s=zt();const o=n.Sa.get(t);if(!o)return s;for(const a of o){const c=n.wa.get(a);s=s.unionWith(c.view.Ia)}return s}}function uO(e){const t=Mt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=oO.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vH.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=pH.bind(null,t),t.ya.u_=nH.bind(null,t.eventManager),t.ya.La=iH.bind(null,t.eventManager),t}function bH(e){const t=Mt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=gH.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=mH.bind(null,t),t}class WC{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=jm(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return C8(this.persistence,new S8,t.initialUser,this.serializer)}createPersistence(t){return new E8(yw.Hr,this.serializer)}createSharedClientState(t){return new M8}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class wH{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>HC(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=yH.bind(null,this.syncEngine),await Z8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new eH}()}createDatastore(t){const n=jm(t.databaseInfo.databaseId),i=function(o){return new F8(o)}(t.databaseInfo);return function(o,a,c,u){return new j8(o,a,c,u)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,s,o,a,c){return new H8(i,s,o,a,c)}(this.localStore,this.datastore,t.asyncQueue,n=>HC(this.syncEngine,n,0),function(){return UC.D()?new UC:new N8}())}createSyncEngine(t,n){return function(s,o,a,c,u,d,f){const g=new aH(s,o,a,c,u,d);return f&&(g.Oa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t;await async function(i){const s=Mt(i);et("RemoteStore","RemoteStore shutting down."),s.v_.add(5),await Ad(s),s.M_.shutdown(),s.x_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.qa(this.observer.next,t)}error(t){this.observer.error?this.qa(this.observer.error,t):Ns("Uncaught Error in snapshot listener:",t.toString())}Qa(){this.muted=!0}qa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(t,n,i,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Fn.UNAUTHENTICATED,this.clientId=fD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async o=>{et("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(et("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new rt(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Sw(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function pv(e,t){e.asyncQueue.verifyOperationInProgress(),et("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async s=>{i.isEqual(s)||(await KD(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function qC(e,t){e.asyncQueue.verifyOperationInProgress();const n=await TH(e);et("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>BC(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>BC(t.remoteStore,s)),e._onlineComponents=t}function IH(e){return e.name==="FirebaseError"?e.code===U.FAILED_PRECONDITION||e.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function TH(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){et("FirestoreClient","Using user provided OfflineComponentProvider");try{await pv(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!IH(n))throw n;Jl("Error using user provided cache. Falling back to memory cache: "+n),await pv(e,new WC)}}else et("FirestoreClient","Using default OfflineComponentProvider"),await pv(e,new WC);return e._offlineComponents}async function hO(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(et("FirestoreClient","Using user provided OnlineComponentProvider"),await qC(e,e._uninitializedComponentsProvider._online)):(et("FirestoreClient","Using default OnlineComponentProvider"),await qC(e,new wH))),e._onlineComponents}function SH(e){return hO(e).then(t=>t.syncEngine)}async function Pg(e){const t=await hO(e),n=t.eventManager;return n.onListen=lH.bind(null,t.syncEngine),n.onUnlisten=hH.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=cH.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=dH.bind(null,t.syncEngine),n}function AH(e,t,n={}){const i=new Ps;return e.asyncQueue.enqueueAndForget(async()=>function(o,a,c,u,d){const f=new xw({next:_=>{a.enqueueAndForget(()=>Cw(o,g));const v=_.docs.has(c);!v&&_.fromCache?d.reject(new rt(U.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&_.fromCache&&u&&u.source==="server"?d.reject(new rt(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),g=new Rw(Nm(c.path),f,{includeMetadataChanges:!0,ta:!0});return Aw(o,g)}(await Pg(e),e.asyncQueue,t,n,i)),i.promise}function CH(e,t,n={}){const i=new Ps;return e.asyncQueue.enqueueAndForget(async()=>function(o,a,c,u,d){const f=new xw({next:_=>{a.enqueueAndForget(()=>Cw(o,g)),_.fromCache&&u.source==="server"?d.reject(new rt(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),g=new Rw(c,f,{includeMetadataChanges:!0,ta:!0});return Aw(o,g)}(await Pg(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(e,t,n){if(!n)throw new rt(U.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function PH(e,t,n,i){if(t===!0&&i===!0)throw new rt(U.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function GC(e){if(!Et.isDocumentKey(e))throw new rt(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function YC(e){if(Et.isDocumentKey(e))throw new rt(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function zm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Rt()}function mi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new rt(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zm(e);throw new rt(U.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function RH(e,t){if(t<=0)throw new rt(U.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new rt(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new rt(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}PH("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dO((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new rt(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new rt(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new rt(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Wm{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XC({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new rt(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new rt(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XC(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new q$;switch(i.type){case"firstParty":return new X$(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new rt(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=KC.get(n);i&&(et("ComponentProvider","Removing Datastore"),KC.delete(n),i.terminate())}(this),Promise.resolve()}}function kH(e,t,n,i={}){var s;const o=(e=mi(e,Wm))._getSettings(),a=`${t}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&Jl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),i.mockUserToken){let c,u;if(typeof i.mockUserToken=="string")c=i.mockUserToken,u=Fn.MOCK_USER;else{c=Kk(i.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new rt(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Fn(d)}e._authCredentials=new K$(new dD(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new mr(this.firestore,t,this._query)}}class qn{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new no(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qn(this.firestore,t,this._key)}}class no extends mr{constructor(t,n,i){super(t,n,Nm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qn(this.firestore,null,new Et(t))}withConverter(t){return new no(this.firestore,t,this._path)}}function Di(e,t,...n){if(e=It(e),fO("collection","path",t),e instanceof Wm){const i=Ae.fromString(t,...n);return YC(i),new no(e,null,i)}{if(!(e instanceof qn||e instanceof no))throw new rt(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Ae.fromString(t,...n));return YC(i),new no(e.firestore,null,i)}}function fo(e,t,...n){if(e=It(e),arguments.length===1&&(t=fD.newId()),fO("doc","path",t),e instanceof Wm){const i=Ae.fromString(t,...n);return GC(i),new qn(e,null,new Et(i))}{if(!(e instanceof qn||e instanceof no))throw new rt(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Ae.fromString(t,...n));return GC(i),new qn(e.firestore,e instanceof no?e.converter:null,new Et(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new YD(this,"async_queue_retry"),this.cu=()=>{const n=fv();n&&et("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const t=fv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.lu(),this.hu(t)}enterRestrictedMode(t){if(!this.iu){this.iu=!0,this.au=t||!1;const n=fv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(t){if(this.lu(),this.iu)return new Promise(()=>{});const n=new Ps;return this.hu(()=>this.iu&&this.au?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.ru.push(t),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(t){if(!Id(t))throw t;et("AsyncQueue","Operation failed with retryable error: "+t)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(t){const n=this.nu.then(()=>(this._u=!0,t().catch(i=>{this.ou=i,this._u=!1;const s=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(i);throw Ns("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this._u=!1,i))));return this.nu=n,n}enqueueAfterDelay(t,n,i){this.lu(),this.uu.indexOf(t)>-1&&(n=0);const s=Tw.createAndSchedule(this,t,n,i,o=>this.Iu(o));return this.su.push(s),s}lu(){this.ou&&Rt()}verifyOperationInProgress(){}async Tu(){let t;do t=this.nu,await t;while(t!==this.nu)}Eu(t){for(const n of this.su)if(n.timerId===t)return!0;return!1}du(t){return this.Tu().then(()=>{this.su.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.su)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tu()})}Au(t){this.uu.push(t)}Iu(t){const n=this.su.indexOf(t);this.su.splice(n,1)}}function QC(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of i)if(o in s&&typeof s[o]=="function")return!0;return!1}(e,["next","error","complete"])}class hr extends Wm{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=function(){return new xH}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||pO(this),this._firestoreClient.terminate()}}function dn(e,t){const n=typeof e=="object"?e:om(),i=typeof e=="string"?e:t||"(default)",s=hc(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=zk("firestore");o&&kH(s,...o)}return s}function qm(e){return e._firestoreClient||pO(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function pO(e){var t,n,i;const s=e._freezeSettings(),o=function(c,u,d,f){return new u7(c,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,dO(f.experimentalLongPollingOptions),f.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._firestoreClient=new EH(e._authCredentials,e._appCheckCredentials,e._queue,o),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new sc(Kn.fromBase64String(t))}catch(n){throw new rt(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new sc(Kn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new rt(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new rt(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new rt(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return re(this._lat,t._lat)||re(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DH=/^__.*__$/;class OH{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new vo(t,this.data,this.fieldMask,n,this.fieldTransforms):new Td(t,this.data,n,this.fieldTransforms)}}class gO{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new vo(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function mO(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt()}}class Mw{constructor(t,n,i,s,o,a){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Ru(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(t){return new Mw(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.mu({path:i,gu:!1});return s.pu(t),s}yu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.mu({path:i,gu:!1});return s.Ru(),s}wu(t){return this.mu({path:void 0,gu:!0})}Su(t){return Rg(t,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let t=0;t<this.path.length;t++)this.pu(this.path.get(t))}pu(t){if(t.length===0)throw this.Su("Document fields must not be empty");if(mO(this.Vu)&&DH.test(t))throw this.Su('Document fields cannot begin and end with "__"')}}class MH{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||jm(t)}Cu(t,n,i,s=!1){return new Mw({Vu:t,methodName:n,Du:i,path:xn.emptyPath(),gu:!1,bu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gm(e){const t=e._freezeSettings(),n=jm(e._databaseId);return new MH(e._databaseId,!!t.ignoreUndefinedProperties,n)}function _O(e,t,n,i,s,o={}){const a=e.Cu(o.merge||o.mergeFields?2:0,t,n,s);Nw("Data must be an object, but it was:",a,i);const c=yO(i,a);let u,d;if(o.merge)u=new ki(a.fieldMask),d=a.fieldTransforms;else if(o.mergeFields){const f=[];for(const g of o.mergeFields){const _=Cb(t,g,n);if(!a.contains(_))throw new rt(U.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);bO(f,_)||f.push(_)}u=new ki(f),d=a.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,d=a.fieldTransforms;return new OH(new di(c),u,d)}class Pd extends Dw{_toFieldTransform(t){if(t.Vu!==2)throw t.Vu===1?t.Su(`${this._methodName}() can only appear at the top level of your update data`):t.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Pd}}function NH(e,t,n,i){const s=e.Cu(1,t,n);Nw("Data must be an object, but it was:",s,i);const o=[],a=di.empty();Ca(i,(u,d)=>{const f=Lw(t,u,n);d=It(d);const g=s.yu(f);if(d instanceof Pd)o.push(f);else{const _=Rd(d,g);_!=null&&(o.push(f),a.set(f,_))}});const c=new ki(o);return new gO(a,c,s.fieldTransforms)}function LH(e,t,n,i,s,o){const a=e.Cu(1,t,n),c=[Cb(t,i,n)],u=[s];if(o.length%2!=0)throw new rt(U.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)c.push(Cb(t,o[_])),u.push(o[_+1]);const d=[],f=di.empty();for(let _=c.length-1;_>=0;--_)if(!bO(d,c[_])){const v=c[_];let I=u[_];I=It(I);const b=a.yu(v);if(I instanceof Pd)d.push(v);else{const w=Rd(I,b);w!=null&&(d.push(v),f.set(v,w))}}const g=new ki(d);return new gO(f,g,a.fieldTransforms)}function VH(e,t,n,i=!1){return Rd(n,e.Cu(i?4:3,t))}function Rd(e,t){if(vO(e=It(e)))return Nw("Unsupported field value:",t,e),yO(e,t);if(e instanceof Dw)return function(i,s){if(!mO(s.Vu))throw s.Su(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Su(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.gu&&t.Vu!==4)throw t.Su("Nested arrays are not supported");return function(i,s){const o=[];let a=0;for(const c of i){let u=Rd(c,s.wu(a));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),a++}return{arrayValue:{values:o}}}(e,t)}return function(i,s){if((i=It(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return x7(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=gn.fromDate(i);return{timestampValue:Ag(s.serializer,o)}}if(i instanceof gn){const o=new gn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ag(s.serializer,o)}}if(i instanceof Ow)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof sc)return{bytesValue:BD(s.serializer,i._byteString)};if(i instanceof qn){const o=s.databaseId,a=i.firestore._databaseId;if(!a.isEqual(o))throw s.Su(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:mw(i.firestore._databaseId||s.databaseId,i._key.path)}}throw s.Su(`Unsupported field value: ${zm(i)}`)}(e,t)}function yO(e,t){const n={};return pD(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ca(e,(i,s)=>{const o=Rd(s,t.fu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function vO(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof gn||e instanceof Ow||e instanceof sc||e instanceof qn||e instanceof Dw)}function Nw(e,t,n){if(!vO(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=zm(n);throw i==="an object"?t.Su(e+" a custom object"):t.Su(e+" "+i)}}function Cb(e,t,n){if((t=It(t))instanceof Km)return t._internalPath;if(typeof t=="string")return Lw(e,t);throw Rg("Field path arguments must be of type string or ",e,!1,void 0,n)}const FH=new RegExp("[~\\*/\\[\\]]");function Lw(e,t,n){if(t.search(FH)>=0)throw Rg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Km(...t.split("."))._internalPath}catch{throw Rg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Rg(e,t,n,i,s){const o=i&&!i.isEmpty(),a=s!==void 0;let c=`Function ${t}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||a)&&(u+=" (found",o&&(u+=` in field ${i}`),a&&(u+=` in document ${s}`),u+=")"),new rt(U.INVALID_ARGUMENT,c+e+u)}function bO(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(t,n,i,s,o){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new UH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Ym("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class UH extends wO{data(){return super.data()}}function Ym(e,t){return typeof t=="string"?Lw(e,t):t instanceof Km?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new rt(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vw{}class Fw extends Vw{}function Bl(e,t,...n){let i=[];t instanceof Vw&&i.push(t),i=i.concat(n),function(o){const a=o.filter(u=>u instanceof Uw).length,c=o.filter(u=>u instanceof Xm).length;if(a>1||a>0&&c>0)throw new rt(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)e=s._apply(e);return e}class Xm extends Fw{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new Xm(t,n,i)}_apply(t){const n=this._parse(t);return IO(t._query,n),new mr(t.firestore,t.converter,vb(t._query,n))}_parse(t){const n=Gm(t.firestore);return function(o,a,c,u,d,f,g){let _;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new rt(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){tP(g,f);const v=[];for(const I of g)v.push(ZC(u,o,I));_={arrayValue:{values:v}}}else _=ZC(u,o,g)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||tP(g,f),_=VH(c,a,g,f==="in"||f==="not-in");return un.create(d,f,_)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function cp(e,t,n){const i=t,s=Ym("where",e);return Xm._create(s,i,n)}class Uw extends Vw{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Uw(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:rs.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(s,o){let a=s;const c=o.getFlattenedFilters();for(const u of c)IO(a,u),a=vb(a,u)}(t._query,n),new mr(t.firestore,t.converter,vb(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bw extends Fw{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Bw(t,n)}_apply(t){const n=function(s,o,a){if(s.startAt!==null)throw new rt(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new rt(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gh(o,a)}(t._query,this._field,this._direction);return new mr(t.firestore,t.converter,function(s,o){const a=s.explicitOrderBy.concat([o]);return new vc(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(t._query,n))}}function jp(e,t="asc"){const n=t,i=Ym("orderBy",e);return Bw._create(i,n)}class jw extends Fw{constructor(t,n,i){super(),this.type=t,this._limit=n,this._limitType=i}static _create(t,n,i){return new jw(t,n,i)}_apply(t){return new mr(t.firestore,t.converter,Ig(t._query,this._limit,this._limitType))}}function JC(e){return RH("limit",e),jw._create("limit",e,"F")}function ZC(e,t,n){if(typeof(n=It(n))=="string"){if(n==="")throw new rt(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ID(t)&&n.indexOf("/")!==-1)throw new rt(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(Ae.fromString(n));if(!Et.isDocumentKey(i))throw new rt(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return bC(e,new Et(i))}if(n instanceof qn)return bC(e,n._key);throw new rt(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zm(n)}.`)}function tP(e,t){if(!Array.isArray(e)||e.length===0)throw new rt(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function IO(e,t){const n=function(s,o){for(const a of s)for(const c of a.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(e.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new rt(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class BH{convertValue(t,n="none"){switch(ya(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ln(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(_a(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Rt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Ca(t,(s,o)=>{i[s]=this.convertValue(o,n)}),i}convertGeoPoint(t){return new Ow(ln(t.latitude),ln(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=cw(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Wh(t));default:return null}}convertTimestamp(t){const n=uo(t);return new gn(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Ae.fromString(t);we(qD(i));const s=new qh(i.get(1),i.get(3)),o=new Et(i.popFirst(5));return s.isEqual(n)||Ns(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class SO extends wO{constructor(t,n,i,s,o,a){super(t,n,i,s,a),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new $p(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(Ym("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class $p extends SO{data(t={}){return super.data(t)}}class AO{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new Gu(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new $p(this._firestore,this._userDataWriter,i.key,i,new Gu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rt(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(c=>{const u=new $p(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Gu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const u=new $p(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Gu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,f=-1;return c.type!==0&&(d=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),f=a.indexOf(c.doc.key)),{type:jH(c.type),doc:u,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function jH(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $H(e){e=mi(e,qn);const t=mi(e.firestore,hr);return AH(qm(t),e._key).then(n=>PO(t,e,n))}class $w extends BH{constructor(t){super(),this.firestore=t}convertBytes(t){return new sc(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new qn(this.firestore,null,n)}}function or(e){e=mi(e,mr);const t=mi(e.firestore,hr),n=qm(t),i=new $w(t);return EO(e._query),CH(n,e._query).then(s=>new AO(t,i,e,s))}function HH(e,t,n){e=mi(e,qn);const i=mi(e.firestore,hr),s=TO(e.converter,t,n);return Jm(i,[_O(Gm(i),"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,ji.none())])}function Qm(e,t,n,...i){e=mi(e,qn);const s=mi(e.firestore,hr),o=Gm(s);let a;return a=typeof(t=It(t))=="string"||t instanceof Km?LH(o,"updateDoc",e._key,t,n,i):NH(o,"updateDoc",e._key,t),Jm(s,[a.toMutation(e._key,ji.exists(!0))])}function Hw(e){return Jm(mi(e.firestore,hr),[new fw(e._key,ji.none())])}function zw(e,t){const n=mi(e.firestore,hr),i=fo(e),s=TO(e.converter,t);return Jm(n,[_O(Gm(e.firestore),"addDoc",i._key,s,e.converter!==null,{}).toMutation(i._key,ji.exists(!1))]).then(()=>i)}function CO(e,...t){var n,i,s;e=It(e);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||QC(t[a])||(o=t[a],a++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(QC(t[a])){const g=t[a];t[a]=(n=g.next)===null||n===void 0?void 0:n.bind(g),t[a+1]=(i=g.error)===null||i===void 0?void 0:i.bind(g),t[a+2]=(s=g.complete)===null||s===void 0?void 0:s.bind(g)}let u,d,f;if(e instanceof qn)d=mi(e.firestore,hr),f=Nm(e._key.path),u={next:g=>{t[a]&&t[a](PO(d,e,g))},error:t[a+1],complete:t[a+2]};else{const g=mi(e,mr);d=mi(g.firestore,hr),f=g._query;const _=new $w(d);u={next:v=>{t[a]&&t[a](new AO(d,_,g,v))},error:t[a+1],complete:t[a+2]},EO(e._query)}return function(_,v,I,b){const w=new xw(b),T=new Rw(v,w,I);return _.asyncQueue.enqueueAndForget(async()=>Aw(await Pg(_),T)),()=>{w.Qa(),_.asyncQueue.enqueueAndForget(async()=>Cw(await Pg(_),T))}}(qm(d),f,c,u)}function Jm(e,t){return function(i,s){const o=new Ps;return i.asyncQueue.enqueueAndForget(async()=>fH(await SH(i),s,o)),o.promise}(qm(e),t)}function PO(e,t,n){const i=n.docs.get(t._key),s=new $w(e);return new SO(e,s,t._key,i,new Gu(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(){return new Pd("deleteField")}(function(t,n=!0){(function(s){yc=s})(fr),ar(new Os("firestore",(i,{instanceIdentifier:s,options:o})=>{const a=i.getProvider("app").getImmediate(),c=new hr(new G$(i.getProvider("auth-internal")),new J$(i.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new rt(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qh(d.options.projectId,f)}(a,s),a);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),gi(gC,"4.5.1",t),gi(gC,"4.5.1","esm2017")})();const zH={name:"loginPage",mounted(){const e=tC.AuthUI.getInstance()||new tC.AuthUI(pt.auth()),t=dn(),n={signInOptions:[pt.auth.GoogleAuthProvider.PROVIDER_ID,pt.auth.EmailAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:async i=>{console.log("Auth result:",i);const s=fo(t,"users",i.user.uid);console.log("Document Reference:",s);const o=await $H(s);return console.log("Document Snapshot Exists:",o.exists()),console.log("Document Data:",o.data()),i.additionalUserInfo.isNewUser||!o.exists()?(console.log("Setting new user data..."),HH(s,{email:i.user.email,createdAt:new Date},{merge:!0}).then(()=>{console.log("New user data set successfully."),this.$router.push("/dashboardPage")}).catch(a=>{console.error("Error initializing user data:",a)})):(console.log("User already exists, checking for missing email..."),o.data().email?(console.log("Redirecting to dashboard..."),this.$router.push("/dashboardPage")):(console.log("Updating email..."),Qm(s,{email:i.user.email}).then(()=>{console.log("Email updated successfully."),this.$router.push("/dashboardPage")}).catch(a=>{console.error("Error updating user data for new features:",a)}))),!1}}};e.start("#firebaseui-auth-container",n)}},WH=e=>(os("data-v-ed9f0e48"),e=e(),as(),e),qH={class:"login-container",style:{"text-align":"center"}},KH=WH(()=>P("div",{class:"word-container"},[P("h1",{id:"mainHead"},"Welcome to BudgetBuddy"),P("div",{id:"firebaseui-auth-container"}),P("div",{id:"pagecontent"},[wn(" BudgetBuddy is an app to track your budgets and expenditures. "),P("br"),wn(" Feel free to explore our application! ")])],-1)),GH=[KH];function YH(e,t,n,i,s,o){return wt(),Tt("div",qH,GH)}const XH=Le(zH,[["render",YH],["__scopeId","data-v-ed9f0e48"]]);var QH="firebase",JH="10.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi(QH,JH,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO="firebasestorage.googleapis.com",xO="storageBucket",ZH=2*60*1e3,tz=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye extends Hn{constructor(t,n,i=0){super(gv(t),`Firebase Storage: ${n} (${gv(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ye.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return gv(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qe;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qe||(qe={}));function gv(e){return"storage/"+e}function Ww(){const e="An unknown error occurred, please check the error payload for server response.";return new Ye(qe.UNKNOWN,e)}function ez(e){return new Ye(qe.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function nz(e){return new Ye(qe.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function iz(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ye(qe.UNAUTHENTICATED,e)}function sz(){return new Ye(qe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function rz(e){return new Ye(qe.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function oz(){return new Ye(qe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function az(){return new Ye(qe.CANCELED,"User canceled the upload/download.")}function lz(e){return new Ye(qe.INVALID_URL,"Invalid URL '"+e+"'.")}function cz(e){return new Ye(qe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function uz(){return new Ye(qe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+xO+"' property when initializing the app?")}function hz(){return new Ye(qe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function dz(){return new Ye(qe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function fz(e){return new Ye(qe.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Pb(e){return new Ye(qe.INVALID_ARGUMENT,e)}function DO(){return new Ye(qe.APP_DELETED,"The Firebase app was deleted.")}function pz(e){return new Ye(qe.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mh(e,t){return new Ye(qe.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Mu(e){throw new Ye(qe.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let i;try{i=xi.makeFromUrl(t,n)}catch{return new xi(t,"")}if(i.path==="")return i;throw cz(t)}static makeFromUrl(t,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function o(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const a="(/(.*))?$",c=new RegExp("^gs://"+s+a,"i"),u={bucket:1,path:3};function d(x){x.path_=decodeURIComponent(x.path)}const f="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",v=new RegExp(`^https?://${g}/${f}/b/${s}/o${_}`,"i"),I={bucket:1,path:3},b=n===kO?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",T=new RegExp(`^https?://${b}/${s}/${w}`,"i"),k=[{regex:c,indices:u,postModify:o},{regex:v,indices:I,postModify:d},{regex:T,indices:{bucket:1,path:2},postModify:d}];for(let x=0;x<k.length;x++){const D=k[x],M=D.regex.exec(t);if(M){const V=M[D.indices.bucket];let z=M[D.indices.path];z||(z=""),i=new xi(V,z),D.postModify(i);break}}if(i==null)throw lz(t);return i}}class gz{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mz(e,t,n){let i=1,s=null,o=null,a=!1,c=0;function u(){return c===2}let d=!1;function f(...w){d||(d=!0,t.apply(null,w))}function g(w){s=setTimeout(()=>{s=null,e(v,u())},w)}function _(){o&&clearTimeout(o)}function v(w,...T){if(d){_();return}if(w){_(),f.call(null,w,...T);return}if(u()||a){_(),f.call(null,w,...T);return}i<64&&(i*=2);let k;c===1?(c=2,k=0):k=(i+Math.random())*1e3,g(k)}let I=!1;function b(w){I||(I=!0,_(),!d&&(s!==null?(w||(c=2),clearTimeout(s),g(0)):w||(c=1)))}return g(0),o=setTimeout(()=>{a=!0,b(!0)},n),b}function _z(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yz(e){return e!==void 0}function vz(e){return typeof e=="object"&&!Array.isArray(e)}function qw(e){return typeof e=="string"||e instanceof String}function eP(e){return Kw()&&e instanceof Blob}function Kw(){return typeof Blob<"u"}function nP(e,t,n,i){if(i<t)throw Pb(`Invalid value for '${e}'. Expected ${t} or greater.`);if(i>n)throw Pb(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(e,t,n){let i=t;return n==null&&(i=`https://${t}`),`${n}://${i}/v0${e}`}function OO(e){const t=encodeURIComponent;let n="?";for(const i in e)if(e.hasOwnProperty(i)){const s=t(i)+"="+t(e[i]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var la;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(la||(la={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bz(e,t){const n=e>=500&&e<600,s=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(t,n,i,s,o,a,c,u,d,f,g,_=!0){this.url_=t,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=c,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=g,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,I)=>{this.resolve_=v,this.reject_=I,this.start_()})}start_(){const t=(i,s)=>{if(s){i(!1,new up(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=c=>{const u=c.loaded,d=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const c=o.getErrorCode()===la.NO_ERROR,u=o.getStatus();if(!c||bz(u,this.additionalRetryCodes_)&&this.retry){const f=o.getErrorCode()===la.ABORT;i(!1,new up(!1,null,f));return}const d=this.successCodes_.indexOf(u)!==-1;i(!0,new up(d,o))})},n=(i,s)=>{const o=this.resolve_,a=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());yz(u)?o(u):o()}catch(u){a(u)}else if(c!==null){const u=Ww();u.serverResponse=c.getErrorText(),this.errorCallback_?a(this.errorCallback_(c,u)):a(u)}else if(s.canceled){const u=this.appDelete_?DO():az();a(u)}else{const u=oz();a(u)}};this.canceled_?n(!1,new up(!1,null,!0)):this.backoffId_=mz(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&_z(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class up{constructor(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}}function Ez(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Iz(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Tz(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Sz(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Az(e,t,n,i,s,o,a=!0){const c=OO(e.urlParams),u=e.url+c,d=Object.assign({},e.headers);return Tz(d,t),Ez(d,n),Iz(d,o),Sz(d,i),new wz(u,e.method,d,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cz(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Pz(...e){const t=Cz();if(t!==void 0){const n=new t;for(let i=0;i<e.length;i++)n.append(e[i]);return n.getBlob()}else{if(Kw())return new Blob(e);throw new Ye(qe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Rz(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kz(e){if(typeof atob>"u")throw fz("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class mv{constructor(t,n){this.data=t,this.contentType=n||null}}function xz(e,t){switch(e){case Cs.RAW:return new mv(MO(t));case Cs.BASE64:case Cs.BASE64URL:return new mv(NO(e,t));case Cs.DATA_URL:return new mv(Oz(t),Mz(t))}throw Ww()}function MO(e){const t=[];for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const o=i,a=e.charCodeAt(++n);i=65536|(o&1023)<<10|a&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function Dz(e){let t;try{t=decodeURIComponent(e)}catch{throw mh(Cs.DATA_URL,"Malformed data URL.")}return MO(t)}function NO(e,t){switch(e){case Cs.BASE64:{const s=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(s||o)throw mh(e,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Cs.BASE64URL:{const s=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(s||o)throw mh(e,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=kz(t)}catch(s){throw s.message.includes("polyfill")?s:mh(e,"Invalid character found")}const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}class LO{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw mh(Cs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=Nz(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}function Oz(e){const t=new LO(e);return t.base64?NO(Cs.BASE64,t.rest):Dz(t.rest)}function Mz(e){return new LO(e).contentType}function Nz(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t,n){let i=0,s="";eP(t)?(this.data_=t,i=t.size,s=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(t,n){if(eP(this.data_)){const i=this.data_,s=Rz(i,t,n);return s===null?null:new qr(s)}else{const i=new Uint8Array(this.data_.buffer,t,n-t);return new qr(i,!0)}}static getBlob(...t){if(Kw()){const n=t.map(i=>i instanceof qr?i.data_:i);return new qr(Pz.apply(null,n))}else{const n=t.map(a=>qw(a)?xz(Cs.RAW,a).data:a.data_);let i=0;n.forEach(a=>{i+=a.byteLength});const s=new Uint8Array(i);let o=0;return n.forEach(a=>{for(let c=0;c<a.length;c++)s[o++]=a[c]}),new qr(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(e){let t;try{t=JSON.parse(e)}catch{return null}return vz(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lz(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function Vz(e,t){const n=t.split("/").filter(i=>i.length>0).join("/");return e.length===0?n:e+"/"+n}function FO(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fz(e,t){return t}class Zn{constructor(t,n,i,s){this.server=t,this.local=n||t,this.writable=!!i,this.xform=s||Fz}}let hp=null;function Uz(e){return!qw(e)||e.length<2?e:FO(e)}function UO(){if(hp)return hp;const e=[];e.push(new Zn("bucket")),e.push(new Zn("generation")),e.push(new Zn("metageneration")),e.push(new Zn("name","fullPath",!0));function t(o,a){return Uz(a)}const n=new Zn("name");n.xform=t,e.push(n);function i(o,a){return a!==void 0?Number(a):a}const s=new Zn("size");return s.xform=i,e.push(s),e.push(new Zn("timeCreated")),e.push(new Zn("updated")),e.push(new Zn("md5Hash",null,!0)),e.push(new Zn("cacheControl",null,!0)),e.push(new Zn("contentDisposition",null,!0)),e.push(new Zn("contentEncoding",null,!0)),e.push(new Zn("contentLanguage",null,!0)),e.push(new Zn("contentType",null,!0)),e.push(new Zn("metadata","customMetadata",!0)),hp=e,hp}function Bz(e,t){function n(){const i=e.bucket,s=e.fullPath,o=new xi(i,s);return t._makeStorageReference(o)}Object.defineProperty(e,"ref",{get:n})}function jz(e,t,n){const i={};i.type="file";const s=n.length;for(let o=0;o<s;o++){const a=n[o];i[a.local]=a.xform(i,t[a.server])}return Bz(i,e),i}function BO(e,t,n){const i=VO(t);return i===null?null:jz(e,i,n)}function $z(e,t,n,i){const s=VO(t);if(s===null||!qw(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(d=>{const f=e.bucket,g=e.fullPath,_="/b/"+a(f)+"/o/"+a(g),v=Gw(_,n,i),I=OO({alt:"media",token:d});return v+I})[0]}function Hz(e,t){const n={},i=t.length;for(let s=0;s<i;s++){const o=t[s];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}class jO{constructor(t,n,i,s){this.url=t,this.method=n,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(e){if(!e)throw Ww()}function zz(e,t){function n(i,s){const o=BO(e,s,t);return $O(o!==null),o}return n}function Wz(e,t){function n(i,s){const o=BO(e,s,t);return $O(o!==null),$z(o,s,e.host,e._protocol)}return n}function HO(e){function t(n,i){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=sz():s=iz():n.getStatus()===402?s=nz(e.bucket):n.getStatus()===403?s=rz(e.path):s=i,s.status=n.getStatus(),s.serverResponse=i.serverResponse,s}return t}function qz(e){const t=HO(e);function n(i,s){let o=t(i,s);return i.getStatus()===404&&(o=ez(e.path)),o.serverResponse=s.serverResponse,o}return n}function Kz(e,t,n){const i=t.fullServerUrl(),s=Gw(i,e.host,e._protocol),o="GET",a=e.maxOperationRetryTime,c=new jO(s,o,Wz(e,n),a);return c.errorHandler=qz(t),c}function Gz(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Yz(e,t,n){const i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=Gz(null,t)),i}function Xz(e,t,n,i,s){const o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function c(){let k="";for(let x=0;x<2;x++)k=k+Math.random().toString().slice(2);return k}const u=c();a["Content-Type"]="multipart/related; boundary="+u;const d=Yz(t,i,s),f=Hz(d,n),g="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,_=`\r
--`+u+"--",v=qr.getBlob(g,i,_);if(v===null)throw hz();const I={name:d.fullPath},b=Gw(o,e.host,e._protocol),w="POST",T=e.maxUploadRetryTime,S=new jO(b,w,zz(e,n),T);return S.urlParams=I,S.headers=a,S.body=v.uploadData(),S.errorHandler=HO(t),S}class Qz{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=la.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=la.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=la.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,i,s){if(this.sent_)throw Mu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Mu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Mu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class Jz extends Qz{initXhr(){this.xhr_.responseType="text"}}function zO(){return new Jz}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(t,n){this._service=t,n instanceof xi?this._location=n:this._location=xi.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new va(t,n)}get root(){const t=new xi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return FO(this._location.path)}get storage(){return this._service}get parent(){const t=Lz(this._location.path);if(t===null)return null;const n=new xi(this._location.bucket,t);return new va(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw pz(t)}}function Zz(e,t,n){e._throwIfRoot("uploadBytes");const i=Xz(e.storage,e._location,UO(),new qr(t,!0),n);return e.storage.makeRequestWithTokens(i,zO).then(s=>({metadata:s,ref:e}))}function tW(e){e._throwIfRoot("getDownloadURL");const t=Kz(e.storage,e._location,UO());return e.storage.makeRequestWithTokens(t,zO).then(n=>{if(n===null)throw dz();return n})}function eW(e,t){const n=Vz(e._location.path,t),i=new xi(e._location.bucket,n);return new va(e.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nW(e){return/^[A-Za-z]+:\/\//.test(e)}function iW(e,t){return new va(e,t)}function WO(e,t){if(e instanceof Yw){const n=e;if(n._bucket==null)throw uz();const i=new va(n,n._bucket);return t!=null?WO(i,t):i}else return t!==void 0?eW(e,t):e}function sW(e,t){if(t&&nW(t)){if(e instanceof Yw)return iW(e,t);throw Pb("To use ref(service, url), the first argument must be a Storage instance.")}else return WO(e,t)}function iP(e,t){const n=t==null?void 0:t[xO];return n==null?null:xi.makeFromBucketSpec(n,e)}function rW(e,t,n,i={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:s}=i;s&&(e._overrideAuthToken=typeof s=="string"?s:Kk(s,e.app.options.projectId))}class Yw{constructor(t,n,i,s,o){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=kO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ZH,this._maxUploadRetryTime=tz,this._requests=new Set,s!=null?this._bucket=xi.makeFromBucketSpec(s,this._host):this._bucket=iP(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=xi.makeFromBucketSpec(this._url,t):this._bucket=iP(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){nP("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){nP("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new va(this,t)}_makeRequest(t,n,i,s,o=!0){if(this._deleted)return new gz(DO());{const a=Az(t,this._appId,i,s,n,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(t,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,i,s).getPromise()}}const sP="@firebase/storage",rP="0.12.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO="storage";function oW(e,t,n){return e=It(e),Zz(e,t,n)}function aW(e){return e=It(e),tW(e)}function lW(e,t){return e=It(e),sW(e,t)}function KO(e=om(),t){e=It(e);const i=hc(e,qO).getImmediate({identifier:t}),s=zk("storage");return s&&cW(i,...s),i}function cW(e,t,n,i={}){rW(e,t,n,i)}function uW(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new Yw(n,i,s,t,fr)}function hW(){ar(new Os(qO,uW,"PUBLIC").setMultipleInstances(!0)),gi(sP,rP,""),gi(sP,rP,"esm2017")}hW();const dW={apiKey:"AIzaSyAN-vVW46wKoqjR2WfhKoc7G2KwbjSsb6k",authDomain:"budgetbuddy-190c9.firebaseapp.com",projectId:"budgetbuddy-190c9",storageBucket:"budgetbuddy-190c9.appspot.com",messagingSenderId:"923067373606",appId:"1:923067373606:web:fa85b8338713ccef936ee7",measurementId:"G-31CY8FVMSB"},Ot=rm(dW),fW=Yt(Ot);l6(fW,hd).then(()=>{console.log("Persistence set to local")}).catch(e=>{console.error("Error setting persistence:",e)});KO(Ot);const pW={name:"Logout",props:["user"],methods:{signOut(){const e=Yt();h6(e).then(()=>{this.$router.push("/")}).catch(t=>{console.error("Logout Error:",t)})}}};function gW(e,t,n,i,s,o){return n.user?(wt(),Tt("button",{key:0,id:"btn",onClick:t[0]||(t[0]=a=>o.signOut())},"Logout")):ii("",!0)}const _r=Le(pW,[["render",gW],["__scopeId","data-v-89c0cd67"]]),mW={name:"sidebar"},Fs=e=>(os("data-v-e9206936"),e=e(),as(),e),_W={class:"sidebar"},yW=Fs(()=>P("h2",null,"BudgetBuddy",-1)),vW={class:"menu"},bW=Fs(()=>P("ion-icon",{name:"list-circle"},null,-1)),wW=Fs(()=>P("ion-icon",{name:"analytics-outline"},null,-1)),EW=Fs(()=>P("ion-icon",{name:"card"},null,-1)),IW=Fs(()=>P("ion-icon",{name:"chatbubble-ellipses"},null,-1)),TW=Fs(()=>P("ion-icon",{name:"alarm"},null,-1)),SW=Fs(()=>P("ion-icon",{name:"calendar"},null,-1)),AW=Fs(()=>P("ion-icon",{name:"alarm"},null,-1)),CW=Fs(()=>P("ion-icon",{name:"chatbubble-ellipses"},null,-1)),PW=Fs(()=>P("ion-icon",{name:"person-circle"},null,-1));function RW(e,t,n,i,s,o){const a=qt("router-link");return wt(),Tt("div",_W,[yW,P("nav",null,[P("ul",vW,[P("li",{class:ei(["item",{active:e.$route.path==="/dashboardPage"}])},[bW,vt(a,{to:"/dashboardPage"},{default:ni(()=>[wn("Dashboard")]),_:1})],2),P("li",{class:ei(["item",{active:e.$route.path==="/analyticsPage"}])},[wW,vt(a,{to:"/analyticsPage"},{default:ni(()=>[wn("Analytics")]),_:1})],2),P("li",{class:ei(["item",{active:e.$route.path==="/addTransaction"}])},[EW,vt(a,{to:"/addTransaction"},{default:ni(()=>[wn("Add Transaction")]),_:1})],2),P("li",{class:ei(["item",{active:e.$route.path==="/addBudget"}])},[IW,vt(a,{to:"/addBudget"},{default:ni(()=>[wn("Add Budget")]),_:1})],2),P("li",{class:ei(["item",{active:e.$route.path==="/addScheduledTransaction"}])},[TW,vt(a,{to:"/addScheduledTransaction"},{default:ni(()=>[wn("Add Scheduled Transactions")]),_:1})],2),P("li",{class:ei(["item",{active:e.$route.path==="/transactionHistory"}])},[SW,vt(a,{to:"/transactionHistory"},{default:ni(()=>[wn("Transaction History")]),_:1})],2),P("li",{class:ei(["item",{active:e.$route.path==="/viewScheduledTransactions"}])},[AW,vt(a,{to:"/viewScheduledTransactions"},{default:ni(()=>[wn("View Scheduled Transactions")]),_:1})],2),P("li",{class:ei(["item",{active:e.$route.path==="/goalSetting"}])},[CW,vt(a,{to:"/goalSetting"},{default:ni(()=>[wn("View Budgets")]),_:1})],2),P("li",{class:ei(["item",{active:e.$route.path==="/userProfile"}])},[PW,vt(a,{to:"/userProfile"},{default:ni(()=>[wn("User Profile")]),_:1})],2)])])])}const Us=Le(mW,[["render",RW],["__scopeId","data-v-e9206936"]]);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function kd(e){return e+.5|0}const Yr=(e,t,n)=>Math.max(Math.min(e,n),t);function Yu(e){return Yr(kd(e*2.55),0,255)}function io(e){return Yr(kd(e*255),0,255)}function Xs(e){return Yr(kd(e/2.55)/100,0,1)}function oP(e){return Yr(kd(e*100),0,100)}const Vi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Rb=[..."0123456789ABCDEF"],kW=e=>Rb[e&15],xW=e=>Rb[(e&240)>>4]+Rb[e&15],dp=e=>(e&240)>>4===(e&15),DW=e=>dp(e.r)&&dp(e.g)&&dp(e.b)&&dp(e.a);function OW(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Vi[e[1]]*17,g:255&Vi[e[2]]*17,b:255&Vi[e[3]]*17,a:t===5?Vi[e[4]]*17:255}:(t===7||t===9)&&(n={r:Vi[e[1]]<<4|Vi[e[2]],g:Vi[e[3]]<<4|Vi[e[4]],b:Vi[e[5]]<<4|Vi[e[6]],a:t===9?Vi[e[7]]<<4|Vi[e[8]]:255})),n}const MW=(e,t)=>e<255?t(e):"";function NW(e){var t=DW(e)?kW:xW;return e?"#"+t(e.r)+t(e.g)+t(e.b)+MW(e.a,t):void 0}const LW=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function GO(e,t,n){const i=t*Math.min(n,1-n),s=(o,a=(o+e/30)%12)=>n-i*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function VW(e,t,n){const i=(s,o=(s+e/60)%6)=>n-n*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function FW(e,t,n){const i=GO(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function UW(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}function Xw(e){const n=e.r/255,i=e.g/255,s=e.b/255,o=Math.max(n,i,s),a=Math.min(n,i,s),c=(o+a)/2;let u,d,f;return o!==a&&(f=o-a,d=c>.5?f/(2-o-a):f/(o+a),u=UW(n,i,s,f,o),u=u*60+.5),[u|0,d||0,c]}function Qw(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(io)}function Jw(e,t,n){return Qw(GO,e,t,n)}function BW(e,t,n){return Qw(FW,e,t,n)}function jW(e,t,n){return Qw(VW,e,t,n)}function YO(e){return(e%360+360)%360}function $W(e){const t=LW.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?Yu(+t[5]):io(+t[5]));const s=YO(+t[2]),o=+t[3]/100,a=+t[4]/100;return t[1]==="hwb"?i=BW(s,o,a):t[1]==="hsv"?i=jW(s,o,a):i=Jw(s,o,a),{r:i[0],g:i[1],b:i[2],a:n}}function HW(e,t){var n=Xw(e);n[0]=YO(n[0]+t),n=Jw(n),e.r=n[0],e.g=n[1],e.b=n[2]}function zW(e){if(!e)return;const t=Xw(e),n=t[0],i=oP(t[1]),s=oP(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${s}%, ${Xs(e.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const aP={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},lP={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function WW(){const e={},t=Object.keys(lP),n=Object.keys(aP);let i,s,o,a,c;for(i=0;i<t.length;i++){for(a=c=t[i],s=0;s<n.length;s++)o=n[s],c=c.replace(o,aP[o]);o=parseInt(lP[a],16),e[c]=[o>>16&255,o>>8&255,o&255]}return e}let fp;function qW(e){fp||(fp=WW(),fp.transparent=[0,0,0,0]);const t=fp[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const KW=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function GW(e){const t=KW.exec(e);let n=255,i,s,o;if(t){if(t[7]!==i){const a=+t[7];n=t[8]?Yu(a):Yr(a*255,0,255)}return i=+t[1],s=+t[3],o=+t[5],i=255&(t[2]?Yu(i):Yr(i,0,255)),s=255&(t[4]?Yu(s):Yr(s,0,255)),o=255&(t[6]?Yu(o):Yr(o,0,255)),{r:i,g:s,b:o,a:n}}}function YW(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Xs(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const _v=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,yl=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function XW(e,t,n){const i=yl(Xs(e.r)),s=yl(Xs(e.g)),o=yl(Xs(e.b));return{r:io(_v(i+n*(yl(Xs(t.r))-i))),g:io(_v(s+n*(yl(Xs(t.g))-s))),b:io(_v(o+n*(yl(Xs(t.b))-o))),a:e.a+n*(t.a-e.a)}}function pp(e,t,n){if(e){let i=Xw(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=Jw(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function XO(e,t){return e&&Object.assign(t||{},e)}function cP(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=io(e[3]))):(t=XO(e,{r:0,g:0,b:0,a:1}),t.a=io(t.a)),t}function QW(e){return e.charAt(0)==="r"?GW(e):$W(e)}class Qh{constructor(t){if(t instanceof Qh)return t;const n=typeof t;let i;n==="object"?i=cP(t):n==="string"&&(i=OW(t)||qW(t)||QW(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=XO(this._rgb);return t&&(t.a=Xs(t.a)),t}set rgb(t){this._rgb=cP(t)}rgbString(){return this._valid?YW(this._rgb):void 0}hexString(){return this._valid?NW(this._rgb):void 0}hslString(){return this._valid?zW(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,s=t.rgb;let o;const a=n===o?.5:n,c=2*a-1,u=i.a-s.a,d=((c*u===-1?c:(c+u)/(1+c*u))+1)/2;o=1-d,i.r=255&d*i.r+o*s.r+.5,i.g=255&d*i.g+o*s.g+.5,i.b=255&d*i.b+o*s.b+.5,i.a=a*i.a+(1-a)*s.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=XW(this._rgb,t._rgb,n)),this}clone(){return new Qh(this.rgb)}alpha(t){return this._rgb.a=io(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=kd(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return pp(this._rgb,2,t),this}darken(t){return pp(this._rgb,2,-t),this}saturate(t){return pp(this._rgb,1,t),this}desaturate(t){return pp(this._rgb,1,-t),this}rotate(t){return HW(this._rgb,t),this}}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Ks(){}const JW=(()=>{let e=0;return()=>e++})();function ee(e){return e===null||typeof e>"u"}function Ce(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Wt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function $e(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Si(e,t){return $e(e)?e:t}function Lt(e,t){return typeof e>"u"?t:e}const ZW=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,QO=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function be(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function de(e,t,n,i){let s,o,a;if(Ce(e))if(o=e.length,i)for(s=o-1;s>=0;s--)t.call(n,e[s],s);else for(s=0;s<o;s++)t.call(n,e[s],s);else if(Wt(e))for(a=Object.keys(e),o=a.length,s=0;s<o;s++)t.call(n,e[a[s]],a[s])}function kg(e,t){let n,i,s,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],o=t[n],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function xg(e){if(Ce(e))return e.map(xg);if(Wt(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=xg(e[n[s]]);return t}return e}function JO(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function tq(e,t,n,i){if(!JO(e))return;const s=t[e],o=n[e];Wt(s)&&Wt(o)?Jh(s,o,i):t[e]=xg(o)}function Jh(e,t,n){const i=Ce(t)?t:[t],s=i.length;if(!Wt(e))return e;n=n||{};const o=n.merger||tq;let a;for(let c=0;c<s;++c){if(a=i[c],!Wt(a))continue;const u=Object.keys(a);for(let d=0,f=u.length;d<f;++d)o(u[d],e,a,n)}return e}function _h(e,t){return Jh(e,t,{merger:eq})}function eq(e,t,n){if(!JO(e))return;const i=t[e],s=n[e];Wt(i)&&Wt(s)?_h(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=xg(s))}const uP={"":e=>e,x:e=>e.x,y:e=>e.y};function nq(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function iq(e){const t=nq(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function po(e,t){return(uP[t]||(uP[t]=iq(t)))(e)}function Zw(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Zh=e=>typeof e<"u",go=e=>typeof e=="function",hP=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function sq(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Re=Math.PI,Pe=2*Re,rq=Pe+Re,Dg=Number.POSITIVE_INFINITY,oq=Re/180,tn=Re/2,Bo=Re/4,dP=Re*2/3,Xr=Math.log10,xs=Math.sign;function yh(e,t,n){return Math.abs(e-t)<n}function fP(e){const t=Math.round(e);e=yh(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Xr(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function aq(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((s,o)=>s-o).pop(),t}function rc(e){return!isNaN(parseFloat(e))&&isFinite(e)}function lq(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function ZO(e,t,n){let i,s,o;for(i=0,s=e.length;i<s;i++)o=e[i][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Zi(e){return e*(Re/180)}function t1(e){return e*(180/Re)}function pP(e){if(!$e(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function tM(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let o=Math.atan2(i,n);return o<-.5*Re&&(o+=Pe),{angle:o,distance:s}}function kb(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function cq(e,t){return(e-t+rq)%Pe-Re}function Ai(e){return(e%Pe+Pe)%Pe}function td(e,t,n,i){const s=Ai(e),o=Ai(t),a=Ai(n),c=Ai(o-s),u=Ai(a-s),d=Ai(s-o),f=Ai(s-a);return s===o||s===a||i&&o===a||c>u&&d<f}function In(e,t,n){return Math.max(t,Math.min(n,e))}function uq(e){return In(e,-32768,32767)}function tr(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function e1(e,t,n){n=n||(a=>e[a]<t);let i=e.length-1,s=0,o;for(;i-s>1;)o=s+i>>1,n(o)?s=o:i=o;return{lo:s,hi:i}}const er=(e,t,n,i)=>e1(e,n,i?s=>{const o=e[s][t];return o<n||o===n&&e[s+1][t]===n}:s=>e[s][t]<n),hq=(e,t,n)=>e1(e,n,i=>e[i][t]>=n);function dq(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}const eM=["push","pop","shift","splice","unshift"];function fq(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),eM.forEach(n=>{const i="_onData"+Zw(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...o){const a=s.apply(this,o);return e._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...o)}),a}})})}function gP(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(eM.forEach(o=>{delete e[o]}),delete e._chartjs)}function nM(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const iM=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function sM(e,t){let n=[],i=!1;return function(...s){n=s,i||(i=!0,iM.call(window,()=>{i=!1,e.apply(t,n)}))}}function pq(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const n1=e=>e==="start"?"left":e==="end"?"right":"center",Vn=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,gq=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function rM(e,t,n){const i=t.length;let s=0,o=i;if(e._sorted){const{iScale:a,_parsed:c}=e,u=a.axis,{min:d,max:f,minDefined:g,maxDefined:_}=a.getUserBounds();g&&(s=In(Math.min(er(c,u,d).lo,n?i:er(t,u,a.getPixelForValue(d)).lo),0,i-1)),_?o=In(Math.max(er(c,a.axis,f,!0).hi+1,n?0:er(t,u,a.getPixelForValue(f),!0).hi+1),s,i)-s:o=i-s}return{start:s,count:o}}function oM(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=s,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),o}const gp=e=>e===0||e===1,mP=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Pe/n)),_P=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Pe/n)+1,vh={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*tn)+1,easeOutSine:e=>Math.sin(e*tn),easeInOutSine:e=>-.5*(Math.cos(Re*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>gp(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>gp(e)?e:mP(e,.075,.3),easeOutElastic:e=>gp(e)?e:_P(e,.075,.3),easeInOutElastic(e){return gp(e)?e:e<.5?.5*mP(e*2,.1125,.45):.5+.5*_P(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-vh.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?vh.easeInBounce(e*2)*.5:vh.easeOutBounce(e*2-1)*.5+.5};function i1(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function yP(e){return i1(e)?e:new Qh(e)}function yv(e){return i1(e)?e:new Qh(e).saturate(.5).darken(.1).hexString()}const mq=["x","y","borderWidth","radius","tension"],_q=["color","borderColor","backgroundColor"];function yq(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:_q},numbers:{type:"number",properties:mq}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function vq(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const vP=new Map;function bq(e,t){t=t||{};const n=e+JSON.stringify(t);let i=vP.get(n);return i||(i=new Intl.NumberFormat(e,t),vP.set(n,i)),i}function xd(e,t,n){return bq(t,n).format(e)}const aM={values(e){return Ce(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let s,o=e;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),o=wq(e,n)}const a=Xr(Math.abs(o)),c=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),u={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),xd(e,i,u)},logarithmic(e,t,n){if(e===0)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(Xr(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?aM.numeric.call(this,e,t,n):""}};function wq(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Zm={formatters:aM};function Eq(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Zm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ba=Object.create(null),xb=Object.create(null);function bh(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const o=n[i];e=e[o]||(e[o]=Object.create(null))}return e}function vv(e,t,n){return typeof t=="string"?Jh(bh(e,t),n):Jh(bh(e,""),t)}class Iq{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>yv(s.backgroundColor),this.hoverBorderColor=(i,s)=>yv(s.borderColor),this.hoverColor=(i,s)=>yv(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return vv(this,t,n)}get(t){return bh(this,t)}describe(t,n){return vv(xb,t,n)}override(t,n){return vv(ba,t,n)}route(t,n,i,s){const o=bh(this,t),a=bh(this,i),c="_"+n;Object.defineProperties(o,{[c]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[c],d=a[s];return Wt(u)?Object.assign({},d,u):Lt(u,d)},set(u){this[c]=u}}})}apply(t){t.forEach(n=>n(this))}}var He=new Iq({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[yq,vq,Eq]);function Tq(e){return!e||ee(e.size)||ee(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Og(e,t,n,i,s){let o=t[s];return o||(o=t[s]=e.measureText(s).width,n.push(s)),o>i&&(i=o),i}function Sq(e,t,n,i){i=i||{};let s=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},o=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let a=0;const c=n.length;let u,d,f,g,_;for(u=0;u<c;u++)if(g=n[u],g!=null&&!Ce(g))a=Og(e,s,o,a,g);else if(Ce(g))for(d=0,f=g.length;d<f;d++)_=g[d],_!=null&&!Ce(_)&&(a=Og(e,s,o,a,_));e.restore();const v=o.length/2;if(v>n.length){for(u=0;u<v;u++)delete s[o[u]];o.splice(0,v)}return a}function jo(e,t,n){const i=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function bP(e,t){t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function Db(e,t,n,i){lM(e,t,n,i,null)}function lM(e,t,n,i,s){let o,a,c,u,d,f,g,_;const v=t.pointStyle,I=t.rotation,b=t.radius;let w=(I||0)*oq;if(v&&typeof v=="object"&&(o=v.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(w),e.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),e.restore();return}if(!(isNaN(b)||b<=0)){switch(e.beginPath(),v){default:s?e.ellipse(n,i,s/2,b,0,0,Pe):e.arc(n,i,b,0,Pe),e.closePath();break;case"triangle":f=s?s/2:b,e.moveTo(n+Math.sin(w)*f,i-Math.cos(w)*b),w+=dP,e.lineTo(n+Math.sin(w)*f,i-Math.cos(w)*b),w+=dP,e.lineTo(n+Math.sin(w)*f,i-Math.cos(w)*b),e.closePath();break;case"rectRounded":d=b*.516,u=b-d,a=Math.cos(w+Bo)*u,g=Math.cos(w+Bo)*(s?s/2-d:u),c=Math.sin(w+Bo)*u,_=Math.sin(w+Bo)*(s?s/2-d:u),e.arc(n-g,i-c,d,w-Re,w-tn),e.arc(n+_,i-a,d,w-tn,w),e.arc(n+g,i+c,d,w,w+tn),e.arc(n-_,i+a,d,w+tn,w+Re),e.closePath();break;case"rect":if(!I){u=Math.SQRT1_2*b,f=s?s/2:u,e.rect(n-f,i-u,2*f,2*u);break}w+=Bo;case"rectRot":g=Math.cos(w)*(s?s/2:b),a=Math.cos(w)*b,c=Math.sin(w)*b,_=Math.sin(w)*(s?s/2:b),e.moveTo(n-g,i-c),e.lineTo(n+_,i-a),e.lineTo(n+g,i+c),e.lineTo(n-_,i+a),e.closePath();break;case"crossRot":w+=Bo;case"cross":g=Math.cos(w)*(s?s/2:b),a=Math.cos(w)*b,c=Math.sin(w)*b,_=Math.sin(w)*(s?s/2:b),e.moveTo(n-g,i-c),e.lineTo(n+g,i+c),e.moveTo(n+_,i-a),e.lineTo(n-_,i+a);break;case"star":g=Math.cos(w)*(s?s/2:b),a=Math.cos(w)*b,c=Math.sin(w)*b,_=Math.sin(w)*(s?s/2:b),e.moveTo(n-g,i-c),e.lineTo(n+g,i+c),e.moveTo(n+_,i-a),e.lineTo(n-_,i+a),w+=Bo,g=Math.cos(w)*(s?s/2:b),a=Math.cos(w)*b,c=Math.sin(w)*b,_=Math.sin(w)*(s?s/2:b),e.moveTo(n-g,i-c),e.lineTo(n+g,i+c),e.moveTo(n+_,i-a),e.lineTo(n-_,i+a);break;case"line":a=s?s/2:Math.cos(w)*b,c=Math.sin(w)*b,e.moveTo(n-a,i-c),e.lineTo(n+a,i+c);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(w)*(s?s/2:b),i+Math.sin(w)*b);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function nr(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function t_(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function e_(e){e.restore()}function Aq(e,t,n,i,s){if(!t)return e.lineTo(n.x,n.y);if(s==="middle"){const o=(t.x+n.x)/2;e.lineTo(o,t.y),e.lineTo(o,n.y)}else s==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Cq(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function Pq(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),ee(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function Rq(e,t,n,i,s){if(s.strikethrough||s.underline){const o=e.measureText(i),a=t-o.actualBoundingBoxLeft,c=t+o.actualBoundingBoxRight,u=n-o.actualBoundingBoxAscent,d=n+o.actualBoundingBoxDescent,f=s.strikethrough?(u+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(a,f),e.lineTo(c,f),e.stroke()}}function kq(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function wa(e,t,n,i,s,o={}){const a=Ce(t)?t:[t],c=o.strokeWidth>0&&o.strokeColor!=="";let u,d;for(e.save(),e.font=s.string,Pq(e,o),u=0;u<a.length;++u)d=a[u],o.backdrop&&kq(e,o.backdrop),c&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),ee(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(d,n,i,o.maxWidth)),e.fillText(d,n,i,o.maxWidth),Rq(e,n,i,d,o),i+=Number(s.lineHeight);e.restore()}function ed(e,t){const{x:n,y:i,w:s,h:o,radius:a}=t;e.arc(n+a.topLeft,i+a.topLeft,a.topLeft,1.5*Re,Re,!0),e.lineTo(n,i+o-a.bottomLeft),e.arc(n+a.bottomLeft,i+o-a.bottomLeft,a.bottomLeft,Re,tn,!0),e.lineTo(n+s-a.bottomRight,i+o),e.arc(n+s-a.bottomRight,i+o-a.bottomRight,a.bottomRight,tn,0,!0),e.lineTo(n+s,i+a.topRight),e.arc(n+s-a.topRight,i+a.topRight,a.topRight,0,-tn,!0),e.lineTo(n+a.topLeft,i)}const xq=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Dq=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Oq(e,t){const n=(""+e).match(xq);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const Mq=e=>+e||0;function s1(e,t){const n={},i=Wt(t),s=i?Object.keys(t):t,o=Wt(e)?i?a=>Lt(e[a],e[t[a]]):a=>e[a]:()=>e;for(const a of s)n[a]=Mq(o(a));return n}function cM(e){return s1(e,{top:"y",right:"x",bottom:"y",left:"x"})}function ca(e){return s1(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Gn(e){const t=cM(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function fn(e,t){e=e||{},t=t||He.font;let n=Lt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=Lt(e.style,t.style);i&&!(""+i).match(Dq)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:Lt(e.family,t.family),lineHeight:Oq(Lt(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:Lt(e.weight,t.weight),string:""};return s.string=Tq(s),s}function Xu(e,t,n,i){let s=!0,o,a,c;for(o=0,a=e.length;o<a;++o)if(c=e[o],c!==void 0&&(t!==void 0&&typeof c=="function"&&(c=c(t),s=!1),n!==void 0&&Ce(c)&&(c=c[n%c.length],s=!1),c!==void 0))return i&&!s&&(i.cacheable=!1),c}function Nq(e,t,n){const{min:i,max:s}=e,o=QO(t,(s-i)/2),a=(c,u)=>n&&c===0?0:c+u;return{min:a(i,-Math.abs(o)),max:a(s,o)}}function bo(e,t){return Object.assign(Object.create(e),t)}function r1(e,t=[""],n,i,s=()=>e[0]){const o=n||e;typeof i>"u"&&(i=fM("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:i,_getTarget:s,override:c=>r1([c,...e],t,o,i)};return new Proxy(a,{deleteProperty(c,u){return delete c[u],delete c._keys,delete e[0][u],!0},get(c,u){return hM(c,u,()=>Hq(u,t,e,c))},getOwnPropertyDescriptor(c,u){return Reflect.getOwnPropertyDescriptor(c._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(c,u){return EP(c).includes(u)},ownKeys(c){return EP(c)},set(c,u,d){const f=c._storage||(c._storage=s());return c[u]=f[u]=d,delete c._keys,!0}})}function oc(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:uM(e,i),setContext:o=>oc(e,o,n,i),override:o=>oc(e.override(o),t,n,i)};return new Proxy(s,{deleteProperty(o,a){return delete o[a],delete e[a],!0},get(o,a,c){return hM(o,a,()=>Vq(o,a,c))},getOwnPropertyDescriptor(o,a){return o._descriptors.allKeys?Reflect.has(e,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,a)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,a){return Reflect.has(e,a)},ownKeys(){return Reflect.ownKeys(e)},set(o,a,c){return e[a]=c,delete o[a],!0}})}function uM(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:go(n)?n:()=>n,isIndexable:go(i)?i:()=>i}}const Lq=(e,t)=>e?e+Zw(t):t,o1=(e,t)=>Wt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function hM(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const i=n();return e[t]=i,i}function Vq(e,t,n){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=e;let c=i[t];return go(c)&&a.isScriptable(t)&&(c=Fq(t,c,e,n)),Ce(c)&&c.length&&(c=Uq(t,c,e,a.isIndexable)),o1(t,c)&&(c=oc(c,s,o&&o[t],a)),c}function Fq(e,t,n,i){const{_proxy:s,_context:o,_subProxy:a,_stack:c}=n;if(c.has(e))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+e);c.add(e);let u=t(o,a||i);return c.delete(e),o1(e,u)&&(u=a1(s._scopes,s,e,u)),u}function Uq(e,t,n,i){const{_proxy:s,_context:o,_subProxy:a,_descriptors:c}=n;if(typeof o.index<"u"&&i(e))return t[o.index%t.length];if(Wt(t[0])){const u=t,d=s._scopes.filter(f=>f!==u);t=[];for(const f of u){const g=a1(d,s,e,f);t.push(oc(g,o,a&&a[e],c))}}return t}function dM(e,t,n){return go(e)?e(t,n):e}const Bq=(e,t)=>e===!0?t:typeof e=="string"?po(t,e):void 0;function jq(e,t,n,i,s){for(const o of t){const a=Bq(n,o);if(a){e.add(a);const c=dM(a._fallback,n,s);if(typeof c<"u"&&c!==n&&c!==i)return c}else if(a===!1&&typeof i<"u"&&n!==i)return null}return!1}function a1(e,t,n,i){const s=t._rootScopes,o=dM(t._fallback,n,i),a=[...e,...s],c=new Set;c.add(i);let u=wP(c,a,n,o||n,i);return u===null||typeof o<"u"&&o!==n&&(u=wP(c,a,o,u,i),u===null)?!1:r1(Array.from(c),[""],s,o,()=>$q(t,n,i))}function wP(e,t,n,i,s){for(;n;)n=jq(e,t,n,i,s);return n}function $q(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];return Ce(s)&&Wt(n)?n:s||{}}function Hq(e,t,n,i){let s;for(const o of t)if(s=fM(Lq(o,e),n),typeof s<"u")return o1(e,s)?a1(n,i,e,s):s}function fM(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function EP(e){let t=e._keys;return t||(t=e._keys=zq(e._scopes)),t}function zq(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function pM(e,t,n,i){const{iScale:s}=e,{key:o="r"}=this._parsing,a=new Array(i);let c,u,d,f;for(c=0,u=i;c<u;++c)d=c+n,f=t[d],a[c]={r:s.parse(po(f,o),d)};return a}const Wq=Number.EPSILON||1e-14,ac=(e,t)=>t<e.length&&!e[t].skip&&e[t],gM=e=>e==="x"?"y":"x";function qq(e,t,n,i){const s=e.skip?t:e,o=t,a=n.skip?t:n,c=kb(o,s),u=kb(a,o);let d=c/(c+u),f=u/(c+u);d=isNaN(d)?0:d,f=isNaN(f)?0:f;const g=i*d,_=i*f;return{previous:{x:o.x-g*(a.x-s.x),y:o.y-g*(a.y-s.y)},next:{x:o.x+_*(a.x-s.x),y:o.y+_*(a.y-s.y)}}}function Kq(e,t,n){const i=e.length;let s,o,a,c,u,d=ac(e,0);for(let f=0;f<i-1;++f)if(u=d,d=ac(e,f+1),!(!u||!d)){if(yh(t[f],0,Wq)){n[f]=n[f+1]=0;continue}s=n[f]/t[f],o=n[f+1]/t[f],c=Math.pow(s,2)+Math.pow(o,2),!(c<=9)&&(a=3/Math.sqrt(c),n[f]=s*a*t[f],n[f+1]=o*a*t[f])}}function Gq(e,t,n="x"){const i=gM(n),s=e.length;let o,a,c,u=ac(e,0);for(let d=0;d<s;++d){if(a=c,c=u,u=ac(e,d+1),!c)continue;const f=c[n],g=c[i];a&&(o=(f-a[n])/3,c[`cp1${n}`]=f-o,c[`cp1${i}`]=g-o*t[d]),u&&(o=(u[n]-f)/3,c[`cp2${n}`]=f+o,c[`cp2${i}`]=g+o*t[d])}}function Yq(e,t="x"){const n=gM(t),i=e.length,s=Array(i).fill(0),o=Array(i);let a,c,u,d=ac(e,0);for(a=0;a<i;++a)if(c=u,u=d,d=ac(e,a+1),!!u){if(d){const f=d[t]-u[t];s[a]=f!==0?(d[n]-u[n])/f:0}o[a]=c?d?xs(s[a-1])!==xs(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}Kq(e,s,o),Gq(e,o,t)}function mp(e,t,n){return Math.max(Math.min(e,n),t)}function Xq(e,t){let n,i,s,o,a,c=nr(e[0],t);for(n=0,i=e.length;n<i;++n)a=o,o=c,c=n<i-1&&nr(e[n+1],t),o&&(s=e[n],a&&(s.cp1x=mp(s.cp1x,t.left,t.right),s.cp1y=mp(s.cp1y,t.top,t.bottom)),c&&(s.cp2x=mp(s.cp2x,t.left,t.right),s.cp2y=mp(s.cp2y,t.top,t.bottom)))}function Qq(e,t,n,i,s){let o,a,c,u;if(t.spanGaps&&(e=e.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")Yq(e,s);else{let d=i?e[e.length-1]:e[0];for(o=0,a=e.length;o<a;++o)c=e[o],u=qq(d,c,e[Math.min(o+1,a-(i?0:1))%a],t.tension),c.cp1x=u.previous.x,c.cp1y=u.previous.y,c.cp2x=u.next.x,c.cp2y=u.next.y,d=c}t.capBezierPoints&&Xq(e,n)}function l1(){return typeof window<"u"&&typeof document<"u"}function c1(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Mg(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const n_=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function Jq(e,t){return n_(e).getPropertyValue(t)}const Zq=["top","right","bottom","left"];function ua(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const o=Zq[s];i[o]=parseFloat(e[t+"-"+o+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const tK=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function eK(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:o}=i;let a=!1,c,u;if(tK(s,o,e.target))c=s,u=o;else{const d=t.getBoundingClientRect();c=i.clientX-d.left,u=i.clientY-d.top,a=!0}return{x:c,y:u,box:a}}function Wo(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=n_(n),o=s.boxSizing==="border-box",a=ua(s,"padding"),c=ua(s,"border","width"),{x:u,y:d,box:f}=eK(e,n),g=a.left+(f&&c.left),_=a.top+(f&&c.top);let{width:v,height:I}=t;return o&&(v-=a.width+c.width,I-=a.height+c.height),{x:Math.round((u-g)/v*n.width/i),y:Math.round((d-_)/I*n.height/i)}}function nK(e,t,n){let i,s;if(t===void 0||n===void 0){const o=c1(e);if(!o)t=e.clientWidth,n=e.clientHeight;else{const a=o.getBoundingClientRect(),c=n_(o),u=ua(c,"border","width"),d=ua(c,"padding");t=a.width-d.width-u.width,n=a.height-d.height-u.height,i=Mg(c.maxWidth,o,"clientWidth"),s=Mg(c.maxHeight,o,"clientHeight")}}return{width:t,height:n,maxWidth:i||Dg,maxHeight:s||Dg}}const _p=e=>Math.round(e*10)/10;function iK(e,t,n,i){const s=n_(e),o=ua(s,"margin"),a=Mg(s.maxWidth,e,"clientWidth")||Dg,c=Mg(s.maxHeight,e,"clientHeight")||Dg,u=nK(e,t,n);let{width:d,height:f}=u;if(s.boxSizing==="content-box"){const _=ua(s,"border","width"),v=ua(s,"padding");d-=v.width+_.width,f-=v.height+_.height}return d=Math.max(0,d-o.width),f=Math.max(0,i?d/i:f-o.height),d=_p(Math.min(d,a,u.maxWidth)),f=_p(Math.min(f,c,u.maxHeight)),d&&!f&&(f=_p(d/2)),(t!==void 0||n!==void 0)&&i&&u.height&&f>u.height&&(f=u.height,d=_p(Math.floor(f*i))),{width:d,height:f}}function IP(e,t,n){const i=t||1,s=Math.floor(e.height*i),o=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||a.height!==s||a.width!==o?(e.currentDevicePixelRatio=i,a.height=s,a.width=o,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const sK=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};l1()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function TP(e,t){const n=Jq(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function qo(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function rK(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function oK(e,t,n,i){const s={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},a=qo(e,s,n),c=qo(s,o,n),u=qo(o,t,n),d=qo(a,c,n),f=qo(c,u,n);return qo(d,f,n)}const aK=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},lK=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function jl(e,t,n){return e?aK(t,n):lK()}function mM(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function _M(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function yM(e){return e==="angle"?{between:td,compare:cq,normalize:Ai}:{between:tr,compare:(t,n)=>t-n,normalize:t=>t}}function SP({start:e,end:t,count:n,loop:i,style:s}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:s}}function cK(e,t,n){const{property:i,start:s,end:o}=n,{between:a,normalize:c}=yM(i),u=t.length;let{start:d,end:f,loop:g}=e,_,v;if(g){for(d+=u,f+=u,_=0,v=u;_<v&&a(c(t[d%u][i]),s,o);++_)d--,f--;d%=u,f%=u}return f<d&&(f+=u),{start:d,end:f,loop:g,style:e.style}}function vM(e,t,n){if(!n)return[e];const{property:i,start:s,end:o}=n,a=t.length,{compare:c,between:u,normalize:d}=yM(i),{start:f,end:g,loop:_,style:v}=cK(e,t,n),I=[];let b=!1,w=null,T,S,k;const x=()=>u(s,k,T)&&c(s,k)!==0,D=()=>c(o,T)===0||u(o,k,T),M=()=>b||x(),V=()=>!b||D();for(let z=f,st=f;z<=g;++z)S=t[z%a],!S.skip&&(T=d(S[i]),T!==k&&(b=u(T,s,o),w===null&&M()&&(w=c(T,s)===0?z:st),w!==null&&V()&&(I.push(SP({start:w,end:z,loop:_,count:a,style:v})),w=null),st=z,k=T));return w!==null&&I.push(SP({start:w,end:g,loop:_,count:a,style:v})),I}function bM(e,t){const n=[],i=e.segments;for(let s=0;s<i.length;s++){const o=vM(i[s],e.points,t);o.length&&n.push(...o)}return n}function uK(e,t,n,i){let s=0,o=t-1;if(n&&!i)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(o+=s);o>s&&e[o%t].skip;)o--;return o%=t,{start:s,end:o}}function hK(e,t,n,i){const s=e.length,o=[];let a=t,c=e[t],u;for(u=t+1;u<=n;++u){const d=e[u%s];d.skip||d.stop?c.skip||(i=!1,o.push({start:t%s,end:(u-1)%s,loop:i}),t=a=d.stop?u:null):(a=u,c.skip&&(t=u)),c=d}return a!==null&&o.push({start:t%s,end:a%s,loop:i}),o}function dK(e,t){const n=e.points,i=e.options.spanGaps,s=n.length;if(!s)return[];const o=!!e._loop,{start:a,end:c}=uK(n,s,o,i);if(i===!0)return AP(e,[{start:a,end:c,loop:o}],n,t);const u=c<a?c+s:c,d=!!e._fullLoop&&a===0&&c===s-1;return AP(e,hK(n,a,u,d),n,t)}function AP(e,t,n,i){return!i||!i.setContext||!n?t:fK(e,t,n,i)}function fK(e,t,n,i){const s=e._chart.getContext(),o=CP(e.options),{_datasetIndex:a,options:{spanGaps:c}}=e,u=n.length,d=[];let f=o,g=t[0].start,_=g;function v(I,b,w,T){const S=c?-1:1;if(I!==b){for(I+=u;n[I%u].skip;)I-=S;for(;n[b%u].skip;)b+=S;I%u!==b%u&&(d.push({start:I%u,end:b%u,loop:w,style:T}),f=T,g=b%u)}}for(const I of t){g=c?g:I.start;let b=n[g%u],w;for(_=g+1;_<=I.end;_++){const T=n[_%u];w=CP(i.setContext(bo(s,{type:"segment",p0:b,p1:T,p0DataIndex:(_-1)%u,p1DataIndex:_%u,datasetIndex:a}))),pK(w,f)&&v(g,_-1,I.loop,f),b=T,f=w}g<_-1&&v(g,_-1,I.loop,f)}return d}function CP(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function pK(e,t){if(!t)return!1;const n=[],i=function(s,o){return i1(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(e,i)!==JSON.stringify(t,i)}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class gK{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,s){const o=n.listeners[s],a=n.duration;o.forEach(c=>c({chart:t,initial:n.initial,numSteps:a,currentStep:Math.min(i-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=iM.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const o=i.items;let a=o.length-1,c=!1,u;for(;a>=0;--a)u=o[a],u._active?(u._total>i.duration&&(i.duration=u._total),u.tick(t),c=!0):(o[a]=o[o.length-1],o.pop());c&&(s.draw(),this._notify(s,i,t,"progress")),o.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),n+=o.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Gs=new gK;const PP="transparent",mK={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=yP(e||PP),s=i.valid&&yP(t||PP);return s&&s.valid?s.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class _K{constructor(t,n,i,s){const o=n[i];s=Xu([t.to,s,o,t.from]);const a=Xu([t.from,o,s]);this._active=!0,this._fn=t.fn||mK[t.type||typeof a],this._easing=vh[t.easing]||vh.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],o=i-this._start,a=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Xu([t.to,n,s,t.from]),this._from=Xu([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,s=this._prop,o=this._from,a=this._loop,c=this._to;let u;if(this._active=o!==c&&(a||n<i),!this._active){this._target[s]=c,this._notify(!0);return}if(n<0){this._target[s]=o;return}u=n/i%2,u=a&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[s]=this._fn(o,c,u)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class wM{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Wt(t))return;const n=Object.keys(He.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const o=t[s];if(!Wt(o))return;const a={};for(const c of n)a[c]=o[c];(Ce(o.properties)&&o.properties||[s]).forEach(c=>{(c===s||!i.has(c))&&i.set(c,a)})})}_animateOptions(t,n){const i=n.options,s=vK(t,i);if(!s)return[];const o=this._createAnimations(s,i);return i.$shared&&yK(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,n){const i=this._properties,s=[],o=t.$animations||(t.$animations={}),a=Object.keys(n),c=Date.now();let u;for(u=a.length-1;u>=0;--u){const d=a[u];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(t,n));continue}const f=n[d];let g=o[d];const _=i.get(d);if(g)if(_&&g.active()){g.update(_,f,c);continue}else g.cancel();if(!_||!_.duration){t[d]=f;continue}o[d]=g=new _K(_,t,d,f),s.push(g)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return Gs.add(this._chart,i),!0}}function yK(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const o=e[i[s]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function vK(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function RP(e,t){const n=e&&e.options||{},i=n.reverse,s=n.min===void 0?t:0,o=n.max===void 0?t:0;return{start:i?o:s,end:i?s:o}}function bK(e,t,n){if(n===!1)return!1;const i=RP(e,n),s=RP(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function wK(e){let t,n,i,s;return Wt(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:e===!1}}function EM(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,o;for(s=0,o=i.length;s<o;++s)n.push(i[s].index);return n}function kP(e,t,n,i={}){const s=e.keys,o=i.mode==="single";let a,c,u,d;if(t!==null){for(a=0,c=s.length;a<c;++a){if(u=+s[a],u===n){if(i.all)continue;break}d=e.values[u],$e(d)&&(o||t===0||xs(t)===xs(d))&&(t+=d)}return t}}function EK(e){const t=Object.keys(e),n=new Array(t.length);let i,s,o;for(i=0,s=t.length;i<s;++i)o=t[i],n[i]={x:o,y:e[o]};return n}function xP(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function IK(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function TK(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function SK(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function DP(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const o=e[s.index];if(n&&o>0||!n&&o<0)return s.index}return null}function OP(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:o,vScale:a,index:c}=i,u=o.axis,d=a.axis,f=IK(o,a,i),g=t.length;let _;for(let v=0;v<g;++v){const I=t[v],{[u]:b,[d]:w}=I,T=I._stacks||(I._stacks={});_=T[d]=SK(s,f,b),_[c]=w,_._top=DP(_,a,!0,i.type),_._bottom=DP(_,a,!1,i.type);const S=_._visualValues||(_._visualValues={});S[c]=w}}function bv(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function AK(e,t){return bo(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function CK(e,t,n){return bo(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Nu(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const s of t){const o=s._stacks;if(!o||o[i]===void 0||o[i][n]===void 0)return;delete o[i][n],o[i]._visualValues!==void 0&&o[i]._visualValues[n]!==void 0&&delete o[i]._visualValues[n]}}}const wv=e=>e==="reset"||e==="none",MP=(e,t)=>t?e:Object.assign({},e),PK=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:EM(n,!0),values:null};class es{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=xP(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Nu(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(g,_,v,I)=>g==="x"?_:g==="r"?I:v,o=n.xAxisID=Lt(i.xAxisID,bv(t,"x")),a=n.yAxisID=Lt(i.yAxisID,bv(t,"y")),c=n.rAxisID=Lt(i.rAxisID,bv(t,"r")),u=n.indexAxis,d=n.iAxisID=s(u,o,a,c),f=n.vAxisID=s(u,a,o,c);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&gP(this._data,this),t._stacked&&Nu(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(Wt(n))this._data=EK(n);else if(i!==n){if(i){gP(i,this);const s=this._cachedMeta;Nu(s),s._parsed=[]}n&&Object.isExtensible(n)&&fq(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const o=n._stacked;n._stacked=xP(n.vScale,n),n.stack!==i.stack&&(s=!0,Nu(n),n.stack=i.stack),this._resyncElements(t),(s||o!==n._stacked)&&OP(this,n._parsed)}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:s}=this,{iScale:o,_stacked:a}=i,c=o.axis;let u=t===0&&n===s.length?!0:i._sorted,d=t>0&&i._parsed[t-1],f,g,_;if(this._parsing===!1)i._parsed=s,i._sorted=!0,_=s;else{Ce(s[t])?_=this.parseArrayData(i,s,t,n):Wt(s[t])?_=this.parseObjectData(i,s,t,n):_=this.parsePrimitiveData(i,s,t,n);const v=()=>g[c]===null||d&&g[c]<d[c];for(f=0;f<n;++f)i._parsed[f+t]=g=_[f],u&&(v()&&(u=!1),d=g);i._sorted=u}a&&OP(this,_)}parsePrimitiveData(t,n,i,s){const{iScale:o,vScale:a}=t,c=o.axis,u=a.axis,d=o.getLabels(),f=o===a,g=new Array(s);let _,v,I;for(_=0,v=s;_<v;++_)I=_+i,g[_]={[c]:f||o.parse(d[I],I),[u]:a.parse(n[I],I)};return g}parseArrayData(t,n,i,s){const{xScale:o,yScale:a}=t,c=new Array(s);let u,d,f,g;for(u=0,d=s;u<d;++u)f=u+i,g=n[f],c[u]={x:o.parse(g[0],f),y:a.parse(g[1],f)};return c}parseObjectData(t,n,i,s){const{xScale:o,yScale:a}=t,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,d=new Array(s);let f,g,_,v;for(f=0,g=s;f<g;++f)_=f+i,v=n[_],d[f]={x:o.parse(po(v,c),_),y:a.parse(po(v,u),_)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const s=this.chart,o=this._cachedMeta,a=n[t.axis],c={keys:EM(s,!0),values:n._stacks[t.axis]._visualValues};return kP(c,a,o.index,{mode:i})}updateRangeFromParsed(t,n,i,s){const o=i[n.axis];let a=o===null?NaN:o;const c=s&&i._stacks[n.axis];s&&c&&(s.values=c,a=kP(s,o,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,n){const i=this._cachedMeta,s=i._parsed,o=i._sorted&&t===i.iScale,a=s.length,c=this._getOtherScale(t),u=PK(n,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:g}=TK(c);let _,v;function I(){v=s[_];const b=v[c.axis];return!$e(v[t.axis])||f>b||g<b}for(_=0;_<a&&!(!I()&&(this.updateRangeFromParsed(d,t,v,u),o));++_);if(o){for(_=a-1;_>=0;--_)if(!I()){this.updateRangeFromParsed(d,t,v,u);break}}return d}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let s,o,a;for(s=0,o=n.length;s<o;++s)a=n[s][t.axis],$e(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,s=n.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=wK(Lt(this.options.clip,bK(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],o=n.chartArea,a=[],c=this._drawStart||0,u=this._drawCount||s.length-c,d=this.options.drawActiveElementsOnTop;let f;for(i.dataset&&i.dataset.draw(t,o,c,u),f=c;f<c+u;++f){const g=s[f];g.hidden||(g.active&&d?a.push(g):g.draw(t,o))}for(f=0;f<a.length;++f)a[f].draw(t,o)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const s=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];o=a.$context||(a.$context=CK(this.getContext(),t,a)),o.parsed=this.getParsed(t),o.raw=s.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=AK(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const s=n==="active",o=this._cachedDataOpts,a=t+"-"+n,c=o[a],u=this.enableOptionSharing&&Zh(i);if(c)return MP(c,u);const d=this.chart.config,f=d.datasetElementScopeKeys(this._type,t),g=s?[`${t}Hover`,"hover",t,""]:[t,""],_=d.getOptionScopes(this.getDataset(),f),v=Object.keys(He.elements[t]),I=()=>this.getContext(i,s,n),b=d.resolveNamedOptions(_,v,I,g);return b.$shared&&(b.$shared=u,o[a]=Object.freeze(MP(b,u))),b}_resolveAnimations(t,n,i){const s=this.chart,o=this._cachedDataOpts,a=`animation-${n}`,c=o[a];if(c)return c;let u;if(s.options.animation!==!1){const f=this.chart.config,g=f.datasetAnimationScopeKeys(this._type,n),_=f.getOptionScopes(this.getDataset(),g);u=f.createResolver(_,this.getContext(t,i,n))}const d=new wM(s,u&&u.animations);return u&&u._cacheable&&(o[a]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||wv(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),s=this._sharedOptions,o=this.getSharedOptions(i),a=this.includeOptions(n,o)||o!==s;return this.updateSharedOptions(o,n,i),{sharedOptions:o,includeOptions:a}}updateElement(t,n,i,s){wv(s)?Object.assign(t,i):this._resolveAnimations(n,s).update(t,i)}updateSharedOptions(t,n,i){t&&!wv(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,s){t.active=s;const o=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(t,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[c,u,d]of this._syncList)this[c](u,d);this._syncList=[];const s=i.length,o=n.length,a=Math.min(o,s);a&&this.parse(0,a),o>s?this._insertElements(s,o-s,t):o<s&&this._removeElements(o,s-o)}_insertElements(t,n,i=!0){const s=this._cachedMeta,o=s.data,a=t+n;let c;const u=d=>{for(d.length+=n,c=d.length-1;c>=a;c--)d[c]=d[c-n]};for(u(o),c=t;c<a;++c)o[c]=new this.dataElementType;this._parsing&&u(s._parsed),this.parse(t,n),i&&this.updateElements(o,t,n,"reset")}updateElements(t,n,i,s){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,n);i._stacked&&Nu(i,s)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,s]=t;this[n](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Q(es,"defaults",{}),Q(es,"datasetElementType",null),Q(es,"dataElementType",null);function RK(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let s=0,o=n.length;s<o;s++)i=i.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=nM(i.sort((s,o)=>s-o))}return e._cache.$bar}function kK(e){const t=e.iScale,n=RK(t,e.type);let i=t._length,s,o,a,c;const u=()=>{a===32767||a===-32768||(Zh(c)&&(i=Math.min(i,Math.abs(a-c)||i)),c=a)};for(s=0,o=n.length;s<o;++s)a=t.getPixelForValue(n[s]),u();for(c=void 0,s=0,o=t.ticks.length;s<o;++s)a=t.getPixelForTick(s),u();return i}function xK(e,t,n,i){const s=n.barThickness;let o,a;return ee(s)?(o=t.min*n.categoryPercentage,a=n.barPercentage):(o=s*i,a=1),{chunk:o/i,ratio:a,start:t.pixels[e]-o/2}}function DK(e,t,n,i){const s=t.pixels,o=s[e];let a=e>0?s[e-1]:null,c=e<s.length-1?s[e+1]:null;const u=n.categoryPercentage;a===null&&(a=o-(c===null?t.end-t.start:c-o)),c===null&&(c=o+o-a);const d=o-(o-Math.min(a,c))/2*u;return{chunk:Math.abs(c-a)/2*u/i,ratio:n.barPercentage,start:d}}function OK(e,t,n,i){const s=n.parse(e[0],i),o=n.parse(e[1],i),a=Math.min(s,o),c=Math.max(s,o);let u=a,d=c;Math.abs(a)>Math.abs(c)&&(u=c,d=a),t[n.axis]=d,t._custom={barStart:u,barEnd:d,start:s,end:o,min:a,max:c}}function IM(e,t,n,i){return Ce(e)?OK(e,t,n,i):t[n.axis]=n.parse(e,i),t}function NP(e,t,n,i){const s=e.iScale,o=e.vScale,a=s.getLabels(),c=s===o,u=[];let d,f,g,_;for(d=n,f=n+i;d<f;++d)_=t[d],g={},g[s.axis]=c||s.parse(a[d],d),u.push(IM(_,g,o,d));return u}function Ev(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function MK(e,t,n){return e!==0?xs(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function NK(e){let t,n,i,s,o;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(s="end",o="start"):(s="start",o="end"),{start:n,end:i,reverse:t,top:s,bottom:o}}function LK(e,t,n,i){let s=t.borderSkipped;const o={};if(!s){e.borderSkipped=o;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:c,reverse:u,top:d,bottom:f}=NK(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?s=d:(n._bottom||0)===i?s=f:(o[LP(f,a,c,u)]=!0,s=d)),o[LP(s,a,c,u)]=!0,e.borderSkipped=o}function LP(e,t,n,i){return i?(e=VK(e,t,n),e=VP(e,n,t)):e=VP(e,t,n),e}function VK(e,t,n){return e===t?n:e===n?t:e}function VP(e,t,n){return e==="start"?t:e==="end"?n:e}function FK(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Hp extends es{parsePrimitiveData(t,n,i,s){return NP(t,n,i,s)}parseArrayData(t,n,i,s){return NP(t,n,i,s)}parseObjectData(t,n,i,s){const{iScale:o,vScale:a}=t,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,d=o.axis==="x"?c:u,f=a.axis==="x"?c:u,g=[];let _,v,I,b;for(_=i,v=i+s;_<v;++_)b=n[_],I={},I[o.axis]=o.parse(po(b,d),_),g.push(IM(po(b,f),I,a,_));return g}updateRangeFromParsed(t,n,i,s){super.updateRangeFromParsed(t,n,i,s);const o=i._custom;o&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:s}=n,o=this.getParsed(t),a=o._custom,c=Ev(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,s){const o=s==="reset",{index:a,_cachedMeta:{vScale:c}}=this,u=c.getBasePixel(),d=c.isHorizontal(),f=this._getRuler(),{sharedOptions:g,includeOptions:_}=this._getSharedOptions(n,s);for(let v=n;v<n+i;v++){const I=this.getParsed(v),b=o||ee(I[c.axis])?{base:u,head:u}:this._calculateBarValuePixels(v),w=this._calculateBarIndexPixels(v,f),T=(I._stacks||{})[c.axis],S={horizontal:d,base:b.base,enableBorderRadius:!T||Ev(I._custom)||a===T._top||a===T._bottom,x:d?b.head:w.center,y:d?w.center:b.head,height:d?w.size:Math.abs(b.size),width:d?Math.abs(b.size):w.size};_&&(S.options=g||this.resolveDataElementOptions(v,t[v].active?"active":s));const k=S.options||t[v].options;LK(S,k,T,a),FK(S,k,f.ratio),this.updateElement(t[v],v,S,s)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),o=i.options.stacked,a=[],c=u=>{const d=u.controller.getParsed(n),f=d&&d[u.vScale.axis];if(ee(f)||isNaN(f))return!0};for(const u of s)if(!(n!==void 0&&c(u))&&((o===!1||a.indexOf(u.stack)===-1||o===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,i){const s=this._getStacks(t,i),o=n!==void 0?s.indexOf(n):-1;return o===-1?s.length-1:o}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,s=[];let o,a;for(o=0,a=n.data.length;o<a;++o)s.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const c=t.barThickness;return{min:c||kK(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:o,minBarLength:a}}=this,c=o||0,u=this.getParsed(t),d=u._custom,f=Ev(d);let g=u[n.axis],_=0,v=i?this.applyStack(n,u,i):g,I,b;v!==g&&(_=v-g,v=g),f&&(g=d.barStart,v=d.barEnd-d.barStart,g!==0&&xs(g)!==xs(d.barEnd)&&(_=0),_+=g);const w=!ee(o)&&!f?o:_;let T=n.getPixelForValue(w);if(this.chart.getDataVisibility(t)?I=n.getPixelForValue(_+v):I=T,b=I-T,Math.abs(b)<a){b=MK(b,n,c)*a,g===c&&(T-=b/2);const S=n.getPixelForDecimal(0),k=n.getPixelForDecimal(1),x=Math.min(S,k),D=Math.max(S,k);T=Math.max(Math.min(T,D),x),I=T+b,i&&!f&&(u._stacks[n.axis]._visualValues[s]=n.getValueForPixel(I)-n.getValueForPixel(T))}if(T===n.getPixelForValue(c)){const S=xs(b)*n.getLineWidthForValue(c)/2;T+=S,b-=S}return{size:b,base:T,head:I,center:I+b/2}}_calculateBarIndexPixels(t,n){const i=n.scale,s=this.options,o=s.skipNull,a=Lt(s.maxBarThickness,1/0);let c,u;if(n.grouped){const d=o?this._getStackCount(t):n.stackCount,f=s.barThickness==="flex"?DK(t,n,s,d):xK(t,n,s,d),g=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);c=f.start+f.chunk*g+f.chunk/2,u=Math.min(a,f.chunk*f.ratio)}else c=i.getPixelForValue(this.getParsed(t)[i.axis],t),u=Math.min(a,n.min*n.ratio);return{base:c-u/2,head:c+u/2,center:c,size:u}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,s=i.length;let o=0;for(;o<s;++o)this.getParsed(o)[n.axis]!==null&&i[o].draw(this._ctx)}}Q(Hp,"id","bar"),Q(Hp,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Q(Hp,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class zp extends es{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,i,s){const o=super.parsePrimitiveData(t,n,i,s);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+i).radius;return o}parseArrayData(t,n,i,s){const o=super.parseArrayData(t,n,i,s);for(let a=0;a<o.length;a++){const c=n[i+a];o[a]._custom=Lt(c[2],this.resolveDataElementOptions(a+i).radius)}return o}parseObjectData(t,n,i,s){const o=super.parseObjectData(t,n,i,s);for(let a=0;a<o.length;a++){const c=n[i+a];o[a]._custom=Lt(c&&c.r&&+c.r,this.resolveDataElementOptions(a+i).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let i=t.length-1;i>=0;--i)n=Math.max(n,t[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=n,a=this.getParsed(t),c=s.getLabelForValue(a.x),u=o.getLabelForValue(a.y),d=a._custom;return{label:i[t]||"",value:"("+c+", "+u+(d?", "+d:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,i,s){const o=s==="reset",{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,s),f=a.axis,g=c.axis;for(let _=n;_<n+i;_++){const v=t[_],I=!o&&this.getParsed(_),b={},w=b[f]=o?a.getPixelForDecimal(.5):a.getPixelForValue(I[f]),T=b[g]=o?c.getBasePixel():c.getPixelForValue(I[g]);b.skip=isNaN(w)||isNaN(T),d&&(b.options=u||this.resolveDataElementOptions(_,v.active?"active":s),o&&(b.options.radius=0)),this.updateElement(v,_,b,s)}}resolveDataElementOptions(t,n){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const o=s.radius;return n!=="active"&&(s.radius=0),s.radius+=Lt(i&&i._custom,o),s}}Q(zp,"id","bubble"),Q(zp,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Q(zp,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function UK(e,t,n){let i=1,s=1,o=0,a=0;if(t<Pe){const c=e,u=c+t,d=Math.cos(c),f=Math.sin(c),g=Math.cos(u),_=Math.sin(u),v=(k,x,D)=>td(k,c,u,!0)?1:Math.max(x,x*n,D,D*n),I=(k,x,D)=>td(k,c,u,!0)?-1:Math.min(x,x*n,D,D*n),b=v(0,d,g),w=v(tn,f,_),T=I(Re,d,g),S=I(Re+tn,f,_);i=(b-T)/2,s=(w-S)/2,o=-(b+T)/2,a=-(w+S)/2}return{ratioX:i,ratioY:s,offsetX:o,offsetY:a}}class na extends es{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let o=u=>+i[u];if(Wt(i[t])){const{key:u="value"}=this._parsing;o=d=>+po(i[d],u)}let a,c;for(a=t,c=t+n;a<c;++a)s._parsed[a]=o(a)}}_getRotation(){return Zi(this.options.rotation-90)}_getCircumference(){return Zi(this.options.circumference)}_getRotationExtents(){let t=Pe,n=-Pe;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,o=s._getRotation(),a=s._getCircumference();t=Math.min(t,o),n=Math.max(n,o+a)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,o=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-a)/2,0),u=Math.min(ZW(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:f,rotation:g}=this._getRotationExtents(),{ratioX:_,ratioY:v,offsetX:I,offsetY:b}=UK(g,f,u),w=(i.width-a)/_,T=(i.height-a)/v,S=Math.max(Math.min(w,T)/2,0),k=QO(this.options.radius,S),x=Math.max(k*u,0),D=(k-x)/this._getVisibleDatasetWeightTotal();this.offsetX=I*k,this.offsetY=b*k,s.total=this.calculateTotal(),this.outerRadius=k-D*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-D*d,0),this.updateElements(o,0,o.length,t)}_circumference(t,n){const i=this.options,s=this._cachedMeta,o=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*o/Pe)}updateElements(t,n,i,s){const o=s==="reset",a=this.chart,c=a.chartArea,d=a.options.animation,f=(c.left+c.right)/2,g=(c.top+c.bottom)/2,_=o&&d.animateScale,v=_?0:this.innerRadius,I=_?0:this.outerRadius,{sharedOptions:b,includeOptions:w}=this._getSharedOptions(n,s);let T=this._getRotation(),S;for(S=0;S<n;++S)T+=this._circumference(S,o);for(S=n;S<n+i;++S){const k=this._circumference(S,o),x=t[S],D={x:f+this.offsetX,y:g+this.offsetY,startAngle:T,endAngle:T+k,circumference:k,outerRadius:I,innerRadius:v};w&&(D.options=b||this.resolveDataElementOptions(S,x.active?"active":s)),T+=k,this.updateElement(x,S,D,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,s;for(s=0;s<n.length;s++){const o=t._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Pe*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=xd(n._parsed[t],i.options.locale);return{label:s[t]||"",value:o}}getMaxBorderWidth(t){let n=0;const i=this.chart;let s,o,a,c,u;if(!t){for(s=0,o=i.data.datasets.length;s<o;++s)if(i.isDatasetVisible(s)){a=i.getDatasetMeta(s),t=a.data,c=a.controller;break}}if(!t)return 0;for(s=0,o=t.length;s<o;++s)u=c.resolveDataElementOptions(s),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,s=t.length;i<s;++i){const o=this.resolveDataElementOptions(i);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max(Lt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Q(na,"id","doughnut"),Q(na,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Q(na,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Q(na,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((o,a)=>{const u=t.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:s,lineWidth:u.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class Wp extends es{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:o}=n,a=this.chart._animationsDisabled;let{start:c,count:u}=rM(n,s,a);this._drawStart=c,this._drawCount=u,oM(n)&&(c=0,u=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=s;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:d},t),this.updateElements(s,c,u,t)}updateElements(t,n,i,s){const o=s==="reset",{iScale:a,vScale:c,_stacked:u,_dataset:d}=this._cachedMeta,{sharedOptions:f,includeOptions:g}=this._getSharedOptions(n,s),_=a.axis,v=c.axis,{spanGaps:I,segment:b}=this.options,w=rc(I)?I:Number.POSITIVE_INFINITY,T=this.chart._animationsDisabled||o||s==="none",S=n+i,k=t.length;let x=n>0&&this.getParsed(n-1);for(let D=0;D<k;++D){const M=t[D],V=T?M:{};if(D<n||D>=S){V.skip=!0;continue}const z=this.getParsed(D),st=ee(z[v]),gt=V[_]=a.getPixelForValue(z[_],D),J=V[v]=o||st?c.getBasePixel():c.getPixelForValue(u?this.applyStack(c,z,u):z[v],D);V.skip=isNaN(gt)||isNaN(J)||st,V.stop=D>0&&Math.abs(z[_]-x[_])>w,b&&(V.parsed=z,V.raw=d.data[D]),g&&(V.options=f||this.resolveDataElementOptions(D,M.active?"active":s)),T||this.updateElement(M,D,V,s),x=z}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const o=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,o,a)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Q(Wp,"id","line"),Q(Wp,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Q(Wp,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class wh extends es{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=xd(n._parsed[t].r,i.options.locale);return{label:s[t]||"",value:o}}parseObjectData(t,n,i,s){return pM.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,s)=>{const o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<n.min&&(n.min=o),o>n.max&&(n.max=o))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,i=t.options,s=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(s/2,0),a=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),c=(o-a)/t.getVisibleDatasetCount();this.outerRadius=o-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,n,i,s){const o=s==="reset",a=this.chart,u=a.options.animation,d=this._cachedMeta.rScale,f=d.xCenter,g=d.yCenter,_=d.getIndexAngle(0)-.5*Re;let v=_,I;const b=360/this.countVisibleElements();for(I=0;I<n;++I)v+=this._computeAngle(I,s,b);for(I=n;I<n+i;I++){const w=t[I];let T=v,S=v+this._computeAngle(I,s,b),k=a.getDataVisibility(I)?d.getDistanceFromCenterForValue(this.getParsed(I).r):0;v=S,o&&(u.animateScale&&(k=0),u.animateRotate&&(T=S=_));const x={x:f,y:g,innerRadius:0,outerRadius:k,startAngle:T,endAngle:S,options:this.resolveDataElementOptions(I,w.active?"active":s)};this.updateElement(w,I,x,s)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(t,n,i){return this.chart.getDataVisibility(t)?Zi(this.resolveDataElementOptions(t,n).angle||i):0}}Q(wh,"id","polarArea"),Q(wh,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Q(wh,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((o,a)=>{const u=t.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:s,lineWidth:u.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Ob extends na{}Q(Ob,"id","pie"),Q(Ob,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class qp extends es{getLabelAndValue(t){const n=this._cachedMeta.vScale,i=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(t,n,i,s){return pM.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta,i=n.dataset,s=n.data||[],o=n.iScale.getLabels();if(i.points=s,t!=="resize"){const a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0);const c={_loop:!0,_fullLoop:o.length===s.length,options:a};this.updateElement(i,void 0,c,t)}this.updateElements(s,0,s.length,t)}updateElements(t,n,i,s){const o=this._cachedMeta.rScale,a=s==="reset";for(let c=n;c<n+i;c++){const u=t[c],d=this.resolveDataElementOptions(c,u.active?"active":s),f=o.getPointPositionForValue(c,this.getParsed(c).r),g=a?o.xCenter:f.x,_=a?o.yCenter:f.y,v={x:g,y:_,angle:f.angle,skip:isNaN(g)||isNaN(_),options:d};this.updateElement(u,c,v,s)}}}Q(qp,"id","radar"),Q(qp,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Q(qp,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Kp extends es{getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=n,a=this.getParsed(t),c=s.getLabelForValue(a.x),u=o.getLabelForValue(a.y);return{label:i[t]||"",value:"("+c+", "+u+")"}}update(t){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:o,count:a}=rM(n,i,s);if(this._drawStart=o,this._drawCount=a,oM(n)&&(o=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:u}=n;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!u._decimated,c.points=i;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(c,void 0,{animated:!s,options:d},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,o,a,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,i,s){const o=s==="reset",{iScale:a,vScale:c,_stacked:u,_dataset:d}=this._cachedMeta,f=this.resolveDataElementOptions(n,s),g=this.getSharedOptions(f),_=this.includeOptions(s,g),v=a.axis,I=c.axis,{spanGaps:b,segment:w}=this.options,T=rc(b)?b:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||o||s==="none";let k=n>0&&this.getParsed(n-1);for(let x=n;x<n+i;++x){const D=t[x],M=this.getParsed(x),V=S?D:{},z=ee(M[I]),st=V[v]=a.getPixelForValue(M[v],x),gt=V[I]=o||z?c.getBasePixel():c.getPixelForValue(u?this.applyStack(c,M,u):M[I],x);V.skip=isNaN(st)||isNaN(gt)||z,V.stop=x>0&&Math.abs(M[v]-k[v])>T,w&&(V.parsed=M,V.raw=d.data[x]),_&&(V.options=g||this.resolveDataElementOptions(x,D.active?"active":s)),S||this.updateElement(D,x,V,s),k=M}this.updateSharedOptions(g,s,f)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let c=0;for(let u=n.length-1;u>=0;--u)c=Math.max(c,n[u].size(this.resolveDataElementOptions(u))/2);return c>0&&c}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const o=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,o,a)/2}}Q(Kp,"id","scatter"),Q(Kp,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Q(Kp,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var BK=Object.freeze({__proto__:null,BarController:Hp,BubbleController:zp,DoughnutController:na,LineController:Wp,PieController:Ob,PolarAreaController:wh,RadarController:qp,ScatterController:Kp});function $o(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class u1{constructor(t){Q(this,"options");this.options=t||{}}static override(t){Object.assign(u1.prototype,t)}init(){}formats(){return $o()}parse(){return $o()}format(){return $o()}add(){return $o()}diff(){return $o()}startOf(){return $o()}endOf(){return $o()}}var jK={_date:u1};function $K(e,t,n,i){const{controller:s,data:o,_sorted:a}=e,c=s._cachedMeta.iScale;if(c&&t===c.axis&&t!=="r"&&a&&o.length){const u=c._reversePixels?hq:er;if(i){if(s._sharedOptions){const d=o[0],f=typeof d.getRange=="function"&&d.getRange(t);if(f){const g=u(o,t,n-f),_=u(o,t,n+f);return{lo:g.lo,hi:_.hi}}}}else return u(o,t,n)}return{lo:0,hi:o.length-1}}function Dd(e,t,n,i,s){const o=e.getSortedVisibleDatasetMetas(),a=n[t];for(let c=0,u=o.length;c<u;++c){const{index:d,data:f}=o[c],{lo:g,hi:_}=$K(o[c],t,a,s);for(let v=g;v<=_;++v){const I=f[v];I.skip||i(I,d,v)}}}function HK(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,s){const o=t?Math.abs(i.x-s.x):0,a=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}}function Iv(e,t,n,i,s){const o=[];return!s&&!e.isPointInArea(t)||Dd(e,n,t,function(c,u,d){!s&&!nr(c,e.chartArea,0)||c.inRange(t.x,t.y,i)&&o.push({element:c,datasetIndex:u,index:d})},!0),o}function zK(e,t,n,i){let s=[];function o(a,c,u){const{startAngle:d,endAngle:f}=a.getProps(["startAngle","endAngle"],i),{angle:g}=tM(a,{x:t.x,y:t.y});td(g,d,f)&&s.push({element:a,datasetIndex:c,index:u})}return Dd(e,n,t,o),s}function WK(e,t,n,i,s,o){let a=[];const c=HK(n);let u=Number.POSITIVE_INFINITY;function d(f,g,_){const v=f.inRange(t.x,t.y,s);if(i&&!v)return;const I=f.getCenterPoint(s);if(!(!!o||e.isPointInArea(I))&&!v)return;const w=c(t,I);w<u?(a=[{element:f,datasetIndex:g,index:_}],u=w):w===u&&a.push({element:f,datasetIndex:g,index:_})}return Dd(e,n,t,d),a}function Tv(e,t,n,i,s,o){return!o&&!e.isPointInArea(t)?[]:n==="r"&&!i?zK(e,t,n,s):WK(e,t,n,i,s,o)}function FP(e,t,n,i,s){const o=[],a=n==="x"?"inXRange":"inYRange";let c=!1;return Dd(e,n,t,(u,d,f)=>{u[a](t[n],s)&&(o.push({element:u,datasetIndex:d,index:f}),c=c||u.inRange(t.x,t.y,s))}),i&&!c?[]:o}var qK={evaluateInteractionItems:Dd,modes:{index(e,t,n,i){const s=Wo(t,e),o=n.axis||"x",a=n.includeInvisible||!1,c=n.intersect?Iv(e,s,o,i,a):Tv(e,s,o,!1,i,a),u=[];return c.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const f=c[0].index,g=d.data[f];g&&!g.skip&&u.push({element:g,datasetIndex:d.index,index:f})}),u):[]},dataset(e,t,n,i){const s=Wo(t,e),o=n.axis||"xy",a=n.includeInvisible||!1;let c=n.intersect?Iv(e,s,o,i,a):Tv(e,s,o,!1,i,a);if(c.length>0){const u=c[0].datasetIndex,d=e.getDatasetMeta(u).data;c=[];for(let f=0;f<d.length;++f)c.push({element:d[f],datasetIndex:u,index:f})}return c},point(e,t,n,i){const s=Wo(t,e),o=n.axis||"xy",a=n.includeInvisible||!1;return Iv(e,s,o,i,a)},nearest(e,t,n,i){const s=Wo(t,e),o=n.axis||"xy",a=n.includeInvisible||!1;return Tv(e,s,o,n.intersect,i,a)},x(e,t,n,i){const s=Wo(t,e);return FP(e,s,"x",n.intersect,i)},y(e,t,n,i){const s=Wo(t,e);return FP(e,s,"y",n.intersect,i)}}};const TM=["left","top","right","bottom"];function Lu(e,t){return e.filter(n=>n.pos===t)}function UP(e,t){return e.filter(n=>TM.indexOf(n.pos)===-1&&n.box.axis===t)}function Vu(e,t){return e.sort((n,i)=>{const s=t?i:n,o=t?n:i;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function KK(e){const t=[];let n,i,s,o,a,c;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],{position:o,options:{stack:a,stackWeight:c=1}}=s,t.push({index:n,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&o+a,stackWeight:c});return t}function GK(e){const t={};for(const n of e){const{stack:i,pos:s,stackWeight:o}=n;if(!i||!TM.includes(s))continue;const a=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=o}return t}function YK(e,t){const n=GK(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let o,a,c;for(o=0,a=e.length;o<a;++o){c=e[o];const{fullSize:u}=c.box,d=n[c.stack],f=d&&c.stackWeight/d.weight;c.horizontal?(c.width=f?f*i:u&&t.availableWidth,c.height=s):(c.width=i,c.height=f?f*s:u&&t.availableHeight)}return n}function XK(e){const t=KK(e),n=Vu(t.filter(d=>d.box.fullSize),!0),i=Vu(Lu(t,"left"),!0),s=Vu(Lu(t,"right")),o=Vu(Lu(t,"top"),!0),a=Vu(Lu(t,"bottom")),c=UP(t,"x"),u=UP(t,"y");return{fullSize:n,leftAndTop:i.concat(o),rightAndBottom:s.concat(u).concat(a).concat(c),chartArea:Lu(t,"chartArea"),vertical:i.concat(s).concat(u),horizontal:o.concat(a).concat(c)}}function BP(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function SM(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function QK(e,t,n,i){const{pos:s,box:o}=n,a=e.maxPadding;if(!Wt(s)){n.size&&(e[s]-=n.size);const g=i[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?o.height:o.width),n.size=g.size/g.count,e[s]+=n.size}o.getPadding&&SM(a,o.getPadding());const c=Math.max(0,t.outerWidth-BP(a,e,"left","right")),u=Math.max(0,t.outerHeight-BP(a,e,"top","bottom")),d=c!==e.w,f=u!==e.h;return e.w=c,e.h=u,n.horizontal?{same:d,other:f}:{same:f,other:d}}function JK(e){const t=e.maxPadding;function n(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function ZK(e,t){const n=t.maxPadding;function i(s){const o={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{o[a]=Math.max(t[a],n[a])}),o}return i(e?["left","right"]:["top","bottom"])}function Qu(e,t,n,i){const s=[];let o,a,c,u,d,f;for(o=0,a=e.length,d=0;o<a;++o){c=e[o],u=c.box,u.update(c.width||t.w,c.height||t.h,ZK(c.horizontal,t));const{same:g,other:_}=QK(t,n,c,i);d|=g&&s.length,f=f||_,u.fullSize||s.push(c)}return d&&Qu(s,t,n,i)||f}function yp(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function jP(e,t,n,i){const s=n.padding;let{x:o,y:a}=t;for(const c of e){const u=c.box,d=i[c.stack]||{count:1,placed:0,weight:1},f=c.stackWeight/d.weight||1;if(c.horizontal){const g=t.w*f,_=d.size||u.height;Zh(d.start)&&(a=d.start),u.fullSize?yp(u,s.left,a,n.outerWidth-s.right-s.left,_):yp(u,t.left+d.placed,a,g,_),d.start=a,d.placed+=g,a=u.bottom}else{const g=t.h*f,_=d.size||u.width;Zh(d.start)&&(o=d.start),u.fullSize?yp(u,o,s.top,_,n.outerHeight-s.bottom-s.top):yp(u,o,t.top+d.placed,_,g),d.start=o,d.placed+=g,o=u.right}}t.x=o,t.y=a}var $n={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=Gn(e.options.layout.padding),o=Math.max(t-s.width,0),a=Math.max(n-s.height,0),c=XK(e.boxes),u=c.vertical,d=c.horizontal;de(e.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const f=u.reduce((b,w)=>w.box.options&&w.box.options.display===!1?b:b+1,0)||1,g=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/f,hBoxMaxHeight:a/2}),_=Object.assign({},s);SM(_,Gn(i));const v=Object.assign({maxPadding:_,w:o,h:a,x:s.left,y:s.top},s),I=YK(u.concat(d),g);Qu(c.fullSize,v,g,I),Qu(u,v,g,I),Qu(d,v,g,I)&&Qu(u,v,g,I),JK(v),jP(c.leftAndTop,v,g,I),v.x+=v.w,v.y+=v.h,jP(c.rightAndBottom,v,g,I),e.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},de(c.chartArea,b=>{const w=b.box;Object.assign(w,e.chartArea),w.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class AM{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,s){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(t){return!0}updateConfig(t){}}class tG extends AM{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Gp="$chartjs",eG={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},$P=e=>e===null||e==="";function nG(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[Gp]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",$P(s)){const o=TP(e,"width");o!==void 0&&(e.width=o)}if($P(i))if(e.style.height==="")e.height=e.width/(t||2);else{const o=TP(e,"height");o!==void 0&&(e.height=o)}return e}const CM=sK?{passive:!0}:!1;function iG(e,t,n){e&&e.addEventListener(t,n,CM)}function sG(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,CM)}function rG(e,t){const n=eG[e.type]||e.type,{x:i,y:s}=Wo(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Ng(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function oG(e,t,n){const i=e.canvas,s=new MutationObserver(o=>{let a=!1;for(const c of o)a=a||Ng(c.addedNodes,i),a=a&&!Ng(c.removedNodes,i);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function aG(e,t,n){const i=e.canvas,s=new MutationObserver(o=>{let a=!1;for(const c of o)a=a||Ng(c.removedNodes,i),a=a&&!Ng(c.addedNodes,i);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const nd=new Map;let HP=0;function PM(){const e=window.devicePixelRatio;e!==HP&&(HP=e,nd.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function lG(e,t){nd.size||window.addEventListener("resize",PM),nd.set(e,t)}function cG(e){nd.delete(e),nd.size||window.removeEventListener("resize",PM)}function uG(e,t,n){const i=e.canvas,s=i&&c1(i);if(!s)return;const o=sM((c,u)=>{const d=s.clientWidth;n(c,u),d<s.clientWidth&&n()},window),a=new ResizeObserver(c=>{const u=c[0],d=u.contentRect.width,f=u.contentRect.height;d===0&&f===0||o(d,f)});return a.observe(s),lG(e,o),a}function Sv(e,t,n){n&&n.disconnect(),t==="resize"&&cG(e)}function hG(e,t,n){const i=e.canvas,s=sM(o=>{e.ctx!==null&&n(rG(o,e))},e);return iG(i,t,s),s}class dG extends AM{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(nG(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[Gp])return!1;const i=n[Gp].initial;["height","width"].forEach(o=>{const a=i[o];ee(a)?n.removeAttribute(o):n.setAttribute(o,a)});const s=i.style||{};return Object.keys(s).forEach(o=>{n.style[o]=s[o]}),n.width=n.width,delete n[Gp],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),a={attach:oG,detach:aG,resize:uG}[n]||hG;s[n]=a(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),s=i[n];if(!s)return;({attach:Sv,detach:Sv,resize:Sv}[n]||sG)(t,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,s){return iK(t,n,i,s)}isAttached(t){const n=c1(t);return!!(n&&n.isConnected)}}function fG(e){return!l1()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?tG:dG}var Ap;let yr=(Ap=class{constructor(){Q(this,"x");Q(this,"y");Q(this,"active",!1);Q(this,"options");Q(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return rc(this.x)&&rc(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const s={};return t.forEach(o=>{s[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),s}},Q(Ap,"defaults",{}),Q(Ap,"defaultRoutes"),Ap);function pG(e,t){const n=e.options.ticks,i=gG(e),s=Math.min(n.maxTicksLimit||i,i),o=n.major.enabled?_G(t):[],a=o.length,c=o[0],u=o[a-1],d=[];if(a>s)return yG(t,d,o,a/s),d;const f=mG(o,t,s);if(a>0){let g,_;const v=a>1?Math.round((u-c)/(a-1)):null;for(vp(t,d,f,ee(v)?0:c-v,c),g=0,_=a-1;g<_;g++)vp(t,d,f,o[g],o[g+1]);return vp(t,d,f,u,ee(v)?t.length:u+v),d}return vp(t,d,f),d}function gG(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}function mG(e,t,n){const i=vG(e),s=t.length/n;if(!i)return Math.max(s,1);const o=aq(i);for(let a=0,c=o.length-1;a<c;a++){const u=o[a];if(u>s)return u}return Math.max(s,1)}function _G(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function yG(e,t,n,i){let s=0,o=n[0],a;for(i=Math.ceil(i),a=0;a<e.length;a++)a===o&&(t.push(e[a]),s++,o=n[s*i])}function vp(e,t,n,i,s){const o=Lt(i,0),a=Math.min(Lt(s,e.length),e.length);let c=0,u,d,f;for(n=Math.ceil(n),s&&(u=s-i,n=u/Math.floor(u/n)),f=o;f<0;)c++,f=Math.round(o+c*n);for(d=Math.max(o,0);d<a;d++)d===f&&(t.push(e[d]),c++,f=Math.round(o+c*n))}function vG(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const bG=e=>e==="left"?"right":e==="right"?"left":e,zP=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,WP=(e,t)=>Math.min(t||e,e);function qP(e,t){const n=[],i=e.length/t,s=e.length;let o=0;for(;o<s;o+=i)n.push(e[Math.floor(o)]);return n}function wG(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),o=e._startPixel,a=e._endPixel,c=1e-6;let u=e.getPixelForTick(s),d;if(!(n&&(i===1?d=Math.max(u-o,a-u):t===0?d=(e.getPixelForTick(1)-u)/2:d=(u-e.getPixelForTick(s-1))/2,u+=s<t?d:-d,u<o-c||u>a+c)))return u}function EG(e,t){de(e,n=>{const i=n.gc,s=i.length/2;let o;if(s>t){for(o=0;o<s;++o)delete n.data[i[o]];i.splice(0,s)}})}function Fu(e){return e.drawTicks?e.tickLength:0}function KP(e,t){if(!e.display)return 0;const n=fn(e.font,t),i=Gn(e.padding);return(Ce(e.text)?e.text.length:1)*n.lineHeight+i.height}function IG(e,t){return bo(e,{scale:t,type:"scale"})}function TG(e,t,n){return bo(e,{tick:n,index:t,type:"tick"})}function SG(e,t,n){let i=n1(e);return(n&&t!=="right"||!n&&t==="right")&&(i=bG(i)),i}function AG(e,t,n,i){const{top:s,left:o,bottom:a,right:c,chart:u}=e,{chartArea:d,scales:f}=u;let g=0,_,v,I;const b=a-s,w=c-o;if(e.isHorizontal()){if(v=Vn(i,o,c),Wt(n)){const T=Object.keys(n)[0],S=n[T];I=f[T].getPixelForValue(S)+b-t}else n==="center"?I=(d.bottom+d.top)/2+b-t:I=zP(e,n,t);_=c-o}else{if(Wt(n)){const T=Object.keys(n)[0],S=n[T];v=f[T].getPixelForValue(S)-w+t}else n==="center"?v=(d.left+d.right)/2-w+t:v=zP(e,n,t);I=Vn(i,a,s),g=n==="left"?-tn:tn}return{titleX:v,titleY:I,maxWidth:_,rotation:g}}class Ra extends yr{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return t=Si(t,Number.POSITIVE_INFINITY),n=Si(n,Number.NEGATIVE_INFINITY),i=Si(i,Number.POSITIVE_INFINITY),s=Si(s,Number.NEGATIVE_INFINITY),{min:Si(t,i),max:Si(n,s),minDefined:$e(t),maxDefined:$e(n)}}getMinMax(t){let{min:n,max:i,minDefined:s,maxDefined:o}=this.getUserBounds(),a;if(s&&o)return{min:n,max:i};const c=this.getMatchingVisibleMetas();for(let u=0,d=c.length;u<d;++u)a=c[u].controller.getMinMax(this,t),s||(n=Math.min(n,a.min)),o||(i=Math.max(i,a.max));return n=o&&n>i?i:n,i=s&&n>i?n:i,{min:Si(n,Si(i,n)),max:Si(i,Si(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){be(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:s,grace:o,ticks:a}=this.options,c=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Nq(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?qP(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=pG(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){be(this.options.afterUpdate,[this])}beforeSetDimensions(){be(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){be(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),be(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){be(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,s,o;for(i=0,s=t.length;i<s;i++)o=t[i],o.label=be(n.callback,[o.value,i,t],this)}afterTickToLabelConversion(){be(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){be(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=WP(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,o=n.maxRotation;let a=s,c,u,d;if(!this._isVisible()||!n.display||s>=o||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const f=this._getLabelSizes(),g=f.widest.width,_=f.highest.height,v=In(this.chart.width-g,0,this.maxWidth);c=t.offset?this.maxWidth/i:v/(i-1),g+6>c&&(c=v/(i-(t.offset?.5:1)),u=this.maxHeight-Fu(t.grid)-n.padding-KP(t.title,this.chart.options.font),d=Math.sqrt(g*g+_*_),a=t1(Math.min(Math.asin(In((f.highest.height+6)/c,-1,1)),Math.asin(In(u/d,-1,1))-Math.asin(In(_/d,-1,1)))),a=Math.max(s,Math.min(o,a))),this.labelRotation=a}afterCalculateLabelRotation(){be(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){be(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:o}}=this,a=this._isVisible(),c=this.isHorizontal();if(a){const u=KP(s,n.options.font);if(c?(t.width=this.maxWidth,t.height=Fu(o)+u):(t.height=this.maxHeight,t.width=Fu(o)+u),i.display&&this.ticks.length){const{first:d,last:f,widest:g,highest:_}=this._getLabelSizes(),v=i.padding*2,I=Zi(this.labelRotation),b=Math.cos(I),w=Math.sin(I);if(c){const T=i.mirror?0:w*g.width+b*_.height;t.height=Math.min(this.maxHeight,t.height+T+v)}else{const T=i.mirror?0:b*g.width+w*_.height;t.width=Math.min(this.maxWidth,t.width+T+v)}this._calculatePadding(d,f,w,b)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,s){const{ticks:{align:o,padding:a},position:c}=this.options,u=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,v=0;u?d?(_=s*t.width,v=i*n.height):(_=i*t.height,v=s*n.width):o==="start"?v=n.width:o==="end"?_=t.width:o!=="inner"&&(_=t.width/2,v=n.width/2),this.paddingLeft=Math.max((_-f+a)*this.width/(this.width-f),0),this.paddingRight=Math.max((v-g+a)*this.width/(this.width-g),0)}else{let f=n.height/2,g=t.height/2;o==="start"?(f=0,g=t.height):o==="end"&&(f=n.height,g=0),this.paddingTop=f+a,this.paddingBottom=g+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){be(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)ee(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=qP(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:s,_longestTextCache:o}=this,a=[],c=[],u=Math.floor(n/WP(n,i));let d=0,f=0,g,_,v,I,b,w,T,S,k,x,D;for(g=0;g<n;g+=u){if(I=t[g].label,b=this._resolveTickFontOptions(g),s.font=w=b.string,T=o[w]=o[w]||{data:{},gc:[]},S=b.lineHeight,k=x=0,!ee(I)&&!Ce(I))k=Og(s,T.data,T.gc,k,I),x=S;else if(Ce(I))for(_=0,v=I.length;_<v;++_)D=I[_],!ee(D)&&!Ce(D)&&(k=Og(s,T.data,T.gc,k,D),x+=S);a.push(k),c.push(x),d=Math.max(k,d),f=Math.max(x,f)}EG(o,n);const M=a.indexOf(d),V=c.indexOf(f),z=st=>({width:a[st]||0,height:c[st]||0});return{first:z(0),last:z(n-1),widest:z(M),highest:z(V),widths:a,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return uq(this._alignToPixels?jo(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=TG(this.getContext(),t,i))}return this.$context||(this.$context=IG(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Zi(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),o=this._getLabelSizes(),a=t.autoSkipPadding||0,c=o?o.widest.width+a:0,u=o?o.highest.height+a:0;return this.isHorizontal()?u*i>c*s?c/i:u/s:u*s<c*i?u/i:c/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,s=this.options,{grid:o,position:a,border:c}=s,u=o.offset,d=this.isHorizontal(),g=this.ticks.length+(u?1:0),_=Fu(o),v=[],I=c.setContext(this.getContext()),b=I.display?I.width:0,w=b/2,T=function(Y){return jo(i,Y,b)};let S,k,x,D,M,V,z,st,gt,J,yt,bt;if(a==="top")S=T(this.bottom),V=this.bottom-_,st=S-w,J=T(t.top)+w,bt=t.bottom;else if(a==="bottom")S=T(this.top),J=t.top,bt=T(t.bottom)-w,V=S+w,st=this.top+_;else if(a==="left")S=T(this.right),M=this.right-_,z=S-w,gt=T(t.left)+w,yt=t.right;else if(a==="right")S=T(this.left),gt=t.left,yt=T(t.right)-w,M=S+w,z=this.left+_;else if(n==="x"){if(a==="center")S=T((t.top+t.bottom)/2+.5);else if(Wt(a)){const Y=Object.keys(a)[0],ct=a[Y];S=T(this.chart.scales[Y].getPixelForValue(ct))}J=t.top,bt=t.bottom,V=S+w,st=V+_}else if(n==="y"){if(a==="center")S=T((t.left+t.right)/2);else if(Wt(a)){const Y=Object.keys(a)[0],ct=a[Y];S=T(this.chart.scales[Y].getPixelForValue(ct))}M=S-w,z=M-_,gt=t.left,yt=t.right}const pe=Lt(s.ticks.maxTicksLimit,g),dt=Math.max(1,Math.ceil(g/pe));for(k=0;k<g;k+=dt){const Y=this.getContext(k),ct=o.setContext(Y),kt=c.setContext(Y),ae=ct.lineWidth,Ie=ct.color,_n=kt.dash||[],ge=kt.dashOffset,ri=ct.tickWidth,Nn=ct.tickColor,Mi=ct.tickBorderDash||[],ye=ct.tickBorderDashOffset;x=wG(this,k,u),x!==void 0&&(D=jo(i,x,ae),d?M=z=gt=yt=D:V=st=J=bt=D,v.push({tx1:M,ty1:V,tx2:z,ty2:st,x1:gt,y1:J,x2:yt,y2:bt,width:ae,color:Ie,borderDash:_n,borderDashOffset:ge,tickWidth:ri,tickColor:Nn,tickBorderDash:Mi,tickBorderDashOffset:ye}))}return this._ticksLength=g,this._borderValue=S,v}_computeLabelItems(t){const n=this.axis,i=this.options,{position:s,ticks:o}=i,a=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:d,padding:f,mirror:g}=o,_=Fu(i.grid),v=_+f,I=g?-f:v,b=-Zi(this.labelRotation),w=[];let T,S,k,x,D,M,V,z,st,gt,J,yt,bt="middle";if(s==="top")M=this.bottom-I,V=this._getXAxisLabelAlignment();else if(s==="bottom")M=this.top+I,V=this._getXAxisLabelAlignment();else if(s==="left"){const dt=this._getYAxisLabelAlignment(_);V=dt.textAlign,D=dt.x}else if(s==="right"){const dt=this._getYAxisLabelAlignment(_);V=dt.textAlign,D=dt.x}else if(n==="x"){if(s==="center")M=(t.top+t.bottom)/2+v;else if(Wt(s)){const dt=Object.keys(s)[0],Y=s[dt];M=this.chart.scales[dt].getPixelForValue(Y)+v}V=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")D=(t.left+t.right)/2-v;else if(Wt(s)){const dt=Object.keys(s)[0],Y=s[dt];D=this.chart.scales[dt].getPixelForValue(Y)}V=this._getYAxisLabelAlignment(_).textAlign}n==="y"&&(u==="start"?bt="top":u==="end"&&(bt="bottom"));const pe=this._getLabelSizes();for(T=0,S=c.length;T<S;++T){k=c[T],x=k.label;const dt=o.setContext(this.getContext(T));z=this.getPixelForTick(T)+o.labelOffset,st=this._resolveTickFontOptions(T),gt=st.lineHeight,J=Ce(x)?x.length:1;const Y=J/2,ct=dt.color,kt=dt.textStrokeColor,ae=dt.textStrokeWidth;let Ie=V;a?(D=z,V==="inner"&&(T===S-1?Ie=this.options.reverse?"left":"right":T===0?Ie=this.options.reverse?"right":"left":Ie="center"),s==="top"?d==="near"||b!==0?yt=-J*gt+gt/2:d==="center"?yt=-pe.highest.height/2-Y*gt+gt:yt=-pe.highest.height+gt/2:d==="near"||b!==0?yt=gt/2:d==="center"?yt=pe.highest.height/2-Y*gt:yt=pe.highest.height-J*gt,g&&(yt*=-1),b!==0&&!dt.showLabelBackdrop&&(D+=gt/2*Math.sin(b))):(M=z,yt=(1-J)*gt/2);let _n;if(dt.showLabelBackdrop){const ge=Gn(dt.backdropPadding),ri=pe.heights[T],Nn=pe.widths[T];let Mi=yt-ge.top,ye=0-ge.left;switch(bt){case"middle":Mi-=ri/2;break;case"bottom":Mi-=ri;break}switch(V){case"center":ye-=Nn/2;break;case"right":ye-=Nn;break;case"inner":T===S-1?ye-=Nn:T>0&&(ye-=Nn/2);break}_n={left:ye,top:Mi,width:Nn+ge.width,height:ri+ge.height,color:dt.backdropColor}}w.push({label:x,font:st,textOffset:yt,options:{rotation:b,color:ct,strokeColor:kt,strokeWidth:ae,textAlign:Ie,textBaseline:bt,translation:[D,M],backdrop:_n}})}return w}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Zi(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:s,padding:o}}=this.options,a=this._getLabelSizes(),c=t+o,u=a.widest.width;let d,f;return n==="left"?s?(f=this.right+o,i==="near"?d="left":i==="center"?(d="center",f+=u/2):(d="right",f+=u)):(f=this.right-c,i==="near"?d="right":i==="center"?(d="center",f-=u/2):(d="left",f=this.left)):n==="right"?s?(f=this.left+o,i==="near"?d="right":i==="center"?(d="center",f-=u/2):(d="left",f-=u)):(f=this.left+c,i==="near"?d="left":i==="center"?(d="center",f+=u/2):(d="right",f=this.right)):d="right",{textAlign:d,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:s,width:o,height:a}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,s,o,a),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(o=>o.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,a;const c=(u,d,f)=>{!f.width||!f.color||(i.save(),i.lineWidth=f.width,i.strokeStyle=f.color,i.setLineDash(f.borderDash||[]),i.lineDashOffset=f.borderDashOffset,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(n.display)for(o=0,a=s.length;o<a;++o){const u=s[o];n.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:s}}=this,o=i.setContext(this.getContext()),a=i.display?o.width:0;if(!a)return;const c=s.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,f,g,_;this.isHorizontal()?(d=jo(t,this.left,a)-a/2,f=jo(t,this.right,c)+c/2,g=_=u):(g=jo(t,this.top,a)-a/2,_=jo(t,this.bottom,c)+c/2,d=f=u),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(d,g),n.lineTo(f,_),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&t_(i,s);const o=this.getLabelItems(t);for(const a of o){const c=a.options,u=a.font,d=a.label,f=a.textOffset;wa(i,d,0,f,u,c)}s&&e_(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const o=fn(i.font),a=Gn(i.padding),c=i.align;let u=o.lineHeight/2;n==="bottom"||n==="center"||Wt(n)?(u+=a.bottom,Ce(i.text)&&(u+=o.lineHeight*(i.text.length-1))):u+=a.top;const{titleX:d,titleY:f,maxWidth:g,rotation:_}=AG(this,u,n,c);wa(t,i.text,0,0,o,{color:i.color,maxWidth:g,rotation:_,textAlign:SG(c,n,s),textBaseline:"middle",translation:[d,f]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=Lt(t.grid&&t.grid.z,-1),s=Lt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Ra.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let o,a;for(o=0,a=n.length;o<a;++o){const c=n[o];c[i]===this.id&&(!t||c.type===t)&&s.push(c)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return fn(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class bp{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;RG(n)&&(i=this.register(n));const s=this.items,o=t.id,a=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in s||(s[o]=t,CG(t,a,i),this.override&&He.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,s=this.scope;i in n&&delete n[i],s&&i in He[s]&&(delete He[s][i],this.override&&delete ba[i])}}function CG(e,t,n){const i=Jh(Object.create(null),[n?He.get(n):{},He.get(t),e.defaults]);He.set(t,i),e.defaultRoutes&&PG(t,e.defaultRoutes),e.descriptors&&He.describe(t,e.descriptors)}function PG(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),o=[e].concat(i).join("."),a=t[n].split("."),c=a.pop(),u=a.join(".");He.route(o,s,u,c)})}function RG(e){return"id"in e&&"defaults"in e}class kG{constructor(){this.controllers=new bp(es,"datasets",!0),this.elements=new bp(yr,"elements"),this.plugins=new bp(Object,"plugins"),this.scales=new bp(Ra,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(s=>{const o=i||this._getRegistryForType(s);i||o.isForType(s)||o===this.plugins&&s.id?this._exec(t,o,s):de(s,a=>{const c=i||this._getRegistryForType(a);this._exec(t,c,a)})})}_exec(t,n,i){const s=Zw(t);be(i["before"+s],[],i),n[t](i),be(i["after"+s],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var ms=new kG;class xG{constructor(){this._init=[]}notify(t,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=s?this._descriptors(t).filter(s):this._descriptors(t),a=this._notify(o,t,n,i);return n==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,n,i,s){s=s||{};for(const o of t){const a=o.plugin,c=a[i],u=[n,s,o.options];if(be(c,u,a)===!1&&s.cancelable)return!1}return!0}invalidate(){ee(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,s=Lt(i.options&&i.options.plugins,{}),o=DG(i);return s===!1&&!n?[]:MG(t,o,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,s=(o,a)=>o.filter(c=>!a.some(u=>c.plugin.id===u.plugin.id));this._notify(s(n,i),t,"stop"),this._notify(s(i,n),t,"start")}}function DG(e){const t={},n=[],i=Object.keys(ms.plugins.items);for(let o=0;o<i.length;o++)n.push(ms.getPlugin(i[o]));const s=e.plugins||[];for(let o=0;o<s.length;o++){const a=s[o];n.indexOf(a)===-1&&(n.push(a),t[a.id]=!0)}return{plugins:n,localIds:t}}function OG(e,t){return!t&&e===!1?null:e===!0?{}:e}function MG(e,{plugins:t,localIds:n},i,s){const o=[],a=e.getContext();for(const c of t){const u=c.id,d=OG(i[u],s);d!==null&&o.push({plugin:c,options:NG(e.config,{plugin:c,local:n[u]},d,a)})}return o}function NG(e,{plugin:t,local:n},i,s){const o=e.pluginScopeKeys(t),a=e.getOptionScopes(i,o);return n&&t.defaults&&a.push(t.defaults),e.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Mb(e,t){const n=He.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function LG(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function VG(e,t){return e===t?"_index_":"_value_"}function GP(e){if(e==="x"||e==="y"||e==="r")return e}function FG(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Nb(e,...t){if(GP(e))return e;for(const n of t){const i=n.axis||FG(n.position)||e.length>1&&GP(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function YP(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function UG(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return YP(e,"x",n[0])||YP(e,"y",n[0])}return{}}function BG(e,t){const n=ba[e.type]||{scales:{}},i=t.scales||{},s=Mb(e.type,t),o=Object.create(null);return Object.keys(i).forEach(a=>{const c=i[a];if(!Wt(c))return console.error(`Invalid scale configuration for scale: ${a}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const u=Nb(a,c,UG(a,e),He.scales[c.type]),d=VG(u,s),f=n.scales||{};o[a]=_h(Object.create(null),[{axis:u},c,f[u],f[d]])}),e.data.datasets.forEach(a=>{const c=a.type||e.type,u=a.indexAxis||Mb(c,t),f=(ba[c]||{}).scales||{};Object.keys(f).forEach(g=>{const _=LG(g,u),v=a[_+"AxisID"]||_;o[v]=o[v]||Object.create(null),_h(o[v],[{axis:_},i[v],f[g]])})}),Object.keys(o).forEach(a=>{const c=o[a];_h(c,[He.scales[c.type],He.scale])}),o}function RM(e){const t=e.options||(e.options={});t.plugins=Lt(t.plugins,{}),t.scales=BG(e,t)}function kM(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function jG(e){return e=e||{},e.data=kM(e.data),RM(e),e}const XP=new Map,xM=new Set;function wp(e,t){let n=XP.get(e);return n||(n=t(),XP.set(e,n),xM.add(n)),n}const Uu=(e,t,n)=>{const i=po(t,n);i!==void 0&&e.add(i)};class $G{constructor(t){this._config=jG(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=kM(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),RM(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return wp(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return wp(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return wp(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return wp(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let s=i.get(t);return(!s||n)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,n,i){const{options:s,type:o}=this,a=this._cachedScopes(t,i),c=a.get(n);if(c)return c;const u=new Set;n.forEach(f=>{t&&(u.add(t),f.forEach(g=>Uu(u,t,g))),f.forEach(g=>Uu(u,s,g)),f.forEach(g=>Uu(u,ba[o]||{},g)),f.forEach(g=>Uu(u,He,g)),f.forEach(g=>Uu(u,xb,g))});const d=Array.from(u);return d.length===0&&d.push(Object.create(null)),xM.has(n)&&a.set(n,d),d}chartOptionScopes(){const{options:t,type:n}=this;return[t,ba[n]||{},He.datasets[n]||{},{type:n},He,xb]}resolveNamedOptions(t,n,i,s=[""]){const o={$shared:!0},{resolver:a,subPrefixes:c}=QP(this._resolverCache,t,s);let u=a;if(zG(a,n)){o.$shared=!1,i=go(i)?i():i;const d=this.createResolver(t,i,c);u=oc(a,i,d)}for(const d of n)o[d]=u[d];return o}createResolver(t,n,i=[""],s){const{resolver:o}=QP(this._resolverCache,t,i);return Wt(n)?oc(o,n,void 0,s):o}}function QP(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let o=i.get(s);return o||(o={resolver:r1(t,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},i.set(s,o)),o}const HG=e=>Wt(e)&&Object.getOwnPropertyNames(e).some(t=>go(e[t]));function zG(e,t){const{isScriptable:n,isIndexable:i}=uM(e);for(const s of t){const o=n(s),a=i(s),c=(a||o)&&e[s];if(o&&(go(c)||HG(c))||a&&Ce(c))return!0}return!1}var WG="4.4.2";const qG=["top","bottom","left","right","chartArea"];function JP(e,t){return e==="top"||e==="bottom"||qG.indexOf(e)===-1&&t==="x"}function ZP(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function tR(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),be(n&&n.onComplete,[e],t)}function KG(e){const t=e.chart,n=t.options.animation;be(n&&n.onProgress,[e],t)}function DM(e){return l1()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Yp={},eR=e=>{const t=DM(e);return Object.values(Yp).filter(n=>n.canvas===t).pop()};function GG(e,t,n){const i=Object.keys(e);for(const s of i){const o=+s;if(o>=t){const a=e[s];delete e[s],(n>0||o>t)&&(e[o+n]=a)}}}function YG(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}function Ep(e,t,n){return e.options.clip?e[n]:t[n]}function XG(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:Ep(n,t,"left"),right:Ep(n,t,"right"),top:Ep(i,t,"top"),bottom:Ep(i,t,"bottom")}:t}class Xi{static register(...t){ms.add(...t),nR()}static unregister(...t){ms.remove(...t),nR()}constructor(t,n){const i=this.config=new $G(n),s=DM(t),o=eR(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||fG(s)),this.platform.updateConfig(i);const c=this.platform.acquireContext(s,a.aspectRatio),u=c&&c.canvas,d=u&&u.height,f=u&&u.width;if(this.id=JW(),this.ctx=c,this.canvas=u,this.width=f,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new xG,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=pq(g=>this.update(g),a.resizeDelay||0),this._dataChanges=[],Yp[this.id]=this,!c||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Gs.listen(this,"complete",tR),Gs.listen(this,"progress",KG),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:s,_aspectRatio:o}=this;return ee(t)?n&&o?o:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ms}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():IP(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return bP(this.canvas,this.ctx),this}stop(){return Gs.stop(this),this}resize(t,n){Gs.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,s=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,t,n,o),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,IP(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),be(i.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};de(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,s=Object.keys(i).reduce((a,c)=>(a[c]=!1,a),{});let o=[];n&&(o=o.concat(Object.keys(n).map(a=>{const c=n[a],u=Nb(a,c),d=u==="r",f=u==="x";return{options:c,dposition:d?"chartArea":f?"bottom":"left",dtype:d?"radialLinear":f?"category":"linear"}}))),de(o,a=>{const c=a.options,u=c.id,d=Nb(u,c),f=Lt(c.type,a.dtype);(c.position===void 0||JP(c.position,d)!==JP(a.dposition))&&(c.position=a.dposition),s[u]=!0;let g=null;if(u in i&&i[u].type===f)g=i[u];else{const _=ms.getScale(f);g=new _({id:u,type:f,ctx:this.ctx,chart:this}),i[g.id]=g}g.init(c,t)}),de(s,(a,c)=>{a||delete i[c]}),de(i,a=>{$n.configure(this,a,a.options),$n.addBox(this,a)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((s,o)=>s.index-o.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(ZP("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,s)=>{n.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const o=n[i];let a=this.getDatasetMeta(i);const c=o.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=c,a.indexAxis=o.indexAxis||Mb(c,this.options),a.order=o.order||0,a.index=i,a.label=""+o.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const u=ms.getController(c),{datasetElementType:d,dataElementType:f}=He.datasets[c];Object.assign(u,{dataElementType:ms.getElement(f),datasetElementType:d&&ms.getElement(d)}),a.controller=new u(this,i),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){de(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,f=this.data.datasets.length;d<f;d++){const{controller:g}=this.getDatasetMeta(d),_=!s&&o.indexOf(g)===-1;g.buildOrUpdateElements(_),a=Math.max(+g.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),s||de(o,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(ZP("z","_idx"));const{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){de(this.scales,t=>{$n.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!hP(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:o}of n){const a=i==="_removeElements"?-o:o;GG(t,s,a)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=o=>new Set(t.filter(a=>a[0]===o).map((a,c)=>c+","+a.splice(1).join(","))),s=i(0);for(let o=1;o<n;o++)if(!hP(s,i(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;$n.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],de(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,go(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Gs.has(this)?this.attached&&!Gs.running(this)&&Gs.start(this):(this.draw(),tR({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resize(i,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];(!t||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i=t._clip,s=!i.disabled,o=XG(t,this.chartArea),a={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(s&&t_(n,{left:i.left===!1?0:o.left-i.left,right:i.right===!1?this.width:o.right+i.right,top:i.top===!1?0:o.top-i.top,bottom:i.bottom===!1?this.height:o.bottom+i.bottom}),t.controller.draw(),s&&e_(n),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return nr(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,s){const o=qK.modes[n];return typeof o=="function"?o(this,t,i,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let s=i.filter(o=>o&&o._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=bo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const s=i?"show":"hide",o=this.getDatasetMeta(t),a=o.controller._resolveAnimations(void 0,s);Zh(n)?(o.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(o,{visible:i}),this.update(c=>c.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Gs.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),bP(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Yp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(o,a)=>{n.addEventListener(this,o,a),t[o]=a},s=(o,a,c)=>{o.offsetX=a,o.offsetY=c,this._eventHandler(o)};de(this.options.events,o=>i(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(u,d)=>{n.addEventListener(this,u,d),t[u]=d},s=(u,d)=>{t[u]&&(n.removeEventListener(this,u,d),delete t[u])},o=(u,d)=>{this.canvas&&this.resize(u,d)};let a;const c=()=>{s("attach",c),this.attached=!0,this.resize(),i("resize",o),i("detach",a)};a=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),i("attach",c)},n.isAttached(this.canvas)?c():a()}unbindEvents(){de(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},de(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const s=i?"set":"remove";let o,a,c,u;for(n==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),c=0,u=t.length;c<u;++c){a=t[c];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:o,index:a})=>{const c=this.getDatasetMeta(o);if(!c)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:c.data[a],index:a}});!kg(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const s=this.options.hover,o=(u,d)=>u.filter(f=>!d.some(g=>f.datasetIndex===g.datasetIndex&&f.index===g.index)),a=o(n,t),c=i?t:o(t,n);a.length&&this.updateHoverStyle(a,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const o=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(o||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:s=[],options:o}=this,a=n,c=this._getActiveElements(t,s,i,a),u=sq(t),d=YG(t,this._lastEvent,i,u);i&&(this._lastEvent=null,be(o.onHover,[t,c,this],this),u&&be(o.onClick,[t,c,this],this));const f=!kg(c,s);return(f||n)&&(this._active=c,this._updateHoverStyles(c,s,n)),this._lastEvent=d,f}_getActiveElements(t,n,i,s){if(t.type==="mouseout")return[];if(!i)return n;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,s)}}Q(Xi,"defaults",He),Q(Xi,"instances",Yp),Q(Xi,"overrides",ba),Q(Xi,"registry",ms),Q(Xi,"version",WG),Q(Xi,"getChart",eR);function nR(){return de(Xi.instances,e=>e._plugins.invalidate())}function QG(e,t,n){const{startAngle:i,pixelMargin:s,x:o,y:a,outerRadius:c,innerRadius:u}=t;let d=s/c;e.beginPath(),e.arc(o,a,c,i-d,n+d),u>s?(d=s/u,e.arc(o,a,u,n+d,i-d,!0)):e.arc(o,a,s,n+tn,i-tn),e.closePath(),e.clip()}function JG(e){return s1(e,["outerStart","outerEnd","innerStart","innerEnd"])}function ZG(e,t,n,i){const s=JG(e.options.borderRadius),o=(n-t)/2,a=Math.min(o,i*t/2),c=u=>{const d=(n-Math.min(o,u))*i/2;return In(u,0,Math.min(o,d))};return{outerStart:c(s.outerStart),outerEnd:c(s.outerEnd),innerStart:In(s.innerStart,0,a),innerEnd:In(s.innerEnd,0,a)}}function vl(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function Lg(e,t,n,i,s,o){const{x:a,y:c,startAngle:u,pixelMargin:d,innerRadius:f}=t,g=Math.max(t.outerRadius+i+n-d,0),_=f>0?f+i+n+d:0;let v=0;const I=s-u;if(i){const dt=f>0?f-i:0,Y=g>0?g-i:0,ct=(dt+Y)/2,kt=ct!==0?I*ct/(ct+i):I;v=(I-kt)/2}const b=Math.max(.001,I*g-n/Re)/g,w=(I-b)/2,T=u+w+v,S=s-w-v,{outerStart:k,outerEnd:x,innerStart:D,innerEnd:M}=ZG(t,_,g,S-T),V=g-k,z=g-x,st=T+k/V,gt=S-x/z,J=_+D,yt=_+M,bt=T+D/J,pe=S-M/yt;if(e.beginPath(),o){const dt=(st+gt)/2;if(e.arc(a,c,g,st,dt),e.arc(a,c,g,dt,gt),x>0){const ae=vl(z,gt,a,c);e.arc(ae.x,ae.y,x,gt,S+tn)}const Y=vl(yt,S,a,c);if(e.lineTo(Y.x,Y.y),M>0){const ae=vl(yt,pe,a,c);e.arc(ae.x,ae.y,M,S+tn,pe+Math.PI)}const ct=(S-M/_+(T+D/_))/2;if(e.arc(a,c,_,S-M/_,ct,!0),e.arc(a,c,_,ct,T+D/_,!0),D>0){const ae=vl(J,bt,a,c);e.arc(ae.x,ae.y,D,bt+Math.PI,T-tn)}const kt=vl(V,T,a,c);if(e.lineTo(kt.x,kt.y),k>0){const ae=vl(V,st,a,c);e.arc(ae.x,ae.y,k,T-tn,st)}}else{e.moveTo(a,c);const dt=Math.cos(st)*g+a,Y=Math.sin(st)*g+c;e.lineTo(dt,Y);const ct=Math.cos(gt)*g+a,kt=Math.sin(gt)*g+c;e.lineTo(ct,kt)}e.closePath()}function tY(e,t,n,i,s){const{fullCircles:o,startAngle:a,circumference:c}=t;let u=t.endAngle;if(o){Lg(e,t,n,i,u,s);for(let d=0;d<o;++d)e.fill();isNaN(c)||(u=a+(c%Pe||Pe))}return Lg(e,t,n,i,u,s),e.fill(),u}function eY(e,t,n,i,s){const{fullCircles:o,startAngle:a,circumference:c,options:u}=t,{borderWidth:d,borderJoinStyle:f,borderDash:g,borderDashOffset:_}=u,v=u.borderAlign==="inner";if(!d)return;e.setLineDash(g||[]),e.lineDashOffset=_,v?(e.lineWidth=d*2,e.lineJoin=f||"round"):(e.lineWidth=d,e.lineJoin=f||"bevel");let I=t.endAngle;if(o){Lg(e,t,n,i,I,s);for(let b=0;b<o;++b)e.stroke();isNaN(c)||(I=a+(c%Pe||Pe))}v&&QG(e,t,I),o||(Lg(e,t,n,i,I,s),e.stroke())}class Ju extends yr{constructor(n){super();Q(this,"circumference");Q(this,"endAngle");Q(this,"fullCircles");Q(this,"innerRadius");Q(this,"outerRadius");Q(this,"pixelMargin");Q(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,s){const o=this.getProps(["x","y"],s),{angle:a,distance:c}=tM(o,{x:n,y:i}),{startAngle:u,endAngle:d,innerRadius:f,outerRadius:g,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),v=(this.options.spacing+this.options.borderWidth)/2,b=Lt(_,d-u)>=Pe||td(a,u,d),w=tr(c,f+v,g+v);return b&&w}getCenterPoint(n){const{x:i,y:s,startAngle:o,endAngle:a,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:d,spacing:f}=this.options,g=(o+a)/2,_=(c+u+f+d)/2;return{x:i+Math.cos(g)*_,y:s+Math.sin(g)*_}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:s}=this,o=(i.offset||0)/4,a=(i.spacing||0)/2,c=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>Pe?Math.floor(s/Pe):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const u=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(u)*o,Math.sin(u)*o);const d=1-Math.sin(Math.min(Re,s||0)),f=o*d;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,tY(n,this,f,a,c),eY(n,this,f,a,c),n.restore()}}Q(Ju,"id","arc"),Q(Ju,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Q(Ju,"defaultRoutes",{backgroundColor:"backgroundColor"}),Q(Ju,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function OM(e,t,n=t){e.lineCap=Lt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Lt(n.borderDash,t.borderDash)),e.lineDashOffset=Lt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Lt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Lt(n.borderWidth,t.borderWidth),e.strokeStyle=Lt(n.borderColor,t.borderColor)}function nY(e,t,n){e.lineTo(n.x,n.y)}function iY(e){return e.stepped?Aq:e.tension||e.cubicInterpolationMode==="monotone"?Cq:nY}function MM(e,t,n={}){const i=e.length,{start:s=0,end:o=i-1}=n,{start:a,end:c}=t,u=Math.max(s,a),d=Math.min(o,c),f=s<a&&o<a||s>c&&o>c;return{count:i,start:u,loop:t.loop,ilen:d<u&&!f?i+d-u:d-u}}function sY(e,t,n,i){const{points:s,options:o}=t,{count:a,start:c,loop:u,ilen:d}=MM(s,n,i),f=iY(o);let{move:g=!0,reverse:_}=i||{},v,I,b;for(v=0;v<=d;++v)I=s[(c+(_?d-v:v))%a],!I.skip&&(g?(e.moveTo(I.x,I.y),g=!1):f(e,b,I,_,o.stepped),b=I);return u&&(I=s[(c+(_?d:0))%a],f(e,b,I,_,o.stepped)),!!u}function rY(e,t,n,i){const s=t.points,{count:o,start:a,ilen:c}=MM(s,n,i),{move:u=!0,reverse:d}=i||{};let f=0,g=0,_,v,I,b,w,T;const S=x=>(a+(d?c-x:x))%o,k=()=>{b!==w&&(e.lineTo(f,w),e.lineTo(f,b),e.lineTo(f,T))};for(u&&(v=s[S(0)],e.moveTo(v.x,v.y)),_=0;_<=c;++_){if(v=s[S(_)],v.skip)continue;const x=v.x,D=v.y,M=x|0;M===I?(D<b?b=D:D>w&&(w=D),f=(g*f+x)/++g):(k(),e.lineTo(x,D),I=M,g=0,b=w=D),T=D}k()}function Lb(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?rY:sY}function oY(e){return e.stepped?rK:e.tension||e.cubicInterpolationMode==="monotone"?oK:qo}function aY(e,t,n,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,i)&&s.closePath()),OM(e,t.options),e.stroke(s)}function lY(e,t,n,i){const{segments:s,options:o}=t,a=Lb(t);for(const c of s)OM(e,o,c.style),e.beginPath(),a(e,t,c,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const cY=typeof Path2D=="function";function uY(e,t,n,i){cY&&!t.options.segment?aY(e,t,n,i):lY(e,t,n,i)}class Qr extends yr{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;Qq(this._points,i,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=dK(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,s=t[n],o=this.points,a=bM(this,{property:n,start:s,end:s});if(!a.length)return;const c=[],u=oY(i);let d,f;for(d=0,f=a.length;d<f;++d){const{start:g,end:_}=a[d],v=o[g],I=o[_];if(v===I){c.push(v);continue}const b=Math.abs((s-v[n])/(I[n]-v[n])),w=u(v,I,b,i.stepped);w[n]=t[n],c.push(w)}return c.length===1?c[0]:c}pathSegment(t,n,i){return Lb(this)(t,this,n,i)}path(t,n,i){const s=this.segments,o=Lb(this);let a=this._loop;n=n||0,i=i||this.points.length-n;for(const c of s)a&=o(t,this,c,{start:n,end:n+i-1});return!!a}draw(t,n,i,s){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),uY(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Q(Qr,"id","line"),Q(Qr,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Q(Qr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Q(Qr,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function iR(e,t,n,i){const s=e.options,{[n]:o}=e.getProps([n],i);return Math.abs(t-o)<s.radius+s.hitRadius}class Xp extends yr{constructor(n){super();Q(this,"parsed");Q(this,"skip");Q(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const o=this.options,{x:a,y:c}=this.getProps(["x","y"],s);return Math.pow(n-a,2)+Math.pow(i-c,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(n,i){return iR(this,n,"x",i)}inYRange(n,i){return iR(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!nr(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,Db(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Q(Xp,"id","point"),Q(Xp,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Q(Xp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function NM(e,t){const{x:n,y:i,base:s,width:o,height:a}=e.getProps(["x","y","base","width","height"],t);let c,u,d,f,g;return e.horizontal?(g=a/2,c=Math.min(n,s),u=Math.max(n,s),d=i-g,f=i+g):(g=o/2,c=n-g,u=n+g,d=Math.min(i,s),f=Math.max(i,s)),{left:c,top:d,right:u,bottom:f}}function Jr(e,t,n,i){return e?0:In(t,n,i)}function hY(e,t,n){const i=e.options.borderWidth,s=e.borderSkipped,o=cM(i);return{t:Jr(s.top,o.top,0,n),r:Jr(s.right,o.right,0,t),b:Jr(s.bottom,o.bottom,0,n),l:Jr(s.left,o.left,0,t)}}function dY(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,o=ca(s),a=Math.min(t,n),c=e.borderSkipped,u=i||Wt(s);return{topLeft:Jr(!u||c.top||c.left,o.topLeft,0,a),topRight:Jr(!u||c.top||c.right,o.topRight,0,a),bottomLeft:Jr(!u||c.bottom||c.left,o.bottomLeft,0,a),bottomRight:Jr(!u||c.bottom||c.right,o.bottomRight,0,a)}}function fY(e){const t=NM(e),n=t.right-t.left,i=t.bottom-t.top,s=hY(e,n/2,i/2),o=dY(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:o},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,o.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(s.b,s.r))}}}}function Av(e,t,n,i){const s=t===null,o=n===null,c=e&&!(s&&o)&&NM(e,i);return c&&(s||tr(t,c.left,c.right))&&(o||tr(n,c.top,c.bottom))}function pY(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function gY(e,t){e.rect(t.x,t.y,t.w,t.h)}function Cv(e,t,n={}){const i=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,o=(e.x+e.w!==n.x+n.w?t:0)-i,a=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+o,h:e.h+a,radius:e.radius}}class Qp extends yr{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:o,outer:a}=fY(this),c=pY(a.radius)?ed:gY;t.save(),(a.w!==o.w||a.h!==o.h)&&(t.beginPath(),c(t,Cv(a,n,o)),t.clip(),c(t,Cv(o,-n,a)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),c(t,Cv(o,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,i){return Av(this,t,n,i)}inXRange(t,n){return Av(this,t,null,n)}inYRange(t,n){return Av(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:s,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(n+s)/2:n,y:o?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Q(Qp,"id","bar"),Q(Qp,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Q(Qp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var mY=Object.freeze({__proto__:null,ArcElement:Ju,BarElement:Qp,LineElement:Qr,PointElement:Xp});const Vb=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],sR=Vb.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function LM(e){return Vb[e%Vb.length]}function VM(e){return sR[e%sR.length]}function _Y(e,t){return e.borderColor=LM(t),e.backgroundColor=VM(t),++t}function yY(e,t){return e.backgroundColor=e.data.map(()=>LM(t++)),t}function vY(e,t){return e.backgroundColor=e.data.map(()=>VM(t++)),t}function bY(e){let t=0;return(n,i)=>{const s=e.getDatasetMeta(i).controller;s instanceof na?t=yY(n,t):s instanceof wh?t=vY(n,t):s&&(t=_Y(n,t))}}function rR(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function wY(e){return e&&(e.borderColor||e.backgroundColor)}var EY={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:i},options:s}=e.config,{elements:o}=s;if(!n.forceOverride&&(rR(i)||wY(s)||o&&rR(o)))return;const a=bY(e);i.forEach(a)}};function IY(e,t,n,i,s){const o=s.samples||i;if(o>=n)return e.slice(t,t+n);const a=[],c=(n-2)/(o-2);let u=0;const d=t+n-1;let f=t,g,_,v,I,b;for(a[u++]=e[f],g=0;g<o-2;g++){let w=0,T=0,S;const k=Math.floor((g+1)*c)+1+t,x=Math.min(Math.floor((g+2)*c)+1,n)+t,D=x-k;for(S=k;S<x;S++)w+=e[S].x,T+=e[S].y;w/=D,T/=D;const M=Math.floor(g*c)+1+t,V=Math.min(Math.floor((g+1)*c)+1,n)+t,{x:z,y:st}=e[f];for(v=I=-1,S=M;S<V;S++)I=.5*Math.abs((z-w)*(e[S].y-st)-(z-e[S].x)*(T-st)),I>v&&(v=I,_=e[S],b=S);a[u++]=_,f=b}return a[u++]=e[d],a}function TY(e,t,n,i){let s=0,o=0,a,c,u,d,f,g,_,v,I,b;const w=[],T=t+n-1,S=e[t].x,x=e[T].x-S;for(a=t;a<t+n;++a){c=e[a],u=(c.x-S)/x*i,d=c.y;const D=u|0;if(D===f)d<I?(I=d,g=a):d>b&&(b=d,_=a),s=(o*s+c.x)/++o;else{const M=a-1;if(!ee(g)&&!ee(_)){const V=Math.min(g,_),z=Math.max(g,_);V!==v&&V!==M&&w.push({...e[V],x:s}),z!==v&&z!==M&&w.push({...e[z],x:s})}a>0&&M!==v&&w.push(e[M]),w.push(c),f=D,o=0,I=b=d,g=_=v=a}}return w}function FM(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function oR(e){e.data.datasets.forEach(t=>{FM(t)})}function SY(e,t){const n=t.length;let i=0,s;const{iScale:o}=e,{min:a,max:c,minDefined:u,maxDefined:d}=o.getUserBounds();return u&&(i=In(er(t,o.axis,a).lo,0,n-1)),d?s=In(er(t,o.axis,c).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var AY={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){oR(e);return}const i=e.width;e.data.datasets.forEach((s,o)=>{const{_data:a,indexAxis:c}=s,u=e.getDatasetMeta(o),d=a||s.data;if(Xu([c,e.options.indexAxis])==="y"||!u.controller.supportsDecimation)return;const f=e.scales[u.xAxisID];if(f.type!=="linear"&&f.type!=="time"||e.options.parsing)return;let{start:g,count:_}=SY(u,d);const v=n.threshold||4*i;if(_<=v){FM(s);return}ee(a)&&(s._data=d,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(b){this._data=b}}));let I;switch(n.algorithm){case"lttb":I=IY(d,g,_,i,n);break;case"min-max":I=TY(d,g,_,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=I})},destroy(e){oR(e)}};function CY(e,t,n){const i=e.segments,s=e.points,o=t.points,a=[];for(const c of i){let{start:u,end:d}=c;d=h1(u,d,s);const f=Fb(n,s[u],s[d],c.loop);if(!t.segments){a.push({source:c,target:f,start:s[u],end:s[d]});continue}const g=bM(t,f);for(const _ of g){const v=Fb(n,o[_.start],o[_.end],_.loop),I=vM(c,s,v);for(const b of I)a.push({source:b,target:_,start:{[n]:aR(f,v,"start",Math.max)},end:{[n]:aR(f,v,"end",Math.min)}})}}return a}function Fb(e,t,n,i){if(i)return;let s=t[e],o=n[e];return e==="angle"&&(s=Ai(s),o=Ai(o)),{property:e,start:s,end:o}}function PY(e,t){const{x:n=null,y:i=null}=e||{},s=t.points,o=[];return t.segments.forEach(({start:a,end:c})=>{c=h1(a,c,s);const u=s[a],d=s[c];i!==null?(o.push({x:u.x,y:i}),o.push({x:d.x,y:i})):n!==null&&(o.push({x:n,y:u.y}),o.push({x:n,y:d.y}))}),o}function h1(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function aR(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function UM(e,t){let n=[],i=!1;return Ce(e)?(i=!0,n=e):n=PY(e,t),n.length?new Qr({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function lR(e){return e&&e.fill!==!1}function RY(e,t,n){let s=e[t].fill;const o=[t];let a;if(!n)return s;for(;s!==!1&&o.indexOf(s)===-1;){if(!$e(s))return s;if(a=e[s],!a)return!1;if(a.visible)return s;o.push(s),s=a.fill}return!1}function kY(e,t,n){const i=MY(e);if(Wt(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return $e(s)&&Math.floor(s)===s?xY(i[0],t,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function xY(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function DY(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:Wt(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function OY(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:Wt(e)?i=e.value:i=t.getBaseValue(),i}function MY(e){const t=e.options,n=t.fill;let i=Lt(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function NY(e){const{scale:t,index:n,line:i}=e,s=[],o=i.segments,a=i.points,c=LY(t,n);c.push(UM({x:null,y:t.bottom},i));for(let u=0;u<o.length;u++){const d=o[u];for(let f=d.start;f<=d.end;f++)VY(s,a[f],c)}return new Qr({points:s,options:{}})}function LY(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const o=i[s];if(o.index===t)break;o.hidden||n.unshift(o.dataset)}return n}function VY(e,t,n){const i=[];for(let s=0;s<n.length;s++){const o=n[s],{first:a,last:c,point:u}=FY(o,t,"x");if(!(!u||a&&c)){if(a)i.unshift(u);else if(e.push(u),!c)break}}e.push(...i)}function FY(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const s=i[n],o=e.segments,a=e.points;let c=!1,u=!1;for(let d=0;d<o.length;d++){const f=o[d],g=a[f.start][n],_=a[f.end][n];if(tr(s,g,_)){c=s===g,u=s===_;break}}return{first:c,last:u,point:i}}class BM{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:s,y:o,radius:a}=this;return n=n||{start:0,end:Pe},t.arc(s,o,a,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:s}=this,o=t.angle;return{x:n+Math.cos(o)*s,y:i+Math.sin(o)*s,angle:o}}}function UY(e){const{chart:t,fill:n,line:i}=e;if($e(n))return BY(t,n);if(n==="stack")return NY(e);if(n==="shape")return!0;const s=jY(e);return s instanceof BM?s:UM(s,i)}function BY(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function jY(e){return(e.scale||{}).getPointPositionForValue?HY(e):$Y(e)}function $Y(e){const{scale:t={},fill:n}=e,i=DY(n,t);if($e(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function HY(e){const{scale:t,fill:n}=e,i=t.options,s=t.getLabels().length,o=i.reverse?t.max:t.min,a=OY(n,t,o),c=[];if(i.grid.circular){const u=t.getPointPositionForValue(0,o);return new BM({x:u.x,y:u.y,radius:t.getDistanceFromCenterForValue(a)})}for(let u=0;u<s;++u)c.push(t.getPointPositionForValue(u,a));return c}function Pv(e,t,n){const i=UY(t),{line:s,scale:o,axis:a}=t,c=s.options,u=c.fill,d=c.backgroundColor,{above:f=d,below:g=d}=u||{};i&&s.points.length&&(t_(e,n),zY(e,{line:s,target:i,above:f,below:g,area:n,scale:o,axis:a}),e_(e))}function zY(e,t){const{line:n,target:i,above:s,below:o,area:a,scale:c}=t,u=n._loop?"angle":t.axis;e.save(),u==="x"&&o!==s&&(cR(e,i,a.top),uR(e,{line:n,target:i,color:s,scale:c,property:u}),e.restore(),e.save(),cR(e,i,a.bottom)),uR(e,{line:n,target:i,color:o,scale:c,property:u}),e.restore()}function cR(e,t,n){const{segments:i,points:s}=t;let o=!0,a=!1;e.beginPath();for(const c of i){const{start:u,end:d}=c,f=s[u],g=s[h1(u,d,s)];o?(e.moveTo(f.x,f.y),o=!1):(e.lineTo(f.x,n),e.lineTo(f.x,f.y)),a=!!t.pathSegment(e,c,{move:a}),a?e.closePath():e.lineTo(g.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function uR(e,t){const{line:n,target:i,property:s,color:o,scale:a}=t,c=CY(n,i,s);for(const{source:u,target:d,start:f,end:g}of c){const{style:{backgroundColor:_=o}={}}=u,v=i!==!0;e.save(),e.fillStyle=_,WY(e,a,v&&Fb(s,f,g)),e.beginPath();const I=!!n.pathSegment(e,u);let b;if(v){I?e.closePath():hR(e,i,g,s);const w=!!i.pathSegment(e,d,{move:I,reverse:!0});b=I&&w,b||hR(e,i,f,s)}e.closePath(),e.fill(b?"evenodd":"nonzero"),e.restore()}}function WY(e,t,n){const{top:i,bottom:s}=t.chart.chartArea,{property:o,start:a,end:c}=n||{};o==="x"&&(e.beginPath(),e.rect(a,i,c-a,s-i),e.clip())}function hR(e,t,n,i){const s=t.interpolate(n,i);s&&e.lineTo(s.x,s.y)}var qY={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,s=[];let o,a,c,u;for(a=0;a<i;++a)o=e.getDatasetMeta(a),c=o.dataset,u=null,c&&c.options&&c instanceof Qr&&(u={visible:e.isDatasetVisible(a),index:a,fill:kY(c,a,i),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:c}),o.$filler=u,s.push(u);for(a=0;a<i;++a)u=s[a],!(!u||u.fill===!1)&&(u.fill=RY(s,a,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",s=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let a=s.length-1;a>=0;--a){const c=s[a].$filler;c&&(c.line.updateControlPoints(o,c.axis),i&&c.fill&&Pv(e.ctx,c,o))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const o=i[s].$filler;lR(o)&&Pv(e.ctx,o,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!lR(i)||n.drawTime!=="beforeDatasetDraw"||Pv(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const dR=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},KY=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class fR extends yr{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=be(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=fn(i.font),o=s.size,a=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=dR(i,o);let d,f;n.font=s.string,this.isHorizontal()?(d=this.maxWidth,f=this._fitRows(a,o,c,u)+10):(f=this.maxHeight,d=this._fitCols(a,s,c,u)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(f,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,s){const{ctx:o,maxWidth:a,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],f=s+c;let g=t;o.textAlign="left",o.textBaseline="middle";let _=-1,v=-f;return this.legendItems.forEach((I,b)=>{const w=i+n/2+o.measureText(I.text).width;(b===0||d[d.length-1]+w+2*c>a)&&(g+=f,d[d.length-(b>0?0:1)]=0,v+=f,_++),u[b]={left:0,top:v,row:_,width:w,height:s},d[d.length-1]+=w+c}),g}_fitCols(t,n,i,s){const{ctx:o,maxHeight:a,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],f=a-t;let g=c,_=0,v=0,I=0,b=0;return this.legendItems.forEach((w,T)=>{const{itemWidth:S,itemHeight:k}=GY(i,n,o,w,s);T>0&&v+k+2*c>f&&(g+=_+c,d.push({width:_,height:v}),I+=_+c,b++,_=v=0),u[T]={left:I,top:v,col:b,width:S,height:k},_=Math.max(_,S),v+=k+c}),g+=_,d.push({width:_,height:v}),g}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:o}}=this,a=jl(o,this.left,this.width);if(this.isHorizontal()){let c=0,u=Vn(i,this.left+s,this.right-this.lineWidths[c]);for(const d of n)c!==d.row&&(c=d.row,u=Vn(i,this.left+s,this.right-this.lineWidths[c])),d.top+=this.top+t+s,d.left=a.leftForLtr(a.x(u),d.width),u+=d.width+s}else{let c=0,u=Vn(i,this.top+t+s,this.bottom-this.columnSizes[c].height);for(const d of n)d.col!==c&&(c=d.col,u=Vn(i,this.top+t+s,this.bottom-this.columnSizes[c].height)),d.top=u,d.left+=this.left+s,d.left=a.leftForLtr(a.x(d.left),d.width),u+=d.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;t_(t,this),this._draw(),e_(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:s}=this,{align:o,labels:a}=t,c=He.color,u=jl(t.rtl,this.left,this.width),d=fn(a.font),{padding:f}=a,g=d.size,_=g/2;let v;this.drawTitle(),s.textAlign=u.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:I,boxHeight:b,itemHeight:w}=dR(a,g),T=function(M,V,z){if(isNaN(I)||I<=0||isNaN(b)||b<0)return;s.save();const st=Lt(z.lineWidth,1);if(s.fillStyle=Lt(z.fillStyle,c),s.lineCap=Lt(z.lineCap,"butt"),s.lineDashOffset=Lt(z.lineDashOffset,0),s.lineJoin=Lt(z.lineJoin,"miter"),s.lineWidth=st,s.strokeStyle=Lt(z.strokeStyle,c),s.setLineDash(Lt(z.lineDash,[])),a.usePointStyle){const gt={radius:b*Math.SQRT2/2,pointStyle:z.pointStyle,rotation:z.rotation,borderWidth:st},J=u.xPlus(M,I/2),yt=V+_;lM(s,gt,J,yt,a.pointStyleWidth&&I)}else{const gt=V+Math.max((g-b)/2,0),J=u.leftForLtr(M,I),yt=ca(z.borderRadius);s.beginPath(),Object.values(yt).some(bt=>bt!==0)?ed(s,{x:J,y:gt,w:I,h:b,radius:yt}):s.rect(J,gt,I,b),s.fill(),st!==0&&s.stroke()}s.restore()},S=function(M,V,z){wa(s,z.text,M,V+w/2,d,{strikethrough:z.hidden,textAlign:u.textAlign(z.textAlign)})},k=this.isHorizontal(),x=this._computeTitleHeight();k?v={x:Vn(o,this.left+f,this.right-i[0]),y:this.top+f+x,line:0}:v={x:this.left+f,y:Vn(o,this.top+x+f,this.bottom-n[0].height),line:0},mM(this.ctx,t.textDirection);const D=w+f;this.legendItems.forEach((M,V)=>{s.strokeStyle=M.fontColor,s.fillStyle=M.fontColor;const z=s.measureText(M.text).width,st=u.textAlign(M.textAlign||(M.textAlign=a.textAlign)),gt=I+_+z;let J=v.x,yt=v.y;u.setWidth(this.width),k?V>0&&J+gt+f>this.right&&(yt=v.y+=D,v.line++,J=v.x=Vn(o,this.left+f,this.right-i[v.line])):V>0&&yt+D>this.bottom&&(J=v.x=J+n[v.line].width+f,v.line++,yt=v.y=Vn(o,this.top+x+f,this.bottom-n[v.line].height));const bt=u.x(J);if(T(bt,yt,M),J=gq(st,J+I+_,k?J+gt:this.right,t.rtl),S(u.x(J),yt,M),k)v.x+=gt+f;else if(typeof M.text!="string"){const pe=d.lineHeight;v.y+=jM(M,pe)+f}else v.y+=D}),_M(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=fn(n.font),s=Gn(n.padding);if(!n.display)return;const o=jl(t.rtl,this.left,this.width),a=this.ctx,c=n.position,u=i.size/2,d=s.top+u;let f,g=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),f=this.top+d,g=Vn(t.align,g,this.right-_);else{const I=this.columnSizes.reduce((b,w)=>Math.max(b,w.height),0);f=d+Vn(t.align,this.top,this.bottom-I-t.labels.padding-this._computeTitleHeight())}const v=Vn(c,g,g+_);a.textAlign=o.textAlign(n1(c)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=i.string,wa(a,n.text,v,f,i)}_computeTitleHeight(){const t=this.options.title,n=fn(t.font),i=Gn(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,s,o;if(tr(t,this.left,this.right)&&tr(n,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(s=o[i],tr(t,s.left,s.left+s.width)&&tr(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!QY(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,o=KY(s,i);s&&!o&&be(n.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!o&&be(n.onHover,[t,i,this],this)}else i&&be(n.onClick,[t,i,this],this)}}function GY(e,t,n,i,s){const o=YY(i,e,t,n),a=XY(s,i,t.lineHeight);return{itemWidth:o,itemHeight:a}}function YY(e,t,n,i){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((o,a)=>o.length>a.length?o:a)),t+n.size/2+i.measureText(s).width}function XY(e,t,n){let i=e;return typeof t.text!="string"&&(i=jM(t,n)),i}function jM(e,t){const n=e.text?e.text.length:0;return t*n}function QY(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var JY={id:"legend",_element:fR,start(e,t,n){const i=e.legend=new fR({ctx:e.ctx,options:n,chart:e});$n.configure(e,i,n),$n.addBox(e,i)},stop(e){$n.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;$n.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:o,useBorderRadius:a,borderRadius:c}}=e.legend.options;return e._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(n?0:void 0),f=Gn(d.borderWidth);return{text:t[u.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:a&&(c||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class d1 extends yr{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=Ce(i.text)?i.text.length:1;this._padding=Gn(i.padding);const o=s*fn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:s,right:o,options:a}=this,c=a.align;let u=0,d,f,g;return this.isHorizontal()?(f=Vn(c,i,o),g=n+t,d=o-i):(a.position==="left"?(f=i+t,g=Vn(c,s,n),u=Re*-.5):(f=o-t,g=Vn(c,n,s),u=Re*.5),d=s-n),{titleX:f,titleY:g,maxWidth:d,rotation:u}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=fn(n.font),o=i.lineHeight/2+this._padding.top,{titleX:a,titleY:c,maxWidth:u,rotation:d}=this._drawArgs(o);wa(t,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:d,textAlign:n1(n.align),textBaseline:"middle",translation:[a,c]})}}function ZY(e,t){const n=new d1({ctx:e.ctx,options:t,chart:e});$n.configure(e,n,t),$n.addBox(e,n),e.titleBlock=n}var tX={id:"title",_element:d1,start(e,t,n){ZY(e,n)},stop(e){const t=e.titleBlock;$n.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;$n.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ip=new WeakMap;var eX={id:"subtitle",start(e,t,n){const i=new d1({ctx:e.ctx,options:n,chart:e});$n.configure(e,i,n),$n.addBox(e,i),Ip.set(e,i)},stop(e){$n.removeBox(e,Ip.get(e)),Ip.delete(e)},beforeUpdate(e,t,n){const i=Ip.get(e);$n.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Zu={average(e){if(!e.length)return!1;let t,n,i=new Set,s=0,o=0;for(t=0,n=e.length;t<n;++t){const c=e[t].element;if(c&&c.hasValue()){const u=c.tooltipPosition();i.add(u.x),s+=u.y,++o}}return{x:[...i].reduce((c,u)=>c+u)/i.size,y:s/o}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,s=Number.POSITIVE_INFINITY,o,a,c;for(o=0,a=e.length;o<a;++o){const u=e[o].element;if(u&&u.hasValue()){const d=u.getCenterPoint(),f=kb(t,d);f<s&&(s=f,c=u)}}if(c){const u=c.tooltipPosition();n=u.x,i=u.y}return{x:n,y:i}}};function gs(e,t){return t&&(Ce(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Ys(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function nX(e,t){const{element:n,datasetIndex:i,index:s}=t,o=e.getDatasetMeta(i).controller,{label:a,value:c}=o.getLabelAndValue(s);return{chart:e,label:a,parsed:o.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:c,dataset:o.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function pR(e,t){const n=e.chart.ctx,{body:i,footer:s,title:o}=e,{boxWidth:a,boxHeight:c}=t,u=fn(t.bodyFont),d=fn(t.titleFont),f=fn(t.footerFont),g=o.length,_=s.length,v=i.length,I=Gn(t.padding);let b=I.height,w=0,T=i.reduce((x,D)=>x+D.before.length+D.lines.length+D.after.length,0);if(T+=e.beforeBody.length+e.afterBody.length,g&&(b+=g*d.lineHeight+(g-1)*t.titleSpacing+t.titleMarginBottom),T){const x=t.displayColors?Math.max(c,u.lineHeight):u.lineHeight;b+=v*x+(T-v)*u.lineHeight+(T-1)*t.bodySpacing}_&&(b+=t.footerMarginTop+_*f.lineHeight+(_-1)*t.footerSpacing);let S=0;const k=function(x){w=Math.max(w,n.measureText(x).width+S)};return n.save(),n.font=d.string,de(e.title,k),n.font=u.string,de(e.beforeBody.concat(e.afterBody),k),S=t.displayColors?a+2+t.boxPadding:0,de(i,x=>{de(x.before,k),de(x.lines,k),de(x.after,k)}),S=0,n.font=f.string,de(e.footer,k),n.restore(),w+=I.width,{width:w,height:b}}function iX(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function sX(e,t,n,i){const{x:s,width:o}=i,a=n.caretSize+n.caretPadding;if(e==="left"&&s+o+a>t.width||e==="right"&&s-o-a<0)return!0}function rX(e,t,n,i){const{x:s,width:o}=n,{width:a,chartArea:{left:c,right:u}}=e;let d="center";return i==="center"?d=s<=(c+u)/2?"left":"right":s<=o/2?d="left":s>=a-o/2&&(d="right"),sX(d,e,t,n)&&(d="center"),d}function gR(e,t,n){const i=n.yAlign||t.yAlign||iX(e,n);return{xAlign:n.xAlign||t.xAlign||rX(e,t,n,i),yAlign:i}}function oX(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function aX(e,t,n){let{y:i,height:s}=e;return t==="top"?i+=n:t==="bottom"?i-=s+n:i-=s/2,i}function mR(e,t,n,i){const{caretSize:s,caretPadding:o,cornerRadius:a}=e,{xAlign:c,yAlign:u}=n,d=s+o,{topLeft:f,topRight:g,bottomLeft:_,bottomRight:v}=ca(a);let I=oX(t,c);const b=aX(t,u,d);return u==="center"?c==="left"?I+=d:c==="right"&&(I-=d):c==="left"?I-=Math.max(f,_)+s:c==="right"&&(I+=Math.max(g,v)+s),{x:In(I,0,i.width-t.width),y:In(b,0,i.height-t.height)}}function Tp(e,t,n){const i=Gn(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function _R(e){return gs([],Ys(e))}function lX(e,t,n){return bo(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function yR(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const $M={beforeTitle:Ks,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:Ks,beforeBody:Ks,beforeLabel:Ks,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return ee(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ks,afterBody:Ks,beforeFooter:Ks,footer:Ks,afterFooter:Ks};function ci(e,t,n,i){const s=e[t].call(n,i);return typeof s>"u"?$M[t].call(n,i):s}class Ub extends yr{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,o=new wM(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=lX(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,s=ci(i,"beforeTitle",this,t),o=ci(i,"title",this,t),a=ci(i,"afterTitle",this,t);let c=[];return c=gs(c,Ys(s)),c=gs(c,Ys(o)),c=gs(c,Ys(a)),c}getBeforeBody(t,n){return _R(ci(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,s=[];return de(t,o=>{const a={before:[],lines:[],after:[]},c=yR(i,o);gs(a.before,Ys(ci(c,"beforeLabel",this,o))),gs(a.lines,ci(c,"label",this,o)),gs(a.after,Ys(ci(c,"afterLabel",this,o))),s.push(a)}),s}getAfterBody(t,n){return _R(ci(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,s=ci(i,"beforeFooter",this,t),o=ci(i,"footer",this,t),a=ci(i,"afterFooter",this,t);let c=[];return c=gs(c,Ys(s)),c=gs(c,Ys(o)),c=gs(c,Ys(a)),c}_createItems(t){const n=this._active,i=this.chart.data,s=[],o=[],a=[];let c=[],u,d;for(u=0,d=n.length;u<d;++u)c.push(nX(this.chart,n[u]));return t.filter&&(c=c.filter((f,g,_)=>t.filter(f,g,_,i))),t.itemSort&&(c=c.sort((f,g)=>t.itemSort(f,g,i))),de(c,f=>{const g=yR(t.callbacks,f);s.push(ci(g,"labelColor",this,f)),o.push(ci(g,"labelPointStyle",this,f)),a.push(ci(g,"labelTextColor",this,f))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=c,c}update(t,n){const i=this.options.setContext(this.getContext()),s=this._active;let o,a=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{const c=Zu[i.position].call(this,s,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const u=this._size=pR(this,i),d=Object.assign({},c,u),f=gR(this.chart,i,d),g=mR(i,d,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,o={opacity:1,x:g.x,y:g.y,width:u.width,height:u.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,s){const o=this.getCaretPosition(t,i,s);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(t,n,i){const{xAlign:s,yAlign:o}=this,{caretSize:a,cornerRadius:c}=i,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:g}=ca(c),{x:_,y:v}=t,{width:I,height:b}=n;let w,T,S,k,x,D;return o==="center"?(x=v+b/2,s==="left"?(w=_,T=w-a,k=x+a,D=x-a):(w=_+I,T=w+a,k=x-a,D=x+a),S=w):(s==="left"?T=_+Math.max(u,f)+a:s==="right"?T=_+I-Math.max(d,g)-a:T=this.caretX,o==="top"?(k=v,x=k-a,w=T-a,S=T+a):(k=v+b,x=k+a,w=T+a,S=T-a),D=k),{x1:w,x2:T,x3:S,y1:k,y2:x,y3:D}}drawTitle(t,n,i){const s=this.title,o=s.length;let a,c,u;if(o){const d=jl(i.rtl,this.x,this.width);for(t.x=Tp(this,i.titleAlign,i),n.textAlign=d.textAlign(i.titleAlign),n.textBaseline="middle",a=fn(i.titleFont),c=i.titleSpacing,n.fillStyle=i.titleColor,n.font=a.string,u=0;u<o;++u)n.fillText(s[u],d.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+c,u+1===o&&(t.y+=i.titleMarginBottom-c)}}_drawColorBox(t,n,i,s,o){const a=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:u,boxWidth:d}=o,f=fn(o.bodyFont),g=Tp(this,"left",o),_=s.x(g),v=u<f.lineHeight?(f.lineHeight-u)/2:0,I=n.y+v;if(o.usePointStyle){const b={radius:Math.min(d,u)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},w=s.leftForLtr(_,d)+d/2,T=I+u/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Db(t,b,w,T),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,Db(t,b,w,T)}else{t.lineWidth=Wt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const b=s.leftForLtr(_,d),w=s.leftForLtr(s.xPlus(_,1),d-2),T=ca(a.borderRadius);Object.values(T).some(S=>S!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,ed(t,{x:b,y:I,w:d,h:u,radius:T}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),ed(t,{x:w,y:I+1,w:d-2,h:u-2,radius:T}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(b,I,d,u),t.strokeRect(b,I,d,u),t.fillStyle=a.backgroundColor,t.fillRect(w,I+1,d-2,u-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:s}=this,{bodySpacing:o,bodyAlign:a,displayColors:c,boxHeight:u,boxWidth:d,boxPadding:f}=i,g=fn(i.bodyFont);let _=g.lineHeight,v=0;const I=jl(i.rtl,this.x,this.width),b=function(z){n.fillText(z,I.x(t.x+v),t.y+_/2),t.y+=_+o},w=I.textAlign(a);let T,S,k,x,D,M,V;for(n.textAlign=a,n.textBaseline="middle",n.font=g.string,t.x=Tp(this,w,i),n.fillStyle=i.bodyColor,de(this.beforeBody,b),v=c&&w!=="right"?a==="center"?d/2+f:d+2+f:0,x=0,M=s.length;x<M;++x){for(T=s[x],S=this.labelTextColors[x],n.fillStyle=S,de(T.before,b),k=T.lines,c&&k.length&&(this._drawColorBox(n,t,x,I,i),_=Math.max(g.lineHeight,u)),D=0,V=k.length;D<V;++D)b(k[D]),_=g.lineHeight;de(T.after,b)}v=0,_=g.lineHeight,de(this.afterBody,b),t.y-=o}drawFooter(t,n,i){const s=this.footer,o=s.length;let a,c;if(o){const u=jl(i.rtl,this.x,this.width);for(t.x=Tp(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=u.textAlign(i.footerAlign),n.textBaseline="middle",a=fn(i.footerFont),n.fillStyle=i.footerColor,n.font=a.string,c=0;c<o;++c)n.fillText(s[c],u.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+i.footerSpacing}}drawBackground(t,n,i,s){const{xAlign:o,yAlign:a}=this,{x:c,y:u}=t,{width:d,height:f}=i,{topLeft:g,topRight:_,bottomLeft:v,bottomRight:I}=ca(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(c+g,u),a==="top"&&this.drawCaret(t,n,i,s),n.lineTo(c+d-_,u),n.quadraticCurveTo(c+d,u,c+d,u+_),a==="center"&&o==="right"&&this.drawCaret(t,n,i,s),n.lineTo(c+d,u+f-I),n.quadraticCurveTo(c+d,u+f,c+d-I,u+f),a==="bottom"&&this.drawCaret(t,n,i,s),n.lineTo(c+v,u+f),n.quadraticCurveTo(c,u+f,c,u+f-v),a==="center"&&o==="left"&&this.drawCaret(t,n,i,s),n.lineTo(c,u+g),n.quadraticCurveTo(c,u,c+g,u),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,s=i&&i.x,o=i&&i.y;if(s||o){const a=Zu[t.position].call(this,this._active,this._eventPosition);if(!a)return;const c=this._size=pR(this,t),u=Object.assign({},a,this._size),d=gR(n,t,u),f=mR(t,u,d,n);(s._to!==f.x||o._to!==f.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=Gn(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,s,n),mM(t,n.textDirection),o.y+=a.top,this.drawTitle(o,t,n),this.drawBody(o,t,n),this.drawFooter(o,t,n),_M(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,s=t.map(({datasetIndex:c,index:u})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[u],index:u}}),o=!kg(i,s),a=this._positionChanged(s,n);(o||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],a=this._getActiveElements(t,o,n,i),c=this._positionChanged(a,t),u=n||!kg(a,o)||c;return u&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),u}_getActiveElements(t,n,i,s){const o=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const a=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&a.reverse(),a}_positionChanged(t,n){const{caretX:i,caretY:s,options:o}=this,a=Zu[o.position].call(this,t,n);return a!==!1&&(i!==a.x||s!==a.y)}}Q(Ub,"positioners",Zu);var cX={id:"tooltip",_element:Ub,positioners:Zu,afterInit(e,t,n){n&&(e.tooltip=new Ub({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:$M},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},uX=Object.freeze({__proto__:null,Colors:EY,Decimation:AY,Filler:qY,Legend:JY,SubTitle:eX,Title:tX,Tooltip:cX});const hX=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function dX(e,t,n,i){const s=e.indexOf(t);if(s===-1)return hX(e,t,n,i);const o=e.lastIndexOf(t);return s!==o?n:s}const fX=(e,t)=>e===null?null:In(Math.round(e),0,t);function vR(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Bb extends Ra{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:o}of n)i[s]===o&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(ee(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:dX(i,t,Lt(n,t),this._addedLabels),fX(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,s=[];let o=this.getLabels();o=t===0&&n===o.length-1?o:o.slice(t,n+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=t;a<=n;a++)s.push({value:a});return s}getLabelForValue(t){return vR.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Q(Bb,"id","category"),Q(Bb,"defaults",{ticks:{callback:vR}});function pX(e,t){const n=[],{bounds:s,step:o,min:a,max:c,precision:u,count:d,maxTicks:f,maxDigits:g,includeBounds:_}=e,v=o||1,I=f-1,{min:b,max:w}=t,T=!ee(a),S=!ee(c),k=!ee(d),x=(w-b)/(g+1);let D=fP((w-b)/I/v)*v,M,V,z,st;if(D<1e-14&&!T&&!S)return[{value:b},{value:w}];st=Math.ceil(w/D)-Math.floor(b/D),st>I&&(D=fP(st*D/I/v)*v),ee(u)||(M=Math.pow(10,u),D=Math.ceil(D*M)/M),s==="ticks"?(V=Math.floor(b/D)*D,z=Math.ceil(w/D)*D):(V=b,z=w),T&&S&&o&&lq((c-a)/o,D/1e3)?(st=Math.round(Math.min((c-a)/D,f)),D=(c-a)/st,V=a,z=c):k?(V=T?a:V,z=S?c:z,st=d-1,D=(z-V)/st):(st=(z-V)/D,yh(st,Math.round(st),D/1e3)?st=Math.round(st):st=Math.ceil(st));const gt=Math.max(pP(D),pP(V));M=Math.pow(10,ee(u)?gt:u),V=Math.round(V*M)/M,z=Math.round(z*M)/M;let J=0;for(T&&(_&&V!==a?(n.push({value:a}),V<a&&J++,yh(Math.round((V+J*D)*M)/M,a,bR(a,x,e))&&J++):V<a&&J++);J<st;++J){const yt=Math.round((V+J*D)*M)/M;if(S&&yt>c)break;n.push({value:yt})}return S&&_&&z!==c?n.length&&yh(n[n.length-1].value,c,bR(c,x,e))?n[n.length-1].value=c:n.push({value:c}):(!S||z===c)&&n.push({value:z}),n}function bR(e,t,{horizontal:n,minRotation:i}){const s=Zi(i),o=(n?Math.sin(s):Math.cos(s))||.001,a=.75*t*(""+e).length;return Math.min(t/o,a)}class Vg extends Ra{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return ee(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:o}=this;const a=u=>s=n?s:u,c=u=>o=i?o:u;if(t){const u=xs(s),d=xs(o);u<0&&d<0?c(0):u>0&&d>0&&a(0)}if(s===o){let u=o===0?1:Math.abs(o*.05);c(o+u),t||a(s-u)}this.min=s,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,a=pX(s,o);return t.bounds==="ticks"&&ZO(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-n)/Math.max(t.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return xd(t,this.chart.options.locale,this.options.ticks.format)}}class jb extends Vg{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=$e(t)?t:0,this.max=$e(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=Zi(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Q(jb,"id","linear"),Q(jb,"defaults",{ticks:{callback:Zm.formatters.numeric}});const id=e=>Math.floor(Xr(e)),Ho=(e,t)=>Math.pow(10,id(e)+t);function wR(e){return e/Math.pow(10,id(e))===1}function ER(e,t,n){const i=Math.pow(10,n),s=Math.floor(e/i);return Math.ceil(t/i)-s}function gX(e,t){const n=t-e;let i=id(n);for(;ER(e,t,i)>10;)i++;for(;ER(e,t,i)<10;)i--;return Math.min(i,id(e))}function mX(e,{min:t,max:n}){t=Si(e.min,t);const i=[],s=id(t);let o=gX(t,n),a=o<0?Math.pow(10,Math.abs(o)):1;const c=Math.pow(10,o),u=s>o?Math.pow(10,s):0,d=Math.round((t-u)*a)/a,f=Math.floor((t-u)/c/10)*c*10;let g=Math.floor((d-f)/Math.pow(10,o)),_=Si(e.min,Math.round((u+f+g*Math.pow(10,o))*a)/a);for(;_<n;)i.push({value:_,major:wR(_),significand:g}),g>=10?g=g<15?15:20:g++,g>=20&&(o++,g=2,a=o>=0?1:a),_=Math.round((u+f+g*Math.pow(10,o))*a)/a;const v=Si(e.max,_);return i.push({value:v,major:wR(v),significand:g}),i}class $b extends Ra{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const i=Vg.prototype.parse.apply(this,[t,n]);if(i===0){this._zero=!0;return}return $e(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=$e(t)?Math.max(0,t):null,this.max=$e(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!$e(this._userMin)&&(this.min=t===Ho(this.min,0)?Ho(this.min,-1):Ho(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const o=c=>i=t?i:c,a=c=>s=n?s:c;i===s&&(i<=0?(o(1),a(10)):(o(Ho(i,-1)),a(Ho(s,1)))),i<=0&&o(Ho(s,-1)),s<=0&&a(Ho(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},i=mX(n,this);return t.bounds==="ticks"&&ZO(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":xd(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Xr(t),this._valueRange=Xr(this.max)-Xr(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Xr(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}Q($b,"id","logarithmic"),Q($b,"defaults",{ticks:{callback:Zm.formatters.logarithmic,major:{enabled:!0}}});function Hb(e){const t=e.ticks;if(t.display&&e.display){const n=Gn(t.backdropPadding);return Lt(t.font&&t.font.size,He.font.size)+n.height}return 0}function _X(e,t,n){return n=Ce(n)?n:[n],{w:Sq(e,t.string,n),h:n.length*t.lineHeight}}function IR(e,t,n,i,s){return e===i||e===s?{start:t-n/2,end:t+n/2}:e<i||e>s?{start:t-n,end:t}:{start:t,end:t+n}}function yX(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],s=[],o=e._pointLabels.length,a=e.options.pointLabels,c=a.centerPointLabels?Re/o:0;for(let u=0;u<o;u++){const d=a.setContext(e.getPointLabelContext(u));s[u]=d.padding;const f=e.getPointPosition(u,e.drawingArea+s[u],c),g=fn(d.font),_=_X(e.ctx,g,e._pointLabels[u]);i[u]=_;const v=Ai(e.getIndexAngle(u)+c),I=Math.round(t1(v)),b=IR(I,f.x,_.w,0,180),w=IR(I,f.y,_.h,90,270);vX(n,t,v,b,w)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=EX(e,i,s)}function vX(e,t,n,i,s){const o=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let c=0,u=0;i.start<t.l?(c=(t.l-i.start)/o,e.l=Math.min(e.l,t.l-c)):i.end>t.r&&(c=(i.end-t.r)/o,e.r=Math.max(e.r,t.r+c)),s.start<t.t?(u=(t.t-s.start)/a,e.t=Math.min(e.t,t.t-u)):s.end>t.b&&(u=(s.end-t.b)/a,e.b=Math.max(e.b,t.b+u))}function bX(e,t,n){const i=e.drawingArea,{extra:s,additionalAngle:o,padding:a,size:c}=n,u=e.getPointPosition(t,i+s+a,o),d=Math.round(t1(Ai(u.angle+tn))),f=SX(u.y,c.h,d),g=IX(d),_=TX(u.x,c.w,g);return{visible:!0,x:u.x,y:f,textAlign:g,left:_,top:f,right:_+c.w,bottom:f+c.h}}function wX(e,t){if(!t)return!0;const{left:n,top:i,right:s,bottom:o}=e;return!(nr({x:n,y:i},t)||nr({x:n,y:o},t)||nr({x:s,y:i},t)||nr({x:s,y:o},t))}function EX(e,t,n){const i=[],s=e._pointLabels.length,o=e.options,{centerPointLabels:a,display:c}=o.pointLabels,u={extra:Hb(o)/2,additionalAngle:a?Re/s:0};let d;for(let f=0;f<s;f++){u.padding=n[f],u.size=t[f];const g=bX(e,f,u);i.push(g),c==="auto"&&(g.visible=wX(g,d),g.visible&&(d=g))}return i}function IX(e){return e===0||e===180?"center":e<180?"left":"right"}function TX(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function SX(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function AX(e,t,n){const{left:i,top:s,right:o,bottom:a}=n,{backdropColor:c}=t;if(!ee(c)){const u=ca(t.borderRadius),d=Gn(t.backdropPadding);e.fillStyle=c;const f=i-d.left,g=s-d.top,_=o-i+d.width,v=a-s+d.height;Object.values(u).some(I=>I!==0)?(e.beginPath(),ed(e,{x:f,y:g,w:_,h:v,radius:u}),e.fill()):e.fillRect(f,g,_,v)}}function CX(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let s=t-1;s>=0;s--){const o=e._pointLabelItems[s];if(!o.visible)continue;const a=i.setContext(e.getPointLabelContext(s));AX(n,a,o);const c=fn(a.font),{x:u,y:d,textAlign:f}=o;wa(n,e._pointLabels[s],u,d+c.lineHeight/2,c,{color:a.color,textAlign:f,textBaseline:"middle"})}}function HM(e,t,n,i){const{ctx:s}=e;if(n)s.arc(e.xCenter,e.yCenter,t,0,Pe);else{let o=e.getPointPosition(0,t);s.moveTo(o.x,o.y);for(let a=1;a<i;a++)o=e.getPointPosition(a,t),s.lineTo(o.x,o.y)}}function PX(e,t,n,i,s){const o=e.ctx,a=t.circular,{color:c,lineWidth:u}=t;!a&&!i||!c||!u||n<0||(o.save(),o.strokeStyle=c,o.lineWidth=u,o.setLineDash(s.dash),o.lineDashOffset=s.dashOffset,o.beginPath(),HM(e,n,a,i),o.closePath(),o.stroke(),o.restore())}function RX(e,t,n){return bo(e,{label:n,index:t,type:"pointLabel"})}class th extends Vg{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Gn(Hb(this.options)/2),n=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=$e(t)&&!isNaN(t)?t:0,this.max=$e(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Hb(this.options))}generateTickLabels(t){Vg.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,i)=>{const s=be(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?yX(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,i,s){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,i,s))}getIndexAngle(t){const n=Pe/(this._pointLabels.length||1),i=this.options.startAngle||0;return Ai(t*n+Zi(i))}getDistanceFromCenterForValue(t){if(ee(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(ee(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const i=n[t];return RX(this.getContext(),t,i)}}getPointPosition(t,n,i=0){const s=this.getIndexAngle(t)-tn+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:i,right:s,bottom:o}=this._pointLabelItems[t];return{left:n,top:i,right:s,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),HM(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:i,grid:s,border:o}=n,a=this._pointLabels.length;let c,u,d;if(n.pointLabels.display&&CX(this,a),s.display&&this.ticks.forEach((f,g)=>{if(g!==0||g===0&&this.min<0){u=this.getDistanceFromCenterForValue(f.value);const _=this.getContext(g),v=s.setContext(_),I=o.setContext(_);PX(this,v,u,a,I)}}),i.display){for(t.save(),c=a-1;c>=0;c--){const f=i.setContext(this.getPointLabelContext(c)),{color:g,lineWidth:_}=f;!_||!g||(t.lineWidth=_,t.strokeStyle=g,t.setLineDash(f.borderDash),t.lineDashOffset=f.borderDashOffset,u=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),d=this.getPointPosition(c,u),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let o,a;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((c,u)=>{if(u===0&&this.min>=0&&!n.reverse)return;const d=i.setContext(this.getContext(u)),f=fn(d.font);if(o=this.getDistanceFromCenterForValue(this.ticks[u].value),d.showLabelBackdrop){t.font=f.string,a=t.measureText(c.label).width,t.fillStyle=d.backdropColor;const g=Gn(d.backdropPadding);t.fillRect(-a/2-g.left,-o-f.size/2-g.top,a+g.width,f.size+g.height)}wa(t,c.label,0,-o,f,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}Q(th,"id","radialLinear"),Q(th,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Zm.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),Q(th,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Q(th,"descriptors",{angleLines:{_fallback:"grid"}});const i_={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},fi=Object.keys(i_);function TR(e,t){return e-t}function SR(e,t){if(ee(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:o}=e._parseOpts;let a=t;return typeof i=="function"&&(a=i(a)),$e(a)||(a=typeof i=="string"?n.parse(a,i):n.parse(a)),a===null?null:(s&&(a=s==="week"&&(rc(o)||o===!0)?n.startOf(a,"isoWeek",o):n.startOf(a,s)),+a)}function AR(e,t,n,i){const s=fi.length;for(let o=fi.indexOf(e);o<s-1;++o){const a=i_[fi[o]],c=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-t)/(c*a.size))<=i)return fi[o]}return fi[s-1]}function kX(e,t,n,i,s){for(let o=fi.length-1;o>=fi.indexOf(n);o--){const a=fi[o];if(i_[a].common&&e._adapter.diff(s,i,a)>=t-1)return a}return fi[n?fi.indexOf(n):0]}function xX(e){for(let t=fi.indexOf(e)+1,n=fi.length;t<n;++t)if(i_[fi[t]].common)return fi[t]}function CR(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:s}=e1(n,t),o=n[i]>=t?n[i]:n[s];e[o]=!0}}function DX(e,t,n,i){const s=e._adapter,o=+s.startOf(t[0].value,i),a=t[t.length-1].value;let c,u;for(c=o;c<=a;c=+s.add(c,1,i))u=n[c],u>=0&&(t[u].major=!0);return t}function PR(e,t,n){const i=[],s={},o=t.length;let a,c;for(a=0;a<o;++a)c=t[a],s[c]=a,i.push({value:c,major:!1});return o===0||!n?i:DX(e,i,s,n)}class sd extends Ra{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),s=this._adapter=new jK._date(t.adapters.date);s.init(n),_h(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:SR(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:s,max:o,minDefined:a,maxDefined:c}=this.getUserBounds();function u(d){!a&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!c&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!a||!c)&&(u(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&u(this.getMinMax(!1))),s=$e(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),o=$e(o)&&!isNaN(o)?o:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,a=this.max,c=dq(s,o,a);return this._unit=n.unit||(i.autoSkip?AR(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):kX(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:xX(this._unit),this.initOffsets(s),t.reverse&&c.reverse(),PR(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,s,o;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;n=In(n,0,a),i=In(i,0,a),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,s=this.options,o=s.time,a=o.unit||AR(o.minUnit,n,i,this._getLabelCapacity(n)),c=Lt(s.ticks.stepSize,1),u=a==="week"?o.isoWeekday:!1,d=rc(u)||u===!0,f={};let g=n,_,v;if(d&&(g=+t.startOf(g,"isoWeek",u)),g=+t.startOf(g,d?"day":a),t.diff(i,n,a)>1e5*c)throw new Error(n+" and "+i+" are too far apart with stepSize of "+c+" "+a);const I=s.ticks.source==="data"&&this.getDataTimestamps();for(_=g,v=0;_<i;_=+t.add(_,c,a),v++)CR(f,_,I);return(_===i||s.bounds==="ticks"||v===1)&&CR(f,_,I),Object.keys(f).sort(TR).map(b=>+b)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,o=this._unit,a=n||s[o];return this._adapter.format(t,a)}_tickFormatFunction(t,n,i,s){const o=this.options,a=o.ticks.callback;if(a)return be(a,[t,n,i],this);const c=o.time.displayFormats,u=this._unit,d=this._majorUnit,f=u&&c[u],g=d&&c[d],_=i[n],v=d&&g&&_&&_.major;return this._adapter.format(t,s||(v?g:f))}generateTickLabels(t){let n,i,s;for(n=0,i=t.length;n<i;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,s=Zi(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(s),a=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:i*o+c*a,h:i*a+c*o}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,o=this._tickFormatFunction(t,0,PR(this,[t],this._majorUnit),s),a=this._getLabelSize(o),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)t.push(SR(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return nM(t.sort(TR))}}Q(sd,"id","time"),Q(sd,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Sp(e,t,n){let i=0,s=e.length-1,o,a,c,u;n?(t>=e[i].pos&&t<=e[s].pos&&({lo:i,hi:s}=er(e,"pos",t)),{pos:o,time:c}=e[i],{pos:a,time:u}=e[s]):(t>=e[i].time&&t<=e[s].time&&({lo:i,hi:s}=er(e,"time",t)),{time:o,pos:c}=e[i],{time:a,pos:u}=e[s]);const d=a-o;return d?c+(u-c)*(t-o)/d:c}class zb extends sd{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Sp(n,this.min),this._tableRange=Sp(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,s=[],o=[];let a,c,u,d,f;for(a=0,c=t.length;a<c;++a)d=t[a],d>=n&&d<=i&&s.push(d);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(a=0,c=s.length;a<c;++a)f=s[a+1],u=s[a-1],d=s[a],Math.round((f+u)/2)!==d&&o.push({time:d,pos:a/(c-1)});return o}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,o)=>s-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Sp(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return Sp(this._table,i*this._tableRange+this._minPos,!0)}}Q(zb,"id","timeseries"),Q(zb,"defaults",sd.defaults);var OX=Object.freeze({__proto__:null,CategoryScale:Bb,LinearScale:jb,LogarithmicScale:$b,RadialLinearScale:th,TimeScale:sd,TimeSeriesScale:zb});const zM=[BK,mY,uX,OX],MX={name:"PieChart",props:{transactions:{type:Array,required:!0}},data(){return{pieChart:null,loadingChart:!1}},mounted(){Xi.register(...zM),this.initChart()},beforeUnmount(){this.destroyChart()},methods:{initChart(){this.pieChart&&this.destroyChart(),this.createChart()},destroyChart(){this.pieChart&&(this.pieChart.destroy(),this.pieChart=null),this.loadingChart=!1},createChart(){this.loadingChart=!0,this.destroyChart();const e=this.processTransactions(this.transactions);this.pieChart=new Xi(this.$refs.pieChart,{type:"pie",data:e,options:{responsive:!0,maintainAspectRatio:!1,tooltips:{callbacks:{label:function(t,n){let i=n.labels[t.index]||"";return i&&(i+=": "),i+=n.datasets[0].data[t.index],i}}}}}),this.loadingChart=!1},processTransactions(e){const t=e.reduce((o,{category:a,amount:c})=>(o[a]||(o[a]=0),o[a]+=c,o),{}),n=Object.values(t).reduce((o,a)=>o+a,0),i=Object.keys(t).map(o=>`${o} (${(t[o]/n*100).toFixed(2)}%)`),s=Object.values(t);return{labels:i,datasets:[{data:s,backgroundColor:this.generateColorArray(i.length),hoverBackgroundColor:this.generateColorArray(i.length,!0)}]}},generateColorArray(e,t=!1){const n=["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#F7464A","#8A2BE2"],i=n.map(s=>`${s}B3`);return Array.from({length:e},(s,o)=>t?i[o%n.length]:n[o%n.length])}},beforeUnmount(){this.pieChart&&this.pieChart.destroy()},watch:{transactions:{deep:!0,immediate:!0,handler(e){this.loadingChart&&this.destroyChart(),this.createChart()}}}},NX={ref:"pieChart"};function LX(e,t,n,i,s,o){return wt(),Tt("div",null,[P("canvas",NX,null,512)])}const VX=Le(MX,[["render",LX]]),FX={props:{showAddButton:{type:Boolean,default:!0},budgets:{type:Array,default:()=>[]},limit:{type:Number,default:1/0}},data(){return{auth:null,budgets:[],editingBudgetId:null,editedBudgetDetails:{},transactions:[],showTransactions:!1}},async mounted(){await this.fetchBudgets(),await this.calculateSpentAmounts()},computed:{displayedGoals(){return this.budgets.slice(0,this.limit)},computedBudgets(){return this.budgets.map(e=>{const t=Number(e.amount)||0,n=Number(e.spent)||0,i=t-n;return{...e,remaining:i,spent:n}})}},methods:{progressWidth(e){const t=e.spent/e.amount*100;return`${Math.min(t,100)}%`},progressBarColor(e){return`hsl(${120-e.spent/e.amount*100*1.2}, 100%, 50%)`},enableEditMode(e){this.editingBudgetId=e.id,this.editedBudgetDetails={...e}},cancelEditMode(){this.editingBudgetId=null,this.editedBudgetDetails={}},async fetchBudgets(){const t=Yt(Ot).currentUser;if(t&&console.log("User ID:",t.uid),!t){console.error("No user logged in!");return}const n=t.uid,i=dn(Ot),s=Di(i,"users",n,"budgets");try{const o=await or(s);this.budgets=o.docs.map(a=>({id:a.id,name:a.data().name,amount:Number(a.data().amount),startDate:a.data().startDate,endDate:a.data().endDate,category:a.data().category}))}catch(o){console.error("Error fetching budgets:",o)}},async deleteBudget(){const t=Yt(Ot).currentUser;if(t&&console.log("User ID:",t.uid),!t){console.error("No user logged in!");return}const n=t.uid;if(!this.editingBudgetId)return;const i=dn(Ot),s=fo(i,"users",n,"budgets",this.editingBudgetId);try{await Hw(s),this.budgets=this.budgets.filter(o=>o.id!==this.editingBudgetId),this.editingBudgetId=null,this.editedBudgetDetails={}}catch(o){console.error("Error deleting budget:",o)}},async updateBudget(){const t=Yt(Ot).currentUser;if(t&&console.log("User ID:",t.uid),!t){console.error("No user logged in!");return}const n=t.uid;if(!this.editingBudgetId)return;const i=dn(Ot),s=fo(i,"users",n,"budgets",this.editingBudgetId),o=this.budgets.find(c=>c.id===this.editingBudgetId),a={...this.editedBudgetDetails,amount:Number(this.editedBudgetDetails.amount)};a.remaining=a.amount+(o.spent??0);try{await Qm(s,a);const c=this.budgets.findIndex(u=>u.id===this.editingBudgetId);c!==-1&&(this.budgets[c]={...this.budgets[c],...a,remaining:a.remaining}),await this.calculateSpentAmounts(),this.editingBudgetId=null,this.editedBudgetDetails={}}catch(c){console.error("Error updating budget:",c)}},async calculateSpentAmounts(){const t=Yt(Ot).currentUser;if(t&&console.log("User ID:",t.uid),!t){console.error("No user logged in!");return}const n=t.uid,i=dn(Ot),s=Di(i,"users",n,"transactions");for(let o=0;o<this.budgets.length;o++){let a=this.budgets[o];const c=Bl(s,cp("budgetTakenFrom","==",a.name),cp("date",">=",a.startDate),cp("date","<=",a.endDate)),d=(await or(c)).docs.reduce((f,g)=>f+Number(g.data().amount),0);a.spent=-d,a.remaining=a.amount+d,this.budgets[o]={...a}}},toggleTransactions(e){e.transactions?e.showTransactions=!e.showTransactions:this.fetchTransactions(e).then(t=>{console.log(t),this.transactions?(this.transactions=Array.isArray(t)?t:[],e.showTransactions=!0):console.error("Error",t)})},async fetchTransactions(e){const t=Yt(Ot);let n=[];if(!t.currentUser){console.error("No user logged in!");return}const i=t.currentUser.uid,s=dn(Ot),o=Di(s,"users",i,"transactions"),a=Bl(o,cp("budgetTakenFrom","==",e.name));try{n=(await or(a)).docs.map(u=>({id:u.id,name:u.data().name,date:u.data().date,amount:u.data().amount,description:u.data().description})),console.log(n),e.transactions=n,e.showTransactions=!0}catch(c){return console.error("Failed to fetch transactions for budget:",c),[]}}}},WM=e=>(os("data-v-764b8201"),e=e(),as(),e),UX=WM(()=>P("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"},null,-1)),BX={class:"budget-tracker"},jX={class:"budget-header"},$X=["onClick"],HX=["onClick"],zX={class:"budget-details"},WX={class:"progress-bar-container"},qX={key:0,class:"over-limit-warning"},KX={key:1,class:"below-limit-warning"},GX={key:0,class:"transactions-overlay"},YX={class:"transactions-content"},XX={key:0,class:"transaction-list"},QX={key:1},JX=["onClick"],ZX={key:0,class:"overlay"},tQ={key:1,class:"edit-budget-form"},eQ=WM(()=>P("h2",null,"Edit your budget",-1));function nQ(e,t,n,i,s,o){const a=qt("router-link");return wt(),Tt(cn,null,[UX,P("div",BX,[(wt(!0),Tt(cn,null,ha(o.displayedGoals,c=>(wt(),Tt("div",{class:"budget",key:c.id},[P("div",jX,[P("h3",{onClick:u=>o.toggleTransactions(c),class:"budget-name"},[wn(te(c.name)+" ",1),P("i",{class:"fas fa-pencil-alt edit-icon",onClick:em(u=>o.enableEditMode(c),["stop"])},null,8,HX)],8,$X),P("span",null,te(c.startDate)+" - "+te(c.endDate),1)]),P("div",zX,[P("span",null,"$"+te((c.remaining??0).toFixed(2))+" Remaining ",1),P("div",WX,[P("div",{class:"progress-bar",style:$g({width:o.progressWidth(c),backgroundColor:o.progressBarColor(c)})},null,4)]),P("span",null,"$"+te((c.spent??0).toFixed(2))+" of $"+te((c.amount??0).toFixed(2)),1),c.remaining<0?(wt(),Tt("p",qX," You've exceeded the limit! ")):ii("",!0),c.remaining>0?(wt(),Tt("p",KX," You are left with $"+te(c.remaining.toFixed(2))+"! ",1)):ii("",!0)]),c.showTransactions?(wt(),Tt("div",GX,[P("div",YX,[P("h3",null,"Transactions for "+te(c.name),1),c.transactions.length>0?(wt(),Tt("ul",XX,[(wt(!0),Tt(cn,null,ha(c.transactions,u=>(wt(),Tt("li",{key:u.id},te(u.name)+" "+te(u.date)+" $"+te(-u.amount)+" "+te(u.description),1))),128))])):(wt(),Tt("p",QX,"No transactions found for this budget!")),P("button",{onClick:u=>c.showTransactions=!1},"Close",8,JX)])])):ii("",!0)]))),128)),s.editingBudgetId?(wt(),Tt("div",ZX)):ii("",!0),s.editingBudgetId?(wt(),Tt("div",tQ,[eQ,$t(P("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>s.editedBudgetDetails.name=c),type:"text",placeholder:"Budget Name"},null,512),[[xe,s.editedBudgetDetails.name]]),$t(P("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>s.editedBudgetDetails.amount=c),type:"number",placeholder:"Total Amount"},null,512),[[xe,s.editedBudgetDetails.amount]]),$t(P("input",{"onUpdate:modelValue":t[2]||(t[2]=c=>s.editedBudgetDetails.startDate=c),type:"date"},null,512),[[xe,s.editedBudgetDetails.startDate]]),$t(P("input",{"onUpdate:modelValue":t[3]||(t[3]=c=>s.editedBudgetDetails.endDate=c),type:"date"},null,512),[[xe,s.editedBudgetDetails.endDate]]),P("button",{onClick:t[4]||(t[4]=(...c)=>o.updateBudget&&o.updateBudget(...c)),class:"save-btn"},"Save Changes"),P("span",{onClick:t[5]||(t[5]=(...c)=>o.cancelEditMode&&o.cancelEditMode(...c)),class:"cancel-btn"},"x"),P("button",{onClick:t[6]||(t[6]=(...c)=>o.deleteBudget&&o.deleteBudget(...c)),class:"delete-btn"},"Delete Budget")])):ii("",!0),n.showAddButton?(wt(),Qg(a,{key:2,to:"/addBudget",tag:"button",class:"add-budget-btn"},{default:ni(()=>[wn(" Add New Budget ")]),_:1})):ii("",!0)])],64)}const qM=Le(FX,[["render",nQ],["__scopeId","data-v-764b8201"]]),iQ={name:"DashboardPage",components:{Logout:_r,Sidebar:Us,PieChart:VX,goalSetting:qM},data(){return{user:null,username:"",userEmail:"nothing",rawTransactions:[],recentTransactions:[],recentBudgets:[],filteredTransactions:[],startDate:null,endDate:null,loadingChart:!1}},mounted(){const e=Yt();Vs(e,t=>{t&&(this.user=t,this.userEmail=t.email,this.username=t.displayName,this.fetchTransactions(),this.fetchGoals().then(()=>{console.log("Recent Budgets in Dashboard:",this.recentBudgets)}))})},methods:{async fetchTransactions(){const t=Yt(Ot).currentUser;if(t&&console.log("User ID:",t.uid),!t){console.error("No user logged in!");return}const n=t.uid,i=dn(),s=Di(i,"users",n,"transactions"),o=Bl(s,jp("date","desc")),a=Bl(s,jp("date","desc"),JC(5));try{const c=await or(o);this.rawTransactions=c.docs.map(d=>({id:d.id,name:d.data().name,amount:d.data().amount,category:d.data().category,date:d.data().date})),console.log("All Transactions:",this.rawTransactions);const u=await or(a);this.recentTransactions=u.docs.map(d=>({id:d.id,name:d.data().name,amount:d.data().amount,category:d.data().category,date:d.data().date})),this.applyFilters()}catch(c){console.error("Error fetching transactions:",c)}},async fetchGoals(){const e=dn(Ot),n=Yt(Ot).currentUser;if(!n){console.error("No user logged in!");return}const i=n.uid,s=Di(e,"users",i,"budgets"),o=Bl(s,jp("endDate","asc"),JC(2));try{const a=await or(o);this.recentBudgets=a.docs.map(c=>({id:c.id,...c.data()})),console.log("Fetched Recent Budgets:",this.recentBudgets)}catch(a){console.error("Error fetching budgets:",a)}},applyFilters(){let e=this.rawTransactions;if(this.startDate&&this.endDate){const t=new Date(this.startDate).getTime(),n=new Date(this.endDate).getTime();e=e.filter(i=>{const s=new Date(i.date).getTime();return s>=t&&s<=n})}this.filteredTransactions=e},beforeRouteLeave(e,t,n){this.loadingChart&&this.destroyChart(),n()}},watch:{$route(e,t){e.name==="dashboardPage"&&t.name!==e.name&&(this.fetchTransactions(),this.createChart(),this.fetchGoals())}},computed:{displayedGoals(){return this.recentGoals.slice(0,2)}}},KM=e=>(os("data-v-bbeb712d"),e=e(),as(),e),sQ={class:"dashboardPageContainer"},rQ={class:"sidebar"},oQ={class:"maincontent"},aQ={class:"dashboard-columns"},lQ={class:"recent-transactions"},cQ=KM(()=>P("h2",null,"Recent Transactions",-1)),uQ={class:"transaction-details"},hQ={class:"transaction-name"},dQ={class:"transaction-date"},fQ={class:"transaction-category"},pQ={class:"recent-budgets"},gQ=KM(()=>P("h2",null,"Recent Budgets",-1));function mQ(e,t,n,i,s,o){const a=qt("sidebar"),c=qt("pieChart"),u=qt("goalSetting"),d=qt("Logout");return wt(),Tt("div",sQ,[P("div",rQ,[vt(a)]),P("div",oQ,[P("h1",null,"Welcome to your dashboard, "+te(this.username)+"!",1),P("div",null,[$t(P("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=f=>s.startDate=f)},null,512),[[xe,s.startDate]]),$t(P("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=f=>s.endDate=f)},null,512),[[xe,s.endDate]]),P("button",{onClick:t[2]||(t[2]=(...f)=>o.applyFilters&&o.applyFilters(...f))},"Apply Filters")]),vt(c,{transactions:s.filteredTransactions},null,8,["transactions"]),P("div",aQ,[P("div",lQ,[cQ,P("ul",null,[(wt(!0),Tt(cn,null,ha(s.recentTransactions,f=>(wt(),Tt("li",{key:f.id,class:"transaction-item"},[P("div",uQ,[P("h3",hQ,te(f.name),1),P("p",dQ,te(f.date),1),P("p",fQ,te(f.category),1)]),P("div",{class:ei(["transaction-amount",{negative:f.amount<0,positive:f.amount>=0}])},te(f.amount.toFixed(2)),3)]))),128))])]),P("div",pQ,[gQ,vt(u,{goals:s.recentBudgets,limit:2,showAddButton:!1},null,8,["goals"])])]),vt(d,{user:s.user},null,8,["user"])])])}const _Q=Le(iQ,[["render",mQ],["__scopeId","data-v-bbeb712d"]]),RR=dn(Ot),yQ={data(){return{auth:null,transaction:{name:"",amount:null,description:"",category:"",date:""},budgets:[],selectedBudget:""}},created(){this.auth=Yt(Ot)},mounted(){this.fetchBudgets()},methods:{async saveAddTransac(){const t=Yt(Ot).currentUser;if(t&&console.log("User ID:",t.uid),!t){console.error("No user logged in!");return}const n=t.uid,i=Di(RR,"users",n,"transactions");try{const s=await zw(i,{name:this.transaction.name,amount:this.transaction.amount,description:this.transaction.description,category:this.transaction.category,date:this.transaction.date,budgetTakenFrom:this.selectedBudget});console.log("Document written with ID:",s.id),this.transaction={name:"",amount:null,description:"",category:"",date:""},this.$emit("added")}catch(s){console.error("Error adding document:",s)}},async fetchBudgets(){const t=Yt(Ot).currentUser;if(t&&console.log("User ID:",t.uid),!t){console.error("No user logged in!");return}const n=t.uid,i=Di(RR,"users",n,"budgets"),s=await or(i);this.budgets=s.docs.map(o=>({id:o.id,name:o.data().name}))}}},vr=e=>(os("data-v-042c4e94"),e=e(),as(),e),vQ={class:"add-transaction"},bQ=vr(()=>P("h1",null,"Add Transaction",-1)),wQ={class:"form-group"},EQ=vr(()=>P("label",{for:"name"},"Transaction Name *",-1)),IQ={class:"form-group"},TQ=vr(()=>P("label",{for:"amount"},"Amount (Include negative sign if it is subtracting from account) *",-1)),SQ={class:"form-group"},AQ=vr(()=>P("label",{for:"description"},"Description (Optional)",-1)),CQ={class:"form-group"},PQ=vr(()=>P("label",{for:"category"},"Category *",-1)),RQ=cc('<option value="NIL" data-v-042c4e94></option><option value="transport" data-v-042c4e94>Transport</option><option value="shopping" data-v-042c4e94>Shopping</option><option value="food" data-v-042c4e94>Food</option><option value="food" data-v-042c4e94>Others</option>',5),kQ=[RQ],xQ={class:"form-group"},DQ=vr(()=>P("label",{for:"date"},"Date *",-1)),OQ={class:"form-group"},MQ=vr(()=>P("label",{for:"budgetTakenFrom"},"Budget Taken From",-1)),NQ=vr(()=>P("option",{disabled:"",value:""},"Select a budget",-1)),LQ=["value"],VQ=vr(()=>P("div",{class:"button-container"},[P("button",{type:"submit",class:"btn"},"Add Transaction")],-1));function FQ(e,t,n,i,s,o){return wt(),Tt("div",vQ,[P("form",{id:"transactionform",onSubmit:t[6]||(t[6]=em((...a)=>o.saveAddTransac&&o.saveAddTransac(...a),["prevent"]))},[bQ,P("div",wQ,[EQ,$t(P("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=a=>s.transaction.name=a),required:"",class:"input-field"},null,512),[[xe,s.transaction.name]])]),P("div",IQ,[TQ,$t(P("input",{type:"number",id:"amount",step:"0.01","onUpdate:modelValue":t[1]||(t[1]=a=>s.transaction.amount=a),required:""},null,512),[[xe,s.transaction.amount]])]),P("div",SQ,[AQ,$t(P("input",{type:"text",id:"description","onUpdate:modelValue":t[2]||(t[2]=a=>s.transaction.description=a)},null,512),[[xe,s.transaction.description]])]),P("div",CQ,[PQ,$t(P("select",{id:"category","onUpdate:modelValue":t[3]||(t[3]=a=>s.transaction.category=a),required:""},kQ,512),[[Pi,s.transaction.category]])]),P("div",xQ,[DQ,$t(P("input",{type:"date",id:"date","onUpdate:modelValue":t[4]||(t[4]=a=>s.transaction.date=a),required:""},null,512),[[xe,s.transaction.date]])]),P("div",OQ,[MQ,$t(P("select",{id:"budgetTakenFrom","onUpdate:modelValue":t[5]||(t[5]=a=>s.selectedBudget=a)},[NQ,(wt(!0),Tt(cn,null,ha(s.budgets,a=>(wt(),Tt("option",{key:a.id,value:a.name},te(a.name),9,LQ))),128))],512),[[Pi,s.selectedBudget]])]),VQ],32)])}const UQ=Le(yQ,[["render",FQ],["__scopeId","data-v-042c4e94"]]),BQ={name:"addTransactionPage",components:{addTransaction:UQ,sidebar:Us,Logout:_r},data(){return{user:null,userEmail:"nothing"}},mounted(){const e=Yt();Vs(e,t=>{t&&(this.user=t,this.userEmail=t.email)})}},jQ={class:"addTranscPageContainer"},$Q={class:"sidebar"},HQ={class:"maincontent"};function zQ(e,t,n,i,s,o){const a=qt("sidebar"),c=qt("addTransaction"),u=qt("Logout");return wt(),Tt("div",jQ,[P("div",$Q,[vt(a)]),P("div",HQ,[vt(c),vt(u,{user:s.user},null,8,["user"])])])}const WQ=Le(BQ,[["render",zQ]]),qQ=dn(Ot),KQ={data(){return{budget:{name:"",amount:null,category:"",startDate:"",endDate:""}}},created(){this.auth=Yt(Ot)},methods:{async saveAddBudget(){const t=Yt(Ot).currentUser;if(t&&console.log("User ID:",t.uid),!t){console.error("No user logged in!");return}const n=t.uid,i=Di(qQ,"users",n,"budgets");console.log(this.budget);let s=document.getElementById("name").value,o=+document.getElementById("amount").value,a=document.getElementById("category").value,c=document.getElementById("startDate").value,u=document.getElementById("endDate").value;alert("Saving data for Budget : "+s);try{const d=await zw(i,{name:s,amount:o,category:a,startDate:c,endDate:u});console.log("Document written with ID: ",d.id),this.budget={name:"",amount:null,category:"",startDate:"",endDate:""},this.$emit("added")}catch(d){console.error("Error adding document: ",d)}}}},ka=e=>(os("data-v-660595f0"),e=e(),as(),e),GQ={class:"add-budget-container"},YQ=ka(()=>P("h1",null,"Add Budget",-1)),XQ={class:"input-group"},QQ=ka(()=>P("label",{for:"name"},"Budget Name *",-1)),JQ={class:"input-group"},ZQ=ka(()=>P("label",{for:"amount"},"Amount *",-1)),tJ={class:"input-group"},eJ=ka(()=>P("label",{for:"category"},"Category *",-1)),nJ=cc('<option disabled value="" data-v-660595f0>Please select one</option><option value="transport" data-v-660595f0>Transport</option><option value="shopping" data-v-660595f0>Shopping</option><option value="food" data-v-660595f0>Food</option><option value="others" data-v-660595f0>Others</option>',5),iJ=[nJ],sJ={class:"input-group"},rJ=ka(()=>P("label",{for:"startDate"},"Start Date *",-1)),oJ={class:"input-group"},aJ=ka(()=>P("label",{for:"endDate"},"End Date *",-1)),lJ=ka(()=>P("div",{class:"button-container"},[P("button",{type:"submit",class:"btn"},"Add Budget")],-1));function cJ(e,t,n,i,s,o){const a=qt("router-link");return wt(),Tt("div",GQ,[YQ,P("form",{id:"submitBudget",onSubmit:t[5]||(t[5]=em((...c)=>o.saveAddBudget&&o.saveAddBudget(...c),["prevent"]))},[P("div",XQ,[QQ,$t(P("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=c=>s.budget.name=c),required:"",class:"input-field"},null,512),[[xe,s.budget.name]])]),P("div",JQ,[ZQ,$t(P("input",{type:"number",id:"amount",step:"0.01","onUpdate:modelValue":t[1]||(t[1]=c=>s.budget.amount=c),required:""},null,512),[[xe,s.budget.amount]])]),P("div",tJ,[eJ,$t(P("select",{id:"category","onUpdate:modelValue":t[2]||(t[2]=c=>s.budget.category=c),required:""},iJ,512),[[Pi,s.budget.category]])]),P("div",sJ,[rJ,$t(P("input",{type:"date",id:"startDate","onUpdate:modelValue":t[3]||(t[3]=c=>s.budget.startDate=c),required:""},null,512),[[xe,s.budget.startDate]])]),P("div",oJ,[aJ,$t(P("input",{type:"date",id:"endDate","onUpdate:modelValue":t[4]||(t[4]=c=>s.budget.endDate=c),required:""},null,512),[[xe,s.budget.endDate]])]),lJ],32),vt(a,{to:"/goalSetting",class:"view-budgets-btn"},{default:ni(()=>[wn("View All Budgets")]),_:1})])}const uJ=Le(KQ,[["render",cJ],["__scopeId","data-v-660595f0"]]),hJ={name:"addBudgetPage",components:{addBudget:uJ,sidebar:Us,Logout:_r},data(){return{user:null,userEmail:"nothing"}},mounted(){const e=Yt();Vs(e,t=>{t&&(this.user=t,this.userEmail=t.email)})}},dJ={class:"addBudgetPageContainer"},fJ={class:"sidebar"},pJ={class:"maincontent"};function gJ(e,t,n,i,s,o){const a=qt("sidebar"),c=qt("addBudget"),u=qt("Logout");return wt(),Tt("div",dJ,[P("div",fJ,[vt(a)]),P("div",pJ,[vt(c),vt(u,{user:s.user},null,8,["user"])])])}const mJ=Le(hJ,[["render",gJ]]),_J=dn(Ot),yJ={data(){return{auth:null,scheduledTransaction:{schedTransactionName:"",schedTransactionAmount:null,schedTransactionsCategory:"",schedTransactionsDate:"",schedTransactionsRecurrence:""}}},methods:{async saveScheduledTransac(){const t=Yt(Ot).currentUser;if(t&&console.log("User ID:",t.uid),!t){console.error("No user logged in!");return}const n=t.uid,i=Di(_J,"users",n,"scheduledTransaction");console.log(this.scheduledTransaction),alert("Saving data for Scheduled Transaction : "+this.scheduledTransaction.schedTransactionName+" "+this.scheduledTransaction.schedTransactionAmount);try{const s=await zw(i,{schedTransactionName:this.scheduledTransaction.schedTransactionName,schedTransactionAmount:this.scheduledTransaction.schedTransactionAmount,schedTransactionsCategory:this.scheduledTransaction.schedTransactionsCategory,schedTransactionsDate:this.scheduledTransaction.schedTransactionsDate,schedTransactionsRecurrence:this.scheduledTransaction.schedTransactionsRecurrence});console.log("Document written with ID: ",s.id),console.log("Document written with ID: ",s.id),this.scheduledTransaction={schedTransactionName:"",schedTransactionAmount:null,schedTransactionsCategory:"",schedTransactionsDate:"",schedTransactionsRecurrence:""},this.$emit("added")}catch(s){console.error("Error adding document: ",s)}}}},br=e=>(os("data-v-5579e719"),e=e(),as(),e),vJ={class:"schedule-transactions-container"},bJ=br(()=>P("h1",null,"Schedule Transactions",-1)),wJ={class:"input-group"},EJ=br(()=>P("label",{for:"schedTransactionName"},"Transaction Name *",-1)),IJ={class:"input-group"},TJ=br(()=>P("label",{for:"schedTransactionAmount"},"Amount (Include negative sign if it is subtracting from account) *",-1)),SJ={class:"input-group"},AJ=br(()=>P("label",{for:"schedTransactionsCategory"},"Category *",-1)),CJ=cc('<option disabled value="" data-v-5579e719>Please select one</option><option value="income" data-v-5579e719>Income</option><option value="allowance" data-v-5579e719>Allowance</option><option value="expenses" data-v-5579e719>Expenses</option><option value="subscriptions" data-v-5579e719>Subscriptions</option><option value="others" data-v-5579e719>Others</option>',6),PJ=[CJ],RJ={class:"input-group"},kJ=br(()=>P("label",{for:"schedTransactionsDate"},"Start Date *",-1)),xJ={class:"input-group"},DJ=br(()=>P("label",{for:"schedTransactionsRecurrence"},"Recurrence *",-1)),OJ=br(()=>P("option",{value:"monthly"},"Monthly",-1)),MJ=br(()=>P("option",{value:"yearly"},"Yearly",-1)),NJ=[OJ,MJ],LJ=br(()=>P("div",{class:"button-container"},[P("button",{type:"submit",class:"btn"},"Add Scheduled Transaction")],-1));function VJ(e,t,n,i,s,o){const a=qt("router-link");return wt(),Tt("div",vJ,[bJ,P("form",{id:"submitScheduledTransaction",onSubmit:t[5]||(t[5]=em((...c)=>o.saveScheduledTransac&&o.saveScheduledTransac(...c),["prevent"]))},[P("div",wJ,[EJ,$t(P("input",{type:"text",id:"schedTransactionName","onUpdate:modelValue":t[0]||(t[0]=c=>s.scheduledTransaction.schedTransactionName=c),required:"",class:"input-field"},null,512),[[xe,s.scheduledTransaction.schedTransactionName]])]),P("div",IJ,[TJ,$t(P("input",{type:"number",id:"schedTransactionAmount",step:"0.01","onUpdate:modelValue":t[1]||(t[1]=c=>s.scheduledTransaction.schedTransactionAmount=c),required:""},null,512),[[xe,s.scheduledTransaction.schedTransactionAmount]])]),P("div",SJ,[AJ,$t(P("select",{id:"schedTransactionsCategory","onUpdate:modelValue":t[2]||(t[2]=c=>s.scheduledTransaction.schedTransactionsCategory=c),required:""},PJ,512),[[Pi,s.scheduledTransaction.schedTransactionsCategory]])]),P("div",RJ,[kJ,$t(P("input",{type:"date",id:"schedTransactionsDate","onUpdate:modelValue":t[3]||(t[3]=c=>s.scheduledTransaction.schedTransactionsDate=c),required:""},null,512),[[xe,s.scheduledTransaction.schedTransactionsDate]])]),P("div",xJ,[DJ,$t(P("select",{id:"schedTransactionsRecurrence","onUpdate:modelValue":t[4]||(t[4]=c=>s.scheduledTransaction.schedTransactionsRecurrence=c),required:""},NJ,512),[[Pi,s.scheduledTransaction.schedTransactionsRecurrence]])]),LJ],32),vt(a,{to:"/viewScheduledTransactions",tag:"button",class:"view-sched-transaction-btn"},{default:ni(()=>[wn(" View Scheduled Transactions ")]),_:1})])}const FJ=Le(yJ,[["render",VJ],["__scopeId","data-v-5579e719"]]),UJ={name:"addScheduledTransactionPage",components:{sidebar:Us,addScheduledTransaction:FJ,Logout:_r},data(){return{user:null,userEmail:"nothing"}},mounted(){const e=Yt();Vs(e,t=>{t&&(this.user=t,this.userEmail=t.email)})}},BJ={class:"addSchedTransacPageContainer"},jJ={class:"sidebar"},$J={class:"maincontent"};function HJ(e,t,n,i,s,o){const a=qt("sidebar"),c=qt("addScheduledTransaction"),u=qt("Logout");return wt(),Tt("div",BJ,[P("div",jJ,[vt(a)]),P("div",$J,[vt(c),vt(u,{user:s.user},null,8,["user"])])])}const zJ=Le(UJ,[["render",HJ]]),WJ=dn(Ot),qJ={data(){return{auth:null,editingScheduledTransactionId:null,editedScheduledTransactionDetails:{},scheduledTransactions:[],selectedFilter:"",selectedCategory:"",selectedRecurrence:""}},mounted(){this.fetchScheduledTransactions()},created(){this.auth=Yt(Ot)},methods:{fetchScheduledTransactions(){const t=Yt(Ot).currentUser;if(t&&console.log("User ID:",t.uid),!t){console.error("No user logged in!");return}const n=t.uid,i=Di(WJ,"users",n,"scheduledTransaction");CO(i,s=>{this.scheduledTransactions=s.docs.map(o=>({id:o.id,name:o.data().schedTransactionName,amount:o.data().schedTransactionAmount,category:o.data().schedTransactionsCategory,currency:o.data().schedTransactionsCurrency,date:o.data().schedTransactionsDate,recurrence:o.data().schedTransactionsRecurrence})).sort((o,a)=>{const c=new Date(o.date);return new Date(a.date)-c})},s=>{console.error("Error getting documents: ",s)})},enableScheduledTransactionEdit(e){this.editingScheduledTransactionId=e.id,this.editedScheduledTransactionDetails={...e}},cancelScheduledTransactionEdit(){this.editingScheduledTransactionId=null},async deleteScheduledTransaction(e){const t=Yt(Ot),n=dn(Ot),i=t.currentUser;if(i&&console.log("User ID:",i.uid),!i){console.error("No user logged in!");return}const s=i.uid,o=fo(n,"users",s,"scheduledTransaction",e);try{await Hw(o),this.fetchScheduledTransactions()}catch(a){console.error("Error deleting scheduled transaction:",a)}},async updateScheduledTransaction(){const t=Yt(Ot).currentUser;if(t&&console.log("User ID:",t.uid),!t){console.error("No user logged in!");return}const n=t.uid;if(!this.editingScheduledTransactionId)return;const i=dn(Ot),s=fo(i,"users",n,"scheduledTransaction",this.editingScheduledTransactionId),o={...this.editedScheduledTransactionDetails,currency:RO()};try{await Qm(s,o),this.editingScheduledTransactionId=null,this.fetchScheduledTransactions(),this.editedScheduledTransactionDetails={}}catch(a){console.error("Error updating scheduled transaction:",a)}}},computed:{filteredTransactions(){let e=this.scheduledTransactions;return this.selectedFilter==="category"&&this.selectedCategory?e=e.filter(t=>t.category===this.selectedCategory):this.selectedFilter==="recurrence"&&this.selectedRecurrence&&(e=e.filter(t=>t.recurrence===this.selectedRecurrence)),e}}},xa=e=>(os("data-v-93e3c46d"),e=e(),as(),e),KJ=xa(()=>P("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"},null,-1)),GJ={class:"scheduled-transaction-history-page"},YJ={class:"filter-options"},XJ=xa(()=>P("option",{value:"category"},"Filter by Category",-1)),QJ=xa(()=>P("option",{value:"recurrence"},"Filter by Recurrence",-1)),JJ=[XJ,QJ],ZJ=cc('<option value="" data-v-93e3c46d>Select a Category</option><option value="income" data-v-93e3c46d>Income</option><option value="allowance" data-v-93e3c46d>Allowance</option><option value="expenses" data-v-93e3c46d>Expenses</option><option value="subscriptions" data-v-93e3c46d>Subscriptions</option><option value="others" data-v-93e3c46d>Others</option>',6),tZ=[ZJ],eZ=xa(()=>P("option",{value:""},"Select a Recurrence Range",-1)),nZ=xa(()=>P("option",{value:"monthly"},"Monthly",-1)),iZ=xa(()=>P("option",{value:"yearly"},"Yearly",-1)),sZ=[eZ,nZ,iZ],rZ={class:"view-scheduled-transactions-page"},oZ={class:"scheduled-transactions-list"},aZ={class:"transaction-details"},lZ={class:"transaction-name"},cZ={class:"transaction-date"},uZ={class:"transaction-recurrence"},hZ={class:"transaction-actions"},dZ=["onClick"],fZ=["onClick"],pZ={key:0,class:"overlay"},gZ={class:"edit-transaction-form"},mZ=xa(()=>P("h2",null,"Edit Scheduled Transaction",-1)),_Z=cc('<option value="income" data-v-93e3c46d>Income</option><option value="allowance" data-v-93e3c46d>Allowance</option><option value="expenses" data-v-93e3c46d>Expenses</option><option value="subscriptions" data-v-93e3c46d>Subscriptions</option><option value="others" data-v-93e3c46d>Others</option>',5),yZ=[_Z];function vZ(e,t,n,i,s,o){const a=qt("router-link");return wt(),Tt(cn,null,[KJ,P("div",GJ,[P("div",YJ,[$t(P("select",{"onUpdate:modelValue":t[0]||(t[0]=c=>s.selectedFilter=c)},JJ,512),[[Pi,s.selectedFilter]]),s.selectedFilter==="category"?$t((wt(),Tt("select",{key:0,"onUpdate:modelValue":t[1]||(t[1]=c=>s.selectedCategory=c)},tZ,512)),[[Pi,s.selectedCategory]]):ii("",!0),s.selectedFilter==="recurrence"?$t((wt(),Tt("select",{key:1,"onUpdate:modelValue":t[2]||(t[2]=c=>s.selectedRecurrence=c)},sZ,512)),[[Pi,s.selectedRecurrence]]):ii("",!0)]),P("div",rZ,[P("div",oZ,[P("ul",null,[(wt(!0),Tt(cn,null,ha(o.filteredTransactions,c=>(wt(),Tt("li",{key:c.id,class:"transaction-item"},[P("div",aZ,[P("h3",lZ,te(c.name),1),P("p",cZ,te(c.date),1),P("p",uZ,te(c.recurrence)+" "+te(c.category),1)]),P("div",hZ,[P("i",{class:"fas fa-pencil-alt",onClick:u=>o.enableScheduledTransactionEdit(c)},null,8,dZ),P("i",{class:"fas fa-trash",onClick:u=>o.deleteScheduledTransaction(c.id)},null,8,fZ)]),P("div",{class:ei(["transaction-amount",{negative:c.amount<0,positive:c.amount>=0}])},te(c.amount.toFixed(2)),3)]))),128))]),s.editingScheduledTransactionId?(wt(),Tt("div",pZ,[P("div",gZ,[mZ,$t(P("input",{"onUpdate:modelValue":t[3]||(t[3]=c=>s.editedScheduledTransactionDetails.name=c),placeholder:"Scheduled Transaction Name"},null,512),[[xe,s.editedScheduledTransactionDetails.name]]),$t(P("input",{"onUpdate:modelValue":t[4]||(t[4]=c=>s.editedScheduledTransactionDetails.amount=c),type:"number",placeholder:"Amount"},null,512),[[xe,s.editedScheduledTransactionDetails.amount]]),$t(P("select",{"onUpdate:modelValue":t[5]||(t[5]=c=>e.editedTransactionDetails.category=c)},yZ,512),[[Pi,e.editedTransactionDetails.category]]),$t(P("input",{"onUpdate:modelValue":t[6]||(t[6]=c=>e.editedTransactionDetails.date=c),type:"date"},null,512),[[xe,e.editedTransactionDetails.date]]),P("button",{onClick:t[7]||(t[7]=(...c)=>o.updateScheduledTransaction&&o.updateScheduledTransaction(...c)),class:"save-btn"},"Save Changes"),P("button",{onClick:t[8]||(t[8]=(...c)=>o.cancelScheduledTransactionEdit&&o.cancelScheduledTransactionEdit(...c)),class:"cancel-btn"},"Cancel")])])):ii("",!0),vt(a,{to:"/addScheduledTransaction",tag:"button",class:"add-sched-transaction-btn"},{default:ni(()=>[wn(" Add New Scheduled Transaction ")]),_:1})])])])],64)}const bZ=Le(qJ,[["render",vZ],["__scopeId","data-v-93e3c46d"]]),wZ={name:"viewScheduledTransactionsPage",components:{viewScheduledTransactions:bZ,sidebar:Us,Logout:_r},data(){return{user:null,userEmail:"nothing"}},mounted(){const e=Yt();Vs(e,t=>{t&&(this.user=t,this.userEmail=t.email)})}},EZ={class:"viewSchedTransacPageContainer"},IZ={class:"sidebar"},TZ={class:"maincontent"};function SZ(e,t,n,i,s,o){const a=qt("sidebar"),c=qt("viewScheduledTransactions"),u=qt("Logout");return wt(),Tt("div",EZ,[P("div",IZ,[vt(a)]),P("div",TZ,[vt(c),vt(u,{user:s.user},null,8,["user"])])])}const AZ=Le(wZ,[["render",SZ]]),CZ=dn(Ot),PZ={data(){return{auth:null,editingTransactionId:null,editedTransactionDetails:{},transactions:[],selectedFilter:"",selectedCategory:"",selectedDateFilter:""}},mounted(){this.fetchTransactions()},created(){this.auth=Yt(Ot)},methods:{fetchTransactions(){const t=Yt(Ot).currentUser;if(t&&console.log("User ID:",t.uid),!t){console.error("No user logged in!");return}const n=t.uid,i=Di(CZ,"users",n,"transactions");CO(i,s=>{this.transactions=s.docs.map(o=>({id:o.id,name:o.data().name,amount:o.data().amount,category:o.data().category,currency:o.data().currency,date:o.data().date,description:o.data().description})).sort((o,a)=>{const c=new Date(o.date);return new Date(a.date)-c})},s=>{console.error("Error getting documents: ",s)})},enableTransactionEdit(e){this.editingTransactionId=e.id,this.editedTransactionDetails={...e}},cancelTransactionEdit(){this.editingTransactionId=null},async deleteTransaction(e){const t=Yt(Ot),n=dn(Ot),i=t.currentUser;if(i&&console.log("User ID:",i.uid),!i){console.error("No user logged in!");return}const s=i.uid,o=fo(n,"users",s,"transactions",e);try{await Hw(o),this.fetchTransactions()}catch(a){console.error("Error deleting transaction:",a)}},async updateTransaction(){const t=Yt(Ot).currentUser;if(t&&console.log("User ID:",t.uid),!t){console.error("No user logged in!");return}const n=t.uid;if(!this.editingTransactionId)return;const i=dn(Ot),s=fo(i,"users",n,"transactions",this.editingTransactionId),o={...this.editedTransactionDetails,currency:RO()};try{await Qm(s,o),this.editingTransactionId=null,this.fetchTransactions(),this.editedTransactionDetails={}}catch(a){console.error("Error updating transaction:",a)}}},computed:{filteredTransactions(){let e=this.transactions;if(this.selectedFilter==="category"&&this.selectedCategory)e=e.filter(t=>t.category===this.selectedCategory);else if(this.selectedFilter==="date"){const t=new Date;t.setHours(0,0,0,0);let n;switch(this.selectedDateFilter){case"today":n=t;break;case"last7Days":n=new Date(new Date().setDate(t.getDate()-7));break;case"lastMonth":n=new Date(new Date().setMonth(t.getMonth()-1));break}n&&(e=e.filter(i=>{const s=new Date(i.date);return s>=n&&s<=t}))}return e}}},RZ=P("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"},null,-1),kZ={class:"transaction-history-page"},xZ={class:"filter-options"},DZ=P("option",{value:"category"},"Filter by Category",-1),OZ=P("option",{value:"date"},"Filter by Date",-1),MZ=[DZ,OZ],NZ=cc('<option value="">Select a Category</option><option value="transport">Transport</option><option value="shopping">Shopping</option><option value="food">Food</option><option value="others">Others</option>',5),LZ=[NZ],VZ=P("option",{value:""},"Select a Date Range",-1),FZ=P("option",{value:"today"},"Today",-1),UZ=P("option",{value:"last7Days"},"Last 7 Days",-1),BZ=P("option",{value:"lastMonth"},"Last Month",-1),jZ=[VZ,FZ,UZ,BZ],$Z={class:"transaction-list"},HZ={class:"transaction-details"},zZ={class:"transaction-name"},WZ={class:"transaction-date"},qZ={class:"transaction-category"},KZ={class:"transaction-actions"},GZ=["onClick"],YZ=["onClick"],XZ={key:0,class:"overlay"},QZ={class:"edit-transaction-form"},JZ=P("h2",null,"Edit Transaction",-1),ZZ=P("option",{value:"transport"},"Transport",-1),ttt=P("option",{value:"shopping"},"Shopping",-1),ett=P("option",{value:"food"},"Food",-1),ntt=P("option",{value:"others"},"Others",-1),itt=[ZZ,ttt,ett,ntt];function stt(e,t,n,i,s,o){const a=qt("router-link");return wt(),Tt(cn,null,[RZ,P("div",kZ,[P("div",xZ,[$t(P("select",{"onUpdate:modelValue":t[0]||(t[0]=c=>s.selectedFilter=c)},MZ,512),[[Pi,s.selectedFilter]]),s.selectedFilter==="category"?$t((wt(),Tt("select",{key:0,"onUpdate:modelValue":t[1]||(t[1]=c=>s.selectedCategory=c)},LZ,512)),[[Pi,s.selectedCategory]]):ii("",!0),s.selectedFilter==="date"?$t((wt(),Tt("select",{key:1,"onUpdate:modelValue":t[2]||(t[2]=c=>s.selectedDateFilter=c)},jZ,512)),[[Pi,s.selectedDateFilter]]):ii("",!0)]),P("div",$Z,[P("ul",null,[(wt(!0),Tt(cn,null,ha(o.filteredTransactions,c=>(wt(),Tt("li",{key:c.id,class:"transaction-item"},[P("div",HZ,[P("h3",zZ,te(c.name),1),P("p",WZ,te(c.date),1),P("p",qZ,te(c.category),1)]),P("div",KZ,[P("i",{class:"fas fa-pencil-alt",onClick:u=>o.enableTransactionEdit(c)},null,8,GZ),P("i",{class:"fas fa-trash",onClick:u=>o.deleteTransaction(c.id)},null,8,YZ)]),P("div",{class:ei(["transaction-amount",{negative:c.amount<0,positive:c.amount>=0}])},te(c.amount.toFixed(2)),3)]))),128))]),s.editingTransactionId?(wt(),Tt("div",XZ,[P("div",QZ,[JZ,$t(P("input",{"onUpdate:modelValue":t[3]||(t[3]=c=>s.editedTransactionDetails.name=c),placeholder:"Transaction Name"},null,512),[[xe,s.editedTransactionDetails.name]]),$t(P("input",{"onUpdate:modelValue":t[4]||(t[4]=c=>s.editedTransactionDetails.amount=c),type:"number",placeholder:"Amount"},null,512),[[xe,s.editedTransactionDetails.amount]]),$t(P("select",{"onUpdate:modelValue":t[5]||(t[5]=c=>s.editedTransactionDetails.category=c)},itt,512),[[Pi,s.editedTransactionDetails.category]]),$t(P("input",{"onUpdate:modelValue":t[6]||(t[6]=c=>s.editedTransactionDetails.date=c),type:"date"},null,512),[[xe,s.editedTransactionDetails.date]]),P("button",{onClick:t[7]||(t[7]=(...c)=>o.updateTransaction&&o.updateTransaction(...c)),class:"save-btn"},"Save Changes"),P("button",{onClick:t[8]||(t[8]=(...c)=>o.cancelTransactionEdit&&o.cancelTransactionEdit(...c)),class:"cancel-btn"},"Cancel")])])):ii("",!0),vt(a,{to:"/addTransaction",tag:"button",class:"add-transaction-btn"},{default:ni(()=>[wn(" Add New Transaction ")]),_:1})])])],64)}const rtt=Le(PZ,[["render",stt]]),ott={name:"addBudgetPage",components:{transactionHistory:rtt,sidebar:Us,Logout:_r},data(){return{user:null,userEmail:"nothing"}},mounted(){const e=Yt();Vs(e,t=>{t&&(this.user=t,this.userEmail=t.email)})}},att={class:"transacHistPageContainer"},ltt={class:"sidebar"},ctt={class:"maincontent"};function utt(e,t,n,i,s,o){const a=qt("sidebar"),c=qt("transactionHistory"),u=qt("Logout");return wt(),Tt("div",att,[P("div",ltt,[vt(a)]),P("div",ctt,[vt(c),vt(u,{user:s.user},null,8,["user"])])])}const htt=Le(ott,[["render",utt]]),dtt={name:"userProfile",components:{Logout:_r,sidebar:Us},data(){return{user:null,userEmail:"nothing"}},mounted(){const e=Yt();Vs(e,t=>{t&&(this.user=t,this.userEmail=t.email,this.username=t.displayName,this.userPicture=t.photoURL)})},methods:{editProfile(){window.location.href="/editProfile"}}},f1=e=>(os("data-v-4a468d38"),e=e(),as(),e),ftt={class:"userProfilePageContainer"},ptt={class:"sidebar"},gtt={class:"maincontent"},mtt={class:"user-profile"},_tt=f1(()=>P("h2",null,"User Profile",-1)),ytt=["src"],vtt={class:"form-group"},btt=f1(()=>P("label",{for:"username"},"Username",-1)),wtt={class:"form-group"},Ett=f1(()=>P("label",{for:"email"},"Email",-1)),Itt={class:"button-container"};function Ttt(e,t,n,i,s,o){const a=qt("sidebar"),c=qt("Logout");return wt(),Tt("div",ftt,[P("div",ptt,[vt(a)]),P("div",gtt,[P("div",mtt,[_tt,P("img",{src:e.userPicture||"@/assets/profile-user.png",alt:"User Profile Picture"},null,8,ytt),P("div",vtt,[btt,P("p",null,te(e.username),1)]),P("div",wtt,[Ett,P("p",null,te(s.userEmail),1)]),P("div",Itt,[P("button",{class:"btn",onClick:t[0]||(t[0]=u=>o.editProfile())},"Edit Profile")])]),vt(c,{user:s.user},null,8,["user"])])])}const Stt=Le(dtt,[["render",Ttt],["__scopeId","data-v-4a468d38"]]),Att={name:"editProfile",components:{sidebar:Us},data(){return{user:null,username:"",email:"nothing",errorMessage:"",defaultProfilePicture:"assets/profile-user.png",profilePictureUrl:null,storage:KO(Ot)}},mounted(){const e=Yt();Vs(e,t=>{t&&(this.user=t,this.username=t.displayName,this.email=t.email,this.profilePictureUrl=t.photoURL||this.defaultProfilePicture,console.log("Profile Picture URL:",this.profilePictureUrl))})},methods:{navigateBack(){this.$router.back()},async editProfile(){if(!this.username||!this.email){this.errorMessage="Please fill in all fields.";return}try{if(this.username!==this.user.displayName?(console.log("Updating display name..."),await Yv(this.user,{displayName:this.username})):console.log("Username is the same as the current display name."),this.profilePictureUrl&&this.profilePictureUrl!==this.user.photoURL){console.log("Updating profile picture...");const e=lW(this.storage,`profile_pictures/${this.user.uid}`);await oW(e,this.image);const t=await aW(e);await Yv(this.user,{photoURL:t}),console.log("Profile picture updated successfully")}else console.log("Profile picture is the same as the current one");this.message="Profile updated successfully",this.$router.push("/userProfile")}catch(e){console.error("Error updating profile:",e),this.errorMessage=e.message}},handleFileChange(e){const t=e.target.files[0];if(t){this.image=t;const n=new FileReader;n.onload=i=>{this.profilePictureUrl=i.target.result},n.readAsDataURL(t)}}},setup(){const e=tg(null),t=()=>{e.value.click()},n=tg(null);return{fileInput:e,openFileInput:t,profilePictureUrl:n}}},s_=e=>(os("data-v-056f3892"),e=e(),as(),e),Ctt=s_(()=>P("ion-icon",{name:"arrow-back"},null,-1)),Ptt=s_(()=>P("span",null,"Edit User Profile",-1)),Rtt=[Ctt,Ptt],ktt={class:"user-profile"},xtt=s_(()=>P("h2",null,"User Profile",-1)),Dtt={class:"input"},Ott=["src"],Mtt={class:"form-group"},Ntt=s_(()=>P("label",{for:"username"},"Username",-1)),Ltt={class:"button-container"},Vtt={key:0};function Ftt(e,t,n,i,s,o){const a=qt("sidebar");return wt(),Tt(cn,null,[vt(a),P("div",{class:"navigate-back",onClick:t[0]||(t[0]=c=>o.navigateBack())},Rtt),P("div",ktt,[xtt,P("div",Dtt,[P("div",null,[P("img",{onClick:t[1]||(t[1]=(...c)=>i.openFileInput&&i.openFileInput(...c)),class:"profile-user-img img-circle",src:i.profilePictureUrl||s.defaultProfilePicture,alt:"User Profile Picture"},null,8,Ott)]),P("input",{id:"fileInput",onChange:t[2]||(t[2]=(...c)=>o.handleFileChange&&o.handleFileChange(...c)),ref:"fileInput",type:"file",class:"d-none"},null,544)]),P("div",Mtt,[Ntt,$t(P("input",{type:"text",id:"username","onUpdate:modelValue":t[3]||(t[3]=c=>s.username=c),required:"",class:"input-field"},null,512),[[xe,s.username]])]),P("div",Ltt,[P("button",{class:"btn",onClick:t[4]||(t[4]=(...c)=>o.editProfile&&o.editProfile(...c))},"Save"),e.message?(wt(),Tt("p",Vtt,te(e.message),1)):ii("",!0)])])],64)}const Utt=Le(Att,[["render",Ftt],["__scopeId","data-v-056f3892"]]),Btt={name:"goalSettingPage",components:{goalSetting:qM,sidebar:Us,Logout:_r},data(){return{user:null,userEmail:"nothing",allGoals:[]}},mounted(){const e=Yt();Vs(e,t=>{t&&(this.user=t,this.userEmail=t.email)})},watch:{$route(e,t){e.name==="goalSettingPage"&&t.name!==e.name&&this.fetchGoals()}}},jtt={class:"goalSettingPageContainer"},$tt={class:"sidebar"},Htt={class:"maincontent"};function ztt(e,t,n,i,s,o){const a=qt("sidebar"),c=qt("goalSetting"),u=qt("Logout");return wt(),Tt("div",jtt,[P("div",$tt,[vt(a)]),P("div",Htt,[vt(c),vt(u,{user:s.user},null,8,["user"])])])}const Wtt=Le(Btt,[["render",ztt]]);Xi.register(...zM);const qtt={props:{chartData:{type:Object,required:!0},options:{type:Object,default:()=>{}}},setup(e){const t=tg(null);let n=null;return fk(()=>{n=new Xi(t.value.getContext("2d"),{type:"line",data:e.chartData,options:e.options})}),xl(()=>e.chartData,i=>{n&&(n.data=i,n.update())}),xl(()=>e.chartData,(i,s)=>{n&&n.destroy()},{immediate:!0,deep:!0}),{canvas:t}}},Ktt={class:"line-chart"},Gtt={ref:"canvas"};function Ytt(e,t,n,i,s,o){return wt(),Tt("div",Ktt,[P("canvas",Gtt,null,512)])}const Xtt=Le(qtt,[["render",Ytt]]),Qtt={data(){return{topSpendings:[]}},async mounted(){await this.fetchAndComputeTopSpendings()},methods:{async fetchAndComputeTopSpendings(){try{let d=function(f){const g=f.split("-"),_=g[0],v=g[1].padStart(2,"0"),I=g[2].padStart(2,"0");return`${_}-${v}-${I}`};var e=d;const t=dn(Ot),i=Yt(Ot).currentUser;if(i&&console.log("User ID:",i.uid),!i){console.error("No user logged in!");return}const s=i.uid,o=Di(t,"users",s,"transactions"),a=await or(o),c={};a.forEach(f=>{const g=f.data(),_=g.date.split("-"),v=_[0],I=_[1],b=_[2],w=`${v}-${I}-${b}`,T=g.name;c[w]||(c[w]={totalAmount:0,transactions:[]}),c[w].totalAmount+=g.amount,c[w].transactions.push({name:g.name,amount:g.amount})});const u=Object.keys(c).map(f=>({date:d(f),totalAmount:c[f].totalAmount,transactions:c[f].transactions}));this.topSpendings=u.sort((f,g)=>g.amount-f.amount).slice(0,3)}catch(t){console.error("Error fetching and computing top spendings:",t)}}}},Jtt=e=>(os("data-v-dc12db82"),e=e(),as(),e),Ztt=Jtt(()=>P("h2",null,"Top 3 Spendings",-1)),tet={class:"topSpendings"},eet={class:"transaction-details"},net={class:"transaction-name"},iet={class:"transaction-date"},set={class:"transaction-amt"};function ret(e,t,n,i,s,o){return wt(),Tt("div",null,[Ztt,P("div",tet,[P("ul",null,[(wt(!0),Tt(cn,null,ha(s.topSpendings,(a,c)=>(wt(),Tt("li",{key:c,class:"transaction-item"},[P("div",eet,[P("h3",net,te(a.name),1),P("p",iet,te(a.date),1),P("p",set,te(a.amount),1)])]))),128))])])])}const oet=Le(Qtt,[["render",ret],["__scopeId","data-v-dc12db82"]]),aet={components:{lineChart:Xtt,Logout:_r,Sidebar:Us,top3spendings:oet},data(){return{user:null,chartData:{labels:[],datasets:[]},chartOptions:{plugins:{title:{display:!0,text:"Total Spendings Per Month",font:{size:16}}},scales:{x:{grid:{display:!1}},y:{grid:{display:!1}}},responsive:!0,maintainAspectRatio:!0}}},async mounted(){await this.fetchAndProcessTransactions()},methods:{async fetchAndProcessTransactions(){const e=dn(Ot),n=Yt(Ot).currentUser;if(n&&console.log("User ID:",n.uid),!n){console.error("No user logged in!");return}const i=n.uid,s=Di(e,"users",i,"transactions");try{const o=Bl(s,jp("date")),a=await or(o);let c={};a.forEach(f=>{const g=f.data(),_=g.date.substring(0,7);c[_]||(c[_]=0),c[_]+=-g.amount});const u=Object.keys(c),d=Object.values(c);this.chartData={labels:u,datasets:[{label:"Amount Spent",data:d,fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1}]}}catch(o){console.error("Error fetching transactions:",o)}}}},cet={class:"analyticsPageContainer"},uet={class:"sidebar"},het={class:"maincontent"},det={class:"linechart"},fet={class:"top3"};function pet(e,t,n,i,s,o){const a=qt("Sidebar"),c=qt("line-chart"),u=qt("top3spendings"),d=qt("Logout");return wt(),Tt("div",cet,[P("div",uet,[vt(a)]),P("div",het,[P("div",det,[s.chartData.datasets.length>0?(wt(),Qg(c,{key:0,"chart-data":s.chartData,options:s.chartOptions},null,8,["chart-data","options"])):ii("",!0)]),P("div",fet,[vt(u)]),vt(d,{user:s.user},null,8,["user"])])])}const get=Le(aet,[["render",pet]]),met=[{path:"/",name:"loginPage",component:XH},{path:"/dashboardPage",name:"dashboardPage",component:_Q},{path:"/analyticsPage",name:"analyticsPage",component:get},{path:"/addTransaction",name:"addTransactionPage",component:WQ},{path:"/addBudget",name:"addBudgetPage",component:mJ},{path:"/addScheduledTransaction",name:"addScheduledTransactionPage",component:zJ},{path:"/viewScheduledTransactions",name:"viewScheduledTransactionsPage",component:AZ},{path:"/transactionHistory",name:"transactionHistoryPage",component:htt},{path:"/goalSetting",name:"goalSettingPage",component:Wtt},{path:"/userProfile",name:"userProfile",component:Stt},{path:"/editProfile",name:"editProfile",component:Utt}],_et=HU({history:yU(),routes:met}),Rv=L4(j4),yet=Yt(Ot);let kR=!1;Vs(yet,e=>{kR||(kR=!0,e?(console.log("User is signed in"),Rv.config.globalProperties.$currentUser=e):(console.log("User is signed out"),Rv.config.globalProperties.$currentUser=null),Rv.use(_et).mount("#app"))});
