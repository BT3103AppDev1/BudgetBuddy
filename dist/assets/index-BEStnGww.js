var SV=Object.defineProperty;var AV=(e,t,n)=>t in e?SV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Q=(e,t,n)=>(AV(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Xb(e,t){const n=new Set(e.split(","));return t?i=>n.has(i.toLowerCase()):i=>n.has(i)}const Te={},Cl=[],Ui=()=>{},CV=()=>!1,jg=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Qb=e=>e.startsWith("onUpdate:"),Nn=Object.assign,Jb=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},PV=Object.prototype.hasOwnProperty,Zt=(e,t)=>PV.call(e,t),Pt=Array.isArray,Pl=e=>ld(e)==="[object Map]",$g=e=>ld(e)==="[object Set]",kS=e=>ld(e)==="[object Date]",Vt=e=>typeof e=="function",mn=e=>typeof e=="string",so=e=>typeof e=="symbol",Ee=e=>e!==null&&typeof e=="object",NR=e=>(Ee(e)||Vt(e))&&Vt(e.then)&&Vt(e.catch),LR=Object.prototype.toString,ld=e=>LR.call(e),RV=e=>ld(e).slice(8,-1),VR=e=>ld(e)==="[object Object]",Zb=e=>mn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ih=Xb(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Hg=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},kV=/-(\w)/g,Os=Hg(e=>e.replace(kV,(t,n)=>n?n.toUpperCase():"")),xV=/\B([A-Z])/g,lc=Hg(e=>e.replace(xV,"-$1").toLowerCase()),zg=Hg(e=>e.charAt(0).toUpperCase()+e.slice(1)),By=Hg(e=>e?`on${zg(e)}`:""),ro=(e,t)=>!Object.is(e,t),xp=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},eg=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Sh=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let xS;const FR=()=>xS||(xS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Wg(e){if(Pt(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],s=mn(i)?NV(i):Wg(i);if(s)for(const o in s)t[o]=s[o]}return t}else if(mn(e)||Ee(e))return e}const DV=/;(?![^(]*\))/g,OV=/:([^]+)/,MV=/\/\*[^]*?\*\//g;function NV(e){const t={};return e.replace(MV,"").split(DV).forEach(n=>{if(n){const i=n.split(OV);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function wn(e){let t="";if(mn(e))t=e;else if(Pt(e))for(let n=0;n<e.length;n++){const i=wn(e[n]);i&&(t+=i+" ")}else if(Ee(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const LV="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",VV=Xb(LV);function UR(e){return!!e||e===""}function FV(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=qg(e[i],t[i]);return n}function qg(e,t){if(e===t)return!0;let n=kS(e),i=kS(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=so(e),i=so(t),n||i)return e===t;if(n=Pt(e),i=Pt(t),n||i)return n&&i?FV(e,t):!1;if(n=Ee(e),i=Ee(t),n||i){if(!n||!i)return!1;const s=Object.keys(e).length,o=Object.keys(t).length;if(s!==o)return!1;for(const a in e){const c=e.hasOwnProperty(a),u=t.hasOwnProperty(a);if(c&&!u||!c&&u||!qg(e[a],t[a]))return!1}}return String(e)===String(t)}function UV(e,t){return e.findIndex(n=>qg(n,t))}const te=e=>mn(e)?e:e==null?"":Pt(e)||Ee(e)&&(e.toString===LR||!Vt(e.toString))?JSON.stringify(e,BR,2):String(e),BR=(e,t)=>t&&t.__v_isRef?BR(e,t.value):Pl(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,s],o)=>(n[jy(i,o)+" =>"]=s,n),{})}:$g(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>jy(n))}:so(t)?jy(t):Ee(t)&&!Pt(t)&&!VR(t)?String(t):t,jy=(e,t="")=>{var n;return so(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Yi;class BV{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Yi,!t&&Yi&&(this.index=(Yi.scopes||(Yi.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Yi;try{return Yi=this,t()}finally{Yi=n}}}on(){Yi=this}off(){Yi=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function jV(e,t=Yi){t&&t.active&&t.effects.push(e)}function $V(){return Yi}let ia;class t0{constructor(t,n,i,s){this.fn=t,this.trigger=n,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,jV(this,s)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Ia();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(HV(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Ta()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=Zr,n=ia;try{return Zr=!0,ia=this,this._runnings++,DS(this),this.fn()}finally{OS(this),this._runnings--,ia=n,Zr=t}}stop(){var t;this.active&&(DS(this),OS(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function HV(e){return e.value}function DS(e){e._trackId++,e._depsLength=0}function OS(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)jR(e.deps[t],e);e.deps.length=e._depsLength}}function jR(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let Zr=!0,Mv=0;const $R=[];function Ia(){$R.push(Zr),Zr=!1}function Ta(){const e=$R.pop();Zr=e===void 0?!0:e}function e0(){Mv++}function n0(){for(Mv--;!Mv&&Nv.length;)Nv.shift()()}function HR(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const i=e.deps[e._depsLength];i!==t?(i&&jR(i,e),e.deps[e._depsLength++]=t):e._depsLength++}}const Nv=[];function zR(e,t,n){e0();for(const i of e.keys()){let s;i._dirtyLevel<t&&(s??(s=e.get(i)===i._trackId))&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i._dirtyLevel=t),i._shouldSchedule&&(s??(s=e.get(i)===i._trackId))&&(i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==2&&(i._shouldSchedule=!1,i.scheduler&&Nv.push(i.scheduler)))}n0()}const WR=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},Lv=new WeakMap,sa=Symbol(""),Vv=Symbol("");function _i(e,t,n){if(Zr&&ia){let i=Lv.get(e);i||Lv.set(e,i=new Map);let s=i.get(n);s||i.set(n,s=WR(()=>i.delete(n))),HR(ia,s)}}function ir(e,t,n,i,s,o){const a=Lv.get(e);if(!a)return;let c=[];if(t==="clear")c=[...a.values()];else if(n==="length"&&Pt(e)){const u=Number(i);a.forEach((d,f)=>{(f==="length"||!so(f)&&f>=u)&&c.push(d)})}else switch(n!==void 0&&c.push(a.get(n)),t){case"add":Pt(e)?Zb(n)&&c.push(a.get("length")):(c.push(a.get(sa)),Pl(e)&&c.push(a.get(Vv)));break;case"delete":Pt(e)||(c.push(a.get(sa)),Pl(e)&&c.push(a.get(Vv)));break;case"set":Pl(e)&&c.push(a.get(sa));break}e0();for(const u of c)u&&zR(u,4);n0()}const zV=Xb("__proto__,__v_isRef,__isVue"),qR=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(so)),MS=WV();function WV(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=oe(this);for(let o=0,a=this.length;o<a;o++)_i(i,"get",o+"");const s=i[t](...n);return s===-1||s===!1?i[t](...n.map(oe)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Ia(),e0();const i=oe(this)[t].apply(this,n);return n0(),Ta(),i}}),e}function qV(e){const t=oe(this);return _i(t,"has",e),t.hasOwnProperty(e)}class KR{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){const s=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw")return i===(s?o?rF:QR:o?XR:YR).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const a=Pt(t);if(!s){if(a&&Zt(MS,n))return Reflect.get(MS,n,i);if(n==="hasOwnProperty")return qV}const c=Reflect.get(t,n,i);return(so(n)?qR.has(n):zV(n))||(s||_i(t,"get",n),o)?c:yi(c)?a&&Zb(n)?c:c.value:Ee(c)?s?ZR(c):Gg(c):c}}class GR extends KR{constructor(t=!1){super(!1,t)}set(t,n,i,s){let o=t[n];if(!this._isShallow){const u=$l(o);if(!ng(i)&&!$l(i)&&(o=oe(o),i=oe(i)),!Pt(t)&&yi(o)&&!yi(i))return u?!1:(o.value=i,!0)}const a=Pt(t)&&Zb(n)?Number(n)<t.length:Zt(t,n),c=Reflect.set(t,n,i,s);return t===oe(s)&&(a?ro(i,o)&&ir(t,"set",n,i):ir(t,"add",n,i)),c}deleteProperty(t,n){const i=Zt(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&i&&ir(t,"delete",n,void 0),s}has(t,n){const i=Reflect.has(t,n);return(!so(n)||!qR.has(n))&&_i(t,"has",n),i}ownKeys(t){return _i(t,"iterate",Pt(t)?"length":sa),Reflect.ownKeys(t)}}class KV extends KR{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const GV=new GR,YV=new KV,XV=new GR(!0),i0=e=>e,Kg=e=>Reflect.getPrototypeOf(e);function Qf(e,t,n=!1,i=!1){e=e.__v_raw;const s=oe(e),o=oe(t);n||(ro(t,o)&&_i(s,"get",t),_i(s,"get",o));const{has:a}=Kg(s),c=i?i0:n?o0:Ah;if(a.call(s,t))return c(e.get(t));if(a.call(s,o))return c(e.get(o));e!==s&&e.get(t)}function Jf(e,t=!1){const n=this.__v_raw,i=oe(n),s=oe(e);return t||(ro(e,s)&&_i(i,"has",e),_i(i,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function Zf(e,t=!1){return e=e.__v_raw,!t&&_i(oe(e),"iterate",sa),Reflect.get(e,"size",e)}function NS(e){e=oe(e);const t=oe(this);return Kg(t).has.call(t,e)||(t.add(e),ir(t,"add",e,e)),this}function LS(e,t){t=oe(t);const n=oe(this),{has:i,get:s}=Kg(n);let o=i.call(n,e);o||(e=oe(e),o=i.call(n,e));const a=s.call(n,e);return n.set(e,t),o?ro(t,a)&&ir(n,"set",e,t):ir(n,"add",e,t),this}function VS(e){const t=oe(this),{has:n,get:i}=Kg(t);let s=n.call(t,e);s||(e=oe(e),s=n.call(t,e)),i&&i.call(t,e);const o=t.delete(e);return s&&ir(t,"delete",e,void 0),o}function FS(){const e=oe(this),t=e.size!==0,n=e.clear();return t&&ir(e,"clear",void 0,void 0),n}function tp(e,t){return function(i,s){const o=this,a=o.__v_raw,c=oe(a),u=t?i0:e?o0:Ah;return!e&&_i(c,"iterate",sa),a.forEach((d,f)=>i.call(s,u(d),u(f),o))}}function ep(e,t,n){return function(...i){const s=this.__v_raw,o=oe(s),a=Pl(o),c=e==="entries"||e===Symbol.iterator&&a,u=e==="keys"&&a,d=s[e](...i),f=n?i0:t?o0:Ah;return!t&&_i(o,"iterate",u?Vv:sa),{next(){const{value:g,done:_}=d.next();return _?{value:g,done:_}:{value:c?[f(g[0]),f(g[1])]:f(g),done:_}},[Symbol.iterator](){return this}}}}function Ur(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function QV(){const e={get(o){return Qf(this,o)},get size(){return Zf(this)},has:Jf,add:NS,set:LS,delete:VS,clear:FS,forEach:tp(!1,!1)},t={get(o){return Qf(this,o,!1,!0)},get size(){return Zf(this)},has:Jf,add:NS,set:LS,delete:VS,clear:FS,forEach:tp(!1,!0)},n={get(o){return Qf(this,o,!0)},get size(){return Zf(this,!0)},has(o){return Jf.call(this,o,!0)},add:Ur("add"),set:Ur("set"),delete:Ur("delete"),clear:Ur("clear"),forEach:tp(!0,!1)},i={get(o){return Qf(this,o,!0,!0)},get size(){return Zf(this,!0)},has(o){return Jf.call(this,o,!0)},add:Ur("add"),set:Ur("set"),delete:Ur("delete"),clear:Ur("clear"),forEach:tp(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=ep(o,!1,!1),n[o]=ep(o,!0,!1),t[o]=ep(o,!1,!0),i[o]=ep(o,!0,!0)}),[e,n,t,i]}const[JV,ZV,tF,eF]=QV();function s0(e,t){const n=t?e?eF:tF:e?ZV:JV;return(i,s,o)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?i:Reflect.get(Zt(n,s)&&s in i?n:i,s,o)}const nF={get:s0(!1,!1)},iF={get:s0(!1,!0)},sF={get:s0(!0,!1)},YR=new WeakMap,XR=new WeakMap,QR=new WeakMap,rF=new WeakMap;function oF(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function aF(e){return e.__v_skip||!Object.isExtensible(e)?0:oF(RV(e))}function Gg(e){return $l(e)?e:r0(e,!1,GV,nF,YR)}function JR(e){return r0(e,!1,XV,iF,XR)}function ZR(e){return r0(e,!0,YV,sF,QR)}function r0(e,t,n,i,s){if(!Ee(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=s.get(e);if(o)return o;const a=aF(e);if(a===0)return e;const c=new Proxy(e,a===2?i:n);return s.set(e,c),c}function Rl(e){return $l(e)?Rl(e.__v_raw):!!(e&&e.__v_isReactive)}function $l(e){return!!(e&&e.__v_isReadonly)}function ng(e){return!!(e&&e.__v_isShallow)}function tk(e){return Rl(e)||$l(e)}function oe(e){const t=e&&e.__v_raw;return t?oe(t):e}function ek(e){return Object.isExtensible(e)&&eg(e,"__v_skip",!0),e}const Ah=e=>Ee(e)?Gg(e):e,o0=e=>Ee(e)?ZR(e):e;class nk{constructor(t,n,i,s){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new t0(()=>t(this._value),()=>Dp(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const t=oe(this);return(!t._cacheable||t.effect.dirty)&&ro(t._value,t._value=t.effect.run())&&Dp(t,4),ik(t),t.effect._dirtyLevel>=2&&Dp(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function lF(e,t,n=!1){let i,s;const o=Vt(e);return o?(i=e,s=Ui):(i=e.get,s=e.set),new nk(i,s,o||!s,n)}function ik(e){var t;Zr&&ia&&(e=oe(e),HR(ia,(t=e.dep)!=null?t:e.dep=WR(()=>e.dep=void 0,e instanceof nk?e:void 0)))}function Dp(e,t=4,n){e=oe(e);const i=e.dep;i&&zR(i,t)}function yi(e){return!!(e&&e.__v_isRef===!0)}function ig(e){return sk(e,!1)}function cF(e){return sk(e,!0)}function sk(e,t){return yi(e)?e:new uF(e,t)}class uF{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:oe(t),this._value=n?t:Ah(t)}get value(){return ik(this),this._value}set value(t){const n=this.__v_isShallow||ng(t)||$l(t);t=n?t:oe(t),ro(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Ah(t),Dp(this,4))}}function kl(e){return yi(e)?e.value:e}const hF={get:(e,t,n)=>kl(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const s=e[t];return yi(s)&&!yi(n)?(s.value=n,!0):Reflect.set(e,t,n,i)}};function rk(e){return Rl(e)?e:new Proxy(e,hF)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function to(e,t,n,i){try{return i?e(...i):e()}catch(s){Yg(s,t,n)}}function ts(e,t,n,i){if(Vt(e)){const o=to(e,t,n,i);return o&&NR(o)&&o.catch(a=>{Yg(a,t,n)}),o}const s=[];for(let o=0;o<e.length;o++)s.push(ts(e[o],t,n,i));return s}function Yg(e,t,n,i=!0){const s=t?t.vnode:null;if(t){let o=t.parent;const a=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const d=o.ec;if(d){for(let f=0;f<d.length;f++)if(d[f](e,a,c)===!1)return}o=o.parent}const u=t.appContext.config.errorHandler;if(u){to(u,null,10,[e,a,c]);return}}dF(e,n,s,i)}function dF(e,t,n,i=!0){console.error(e)}let Ch=!1,Fv=!1;const jn=[];let vs=0;const xl=[];let $r=null,Ko=0;const ok=Promise.resolve();let a0=null;function l0(e){const t=a0||ok;return e?t.then(this?e.bind(this):e):t}function fF(e){let t=vs+1,n=jn.length;for(;t<n;){const i=t+n>>>1,s=jn[i],o=Ph(s);o<e||o===e&&s.pre?t=i+1:n=i}return t}function c0(e){(!jn.length||!jn.includes(e,Ch&&e.allowRecurse?vs+1:vs))&&(e.id==null?jn.push(e):jn.splice(fF(e.id),0,e),ak())}function ak(){!Ch&&!Fv&&(Fv=!0,a0=ok.then(ck))}function pF(e){const t=jn.indexOf(e);t>vs&&jn.splice(t,1)}function gF(e){Pt(e)?xl.push(...e):(!$r||!$r.includes(e,e.allowRecurse?Ko+1:Ko))&&xl.push(e),ak()}function US(e,t,n=Ch?vs+1:0){for(;n<jn.length;n++){const i=jn[n];if(i&&i.pre){if(e&&i.id!==e.uid)continue;jn.splice(n,1),n--,i()}}}function lk(e){if(xl.length){const t=[...new Set(xl)].sort((n,i)=>Ph(n)-Ph(i));if(xl.length=0,$r){$r.push(...t);return}for($r=t,Ko=0;Ko<$r.length;Ko++)$r[Ko]();$r=null,Ko=0}}const Ph=e=>e.id==null?1/0:e.id,mF=(e,t)=>{const n=Ph(e)-Ph(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function ck(e){Fv=!1,Ch=!0,jn.sort(mF);try{for(vs=0;vs<jn.length;vs++){const t=jn[vs];t&&t.active!==!1&&to(t,null,14)}}finally{vs=0,jn.length=0,lk(),Ch=!1,a0=null,(jn.length||xl.length)&&ck()}}function _F(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Te;let s=n;const o=t.startsWith("update:"),a=o&&t.slice(7);if(a&&a in i){const f=`${a==="modelValue"?"model":a}Modifiers`,{number:g,trim:_}=i[f]||Te;_&&(s=n.map(v=>mn(v)?v.trim():v)),g&&(s=n.map(Sh))}let c,u=i[c=By(t)]||i[c=By(Os(t))];!u&&o&&(u=i[c=By(lc(t))]),u&&ts(u,e,6,s);const d=i[c+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,ts(d,e,6,s)}}function uk(e,t,n=!1){const i=t.emitsCache,s=i.get(e);if(s!==void 0)return s;const o=e.emits;let a={},c=!1;if(!Vt(e)){const u=d=>{const f=uk(d,t,!0);f&&(c=!0,Nn(a,f))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!o&&!c?(Ee(e)&&i.set(e,null),null):(Pt(o)?o.forEach(u=>a[u]=null):Nn(a,o),Ee(e)&&i.set(e,a),a)}function Xg(e,t){return!e||!jg(t)?!1:(t=t.slice(2).replace(/Once$/,""),Zt(e,t[0].toLowerCase()+t.slice(1))||Zt(e,lc(t))||Zt(e,t))}let pi=null,Qg=null;function sg(e){const t=pi;return pi=e,Qg=e&&e.type.__scopeId||null,t}function os(e){Qg=e}function as(){Qg=null}function ni(e,t=pi,n){if(!t||e._n)return e;const i=(...s)=>{i._d&&XS(-1);const o=sg(t);let a;try{a=e(...s)}finally{sg(o),i._d&&XS(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function $y(e){const{type:t,vnode:n,proxy:i,withProxy:s,props:o,propsOptions:[a],slots:c,attrs:u,emit:d,render:f,renderCache:g,data:_,setupState:v,ctx:I,inheritAttrs:b}=e;let w,T;const S=sg(e);try{if(n.shapeFlag&4){const x=s||i,D=x;w=ys(f.call(D,x,g,o,v,_,I)),T=u}else{const x=t;w=ys(x.length>1?x(o,{attrs:u,slots:c,emit:d}):x(o,null)),T=t.props?u:yF(u)}}catch(x){oh.length=0,Yg(x,e,1),w=bt(fa)}let k=w;if(T&&b!==!1){const x=Object.keys(T),{shapeFlag:D}=k;x.length&&D&7&&(a&&x.some(Qb)&&(T=vF(T,a)),k=Hl(k,T))}return n.dirs&&(k=Hl(k),k.dirs=k.dirs?k.dirs.concat(n.dirs):n.dirs),n.transition&&(k.transition=n.transition),w=k,sg(S),w}const yF=e=>{let t;for(const n in e)(n==="class"||n==="style"||jg(n))&&((t||(t={}))[n]=e[n]);return t},vF=(e,t)=>{const n={};for(const i in e)(!Qb(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function bF(e,t,n){const{props:i,children:s,component:o}=e,{props:a,children:c,patchFlag:u}=t,d=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return i?BS(i,a,d):!!a;if(u&8){const f=t.dynamicProps;for(let g=0;g<f.length;g++){const _=f[g];if(a[_]!==i[_]&&!Xg(d,_))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:i===a?!1:i?a?BS(i,a,d):!0:!!a;return!1}function BS(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let s=0;s<i.length;s++){const o=i[s];if(t[o]!==e[o]&&!Xg(n,o))return!0}return!1}function wF({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const hk="components";function Kt(e,t){return IF(hk,e,!0,t)||e}const EF=Symbol.for("v-ndc");function IF(e,t,n=!0,i=!1){const s=pi||$n;if(s){const o=s.type;if(e===hk){const c=g4(o,!1);if(c&&(c===t||c===Os(t)||c===zg(Os(t))))return o}const a=jS(s[e]||o[e],t)||jS(s.appContext[e],t);return!a&&i?o:a}}function jS(e,t){return e&&(e[t]||e[Os(t)]||e[zg(Os(t))])}const TF=e=>e.__isSuspense;function SF(e,t){t&&t.pendingBranch?Pt(e)?t.effects.push(...e):t.effects.push(e):gF(e)}const AF=Symbol.for("v-scx"),CF=()=>sr(AF),np={};function Dl(e,t,n){return dk(e,t,n)}function dk(e,t,{immediate:n,deep:i,flush:s,once:o,onTrack:a,onTrigger:c}=Te){if(t&&o){const M=t;t=(...V)=>{M(...V),D()}}const u=$n,d=M=>i===!0?M:Xo(M,i===!1?1:void 0);let f,g=!1,_=!1;if(yi(e)?(f=()=>e.value,g=ng(e)):Rl(e)?(f=()=>d(e),g=!0):Pt(e)?(_=!0,g=e.some(M=>Rl(M)||ng(M)),f=()=>e.map(M=>{if(yi(M))return M.value;if(Rl(M))return d(M);if(Vt(M))return to(M,u,2)})):Vt(e)?t?f=()=>to(e,u,2):f=()=>(v&&v(),ts(e,u,3,[I])):f=Ui,t&&i){const M=f;f=()=>Xo(M())}let v,I=M=>{v=k.onStop=()=>{to(M,u,4),v=k.onStop=void 0}},b;if(nm)if(I=Ui,t?n&&ts(t,u,3,[f(),_?[]:void 0,I]):f(),s==="sync"){const M=CF();b=M.__watcherHandles||(M.__watcherHandles=[])}else return Ui;let w=_?new Array(e.length).fill(np):np;const T=()=>{if(!(!k.active||!k.dirty))if(t){const M=k.run();(i||g||(_?M.some((V,z)=>ro(V,w[z])):ro(M,w)))&&(v&&v(),ts(t,u,3,[M,w===np?void 0:_&&w[0]===np?[]:w,I]),w=M)}else k.run()};T.allowRecurse=!!t;let S;s==="sync"?S=T:s==="post"?S=()=>ui(T,u&&u.suspense):(T.pre=!0,u&&(T.id=u.uid),S=()=>c0(T));const k=new t0(f,Ui,S),x=$V(),D=()=>{k.stop(),x&&Jb(x.effects,k)};return t?n?T():w=k.run():s==="post"?ui(k.run.bind(k),u&&u.suspense):k.run(),b&&b.push(D),D}function PF(e,t,n){const i=this.proxy,s=mn(e)?e.includes(".")?fk(i,e):()=>i[e]:e.bind(i,i);let o;Vt(t)?o=t:(o=t.handler,n=t);const a=cd(this),c=dk(s,o.bind(i),n);return a(),c}function fk(e,t){const n=t.split(".");return()=>{let i=e;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function Xo(e,t,n=0,i){if(!Ee(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(i=i||new Set,i.has(e))return e;if(i.add(e),yi(e))Xo(e.value,t,n,i);else if(Pt(e))for(let s=0;s<e.length;s++)Xo(e[s],t,n,i);else if($g(e)||Pl(e))e.forEach(s=>{Xo(s,t,n,i)});else if(VR(e))for(const s in e)Xo(e[s],t,n,i);return e}function $t(e,t){if(pi===null)return e;const n=im(pi)||pi.proxy,i=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[o,a,c,u=Te]=t[s];o&&(Vt(o)&&(o={mounted:o,updated:o}),o.deep&&Xo(a),i.push({dir:o,instance:n,value:a,oldValue:void 0,arg:c,modifiers:u}))}return e}function Fo(e,t,n,i){const s=e.dirs,o=t&&t.dirs;for(let a=0;a<s.length;a++){const c=s[a];o&&(c.oldValue=o[a].value);let u=c.dir[i];u&&(Ia(),ts(u,n,8,[e.el,c,e,t]),Ta())}}/*! #__NO_SIDE_EFFECTS__ */function pk(e,t){return Vt(e)?Nn({name:e.name},t,{setup:e}):e}const Op=e=>!!e.type.__asyncLoader,gk=e=>e.type.__isKeepAlive;function RF(e,t){mk(e,"a",t)}function kF(e,t){mk(e,"da",t)}function mk(e,t,n=$n){const i=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Jg(t,i,n),n){let s=n.parent;for(;s&&s.parent;)gk(s.parent.vnode)&&xF(i,t,n,s),s=s.parent}}function xF(e,t,n,i){const s=Jg(t,e,i,!0);yk(()=>{Jb(i[t],s)},n)}function Jg(e,t,n=$n,i=!1){if(n){const s=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;Ia();const c=cd(n),u=ts(t,n,e,a);return c(),Ta(),u});return i?s.unshift(o):s.push(o),o}}const dr=e=>(t,n=$n)=>(!nm||e==="sp")&&Jg(e,(...i)=>t(...i),n),DF=dr("bm"),_k=dr("m"),OF=dr("bu"),MF=dr("u"),NF=dr("bum"),yk=dr("um"),LF=dr("sp"),VF=dr("rtg"),FF=dr("rtc");function UF(e,t=$n){Jg("ec",e,t)}function da(e,t,n,i){let s;const o=n&&n[i];if(Pt(e)||mn(e)){s=new Array(e.length);for(let a=0,c=e.length;a<c;a++)s[a]=t(e[a],a,void 0,o&&o[a])}else if(typeof e=="number"){s=new Array(e);for(let a=0;a<e;a++)s[a]=t(a+1,a,void 0,o&&o[a])}else if(Ee(e))if(e[Symbol.iterator])s=Array.from(e,(a,c)=>t(a,c,void 0,o&&o[c]));else{const a=Object.keys(e);s=new Array(a.length);for(let c=0,u=a.length;c<u;c++){const d=a[c];s[c]=t(e[d],d,c,o&&o[c])}}else s=[];return n&&(n[i]=s),s}const Uv=e=>e?kk(e)?im(e)||e.proxy:Uv(e.parent):null,sh=Nn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Uv(e.parent),$root:e=>Uv(e.root),$emit:e=>e.emit,$options:e=>u0(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,c0(e.update)}),$nextTick:e=>e.n||(e.n=l0.bind(e.proxy)),$watch:e=>PF.bind(e)}),Hy=(e,t)=>e!==Te&&!e.__isScriptSetup&&Zt(e,t),BF={get({_:e},t){const{ctx:n,setupState:i,data:s,props:o,accessCache:a,type:c,appContext:u}=e;let d;if(t[0]!=="$"){const v=a[t];if(v!==void 0)switch(v){case 1:return i[t];case 2:return s[t];case 4:return n[t];case 3:return o[t]}else{if(Hy(i,t))return a[t]=1,i[t];if(s!==Te&&Zt(s,t))return a[t]=2,s[t];if((d=e.propsOptions[0])&&Zt(d,t))return a[t]=3,o[t];if(n!==Te&&Zt(n,t))return a[t]=4,n[t];Bv&&(a[t]=0)}}const f=sh[t];let g,_;if(f)return t==="$attrs"&&_i(e,"get",t),f(e);if((g=c.__cssModules)&&(g=g[t]))return g;if(n!==Te&&Zt(n,t))return a[t]=4,n[t];if(_=u.config.globalProperties,Zt(_,t))return _[t]},set({_:e},t,n){const{data:i,setupState:s,ctx:o}=e;return Hy(s,t)?(s[t]=n,!0):i!==Te&&Zt(i,t)?(i[t]=n,!0):Zt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:s,propsOptions:o}},a){let c;return!!n[a]||e!==Te&&Zt(e,a)||Hy(t,a)||(c=o[0])&&Zt(c,a)||Zt(i,a)||Zt(sh,a)||Zt(s.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Zt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function $S(e){return Pt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Bv=!0;function jF(e){const t=u0(e),n=e.proxy,i=e.ctx;Bv=!1,t.beforeCreate&&HS(t.beforeCreate,e,"bc");const{data:s,computed:o,methods:a,watch:c,provide:u,inject:d,created:f,beforeMount:g,mounted:_,beforeUpdate:v,updated:I,activated:b,deactivated:w,beforeDestroy:T,beforeUnmount:S,destroyed:k,unmounted:x,render:D,renderTracked:M,renderTriggered:V,errorCaptured:z,serverPrefetch:st,expose:gt,inheritAttrs:J,components:vt,directives:wt,filters:pe}=t;if(d&&$F(d,i,null),a)for(const ct in a){const kt=a[ct];Vt(kt)&&(i[ct]=kt.bind(n))}if(s){const ct=s.call(n,n);Ee(ct)&&(e.data=Gg(ct))}if(Bv=!0,o)for(const ct in o){const kt=o[ct],ae=Vt(kt)?kt.bind(n,n):Vt(kt.get)?kt.get.bind(n,n):Ui,Ie=!Vt(kt)&&Vt(kt.set)?kt.set.bind(n):Ui,_n=Qi({get:ae,set:Ie});Object.defineProperty(i,ct,{enumerable:!0,configurable:!0,get:()=>_n.value,set:ge=>_n.value=ge})}if(c)for(const ct in c)vk(c[ct],i,n,ct);if(u){const ct=Vt(u)?u.call(n):u;Reflect.ownKeys(ct).forEach(kt=>{Mp(kt,ct[kt])})}f&&HS(f,e,"c");function Y(ct,kt){Pt(kt)?kt.forEach(ae=>ct(ae.bind(n))):kt&&ct(kt.bind(n))}if(Y(DF,g),Y(_k,_),Y(OF,v),Y(MF,I),Y(RF,b),Y(kF,w),Y(UF,z),Y(FF,M),Y(VF,V),Y(NF,S),Y(yk,x),Y(LF,st),Pt(gt))if(gt.length){const ct=e.exposed||(e.exposed={});gt.forEach(kt=>{Object.defineProperty(ct,kt,{get:()=>n[kt],set:ae=>n[kt]=ae})})}else e.exposed||(e.exposed={});D&&e.render===Ui&&(e.render=D),J!=null&&(e.inheritAttrs=J),vt&&(e.components=vt),wt&&(e.directives=wt)}function $F(e,t,n=Ui){Pt(e)&&(e=jv(e));for(const i in e){const s=e[i];let o;Ee(s)?"default"in s?o=sr(s.from||i,s.default,!0):o=sr(s.from||i):o=sr(s),yi(o)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[i]=o}}function HS(e,t,n){ts(Pt(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function vk(e,t,n,i){const s=i.includes(".")?fk(n,i):()=>n[i];if(mn(e)){const o=t[e];Vt(o)&&Dl(s,o)}else if(Vt(e))Dl(s,e.bind(n));else if(Ee(e))if(Pt(e))e.forEach(o=>vk(o,t,n,i));else{const o=Vt(e.handler)?e.handler.bind(n):t[e.handler];Vt(o)&&Dl(s,o,e)}}function u0(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:s,optionsCache:o,config:{optionMergeStrategies:a}}=e.appContext,c=o.get(t);let u;return c?u=c:!s.length&&!n&&!i?u=t:(u={},s.length&&s.forEach(d=>rg(u,d,a,!0)),rg(u,t,a)),Ee(t)&&o.set(t,u),u}function rg(e,t,n,i=!1){const{mixins:s,extends:o}=t;o&&rg(e,o,n,!0),s&&s.forEach(a=>rg(e,a,n,!0));for(const a in t)if(!(i&&a==="expose")){const c=HF[a]||n&&n[a];e[a]=c?c(e[a],t[a]):t[a]}return e}const HF={data:zS,props:WS,emits:WS,methods:$u,computed:$u,beforeCreate:ei,created:ei,beforeMount:ei,mounted:ei,beforeUpdate:ei,updated:ei,beforeDestroy:ei,beforeUnmount:ei,destroyed:ei,unmounted:ei,activated:ei,deactivated:ei,errorCaptured:ei,serverPrefetch:ei,components:$u,directives:$u,watch:WF,provide:zS,inject:zF};function zS(e,t){return t?e?function(){return Nn(Vt(e)?e.call(this,this):e,Vt(t)?t.call(this,this):t)}:t:e}function zF(e,t){return $u(jv(e),jv(t))}function jv(e){if(Pt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ei(e,t){return e?[...new Set([].concat(e,t))]:t}function $u(e,t){return e?Nn(Object.create(null),e,t):t}function WS(e,t){return e?Pt(e)&&Pt(t)?[...new Set([...e,...t])]:Nn(Object.create(null),$S(e),$S(t??{})):t}function WF(e,t){if(!e)return t;if(!t)return e;const n=Nn(Object.create(null),e);for(const i in t)n[i]=ei(e[i],t[i]);return n}function bk(){return{app:null,config:{isNativeTag:CV,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let qF=0;function KF(e,t){return function(i,s=null){Vt(i)||(i=Nn({},i)),s!=null&&!Ee(s)&&(s=null);const o=bk(),a=new WeakSet;let c=!1;const u=o.app={_uid:qF++,_component:i,_props:s,_container:null,_context:o,_instance:null,version:_4,get config(){return o.config},set config(d){},use(d,...f){return a.has(d)||(d&&Vt(d.install)?(a.add(d),d.install(u,...f)):Vt(d)&&(a.add(d),d(u,...f))),u},mixin(d){return o.mixins.includes(d)||o.mixins.push(d),u},component(d,f){return f?(o.components[d]=f,u):o.components[d]},directive(d,f){return f?(o.directives[d]=f,u):o.directives[d]},mount(d,f,g){if(!c){const _=bt(i,s);return _.appContext=o,g===!0?g="svg":g===!1&&(g=void 0),f&&t?t(_,d):e(_,d,g),c=!0,u._container=d,d.__vue_app__=u,im(_.component)||_.component.proxy}},unmount(){c&&(e(null,u._container),delete u._container.__vue_app__)},provide(d,f){return o.provides[d]=f,u},runWithContext(d){const f=rh;rh=u;try{return d()}finally{rh=f}}};return u}}let rh=null;function Mp(e,t){if($n){let n=$n.provides;const i=$n.parent&&$n.parent.provides;i===n&&(n=$n.provides=Object.create(i)),n[e]=t}}function sr(e,t,n=!1){const i=$n||pi;if(i||rh){const s=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:rh._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Vt(t)?t.call(i&&i.proxy):t}}function GF(e,t,n,i=!1){const s={},o={};eg(o,em,1),e.propsDefaults=Object.create(null),wk(e,t,s,o);for(const a in e.propsOptions[0])a in s||(s[a]=void 0);n?e.props=i?s:JR(s):e.type.props?e.props=s:e.props=o,e.attrs=o}function YF(e,t,n,i){const{props:s,attrs:o,vnode:{patchFlag:a}}=e,c=oe(s),[u]=e.propsOptions;let d=!1;if((i||a>0)&&!(a&16)){if(a&8){const f=e.vnode.dynamicProps;for(let g=0;g<f.length;g++){let _=f[g];if(Xg(e.emitsOptions,_))continue;const v=t[_];if(u)if(Zt(o,_))v!==o[_]&&(o[_]=v,d=!0);else{const I=Os(_);s[I]=$v(u,c,I,v,e,!1)}else v!==o[_]&&(o[_]=v,d=!0)}}}else{wk(e,t,s,o)&&(d=!0);let f;for(const g in c)(!t||!Zt(t,g)&&((f=lc(g))===g||!Zt(t,f)))&&(u?n&&(n[g]!==void 0||n[f]!==void 0)&&(s[g]=$v(u,c,g,void 0,e,!0)):delete s[g]);if(o!==c)for(const g in o)(!t||!Zt(t,g))&&(delete o[g],d=!0)}d&&ir(e,"set","$attrs")}function wk(e,t,n,i){const[s,o]=e.propsOptions;let a=!1,c;if(t)for(let u in t){if(ih(u))continue;const d=t[u];let f;s&&Zt(s,f=Os(u))?!o||!o.includes(f)?n[f]=d:(c||(c={}))[f]=d:Xg(e.emitsOptions,u)||(!(u in i)||d!==i[u])&&(i[u]=d,a=!0)}if(o){const u=oe(n),d=c||Te;for(let f=0;f<o.length;f++){const g=o[f];n[g]=$v(s,u,g,d[g],e,!Zt(d,g))}}return a}function $v(e,t,n,i,s,o){const a=e[n];if(a!=null){const c=Zt(a,"default");if(c&&i===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&Vt(u)){const{propsDefaults:d}=s;if(n in d)i=d[n];else{const f=cd(s);i=d[n]=u.call(null,t),f()}}else i=u}a[0]&&(o&&!c?i=!1:a[1]&&(i===""||i===lc(n))&&(i=!0))}return i}function Ek(e,t,n=!1){const i=t.propsCache,s=i.get(e);if(s)return s;const o=e.props,a={},c=[];let u=!1;if(!Vt(e)){const f=g=>{u=!0;const[_,v]=Ek(g,t,!0);Nn(a,_),v&&c.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!o&&!u)return Ee(e)&&i.set(e,Cl),Cl;if(Pt(o))for(let f=0;f<o.length;f++){const g=Os(o[f]);qS(g)&&(a[g]=Te)}else if(o)for(const f in o){const g=Os(f);if(qS(g)){const _=o[f],v=a[g]=Pt(_)||Vt(_)?{type:_}:Nn({},_);if(v){const I=YS(Boolean,v.type),b=YS(String,v.type);v[0]=I>-1,v[1]=b<0||I<b,(I>-1||Zt(v,"default"))&&c.push(g)}}}const d=[a,c];return Ee(e)&&i.set(e,d),d}function qS(e){return e[0]!=="$"&&!ih(e)}function KS(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function GS(e,t){return KS(e)===KS(t)}function YS(e,t){return Pt(t)?t.findIndex(n=>GS(n,e)):Vt(t)&&GS(t,e)?0:-1}const Ik=e=>e[0]==="_"||e==="$stable",h0=e=>Pt(e)?e.map(ys):[ys(e)],XF=(e,t,n)=>{if(t._n)return t;const i=ni((...s)=>h0(t(...s)),n);return i._c=!1,i},Tk=(e,t,n)=>{const i=e._ctx;for(const s in e){if(Ik(s))continue;const o=e[s];if(Vt(o))t[s]=XF(s,o,i);else if(o!=null){const a=h0(o);t[s]=()=>a}}},Sk=(e,t)=>{const n=h0(t);e.slots.default=()=>n},QF=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=oe(t),eg(t,"_",n)):Tk(t,e.slots={})}else e.slots={},t&&Sk(e,t);eg(e.slots,em,1)},JF=(e,t,n)=>{const{vnode:i,slots:s}=e;let o=!0,a=Te;if(i.shapeFlag&32){const c=t._;c?n&&c===1?o=!1:(Nn(s,t),!n&&c===1&&delete s._):(o=!t.$stable,Tk(t,s)),a=t}else t&&(Sk(e,t),a={default:1});if(o)for(const c in s)!Ik(c)&&a[c]==null&&delete s[c]};function Hv(e,t,n,i,s=!1){if(Pt(e)){e.forEach((_,v)=>Hv(_,t&&(Pt(t)?t[v]:t),n,i,s));return}if(Op(i)&&!s)return;const o=i.shapeFlag&4?im(i.component)||i.component.proxy:i.el,a=s?null:o,{i:c,r:u}=e,d=t&&t.r,f=c.refs===Te?c.refs={}:c.refs,g=c.setupState;if(d!=null&&d!==u&&(mn(d)?(f[d]=null,Zt(g,d)&&(g[d]=null)):yi(d)&&(d.value=null)),Vt(u))to(u,c,12,[a,f]);else{const _=mn(u),v=yi(u);if(_||v){const I=()=>{if(e.f){const b=_?Zt(g,u)?g[u]:f[u]:u.value;s?Pt(b)&&Jb(b,o):Pt(b)?b.includes(o)||b.push(o):_?(f[u]=[o],Zt(g,u)&&(g[u]=f[u])):(u.value=[o],e.k&&(f[e.k]=u.value))}else _?(f[u]=a,Zt(g,u)&&(g[u]=a)):v&&(u.value=a,e.k&&(f[e.k]=a))};a?(I.id=-1,ui(I,n)):I()}}}const ui=SF;function ZF(e){return t4(e)}function t4(e,t){const n=FR();n.__VUE__=!0;const{insert:i,remove:s,patchProp:o,createElement:a,createText:c,createComment:u,setText:d,setElementText:f,parentNode:g,nextSibling:_,setScopeId:v=Ui,insertStaticContent:I}=e,b=(A,R,O,j=null,F=null,X=null,it=void 0,G=null,Z=!!R.dynamicChildren)=>{if(A===R)return;A&&!Cu(A,R)&&(j=L(A),ge(A,F,X,!0),A=null),R.patchFlag===-2&&(Z=!1,R.dynamicChildren=null);const{type:W,ref:ot,shapeFlag:mt}=R;switch(W){case Zg:w(A,R,O,j);break;case fa:T(A,R,O,j);break;case Np:A==null&&S(R,O,j,it);break;case hn:vt(A,R,O,j,F,X,it,G,Z);break;default:mt&1?D(A,R,O,j,F,X,it,G,Z):mt&6?wt(A,R,O,j,F,X,it,G,Z):(mt&64||mt&128)&&W.process(A,R,O,j,F,X,it,G,Z,ft)}ot!=null&&F&&Hv(ot,A&&A.ref,X,R||A,!R)},w=(A,R,O,j)=>{if(A==null)i(R.el=c(R.children),O,j);else{const F=R.el=A.el;R.children!==A.children&&d(F,R.children)}},T=(A,R,O,j)=>{A==null?i(R.el=u(R.children||""),O,j):R.el=A.el},S=(A,R,O,j)=>{[A.el,A.anchor]=I(A.children,R,O,j,A.el,A.anchor)},k=({el:A,anchor:R},O,j)=>{let F;for(;A&&A!==R;)F=_(A),i(A,O,j),A=F;i(R,O,j)},x=({el:A,anchor:R})=>{let O;for(;A&&A!==R;)O=_(A),s(A),A=O;s(R)},D=(A,R,O,j,F,X,it,G,Z)=>{R.type==="svg"?it="svg":R.type==="math"&&(it="mathml"),A==null?M(R,O,j,F,X,it,G,Z):st(A,R,F,X,it,G,Z)},M=(A,R,O,j,F,X,it,G)=>{let Z,W;const{props:ot,shapeFlag:mt,transition:_t,dirs:At}=A;if(Z=A.el=a(A.type,X,ot&&ot.is,ot),mt&8?f(Z,A.children):mt&16&&z(A.children,Z,null,j,F,zy(A,X),it,G),At&&Fo(A,null,j,"created"),V(Z,A,A.scopeId,it,j),ot){for(const Qt in ot)Qt!=="value"&&!ih(Qt)&&o(Z,Qt,null,ot[Qt],X,A.children,j,F,ye);"value"in ot&&o(Z,"value",null,ot.value,X),(W=ot.onVnodeBeforeMount)&&gs(W,j,A)}At&&Fo(A,null,j,"beforeMount");const Ut=e4(F,_t);Ut&&_t.beforeEnter(Z),i(Z,R,O),((W=ot&&ot.onVnodeMounted)||Ut||At)&&ui(()=>{W&&gs(W,j,A),Ut&&_t.enter(Z),At&&Fo(A,null,j,"mounted")},F)},V=(A,R,O,j,F)=>{if(O&&v(A,O),j)for(let X=0;X<j.length;X++)v(A,j[X]);if(F){let X=F.subTree;if(R===X){const it=F.vnode;V(A,it,it.scopeId,it.slotScopeIds,F.parent)}}},z=(A,R,O,j,F,X,it,G,Z=0)=>{for(let W=Z;W<A.length;W++){const ot=A[W]=G?Hr(A[W]):ys(A[W]);b(null,ot,R,O,j,F,X,it,G)}},st=(A,R,O,j,F,X,it)=>{const G=R.el=A.el;let{patchFlag:Z,dynamicChildren:W,dirs:ot}=R;Z|=A.patchFlag&16;const mt=A.props||Te,_t=R.props||Te;let At;if(O&&Uo(O,!1),(At=_t.onVnodeBeforeUpdate)&&gs(At,O,R,A),ot&&Fo(R,A,O,"beforeUpdate"),O&&Uo(O,!0),W?gt(A.dynamicChildren,W,G,O,j,zy(R,F),X):it||kt(A,R,G,null,O,j,zy(R,F),X,!1),Z>0){if(Z&16)J(G,R,mt,_t,O,j,F);else if(Z&2&&mt.class!==_t.class&&o(G,"class",null,_t.class,F),Z&4&&o(G,"style",mt.style,_t.style,F),Z&8){const Ut=R.dynamicProps;for(let Qt=0;Qt<Ut.length;Qt++){const ie=Ut[Qt],ve=mt[ie],oi=_t[ie];(oi!==ve||ie==="value")&&o(G,ie,ve,oi,F,A.children,O,j,ye)}}Z&1&&A.children!==R.children&&f(G,R.children)}else!it&&W==null&&J(G,R,mt,_t,O,j,F);((At=_t.onVnodeUpdated)||ot)&&ui(()=>{At&&gs(At,O,R,A),ot&&Fo(R,A,O,"updated")},j)},gt=(A,R,O,j,F,X,it)=>{for(let G=0;G<R.length;G++){const Z=A[G],W=R[G],ot=Z.el&&(Z.type===hn||!Cu(Z,W)||Z.shapeFlag&70)?g(Z.el):O;b(Z,W,ot,null,j,F,X,it,!0)}},J=(A,R,O,j,F,X,it)=>{if(O!==j){if(O!==Te)for(const G in O)!ih(G)&&!(G in j)&&o(A,G,O[G],null,it,R.children,F,X,ye);for(const G in j){if(ih(G))continue;const Z=j[G],W=O[G];Z!==W&&G!=="value"&&o(A,G,W,Z,it,R.children,F,X,ye)}"value"in j&&o(A,"value",O.value,j.value,it)}},vt=(A,R,O,j,F,X,it,G,Z)=>{const W=R.el=A?A.el:c(""),ot=R.anchor=A?A.anchor:c("");let{patchFlag:mt,dynamicChildren:_t,slotScopeIds:At}=R;At&&(G=G?G.concat(At):At),A==null?(i(W,O,j),i(ot,O,j),z(R.children||[],O,ot,F,X,it,G,Z)):mt>0&&mt&64&&_t&&A.dynamicChildren?(gt(A.dynamicChildren,_t,O,F,X,it,G),(R.key!=null||F&&R===F.subTree)&&Ak(A,R,!0)):kt(A,R,O,ot,F,X,it,G,Z)},wt=(A,R,O,j,F,X,it,G,Z)=>{R.slotScopeIds=G,A==null?R.shapeFlag&512?F.ctx.activate(R,O,j,it,Z):pe(R,O,j,F,X,it,Z):dt(A,R,Z)},pe=(A,R,O,j,F,X,it)=>{const G=A.component=u4(A,j,F);if(gk(A)&&(G.ctx.renderer=ft),h4(G),G.asyncDep){if(F&&F.registerDep(G,Y),!A.el){const Z=G.subTree=bt(fa);T(null,Z,R,O)}}else Y(G,A,R,O,F,X,it)},dt=(A,R,O)=>{const j=R.component=A.component;if(bF(A,R,O))if(j.asyncDep&&!j.asyncResolved){ct(j,R,O);return}else j.next=R,pF(j.update),j.effect.dirty=!0,j.update();else R.el=A.el,j.vnode=R},Y=(A,R,O,j,F,X,it)=>{const G=()=>{if(A.isMounted){let{next:ot,bu:mt,u:_t,parent:At,vnode:Ut}=A;{const wr=Ck(A);if(wr){ot&&(ot.el=Ut.el,ct(A,ot,it)),wr.asyncDep.then(()=>{A.isUnmounted||G()});return}}let Qt=ot,ie;Uo(A,!1),ot?(ot.el=Ut.el,ct(A,ot,it)):ot=Ut,mt&&xp(mt),(ie=ot.props&&ot.props.onVnodeBeforeUpdate)&&gs(ie,At,ot,Ut),Uo(A,!0);const ve=$y(A),oi=A.subTree;A.subTree=ve,b(oi,ve,g(oi.el),L(oi),A,F,X),ot.el=ve.el,Qt===null&&wF(A,ve.el),_t&&ui(_t,F),(ie=ot.props&&ot.props.onVnodeUpdated)&&ui(()=>gs(ie,At,ot,Ut),F)}else{let ot;const{el:mt,props:_t}=R,{bm:At,m:Ut,parent:Qt}=A,ie=Op(R);if(Uo(A,!1),At&&xp(At),!ie&&(ot=_t&&_t.onVnodeBeforeMount)&&gs(ot,Qt,R),Uo(A,!0),mt&&me){const ve=()=>{A.subTree=$y(A),me(mt,A.subTree,A,F,null)};ie?R.type.__asyncLoader().then(()=>!A.isUnmounted&&ve()):ve()}else{const ve=A.subTree=$y(A);b(null,ve,O,j,A,F,X),R.el=ve.el}if(Ut&&ui(Ut,F),!ie&&(ot=_t&&_t.onVnodeMounted)){const ve=R;ui(()=>gs(ot,Qt,ve),F)}(R.shapeFlag&256||Qt&&Op(Qt.vnode)&&Qt.vnode.shapeFlag&256)&&A.a&&ui(A.a,F),A.isMounted=!0,R=O=j=null}},Z=A.effect=new t0(G,Ui,()=>c0(W),A.scope),W=A.update=()=>{Z.dirty&&Z.run()};W.id=A.uid,Uo(A,!0),W()},ct=(A,R,O)=>{R.component=A;const j=A.vnode.props;A.vnode=R,A.next=null,YF(A,R.props,j,O),JF(A,R.children,O),Ia(),US(A),Ta()},kt=(A,R,O,j,F,X,it,G,Z=!1)=>{const W=A&&A.children,ot=A?A.shapeFlag:0,mt=R.children,{patchFlag:_t,shapeFlag:At}=R;if(_t>0){if(_t&128){Ie(W,mt,O,j,F,X,it,G,Z);return}else if(_t&256){ae(W,mt,O,j,F,X,it,G,Z);return}}At&8?(ot&16&&ye(W,F,X),mt!==W&&f(O,mt)):ot&16?At&16?Ie(W,mt,O,j,F,X,it,G,Z):ye(W,F,X,!0):(ot&8&&f(O,""),At&16&&z(mt,O,j,F,X,it,G,Z))},ae=(A,R,O,j,F,X,it,G,Z)=>{A=A||Cl,R=R||Cl;const W=A.length,ot=R.length,mt=Math.min(W,ot);let _t;for(_t=0;_t<mt;_t++){const At=R[_t]=Z?Hr(R[_t]):ys(R[_t]);b(A[_t],At,O,null,F,X,it,G,Z)}W>ot?ye(A,F,X,!0,!1,mt):z(R,O,j,F,X,it,G,Z,mt)},Ie=(A,R,O,j,F,X,it,G,Z)=>{let W=0;const ot=R.length;let mt=A.length-1,_t=ot-1;for(;W<=mt&&W<=_t;){const At=A[W],Ut=R[W]=Z?Hr(R[W]):ys(R[W]);if(Cu(At,Ut))b(At,Ut,O,null,F,X,it,G,Z);else break;W++}for(;W<=mt&&W<=_t;){const At=A[mt],Ut=R[_t]=Z?Hr(R[_t]):ys(R[_t]);if(Cu(At,Ut))b(At,Ut,O,null,F,X,it,G,Z);else break;mt--,_t--}if(W>mt){if(W<=_t){const At=_t+1,Ut=At<ot?R[At].el:j;for(;W<=_t;)b(null,R[W]=Z?Hr(R[W]):ys(R[W]),O,Ut,F,X,it,G,Z),W++}}else if(W>_t)for(;W<=mt;)ge(A[W],F,X,!0),W++;else{const At=W,Ut=W,Qt=new Map;for(W=Ut;W<=_t;W++){const Xe=R[W]=Z?Hr(R[W]):ys(R[W]);Xe.key!=null&&Qt.set(Xe.key,W)}let ie,ve=0;const oi=_t-Ut+1;let wr=!1,Ld=0;const cs=new Array(oi);for(W=0;W<oi;W++)cs[W]=0;for(W=At;W<=mt;W++){const Xe=A[W];if(ve>=oi){ge(Xe,F,X,!0);continue}let Ni;if(Xe.key!=null)Ni=Qt.get(Xe.key);else for(ie=Ut;ie<=_t;ie++)if(cs[ie-Ut]===0&&Cu(Xe,R[ie])){Ni=ie;break}Ni===void 0?ge(Xe,F,X,!0):(cs[Ni-Ut]=W+1,Ni>=Ld?Ld=Ni:wr=!0,b(Xe,R[Ni],O,null,F,X,it,G,Z),ve++)}const wo=wr?n4(cs):Cl;for(ie=wo.length-1,W=oi-1;W>=0;W--){const Xe=Ut+W,Ni=R[Xe],Vd=Xe+1<ot?R[Xe+1].el:j;cs[W]===0?b(null,Ni,O,Vd,F,X,it,G,Z):wr&&(ie<0||W!==wo[ie]?_n(Ni,O,Vd,2):ie--)}}},_n=(A,R,O,j,F=null)=>{const{el:X,type:it,transition:G,children:Z,shapeFlag:W}=A;if(W&6){_n(A.component.subTree,R,O,j);return}if(W&128){A.suspense.move(R,O,j);return}if(W&64){it.move(A,R,O,ft);return}if(it===hn){i(X,R,O);for(let mt=0;mt<Z.length;mt++)_n(Z[mt],R,O,j);i(A.anchor,R,O);return}if(it===Np){k(A,R,O);return}if(j!==2&&W&1&&G)if(j===0)G.beforeEnter(X),i(X,R,O),ui(()=>G.enter(X),F);else{const{leave:mt,delayLeave:_t,afterLeave:At}=G,Ut=()=>i(X,R,O),Qt=()=>{mt(X,()=>{Ut(),At&&At()})};_t?_t(X,Ut,Qt):Qt()}else i(X,R,O)},ge=(A,R,O,j=!1,F=!1)=>{const{type:X,props:it,ref:G,children:Z,dynamicChildren:W,shapeFlag:ot,patchFlag:mt,dirs:_t}=A;if(G!=null&&Hv(G,null,O,A,!0),ot&256){R.ctx.deactivate(A);return}const At=ot&1&&_t,Ut=!Op(A);let Qt;if(Ut&&(Qt=it&&it.onVnodeBeforeUnmount)&&gs(Qt,R,A),ot&6)Mi(A.component,O,j);else{if(ot&128){A.suspense.unmount(O,j);return}At&&Fo(A,null,R,"beforeUnmount"),ot&64?A.type.remove(A,R,O,F,ft,j):W&&(X!==hn||mt>0&&mt&64)?ye(W,R,O,!1,!0):(X===hn&&mt&384||!F&&ot&16)&&ye(Z,R,O),j&&ri(A)}(Ut&&(Qt=it&&it.onVnodeUnmounted)||At)&&ui(()=>{Qt&&gs(Qt,R,A),At&&Fo(A,null,R,"unmounted")},O)},ri=A=>{const{type:R,el:O,anchor:j,transition:F}=A;if(R===hn){Ln(O,j);return}if(R===Np){x(A);return}const X=()=>{s(O),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(A.shapeFlag&1&&F&&!F.persisted){const{leave:it,delayLeave:G}=F,Z=()=>it(O,X);G?G(A.el,X,Z):Z()}else X()},Ln=(A,R)=>{let O;for(;A!==R;)O=_(A),s(A),A=O;s(R)},Mi=(A,R,O)=>{const{bum:j,scope:F,update:X,subTree:it,um:G}=A;j&&xp(j),F.stop(),X&&(X.active=!1,ge(it,A,R,O)),G&&ui(G,R),ui(()=>{A.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},ye=(A,R,O,j=!1,F=!1,X=0)=>{for(let it=X;it<A.length;it++)ge(A[it],R,O,j,F)},L=A=>A.shapeFlag&6?L(A.component.subTree):A.shapeFlag&128?A.suspense.next():_(A.anchor||A.el);let at=!1;const tt=(A,R,O)=>{A==null?R._vnode&&ge(R._vnode,null,null,!0):b(R._vnode||null,A,R,null,null,null,O),at||(at=!0,US(),lk(),at=!1),R._vnode=A},ft={p:b,um:ge,m:_n,r:ri,mt:pe,mc:z,pc:kt,pbc:gt,n:L,o:e};let ne,me;return t&&([ne,me]=t(ft)),{render:tt,hydrate:ne,createApp:KF(tt,ne)}}function zy({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Uo({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function e4(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ak(e,t,n=!1){const i=e.children,s=t.children;if(Pt(i)&&Pt(s))for(let o=0;o<i.length;o++){const a=i[o];let c=s[o];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[o]=Hr(s[o]),c.el=a.el),n||Ak(a,c)),c.type===Zg&&(c.el=a.el)}}function n4(e){const t=e.slice(),n=[0];let i,s,o,a,c;const u=e.length;for(i=0;i<u;i++){const d=e[i];if(d!==0){if(s=n[n.length-1],e[s]<d){t[i]=s,n.push(i);continue}for(o=0,a=n.length-1;o<a;)c=o+a>>1,e[n[c]]<d?o=c+1:a=c;d<e[n[o]]&&(o>0&&(t[i]=n[o-1]),n[o]=i)}}for(o=n.length,a=n[o-1];o-- >0;)n[o]=a,a=t[a];return n}function Ck(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ck(t)}const i4=e=>e.__isTeleport,hn=Symbol.for("v-fgt"),Zg=Symbol.for("v-txt"),fa=Symbol.for("v-cmt"),Np=Symbol.for("v-stc"),oh=[];let Ji=null;function yt(e=!1){oh.push(Ji=e?null:[])}function s4(){oh.pop(),Ji=oh[oh.length-1]||null}let Rh=1;function XS(e){Rh+=e}function Pk(e){return e.dynamicChildren=Rh>0?Ji||Cl:null,s4(),Rh>0&&Ji&&Ji.push(e),e}function It(e,t,n,i,s,o){return Pk(C(e,t,n,i,s,o,!0))}function tm(e,t,n,i,s){return Pk(bt(e,t,n,i,s,!0))}function zv(e){return e?e.__v_isVNode===!0:!1}function Cu(e,t){return e.type===t.type&&e.key===t.key}const em="__vInternal",Rk=({key:e})=>e??null,Lp=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?mn(e)||yi(e)||Vt(e)?{i:pi,r:e,k:t,f:!!n}:e:null);function C(e,t=null,n=null,i=0,s=null,o=e===hn?0:1,a=!1,c=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Rk(t),ref:t&&Lp(t),scopeId:Qg,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:pi};return c?(d0(u,n),o&128&&e.normalize(u)):n&&(u.shapeFlag|=mn(n)?8:16),Rh>0&&!a&&Ji&&(u.patchFlag>0||o&6)&&u.patchFlag!==32&&Ji.push(u),u}const bt=r4;function r4(e,t=null,n=null,i=0,s=null,o=!1){if((!e||e===EF)&&(e=fa),zv(e)){const c=Hl(e,t,!0);return n&&d0(c,n),Rh>0&&!o&&Ji&&(c.shapeFlag&6?Ji[Ji.indexOf(e)]=c:Ji.push(c)),c.patchFlag|=-2,c}if(m4(e)&&(e=e.__vccOpts),t){t=o4(t);let{class:c,style:u}=t;c&&!mn(c)&&(t.class=wn(c)),Ee(u)&&(tk(u)&&!Pt(u)&&(u=Nn({},u)),t.style=Wg(u))}const a=mn(e)?1:TF(e)?128:i4(e)?64:Ee(e)?4:Vt(e)?2:0;return C(e,t,n,i,s,a,o,!0)}function o4(e){return e?tk(e)||em in e?Nn({},e):e:null}function Hl(e,t,n=!1){const{props:i,ref:s,patchFlag:o,children:a}=e,c=t?a4(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Rk(c),ref:t&&t.ref?n&&s?Pt(s)?s.concat(Lp(t)):[s,Lp(t)]:Lp(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==hn?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Hl(e.ssContent),ssFallback:e.ssFallback&&Hl(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function En(e=" ",t=0){return bt(Zg,null,e,t)}function cc(e,t){const n=bt(Np,null,e);return n.staticCount=t,n}function ii(e="",t=!1){return t?(yt(),tm(fa,null,e)):bt(fa,null,e)}function ys(e){return e==null||typeof e=="boolean"?bt(fa):Pt(e)?bt(hn,null,e.slice()):typeof e=="object"?Hr(e):bt(Zg,null,String(e))}function Hr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Hl(e)}function d0(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Pt(t))n=16;else if(typeof t=="object")if(i&65){const s=t.default;s&&(s._c&&(s._d=!1),d0(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(em in t)?t._ctx=pi:s===3&&pi&&(pi.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Vt(t)?(t={default:t,_ctx:pi},n=32):(t=String(t),i&64?(n=16,t=[En(t)]):n=8);e.children=t,e.shapeFlag|=n}function a4(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const s in i)if(s==="class")t.class!==i.class&&(t.class=wn([t.class,i.class]));else if(s==="style")t.style=Wg([t.style,i.style]);else if(jg(s)){const o=t[s],a=i[s];a&&o!==a&&!(Pt(o)&&o.includes(a))&&(t[s]=o?[].concat(o,a):a)}else s!==""&&(t[s]=i[s])}return t}function gs(e,t,n,i=null){ts(e,t,7,[n,i])}const l4=bk();let c4=0;function u4(e,t,n){const i=e.type,s=(t?t.appContext:e.appContext)||l4,o={uid:c4++,vnode:e,type:i,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new BV(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ek(i,s),emitsOptions:uk(i,s),emit:null,emitted:null,propsDefaults:Te,inheritAttrs:i.inheritAttrs,ctx:Te,data:Te,props:Te,attrs:Te,slots:Te,refs:Te,setupState:Te,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=_F.bind(null,o),e.ce&&e.ce(o),o}let $n=null,og,Wv;{const e=FR(),t=(n,i)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(i),o=>{s.length>1?s.forEach(a=>a(o)):s[0](o)}};og=t("__VUE_INSTANCE_SETTERS__",n=>$n=n),Wv=t("__VUE_SSR_SETTERS__",n=>nm=n)}const cd=e=>{const t=$n;return og(e),e.scope.on(),()=>{e.scope.off(),og(t)}},QS=()=>{$n&&$n.scope.off(),og(null)};function kk(e){return e.vnode.shapeFlag&4}let nm=!1;function h4(e,t=!1){t&&Wv(t);const{props:n,children:i}=e.vnode,s=kk(e);GF(e,n,s,t),QF(e,i);const o=s?d4(e,t):void 0;return t&&Wv(!1),o}function d4(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=ek(new Proxy(e.ctx,BF));const{setup:i}=n;if(i){const s=e.setupContext=i.length>1?p4(e):null,o=cd(e);Ia();const a=to(i,e,0,[e.props,s]);if(Ta(),o(),NR(a)){if(a.then(QS,QS),t)return a.then(c=>{JS(e,c,t)}).catch(c=>{Yg(c,e,0)});e.asyncDep=a}else JS(e,a,t)}else xk(e,t)}function JS(e,t,n){Vt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ee(t)&&(e.setupState=rk(t)),xk(e,n)}let ZS;function xk(e,t,n){const i=e.type;if(!e.render){if(!t&&ZS&&!i.render){const s=i.template||u0(e).template;if(s){const{isCustomElement:o,compilerOptions:a}=e.appContext.config,{delimiters:c,compilerOptions:u}=i,d=Nn(Nn({isCustomElement:o,delimiters:c},a),u);i.render=ZS(s,d)}}e.render=i.render||Ui}{const s=cd(e);Ia();try{jF(e)}finally{Ta(),s()}}}function f4(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return _i(e,"get","$attrs"),t[n]}}))}function p4(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return f4(e)},slots:e.slots,emit:e.emit,expose:t}}function im(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(rk(ek(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in sh)return sh[n](e)},has(t,n){return n in t||n in sh}}))}function g4(e,t=!0){return Vt(e)?e.displayName||e.name:e.name||t&&e.__name}function m4(e){return Vt(e)&&"__vccOpts"in e}const Qi=(e,t)=>lF(e,t,nm);function Dk(e,t,n){const i=arguments.length;return i===2?Ee(t)&&!Pt(t)?zv(t)?bt(e,null,[t]):bt(e,t):bt(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&zv(n)&&(n=[n]),bt(e,t,n))}const _4="3.4.21";/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const y4="http://www.w3.org/2000/svg",v4="http://www.w3.org/1998/Math/MathML",zr=typeof document<"u"?document:null,tA=zr&&zr.createElement("template"),b4={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const s=t==="svg"?zr.createElementNS(y4,e):t==="mathml"?zr.createElementNS(v4,e):zr.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:e=>zr.createTextNode(e),createComment:e=>zr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>zr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,s,o){const a=n?n.previousSibling:t.lastChild;if(s&&(s===o||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{tA.innerHTML=i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e;const c=tA.content;if(i==="svg"||i==="mathml"){const u=c.firstChild;for(;u.firstChild;)c.appendChild(u.firstChild);c.removeChild(u)}t.insertBefore(c,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},w4=Symbol("_vtc");function E4(e,t,n){const i=e[w4];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const eA=Symbol("_vod"),I4=Symbol("_vsh"),T4=Symbol(""),S4=/(^|;)\s*display\s*:/;function A4(e,t,n){const i=e.style,s=mn(n);let o=!1;if(n&&!s){if(t)if(mn(t))for(const a of t.split(";")){const c=a.slice(0,a.indexOf(":")).trim();n[c]==null&&Vp(i,c,"")}else for(const a in t)n[a]==null&&Vp(i,a,"");for(const a in n)a==="display"&&(o=!0),Vp(i,a,n[a])}else if(s){if(t!==n){const a=i[T4];a&&(n+=";"+a),i.cssText=n,o=S4.test(n)}}else t&&e.removeAttribute("style");eA in e&&(e[eA]=o?i.display:"",e[I4]&&(i.display="none"))}const nA=/\s*!important$/;function Vp(e,t,n){if(Pt(n))n.forEach(i=>Vp(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=C4(e,t);nA.test(n)?e.setProperty(lc(i),n.replace(nA,""),"important"):e[i]=n}}const iA=["Webkit","Moz","ms"],Wy={};function C4(e,t){const n=Wy[t];if(n)return n;let i=Os(t);if(i!=="filter"&&i in e)return Wy[t]=i;i=zg(i);for(let s=0;s<iA.length;s++){const o=iA[s]+i;if(o in e)return Wy[t]=o}return t}const sA="http://www.w3.org/1999/xlink";function P4(e,t,n,i,s){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(sA,t.slice(6,t.length)):e.setAttributeNS(sA,t,n);else{const o=VV(t);n==null||o&&!UR(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function R4(e,t,n,i,s,o,a){if(t==="innerHTML"||t==="textContent"){i&&a(i,s,o),e[t]=n??"";return}const c=e.tagName;if(t==="value"&&c!=="PROGRESS"&&!c.includes("-")){const d=c==="OPTION"?e.getAttribute("value")||"":e.value,f=n??"";(d!==f||!("_value"in e))&&(e.value=f),n==null&&e.removeAttribute(t),e._value=n;return}let u=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=UR(n):n==null&&d==="string"?(n="",u=!0):d==="number"&&(n=0,u=!0)}try{e[t]=n}catch{}u&&e.removeAttribute(t)}function Go(e,t,n,i){e.addEventListener(t,n,i)}function k4(e,t,n,i){e.removeEventListener(t,n,i)}const rA=Symbol("_vei");function x4(e,t,n,i,s=null){const o=e[rA]||(e[rA]={}),a=o[t];if(i&&a)a.value=i;else{const[c,u]=D4(t);if(i){const d=o[t]=N4(i,s);Go(e,c,d,u)}else a&&(k4(e,c,a,u),o[t]=void 0)}}const oA=/(?:Once|Passive|Capture)$/;function D4(e){let t;if(oA.test(e)){t={};let i;for(;i=e.match(oA);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):lc(e.slice(2)),t]}let qy=0;const O4=Promise.resolve(),M4=()=>qy||(O4.then(()=>qy=0),qy=Date.now());function N4(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;ts(L4(i,n.value),t,5,[i])};return n.value=e,n.attached=M4(),n}function L4(e,t){if(Pt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>s=>!s._stopped&&i&&i(s))}else return t}const aA=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,V4=(e,t,n,i,s,o,a,c,u)=>{const d=s==="svg";t==="class"?E4(e,i,d):t==="style"?A4(e,n,i):jg(t)?Qb(t)||x4(e,t,n,i,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):F4(e,t,i,d))?R4(e,t,i,o,a,c,u):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),P4(e,t,i,d))};function F4(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&aA(t)&&Vt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return aA(t)&&mn(n)?!1:t in e}const ag=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Pt(t)?n=>xp(t,n):t};function U4(e){e.target.composing=!0}function lA(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ol=Symbol("_assign"),xe={created(e,{modifiers:{lazy:t,trim:n,number:i}},s){e[Ol]=ag(s);const o=i||s.props&&s.props.type==="number";Go(e,t?"change":"input",a=>{if(a.target.composing)return;let c=e.value;n&&(c=c.trim()),o&&(c=Sh(c)),e[Ol](c)}),n&&Go(e,"change",()=>{e.value=e.value.trim()}),t||(Go(e,"compositionstart",U4),Go(e,"compositionend",lA),Go(e,"change",lA))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:s}},o){if(e[Ol]=ag(o),e.composing)return;const a=s||e.type==="number"?Sh(e.value):e.value,c=t??"";a!==c&&(document.activeElement===e&&e.type!=="range"&&(n||i&&e.value.trim()===c)||(e.value=c))}},Pi={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const s=$g(t);Go(e,"change",()=>{const o=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?Sh(lg(a)):lg(a));e[Ol](e.multiple?s?new Set(o):o:o[0]),e._assigning=!0,l0(()=>{e._assigning=!1})}),e[Ol]=ag(i)},mounted(e,{value:t,modifiers:{number:n}}){cA(e,t,n)},beforeUpdate(e,t,n){e[Ol]=ag(n)},updated(e,{value:t,modifiers:{number:n}}){e._assigning||cA(e,t,n)}};function cA(e,t,n){const i=e.multiple,s=Pt(t);if(!(i&&!s&&!$g(t))){for(let o=0,a=e.options.length;o<a;o++){const c=e.options[o],u=lg(c);if(i)if(s){const d=typeof u;d==="string"||d==="number"?c.selected=t.includes(n?Sh(u):u):c.selected=UV(t,u)>-1}else c.selected=t.has(u);else if(qg(lg(c),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!i&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function lg(e){return"_value"in e?e._value:e.value}const B4=["ctrl","shift","alt","meta"],j4={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>B4.some(n=>e[`${n}Key`]&&!t.includes(n))},sm=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=(s,...o)=>{for(let a=0;a<t.length;a++){const c=j4[t[a]];if(c&&c(s,t))return}return e(s,...o)})},$4=Nn({patchProp:V4},b4);let uA;function H4(){return uA||(uA=ZF($4))}const z4=(...e)=>{const t=H4().createApp(...e),{mount:n}=t;return t.mount=i=>{const s=q4(i);if(!s)return;const o=t._component;!Vt(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.innerHTML="";const a=n(s,!1,W4(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},t};function W4(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function q4(e){return mn(e)?document.querySelector(e):e}const Le=(e,t)=>{const n=e.__vccOpts||e;for(const[i,s]of t)n[i]=s;return n};console.log("in App");const K4={name:"App"};function G4(e,t,n,i,s,o){const a=Kt("router-view");return yt(),tm(a)}const Y4=Le(K4,[["render",G4]]);/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const wl=typeof document<"u";function X4(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const he=Object.assign;function Ky(e,t){const n={};for(const i in t){const s=t[i];n[i]=ns(s)?s.map(e):e(s)}return n}const ah=()=>{},ns=Array.isArray,Ok=/#/g,Q4=/&/g,J4=/\//g,Z4=/=/g,tU=/\?/g,Mk=/\+/g,eU=/%5B/g,nU=/%5D/g,Nk=/%5E/g,iU=/%60/g,Lk=/%7B/g,sU=/%7C/g,Vk=/%7D/g,rU=/%20/g;function f0(e){return encodeURI(""+e).replace(sU,"|").replace(eU,"[").replace(nU,"]")}function oU(e){return f0(e).replace(Lk,"{").replace(Vk,"}").replace(Nk,"^")}function qv(e){return f0(e).replace(Mk,"%2B").replace(rU,"+").replace(Ok,"%23").replace(Q4,"%26").replace(iU,"`").replace(Lk,"{").replace(Vk,"}").replace(Nk,"^")}function aU(e){return qv(e).replace(Z4,"%3D")}function lU(e){return f0(e).replace(Ok,"%23").replace(tU,"%3F")}function cU(e){return e==null?"":lU(e).replace(J4,"%2F")}function kh(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const uU=/\/$/,hU=e=>e.replace(uU,"");function Gy(e,t,n="/"){let i,s={},o="",a="";const c=t.indexOf("#");let u=t.indexOf("?");return c<u&&c>=0&&(u=-1),u>-1&&(i=t.slice(0,u),o=t.slice(u+1,c>-1?c:t.length),s=e(o)),c>-1&&(i=i||t.slice(0,c),a=t.slice(c,t.length)),i=gU(i??t,n),{fullPath:i+(o&&"?")+o+a,path:i,query:s,hash:kh(a)}}function dU(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function hA(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function fU(e,t,n){const i=t.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&zl(t.matched[i],n.matched[s])&&Fk(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function zl(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Fk(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!pU(e[n],t[n]))return!1;return!0}function pU(e,t){return ns(e)?dA(e,t):ns(t)?dA(t,e):e===t}function dA(e,t){return ns(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function gU(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let o=n.length-1,a,c;for(a=0;a<i.length;a++)if(c=i[a],c!==".")if(c==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+i.slice(a).join("/")}var xh;(function(e){e.pop="pop",e.push="push"})(xh||(xh={}));var lh;(function(e){e.back="back",e.forward="forward",e.unknown=""})(lh||(lh={}));function mU(e){if(!e)if(wl){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),hU(e)}const _U=/^[^#]+#/;function yU(e,t){return e.replace(_U,"#")+t}function vU(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const rm=()=>({left:window.scrollX,top:window.scrollY});function bU(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=vU(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function fA(e,t){return(history.state?history.state.position-t:-1)+e}const Kv=new Map;function wU(e,t){Kv.set(e,t)}function EU(e){const t=Kv.get(e);return Kv.delete(e),t}let IU=()=>location.protocol+"//"+location.host;function Uk(e,t){const{pathname:n,search:i,hash:s}=t,o=e.indexOf("#");if(o>-1){let c=s.includes(e.slice(o))?e.slice(o).length:1,u=s.slice(c);return u[0]!=="/"&&(u="/"+u),hA(u,"")}return hA(n,e)+i+s}function TU(e,t,n,i){let s=[],o=[],a=null;const c=({state:_})=>{const v=Uk(e,location),I=n.value,b=t.value;let w=0;if(_){if(n.value=v,t.value=_,a&&a===I){a=null;return}w=b?_.position-b.position:0}else i(v);s.forEach(T=>{T(n.value,I,{delta:w,type:xh.pop,direction:w?w>0?lh.forward:lh.back:lh.unknown})})};function u(){a=n.value}function d(_){s.push(_);const v=()=>{const I=s.indexOf(_);I>-1&&s.splice(I,1)};return o.push(v),v}function f(){const{history:_}=window;_.state&&_.replaceState(he({},_.state,{scroll:rm()}),"")}function g(){for(const _ of o)_();o=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:u,listen:d,destroy:g}}function pA(e,t,n,i=!1,s=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:s?rm():null}}function SU(e){const{history:t,location:n}=window,i={value:Uk(e,n)},s={value:t.state};s.value||o(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(u,d,f){const g=e.indexOf("#"),_=g>-1?(n.host&&document.querySelector("base")?e:e.slice(g))+u:IU()+e+u;try{t[f?"replaceState":"pushState"](d,"",_),s.value=d}catch(v){console.error(v),n[f?"replace":"assign"](_)}}function a(u,d){const f=he({},t.state,pA(s.value.back,u,s.value.forward,!0),d,{position:s.value.position});o(u,f,!0),i.value=u}function c(u,d){const f=he({},s.value,t.state,{forward:u,scroll:rm()});o(f.current,f,!0);const g=he({},pA(i.value,u,null),{position:f.position+1},d);o(u,g,!1),i.value=u}return{location:i,state:s,push:c,replace:a}}function AU(e){e=mU(e);const t=SU(e),n=TU(e,t.state,t.location,t.replace);function i(o,a=!0){a||n.pauseListeners(),history.go(o)}const s=he({location:"",base:e,go:i,createHref:yU.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function CU(e){return typeof e=="string"||e&&typeof e=="object"}function Bk(e){return typeof e=="string"||typeof e=="symbol"}const Br={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},jk=Symbol("");var gA;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(gA||(gA={}));function Wl(e,t){return he(new Error,{type:e,[jk]:!0},t)}function qs(e,t){return e instanceof Error&&jk in e&&(t==null||!!(e.type&t))}const mA="[^/]+?",PU={sensitive:!1,strict:!1,start:!0,end:!0},RU=/[.+*?^${}()[\]/\\]/g;function kU(e,t){const n=he({},PU,t),i=[];let s=n.start?"^":"";const o=[];for(const d of e){const f=d.length?[]:[90];n.strict&&!d.length&&(s+="/");for(let g=0;g<d.length;g++){const _=d[g];let v=40+(n.sensitive?.25:0);if(_.type===0)g||(s+="/"),s+=_.value.replace(RU,"\\$&"),v+=40;else if(_.type===1){const{value:I,repeatable:b,optional:w,regexp:T}=_;o.push({name:I,repeatable:b,optional:w});const S=T||mA;if(S!==mA){v+=10;try{new RegExp(`(${S})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${I}" (${S}): `+x.message)}}let k=b?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;g||(k=w&&d.length<2?`(?:/${k})`:"/"+k),w&&(k+="?"),s+=k,v+=20,w&&(v+=-8),b&&(v+=-20),S===".*"&&(v+=-50)}f.push(v)}i.push(f)}if(n.strict&&n.end){const d=i.length-1;i[d][i[d].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const a=new RegExp(s,n.sensitive?"":"i");function c(d){const f=d.match(a),g={};if(!f)return null;for(let _=1;_<f.length;_++){const v=f[_]||"",I=o[_-1];g[I.name]=v&&I.repeatable?v.split("/"):v}return g}function u(d){let f="",g=!1;for(const _ of e){(!g||!f.endsWith("/"))&&(f+="/"),g=!1;for(const v of _)if(v.type===0)f+=v.value;else if(v.type===1){const{value:I,repeatable:b,optional:w}=v,T=I in d?d[I]:"";if(ns(T)&&!b)throw new Error(`Provided param "${I}" is an array but it is not repeatable (* or + modifiers)`);const S=ns(T)?T.join("/"):T;if(!S)if(w)_.length<2&&(f.endsWith("/")?f=f.slice(0,-1):g=!0);else throw new Error(`Missing required param "${I}"`);f+=S}}return f||"/"}return{re:a,score:i,keys:o,parse:c,stringify:u}}function xU(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function DU(e,t){let n=0;const i=e.score,s=t.score;for(;n<i.length&&n<s.length;){const o=xU(i[n],s[n]);if(o)return o;n++}if(Math.abs(s.length-i.length)===1){if(_A(i))return 1;if(_A(s))return-1}return s.length-i.length}function _A(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const OU={type:0,value:""},MU=/[a-zA-Z0-9_]/;function NU(e){if(!e)return[[]];if(e==="/")return[[OU]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${n})/"${d}": ${v}`)}let n=0,i=n;const s=[];let o;function a(){o&&s.push(o),o=[]}let c=0,u,d="",f="";function g(){d&&(n===0?o.push({type:0,value:d}):n===1||n===2||n===3?(o.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:d,regexp:f,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),d="")}function _(){d+=u}for(;c<e.length;){if(u=e[c++],u==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:u==="/"?(d&&g(),a()):u===":"?(g(),n=1):_();break;case 4:_(),n=i;break;case 1:u==="("?n=2:MU.test(u)?_():(g(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&c--);break;case 2:u===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+u:n=3:f+=u;break;case 3:g(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&c--,f="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),g(),a(),s}function LU(e,t,n){const i=kU(NU(e.path),n),s=he(i,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function VU(e,t){const n=[],i=new Map;t=bA({strict:!1,end:!0,sensitive:!1},t);function s(f){return i.get(f)}function o(f,g,_){const v=!_,I=FU(f);I.aliasOf=_&&_.record;const b=bA(t,f),w=[I];if("alias"in f){const k=typeof f.alias=="string"?[f.alias]:f.alias;for(const x of k)w.push(he({},I,{components:_?_.record.components:I.components,path:x,aliasOf:_?_.record:I}))}let T,S;for(const k of w){const{path:x}=k;if(g&&x[0]!=="/"){const D=g.record.path,M=D[D.length-1]==="/"?"":"/";k.path=g.record.path+(x&&M+x)}if(T=LU(k,g,b),_?_.alias.push(T):(S=S||T,S!==T&&S.alias.push(T),v&&f.name&&!vA(T)&&a(f.name)),I.children){const D=I.children;for(let M=0;M<D.length;M++)o(D[M],T,_&&_.children[M])}_=_||T,(T.record.components&&Object.keys(T.record.components).length||T.record.name||T.record.redirect)&&u(T)}return S?()=>{a(S)}:ah}function a(f){if(Bk(f)){const g=i.get(f);g&&(i.delete(f),n.splice(n.indexOf(g),1),g.children.forEach(a),g.alias.forEach(a))}else{const g=n.indexOf(f);g>-1&&(n.splice(g,1),f.record.name&&i.delete(f.record.name),f.children.forEach(a),f.alias.forEach(a))}}function c(){return n}function u(f){let g=0;for(;g<n.length&&DU(f,n[g])>=0&&(f.record.path!==n[g].record.path||!$k(f,n[g]));)g++;n.splice(g,0,f),f.record.name&&!vA(f)&&i.set(f.record.name,f)}function d(f,g){let _,v={},I,b;if("name"in f&&f.name){if(_=i.get(f.name),!_)throw Wl(1,{location:f});b=_.record.name,v=he(yA(g.params,_.keys.filter(S=>!S.optional).concat(_.parent?_.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),f.params&&yA(f.params,_.keys.map(S=>S.name))),I=_.stringify(v)}else if(f.path!=null)I=f.path,_=n.find(S=>S.re.test(I)),_&&(v=_.parse(I),b=_.record.name);else{if(_=g.name?i.get(g.name):n.find(S=>S.re.test(g.path)),!_)throw Wl(1,{location:f,currentLocation:g});b=_.record.name,v=he({},g.params,f.params),I=_.stringify(v)}const w=[];let T=_;for(;T;)w.unshift(T.record),T=T.parent;return{name:b,path:I,params:v,matched:w,meta:BU(w)}}return e.forEach(f=>o(f)),{addRoute:o,resolve:d,removeRoute:a,getRoutes:c,getRecordMatcher:s}}function yA(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function FU(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:UU(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function UU(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function vA(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function BU(e){return e.reduce((t,n)=>he(t,n.meta),{})}function bA(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function $k(e,t){return t.children.some(n=>n===e||$k(e,n))}function jU(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<i.length;++s){const o=i[s].replace(Mk," "),a=o.indexOf("="),c=kh(a<0?o:o.slice(0,a)),u=a<0?null:kh(o.slice(a+1));if(c in t){let d=t[c];ns(d)||(d=t[c]=[d]),d.push(u)}else t[c]=u}return t}function wA(e){let t="";for(let n in e){const i=e[n];if(n=aU(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(ns(i)?i.map(o=>o&&qv(o)):[i&&qv(i)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function $U(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=ns(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return t}const HU=Symbol(""),EA=Symbol(""),p0=Symbol(""),Hk=Symbol(""),Gv=Symbol("");function Pu(){let e=[];function t(i){return e.push(i),()=>{const s=e.indexOf(i);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Wr(e,t,n,i,s,o=a=>a()){const a=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((c,u)=>{const d=_=>{_===!1?u(Wl(4,{from:n,to:t})):_ instanceof Error?u(_):CU(_)?u(Wl(2,{from:t,to:_})):(a&&i.enterCallbacks[s]===a&&typeof _=="function"&&a.push(_),c())},f=o(()=>e.call(i&&i.instances[s],t,n,d));let g=Promise.resolve(f);e.length<3&&(g=g.then(d)),g.catch(_=>u(_))})}function Yy(e,t,n,i,s=o=>o()){const o=[];for(const a of e)for(const c in a.components){let u=a.components[c];if(!(t!=="beforeRouteEnter"&&!a.instances[c]))if(zU(u)){const f=(u.__vccOpts||u)[t];f&&o.push(Wr(f,n,i,a,c,s))}else{let d=u();o.push(()=>d.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${c}" at "${a.path}"`));const g=X4(f)?f.default:f;a.components[c]=g;const v=(g.__vccOpts||g)[t];return v&&Wr(v,n,i,a,c,s)()}))}}return o}function zU(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function IA(e){const t=sr(p0),n=sr(Hk),i=Qi(()=>t.resolve(kl(e.to))),s=Qi(()=>{const{matched:u}=i.value,{length:d}=u,f=u[d-1],g=n.matched;if(!f||!g.length)return-1;const _=g.findIndex(zl.bind(null,f));if(_>-1)return _;const v=TA(u[d-2]);return d>1&&TA(f)===v&&g[g.length-1].path!==v?g.findIndex(zl.bind(null,u[d-2])):_}),o=Qi(()=>s.value>-1&&GU(n.params,i.value.params)),a=Qi(()=>s.value>-1&&s.value===n.matched.length-1&&Fk(n.params,i.value.params));function c(u={}){return KU(u)?t[kl(e.replace)?"replace":"push"](kl(e.to)).catch(ah):Promise.resolve()}return{route:i,href:Qi(()=>i.value.href),isActive:o,isExactActive:a,navigate:c}}const WU=pk({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:IA,setup(e,{slots:t}){const n=Gg(IA(e)),{options:i}=sr(p0),s=Qi(()=>({[SA(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[SA(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:Dk("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},o)}}}),qU=WU;function KU(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function GU(e,t){for(const n in t){const i=t[n],s=e[n];if(typeof i=="string"){if(i!==s)return!1}else if(!ns(s)||s.length!==i.length||i.some((o,a)=>o!==s[a]))return!1}return!0}function TA(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const SA=(e,t,n)=>e??t??n,YU=pk({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=sr(Gv),s=Qi(()=>e.route||i.value),o=sr(EA,0),a=Qi(()=>{let d=kl(o);const{matched:f}=s.value;let g;for(;(g=f[d])&&!g.components;)d++;return d}),c=Qi(()=>s.value.matched[a.value]);Mp(EA,Qi(()=>a.value+1)),Mp(HU,c),Mp(Gv,s);const u=ig();return Dl(()=>[u.value,c.value,e.name],([d,f,g],[_,v,I])=>{f&&(f.instances[g]=d,v&&v!==f&&d&&d===_&&(f.leaveGuards.size||(f.leaveGuards=v.leaveGuards),f.updateGuards.size||(f.updateGuards=v.updateGuards))),d&&f&&(!v||!zl(f,v)||!_)&&(f.enterCallbacks[g]||[]).forEach(b=>b(d))},{flush:"post"}),()=>{const d=s.value,f=e.name,g=c.value,_=g&&g.components[f];if(!_)return AA(n.default,{Component:_,route:d});const v=g.props[f],I=v?v===!0?d.params:typeof v=="function"?v(d):v:null,w=Dk(_,he({},I,t,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(g.instances[f]=null)},ref:u}));return AA(n.default,{Component:w,route:d})||w}}});function AA(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const XU=YU;function QU(e){const t=VU(e.routes,e),n=e.parseQuery||jU,i=e.stringifyQuery||wA,s=e.history,o=Pu(),a=Pu(),c=Pu(),u=cF(Br);let d=Br;wl&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Ky.bind(null,L=>""+L),g=Ky.bind(null,cU),_=Ky.bind(null,kh);function v(L,at){let tt,ft;return Bk(L)?(tt=t.getRecordMatcher(L),ft=at):ft=L,t.addRoute(ft,tt)}function I(L){const at=t.getRecordMatcher(L);at&&t.removeRoute(at)}function b(){return t.getRoutes().map(L=>L.record)}function w(L){return!!t.getRecordMatcher(L)}function T(L,at){if(at=he({},at||u.value),typeof L=="string"){const R=Gy(n,L,at.path),O=t.resolve({path:R.path},at),j=s.createHref(R.fullPath);return he(R,O,{params:_(O.params),hash:kh(R.hash),redirectedFrom:void 0,href:j})}let tt;if(L.path!=null)tt=he({},L,{path:Gy(n,L.path,at.path).path});else{const R=he({},L.params);for(const O in R)R[O]==null&&delete R[O];tt=he({},L,{params:g(R)}),at.params=g(at.params)}const ft=t.resolve(tt,at),ne=L.hash||"";ft.params=f(_(ft.params));const me=dU(i,he({},L,{hash:oU(ne),path:ft.path})),A=s.createHref(me);return he({fullPath:me,hash:ne,query:i===wA?$U(L.query):L.query||{}},ft,{redirectedFrom:void 0,href:A})}function S(L){return typeof L=="string"?Gy(n,L,u.value.path):he({},L)}function k(L,at){if(d!==L)return Wl(8,{from:at,to:L})}function x(L){return V(L)}function D(L){return x(he(S(L),{replace:!0}))}function M(L){const at=L.matched[L.matched.length-1];if(at&&at.redirect){const{redirect:tt}=at;let ft=typeof tt=="function"?tt(L):tt;return typeof ft=="string"&&(ft=ft.includes("?")||ft.includes("#")?ft=S(ft):{path:ft},ft.params={}),he({query:L.query,hash:L.hash,params:ft.path!=null?{}:L.params},ft)}}function V(L,at){const tt=d=T(L),ft=u.value,ne=L.state,me=L.force,A=L.replace===!0,R=M(tt);if(R)return V(he(S(R),{state:typeof R=="object"?he({},ne,R.state):ne,force:me,replace:A}),at||tt);const O=tt;O.redirectedFrom=at;let j;return!me&&fU(i,ft,tt)&&(j=Wl(16,{to:O,from:ft}),_n(ft,ft,!0,!1)),(j?Promise.resolve(j):gt(O,ft)).catch(F=>qs(F)?qs(F,2)?F:Ie(F):kt(F,O,ft)).then(F=>{if(F){if(qs(F,2))return V(he({replace:A},S(F.to),{state:typeof F.to=="object"?he({},ne,F.to.state):ne,force:me}),at||O)}else F=vt(O,ft,!0,A,ne);return J(O,ft,F),F})}function z(L,at){const tt=k(L,at);return tt?Promise.reject(tt):Promise.resolve()}function st(L){const at=Ln.values().next().value;return at&&typeof at.runWithContext=="function"?at.runWithContext(L):L()}function gt(L,at){let tt;const[ft,ne,me]=JU(L,at);tt=Yy(ft.reverse(),"beforeRouteLeave",L,at);for(const R of ft)R.leaveGuards.forEach(O=>{tt.push(Wr(O,L,at))});const A=z.bind(null,L,at);return tt.push(A),ye(tt).then(()=>{tt=[];for(const R of o.list())tt.push(Wr(R,L,at));return tt.push(A),ye(tt)}).then(()=>{tt=Yy(ne,"beforeRouteUpdate",L,at);for(const R of ne)R.updateGuards.forEach(O=>{tt.push(Wr(O,L,at))});return tt.push(A),ye(tt)}).then(()=>{tt=[];for(const R of me)if(R.beforeEnter)if(ns(R.beforeEnter))for(const O of R.beforeEnter)tt.push(Wr(O,L,at));else tt.push(Wr(R.beforeEnter,L,at));return tt.push(A),ye(tt)}).then(()=>(L.matched.forEach(R=>R.enterCallbacks={}),tt=Yy(me,"beforeRouteEnter",L,at,st),tt.push(A),ye(tt))).then(()=>{tt=[];for(const R of a.list())tt.push(Wr(R,L,at));return tt.push(A),ye(tt)}).catch(R=>qs(R,8)?R:Promise.reject(R))}function J(L,at,tt){c.list().forEach(ft=>st(()=>ft(L,at,tt)))}function vt(L,at,tt,ft,ne){const me=k(L,at);if(me)return me;const A=at===Br,R=wl?history.state:{};tt&&(ft||A?s.replace(L.fullPath,he({scroll:A&&R&&R.scroll},ne)):s.push(L.fullPath,ne)),u.value=L,_n(L,at,tt,A),Ie()}let wt;function pe(){wt||(wt=s.listen((L,at,tt)=>{if(!Mi.listening)return;const ft=T(L),ne=M(ft);if(ne){V(he(ne,{replace:!0}),ft).catch(ah);return}d=ft;const me=u.value;wl&&wU(fA(me.fullPath,tt.delta),rm()),gt(ft,me).catch(A=>qs(A,12)?A:qs(A,2)?(V(A.to,ft).then(R=>{qs(R,20)&&!tt.delta&&tt.type===xh.pop&&s.go(-1,!1)}).catch(ah),Promise.reject()):(tt.delta&&s.go(-tt.delta,!1),kt(A,ft,me))).then(A=>{A=A||vt(ft,me,!1),A&&(tt.delta&&!qs(A,8)?s.go(-tt.delta,!1):tt.type===xh.pop&&qs(A,20)&&s.go(-1,!1)),J(ft,me,A)}).catch(ah)}))}let dt=Pu(),Y=Pu(),ct;function kt(L,at,tt){Ie(L);const ft=Y.list();return ft.length?ft.forEach(ne=>ne(L,at,tt)):console.error(L),Promise.reject(L)}function ae(){return ct&&u.value!==Br?Promise.resolve():new Promise((L,at)=>{dt.add([L,at])})}function Ie(L){return ct||(ct=!L,pe(),dt.list().forEach(([at,tt])=>L?tt(L):at()),dt.reset()),L}function _n(L,at,tt,ft){const{scrollBehavior:ne}=e;if(!wl||!ne)return Promise.resolve();const me=!tt&&EU(fA(L.fullPath,0))||(ft||!tt)&&history.state&&history.state.scroll||null;return l0().then(()=>ne(L,at,me)).then(A=>A&&bU(A)).catch(A=>kt(A,L,at))}const ge=L=>s.go(L);let ri;const Ln=new Set,Mi={currentRoute:u,listening:!0,addRoute:v,removeRoute:I,hasRoute:w,getRoutes:b,resolve:T,options:e,push:x,replace:D,go:ge,back:()=>ge(-1),forward:()=>ge(1),beforeEach:o.add,beforeResolve:a.add,afterEach:c.add,onError:Y.add,isReady:ae,install(L){const at=this;L.component("RouterLink",qU),L.component("RouterView",XU),L.config.globalProperties.$router=at,Object.defineProperty(L.config.globalProperties,"$route",{enumerable:!0,get:()=>kl(u)}),wl&&!ri&&u.value===Br&&(ri=!0,x(s.location).catch(ne=>{}));const tt={};for(const ne in Br)Object.defineProperty(tt,ne,{get:()=>u.value[ne],enumerable:!0});L.provide(p0,at),L.provide(Hk,JR(tt)),L.provide(Gv,u);const ft=L.unmount;Ln.add(L),L.unmount=function(){Ln.delete(L),Ln.size<1&&(d=Br,wt&&wt(),wt=null,u.value=Br,ri=!1,ct=!1),ft()}}};function ye(L){return L.reduce((at,tt)=>at.then(()=>st(tt)),Promise.resolve())}return Mi}function JU(e,t){const n=[],i=[],s=[],o=Math.max(t.matched.length,e.matched.length);for(let a=0;a<o;a++){const c=t.matched[a];c&&(e.matched.find(d=>zl(d,c))?i.push(c):n.push(c));const u=e.matched[a];u&&(t.matched.find(d=>zl(d,u))||s.push(u))}return[n,i,s]}var CA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},ZU=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=e[n++];t[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=e[n++],a=e[n++],c=e[n++],u=((s&7)<<18|(o&63)<<12|(a&63)<<6|c&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const o=e[n++],a=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|a&63)}}return t.join("")},Wk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const o=e[s],a=s+1<e.length,c=a?e[s+1]:0,u=s+2<e.length,d=u?e[s+2]:0,f=o>>2,g=(o&3)<<4|c>>4;let _=(c&15)<<2|d>>6,v=d&63;u||(v=64,a||(_=64)),i.push(n[f],n[g],n[_],n[v])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(zk(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):ZU(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const o=n[e.charAt(s++)],c=s<e.length?n[e.charAt(s)]:0;++s;const d=s<e.length?n[e.charAt(s)]:64;++s;const g=s<e.length?n[e.charAt(s)]:64;if(++s,o==null||c==null||d==null||g==null)throw new t3;const _=o<<2|c>>4;if(i.push(_),d!==64){const v=c<<4&240|d>>2;if(i.push(v),g!==64){const I=d<<6&192|g;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class t3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e3=function(e){const t=zk(e);return Wk.encodeByteArray(t,!0)},cg=function(e){return e3(e).replace(/\./g,"")},qk=function(e){try{return Wk.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ug(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!n3(n)||(e[n]=ug(e[n],t[n]));return e}function n3(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=()=>i3().__FIREBASE_DEFAULTS__,r3=()=>{if(typeof process>"u"||typeof CA>"u")return;const e=CA.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},o3=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&qk(e[1]);return t&&JSON.parse(t)},om=()=>{try{return s3()||r3()||o3()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Kk=e=>{var t,n;return(n=(t=om())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Gk=e=>{const t=Kk(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},Yk=()=>{var e;return(e=om())===null||e===void 0?void 0:e.config},Xk=e=>{var t;return(t=om())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[cg(JSON.stringify(n)),cg(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function l3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())}function g0(){var e;const t=(e=om())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Jk(){return typeof self=="object"&&self.self===self}function Zk(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function m0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tx(){const e=De();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function c3(){return!g0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dh(){try{return typeof indexedDB=="object"}catch{return!1}}function u3(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;t(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3="FirebaseError";class zn extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=h3,Object.setPrototypeOf(this,zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sa.prototype.create)}}class Sa{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,o=this.errors[t],a=o?d3(o,i):"Error",c=`${this.serviceName}: ${a} (${s}).`;return new zn(s,c,i)}}function d3(e,t){return e.replace(f3,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const f3=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function p3(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function hg(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const o=e[s],a=t[s];if(RA(o)&&RA(a)){if(!hg(o,a))return!1}else if(o!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function RA(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Sl(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(o)}}),t}function Hu(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function ex(e,t){const n=new g3(e,t);return n.subscribe.bind(n)}class g3{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");m3(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=Xy),s.error===void 0&&(s.error=Xy),s.complete===void 0&&(s.complete=Xy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function m3(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Xy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(e){return e&&e._delegate?e._delegate:e}class Ms{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new a3;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(v3(t))try{this.getOrInitializeService({instanceIdentifier:zo})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(t=zo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=zo){return this.instances.has(t)}getOptions(t=zo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);i===c&&a.resolve(s)}return s}onInit(t,n){var i;const s=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(s,o);const a=this.instances.get(s);return a&&t(a,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:y3(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=zo){return this.component?this.component.multipleInstances?t:zo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y3(e){return e===zo?void 0:e}function v3(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new _3(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0=[];var Ht;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ht||(Ht={}));const ix={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},b3=Ht.INFO,w3={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},E3=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=w3[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class am{constructor(t){this.name=t,this._logLevel=b3,this._logHandler=E3,this._userLogHandler=null,_0.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ix[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}}function I3(e){_0.forEach(t=>{t.setLogLevel(e)})}function T3(e,t){for(const n of _0){let i=null;t&&t.level&&(i=ix[t.level]),e===null?n.userLogHandler=null:n.userLogHandler=(s,o,...a)=>{const c=a.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");o>=(i??s.logLevel)&&e({level:Ht[o].toLowerCase(),message:c,args:a,type:s.name})}}}const S3=(e,t)=>t.some(n=>e instanceof n);let kA,xA;function A3(){return kA||(kA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function C3(){return xA||(xA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sx=new WeakMap,Yv=new WeakMap,rx=new WeakMap,Qy=new WeakMap,y0=new WeakMap;function P3(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",o),e.removeEventListener("error",a)},o=()=>{n(eo(e.result)),s()},a=()=>{i(e.error),s()};e.addEventListener("success",o),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&sx.set(n,e)}).catch(()=>{}),y0.set(t,e),t}function R3(e){if(Yv.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",a),e.removeEventListener("abort",a)},o=()=>{n(),s()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",o),e.addEventListener("error",a),e.addEventListener("abort",a)});Yv.set(e,t)}let Xv={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Yv.get(e);if(t==="objectStoreNames")return e.objectStoreNames||rx.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return eo(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function k3(e){Xv=e(Xv)}function x3(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Jy(this),t,...n);return rx.set(i,t.sort?t.sort():[t]),eo(i)}:C3().includes(e)?function(...t){return e.apply(Jy(this),t),eo(sx.get(this))}:function(...t){return eo(e.apply(Jy(this),t))}}function D3(e){return typeof e=="function"?x3(e):(e instanceof IDBTransaction&&R3(e),S3(e,A3())?new Proxy(e,Xv):e)}function eo(e){if(e instanceof IDBRequest)return P3(e);if(Qy.has(e))return Qy.get(e);const t=D3(e);return t!==e&&(Qy.set(e,t),y0.set(t,e)),t}const Jy=e=>y0.get(e);function O3(e,t,{blocked:n,upgrade:i,blocking:s,terminated:o}={}){const a=indexedDB.open(e,t),c=eo(a);return i&&a.addEventListener("upgradeneeded",u=>{i(eo(a.result),u.oldVersion,u.newVersion,eo(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),s&&u.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const M3=["get","getKey","getAll","getAllKeys","count"],N3=["put","add","delete","clear"],Zy=new Map;function DA(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Zy.get(t))return Zy.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=N3.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||M3.includes(n)))return;const o=async function(a,...c){const u=this.transaction(a,s?"readwrite":"readonly");let d=u.store;return i&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),s&&u.done]))[0]};return Zy.set(t,o),o}k3(e=>({...e,get:(t,n,i)=>DA(t,n)||e.get(t,n,i),has:(t,n)=>!!DA(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(V3(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function V3(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const dg="@firebase/app",Qv="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new am("@firebase/app"),F3="@firebase/app-compat",U3="@firebase/analytics-compat",B3="@firebase/analytics",j3="@firebase/app-check-compat",$3="@firebase/app-check",H3="@firebase/auth",z3="@firebase/auth-compat",W3="@firebase/database",q3="@firebase/database-compat",K3="@firebase/functions",G3="@firebase/functions-compat",Y3="@firebase/installations",X3="@firebase/installations-compat",Q3="@firebase/messaging",J3="@firebase/messaging-compat",Z3="@firebase/performance",t5="@firebase/performance-compat",e5="@firebase/remote-config",n5="@firebase/remote-config-compat",i5="@firebase/storage",s5="@firebase/storage-compat",r5="@firebase/firestore",o5="@firebase/firestore-compat",a5="firebase",l5="10.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo="[DEFAULT]",c5={[dg]:"fire-core",[F3]:"fire-core-compat",[B3]:"fire-analytics",[U3]:"fire-analytics-compat",[$3]:"fire-app-check",[j3]:"fire-app-check-compat",[H3]:"fire-auth",[z3]:"fire-auth-compat",[W3]:"fire-rtdb",[q3]:"fire-rtdb-compat",[K3]:"fire-fn",[G3]:"fire-fn-compat",[Y3]:"fire-iid",[X3]:"fire-iid-compat",[Q3]:"fire-fcm",[J3]:"fire-fcm-compat",[Z3]:"fire-perf",[t5]:"fire-perf-compat",[e5]:"fire-rc",[n5]:"fire-rc-compat",[i5]:"fire-gcs",[s5]:"fire-gcs-compat",[r5]:"fire-fst",[o5]:"fire-fst-compat","fire-js":"fire-js",[a5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=new Map,ql=new Map,Kl=new Map;function Oh(e,t){try{e.container.addComponent(t)}catch(n){pa.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ox(e,t){e.container.addOrOverwriteComponent(t)}function ar(e){const t=e.name;if(Kl.has(t))return pa.debug(`There were multiple attempts to register component ${t}.`),!1;Kl.set(t,e);for(const n of ao.values())Oh(n,e);for(const n of ql.values())Oh(n,e);return!0}function hc(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function u5(e,t,n=oo){hc(e,t).clearInstance(n)}function ax(e){return e.options!==void 0}function je(e){return e.settings!==void 0}function h5(){Kl.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bi=new Sa("app","Firebase",d5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lx=class{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5 extends lx{constructor(t,n,i,s){const o=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,a={name:i,automaticDataCollectionEnabled:o};if(t.apiKey!==void 0)super(t,a,s);else{const c=t;super(c.options,a,s)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},n),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,gi(dg,Qv,"serverapp")}get refCount(){return this._refCount}incRefCount(t){this.isDeleted||(this._refCount++,t!==void 0&&this._finalizationRegistry.register(t,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){v0(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Bi.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=l5;function lm(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:oo,automaticDataCollectionEnabled:!1},t),s=i.name;if(typeof s!="string"||!s)throw Bi.create("bad-app-name",{appName:String(s)});if(n||(n=Yk()),!n)throw Bi.create("no-options");const o=ao.get(s);if(o){if(hg(n,o.options)&&hg(i,o.config))return o;throw Bi.create("duplicate-app",{appName:s})}const a=new nx(s);for(const u of Kl.values())a.addComponent(u);const c=new lx(n,i,a);return ao.set(s,c),c}function p5(e,t){if(Jk())throw Bi.create("invalid-server-app-environment");t.automaticDataCollectionEnabled===void 0&&(t.automaticDataCollectionEnabled=!1);let n;ax(e)?n=e.options:n=e;const i=Object.assign(Object.assign({},t),n);i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const s=d=>[...d].reduce((f,g)=>Math.imul(31,f)+g.charCodeAt(0)|0,0);if(t.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Bi.create("finalization-registry-not-supported",{});const o=""+s(JSON.stringify(i)),a=ql.get(o);if(a)return a.incRefCount(t.releaseOnDeref),a;const c=new nx(o);for(const d of Kl.values())c.addComponent(d);const u=new f5(n,t,o,c);return ql.set(o,u),u}function cm(e=oo){const t=ao.get(e);if(!t&&e===oo&&Yk())return lm();if(!t)throw Bi.create("no-app",{appName:e});return t}function g5(){return Array.from(ao.values())}async function v0(e){let t=!1;const n=e.name;ao.has(n)?(t=!0,ao.delete(n)):ql.has(n)&&e.decRefCount()<=0&&(ql.delete(n),t=!0),t&&(await Promise.all(e.container.getProviders().map(i=>i.delete())),e.isDeleted=!0)}function gi(e,t,n){var i;let s=(i=c5[e])!==null&&i!==void 0?i:e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const c=[`Unable to register library "${s}" with version "${t}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),pa.warn(c.join(" "));return}ar(new Ms(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}function cx(e,t){if(e!==null&&typeof e!="function")throw Bi.create("invalid-log-argument");T3(e,t)}function ux(e){I3(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5="firebase-heartbeat-database",_5=1,Mh="firebase-heartbeat-store";let tv=null;function hx(){return tv||(tv=O3(m5,_5,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Mh)}catch(n){console.warn(n)}}}}).catch(e=>{throw Bi.create("idb-open",{originalErrorMessage:e.message})})),tv}async function y5(e){try{const n=(await hx()).transaction(Mh),i=await n.objectStore(Mh).get(dx(e));return await n.done,i}catch(t){if(t instanceof zn)pa.warn(t.message);else{const n=Bi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});pa.warn(n.message)}}}async function OA(e,t){try{const i=(await hx()).transaction(Mh,"readwrite");await i.objectStore(Mh).put(t,dx(e)),await i.done}catch(n){if(n instanceof zn)pa.warn(n.message);else{const i=Bi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pa.warn(i.message)}}}function dx(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5=1024,b5=30*24*60*60*1e3;class w5{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new I5(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=MA();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=b5}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=MA(),{heartbeatsToSend:i,unsentEntries:s}=E5(this._heartbeatsCache.heartbeats),o=cg(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function MA(){return new Date().toISOString().substring(0,10)}function E5(e,t=v5){const n=[];let i=e.slice();for(const s of e){const o=n.find(a=>a.agent===s.agent);if(o){if(o.dates.push(s.date),NA(n)>t){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),NA(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class I5{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Dh()?u3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await y5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return OA(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return OA(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function NA(e){return cg(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(e){ar(new Ms("platform-logger",t=>new L3(t),"PRIVATE")),ar(new Ms("heartbeat",t=>new w5(t),"PRIVATE")),gi(dg,Qv,e),gi(dg,Qv,"esm2017"),gi("fire-js","")}T5("");const S5=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:zn,SDK_VERSION:fr,_DEFAULT_ENTRY_NAME:oo,_addComponent:Oh,_addOrOverwriteComponent:ox,_apps:ao,_clearComponents:h5,_components:Kl,_getProvider:hc,_isFirebaseApp:ax,_isFirebaseServerApp:je,_registerComponent:ar,_removeServiceInstance:u5,_serverApps:ql,deleteApp:v0,getApp:cm,getApps:g5,initializeApp:lm,initializeServerApp:p5,onLog:cx,registerVersion:gi,setLogLevel:ux},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(t,n){this._delegate=t,this.firebase=n,Oh(t,new Ms("app-compat",()=>this,"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(t=>{this._delegate.checkDestroyed(),t()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),v0(this._delegate)))}_getService(t,n=oo){var i;this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(t);return!s.isInitialized()&&((i=s.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:n})}_removeServiceInstance(t,n=oo){this._delegate.container.getProvider(t).clearInstance(n)}_addComponent(t){Oh(this._delegate,t)}_addOrOverwriteComponent(t){ox(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},LA=new Sa("app-compat","Firebase",C5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(e){const t={},n={__esModule:!0,initializeApp:o,app:s,registerVersion:gi,setLogLevel:ux,onLog:cx,apps:null,SDK_VERSION:fr,INTERNAL:{registerComponent:c,removeApp:i,useAsService:u,modularAPIs:S5}};n.default=n,Object.defineProperty(n,"apps",{get:a});function i(d){delete t[d]}function s(d){if(d=d||oo,!PA(t,d))throw LA.create("no-app",{appName:d});return t[d]}s.App=e;function o(d,f={}){const g=lm(d,f);if(PA(t,g.name))return t[g.name];const _=new e(g,n);return t[g.name]=_,_}function a(){return Object.keys(t).map(d=>t[d])}function c(d){const f=d.name,g=f.replace("-compat","");if(ar(d)&&d.type==="PUBLIC"){const _=(v=s())=>{if(typeof v[g]!="function")throw LA.create("invalid-app-argument",{appName:f});return v[g]()};d.serviceProps!==void 0&&ug(_,d.serviceProps),n[g]=_,e.prototype[g]=function(...v){return this._getService.bind(this,f).apply(this,d.multipleInstances?v:[])}}return d.type==="PUBLIC"?n[g]:null}function u(d,f){return f==="serverAuth"?null:f}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(){const e=P5(A5);e.INTERNAL=Object.assign(Object.assign({},e.INTERNAL),{createFirebaseNamespace:fx,extendNamespace:t,createSubscribe:ex,ErrorFactory:Sa,deepExtend:ug});function t(n){ug(e,n)}return e}const R5=fx();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=new am("@firebase/app-compat"),k5="@firebase/app-compat",x5="0.2.30";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(e){gi(k5,x5,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(Jk()&&self.firebase!==void 0){VA.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&VA.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const pt=R5;D5();var O5="firebase",M5="10.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pt.registerVersion(O5,M5,"app-compat");const N5={apiKey:"AIzaSyAN-vVW46wKoqjR2WfhKoc7G2KwbjSsb6k",authDomain:"budgetbuddy-190c9.firebaseapp.com",projectId:"budgetbuddy-190c9",storageBucket:"budgetbuddy-190c9.appspot.com",messagingSenderId:"923067373606",appId:"1:923067373606:web:fa85b8338713ccef936ee7",measurementId:"G-31CY8FVMSB"};pt.initializeApp(N5);function b0(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}const Ru={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},_l={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function px(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V5=L5,F5=px,gx=new Sa("auth","Firebase",px());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=new am("@firebase/auth");function U5(e,...t){fg.logLevel<=Ht.WARN&&fg.warn(`Auth (${fr}): ${e}`,...t)}function Fp(e,...t){fg.logLevel<=Ht.ERROR&&fg.error(`Auth (${fr}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(e,...t){throw E0(e,...t)}function pn(e,...t){return E0(e,...t)}function w0(e,t,n){const i=Object.assign(Object.assign({},F5()),{[t]:n});return new Sa("auth","Firebase",i).create(t,{appName:e.name})}function Sn(e){return w0(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dc(e,t,n){const i=n;if(!(t instanceof i))throw i.name!==t.constructor.name&&An(e,"argument-error"),w0(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function E0(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return gx.create(e,...t)}function K(e,t,...n){if(!e)throw E0(t,...n)}function Ss(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Fp(t),new Error(t)}function is(e,t){e||Ss(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function I0(){return FA()==="http:"||FA()==="https:"}function FA(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(I0()||Zk()||"connection"in navigator)?navigator.onLine:!0}function j5(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(t,n){this.shortDelay=t,this.longDelay=n,is(n>t,"Short delay should be less than long delay!"),this.isMobile=l3()||m0()}get(){return B5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(e,t){is(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5=new ud(3e4,6e4);function Ke(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ge(e,t,n,i,s={}){return _x(e,s,async()=>{let o={},a={};i&&(t==="GET"?a=i:o={body:JSON.stringify(i)});const c=uc(Object.assign({key:e.config.apiKey},a)).slice(1),u=await e._getAdditionalHeaders();return u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode),mx.fetch()(yx(e,e.config.apiHost,n,c),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},o))})}async function _x(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},$5),t);try{const s=new W5(e),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw zu(e,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const c=o.ok?a.errorMessage:a.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw zu(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw zu(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw zu(e,"user-disabled",a);const f=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw w0(e,f,d);An(e,f)}}catch(s){if(s instanceof zn)throw s;An(e,"network-request-failed",{message:String(s)})}}async function pr(e,t,n,i,s={}){const o=await Ge(e,t,n,i,s);return"mfaPendingCredential"in o&&An(e,"multi-factor-auth-required",{_serverResponse:o}),o}function yx(e,t,n,i){const s=`${t}${n}?${i}`;return e.config.emulator?T0(e.config,s):`${e.config.apiScheme}://${s}`}function z5(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class W5{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(pn(this.auth,"network-request-failed")),H5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zu(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=pn(e,t,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(e){return e!==void 0&&e.getResponse!==void 0}function BA(e){return e!==void 0&&e.enterprise!==void 0}class q5{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return z5(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K5(e){return(await Ge(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function G5(e,t){return Ge(e,"GET","/v2/recaptchaConfig",Ke(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y5(e,t){return Ge(e,"POST","/v1/accounts:delete",t)}async function X5(e,t){return Ge(e,"POST","/v1/accounts:update",t)}async function vx(e,t){return Ge(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Q5(e,t=!1){const n=Tt(e),i=await n.getIdToken(t),s=um(i);K(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:ch(ev(s.auth_time)),issuedAtTime:ch(ev(s.iat)),expirationTime:ch(ev(s.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function ev(e){return Number(e)*1e3}function um(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Fp("JWT malformed, contained fewer than 3 sections"),null;try{const s=qk(n);return s?JSON.parse(s):(Fp("Failed to decode base64 JWT payload"),null)}catch(s){return Fp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function jA(e){const t=um(e);return K(t,"internal-error"),K(typeof t.exp<"u","internal-error"),K(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lr(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof zn&&J5(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function J5({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ch(this.lastLoginAt),this.creationTime=ch(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(e){var t;const n=e.auth,i=await e.getIdToken(),s=await lr(e,vx(n,{idToken:i}));K(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];e._notifyReloadListener(o);const a=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?bx(o.providerUserInfo):[],c=e9(e.providerData,a),u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(c!=null&&c.length),f=u?d:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Jv(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(e,g)}async function t9(e){const t=Tt(e);await Lh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function e9(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function bx(e){return e.map(t=>{var{providerId:n}=t,i=b0(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n9(e,t){const n=await _x(e,{},async()=>{const i=uc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:o}=e.config,a=yx(e,s,"/v1/token",`key=${o}`),c=await e._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",mx.fetch()(a,{method:"POST",headers:c,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function i9(e,t){return Ge(e,"POST","/v2/accounts:revokeToken",Ke(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){K(t.idToken,"internal-error"),K(typeof t.idToken<"u","internal-error"),K(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):jA(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){K(t.length!==0,"internal-error");const n=jA(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:o}=await n9(t,n);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:o}=n,a=new Ml;return i&&(K(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),s&&(K(typeof s=="string","internal-error",{appName:t}),a.accessToken=s),o&&(K(typeof o=="number","internal-error",{appName:t}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ml,this.toJSON())}_performRefresh(){return Ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(e,t){K(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Qs{constructor(t){var{uid:n,auth:i,stsTokenManager:s}=t,o=b0(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Z5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Jv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await lr(this,this.stsTokenManager.getToken(this.auth,t));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Q5(this,t)}reload(){return t9(this)}_assign(t){this!==t&&(K(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Qs(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Lh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(je(this.auth.app))return Promise.reject(Sn(this.auth));const t=await this.getIdToken();return await lr(this,Y5(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,s,o,a,c,u,d,f;const g=(i=n.displayName)!==null&&i!==void 0?i:void 0,_=(s=n.email)!==null&&s!==void 0?s:void 0,v=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,I=(a=n.photoURL)!==null&&a!==void 0?a:void 0,b=(c=n.tenantId)!==null&&c!==void 0?c:void 0,w=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,T=(d=n.createdAt)!==null&&d!==void 0?d:void 0,S=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:k,emailVerified:x,isAnonymous:D,providerData:M,stsTokenManager:V}=n;K(k&&V,t,"internal-error");const z=Ml.fromJSON(this.name,V);K(typeof k=="string",t,"internal-error"),jr(g,t.name),jr(_,t.name),K(typeof x=="boolean",t,"internal-error"),K(typeof D=="boolean",t,"internal-error"),jr(v,t.name),jr(I,t.name),jr(b,t.name),jr(w,t.name),jr(T,t.name),jr(S,t.name);const st=new Qs({uid:k,auth:t,email:_,emailVerified:x,displayName:g,isAnonymous:D,photoURL:I,phoneNumber:v,tenantId:b,stsTokenManager:z,createdAt:T,lastLoginAt:S});return M&&Array.isArray(M)&&(st.providerData=M.map(gt=>Object.assign({},gt))),w&&(st._redirectEventId=w),st}static async _fromIdTokenResponse(t,n,i=!1){const s=new Ml;s.updateFromServerResponse(n);const o=new Qs({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await Lh(o),o}static async _fromGetAccountInfoResponse(t,n,i){const s=n.users[0];K(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?bx(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),c=new Ml;c.updateFromIdToken(i);const u=new Qs({uid:s.localId,auth:t,stsTokenManager:c,isAnonymous:a}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Jv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=new Map;function Ri(e){is(e instanceof Function,"Expected a class definition");let t=$A.get(e);return t?(is(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,$A.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}wx.type="NONE";const Gl=wx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(e,t,n){return`firebase:${e}:${t}:${n}`}class Nl{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=ra(this.userKey,s.apiKey,o),this.fullPersistenceKey=ra("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Qs._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Nl(Ri(Gl),t,i);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||Ri(Gl);const a=ra(i,t.config.apiKey,t.name);let c=null;for(const d of n)try{const f=await d._get(a);if(f){const g=Qs._fromJSON(t,f);d!==o&&(c=g),o=d;break}}catch{}const u=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new Nl(o,t,i):(o=u[0],c&&await o._set(a,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(a)}catch{}})),new Nl(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Tx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ex(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Sx(t))return"Blackberry";if(Ax(t))return"Webos";if(S0(t))return"Safari";if((t.includes("chrome/")||Ix(t))&&!t.includes("edge/"))return"Chrome";if(hd(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Ex(e=De()){return/firefox\//i.test(e)}function S0(e=De()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ix(e=De()){return/crios\//i.test(e)}function Tx(e=De()){return/iemobile/i.test(e)}function hd(e=De()){return/android/i.test(e)}function Sx(e=De()){return/blackberry/i.test(e)}function Ax(e=De()){return/webos/i.test(e)}function fc(e=De()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function s9(e=De()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}function r9(e=De()){var t;return fc(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function o9(){return tx()&&document.documentMode===10}function Cx(e=De()){return fc(e)||hd(e)||Ax(e)||Sx(e)||/windows phone/i.test(e)||Tx(e)}function a9(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(e,t=[]){let n;switch(e){case"Browser":n=HA(De());break;case"Worker":n=`${HA(De())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${fr}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=o=>new Promise((a,c)=>{try{const u=t(o);a(u)}catch(u){c(u)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c9(e,t={}){return Ge(e,"GET","/v2/passwordPolicy",Ke(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9=6;class h9{constructor(t){var n,i,s,o;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:u9,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,s,o,a,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,u),this.validatePasswordCharacterOptions(t,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zA(this),this.idTokenSubscription=new zA(this),this.beforeStateQueue=new l9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ri(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Nl.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await vx(this,{idToken:t}),i=await Qs._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(je(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===c)&&(u!=null&&u.user)&&(s=u.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Lh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=j5()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(je(this.app))return Promise.reject(Sn(this));const n=t?Tt(t):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&K(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return je(this.app)?Promise.reject(Sn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return je(this.app)?Promise.reject(Sn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ri(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await c9(this),n=new h9(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Sa("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await i9(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ri(t)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await Nl.create(this,[Ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(c,this,"internal-error"),c.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,s);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Px(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&U5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ze(e){return Tt(e)}class zA{constructor(t){this.auth=t,this.observer=null,this.addObserver=ex(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f9(e){dd=e}function A0(e){return dd.loadJS(e)}function p9(){return dd.recaptchaV2Script}function g9(){return dd.recaptchaEnterpriseScript}function m9(){return dd.gapiScript}function Rx(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const _9="recaptcha-enterprise",y9="NO_RECAPTCHA";class v9{constructor(t){this.type=_9,this.auth=ze(t)}async verify(t="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,c)=>{G5(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new q5(u);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,a(d.siteKey)}}).catch(u=>{c(u)})})}function s(o,a,c){const u=window.grecaptcha;BA(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:t}).then(d=>{a(d)}).catch(()=>{a(y9)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{i(this.auth).then(c=>{if(!n&&BA(window.grecaptcha))s(c,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=g9();u.length!==0&&(u+=c),A0(u).then(()=>{s(c,o,a)}).catch(d=>{a(d)})}}).catch(c=>{a(c)})})}}async function WA(e,t,n,i=!1){const s=new v9(e);let o;try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},t);return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Vh(e,t,n,i){var s;if(!((s=e._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await WA(e,t,n,n==="getOobCode");return i(e,o)}else return i(e,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await WA(e,t,n,n==="getOobCode");return i(e,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(e,t){const n=hc(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(hg(o,t??{}))return s;An(s,"already-initialized")}return n.initialize({options:t})}function w9(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Ri);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function kx(e,t,n){const i=ze(e);K(i._canInitEmulator,i,"emulator-config-failed"),K(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),o=xx(t),{host:a,port:c}=E9(t),u=c===null?"":`:${c}`;i.config.emulator={url:`${o}//${a}${u}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||I9()}function xx(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function E9(e){const t=xx(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:qA(i.substr(o.length+1))}}else{const[o,a]=i.split(":");return{host:o,port:qA(a)}}}function qA(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function I9(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ss("not implemented")}_getIdTokenResponse(t){return Ss("not implemented")}_linkToIdToken(t,n){return Ss("not implemented")}_getReauthenticationResolver(t){return Ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dx(e,t){return Ge(e,"POST","/v1/accounts:resetPassword",Ke(e,t))}async function T9(e,t){return Ge(e,"POST","/v1/accounts:update",t)}async function S9(e,t){return Ge(e,"POST","/v1/accounts:signUp",t)}async function A9(e,t){return Ge(e,"POST","/v1/accounts:update",Ke(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C9(e,t){return pr(e,"POST","/v1/accounts:signInWithPassword",Ke(e,t))}async function hm(e,t){return Ge(e,"POST","/v1/accounts:sendOobCode",Ke(e,t))}async function P9(e,t){return hm(e,t)}async function R9(e,t){return hm(e,t)}async function k9(e,t){return hm(e,t)}async function x9(e,t){return hm(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D9(e,t){return pr(e,"POST","/v1/accounts:signInWithEmailLink",Ke(e,t))}async function O9(e,t){return pr(e,"POST","/v1/accounts:signInWithEmailLink",Ke(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends pc{constructor(t,n,i,s=null){super("password",i),this._email=t,this._password=n,this._tenantId=s}static _fromEmailAndPassword(t,n){return new Fh(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new Fh(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vh(t,n,"signInWithPassword",C9);case"emailLink":return D9(t,{email:this._email,oobCode:this._password});default:An(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vh(t,i,"signUpPassword",S9);case"emailLink":return O9(t,{idToken:n,email:this._email,oobCode:this._password});default:An(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rr(e,t){return pr(e,"POST","/v1/accounts:signInWithIdp",Ke(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9="http://localhost";class Ns extends pc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ns(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):An("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s}=n,o=b0(n,["providerId","signInMethod"]);if(!i||!s)return null;const a=new Ns(i,s);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return rr(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,rr(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,rr(t,n)}buildRequest(){const t={requestUri:M9,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=uc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N9(e,t){return Ge(e,"POST","/v1/accounts:sendVerificationCode",Ke(e,t))}async function L9(e,t){return pr(e,"POST","/v1/accounts:signInWithPhoneNumber",Ke(e,t))}async function V9(e,t){const n=await pr(e,"POST","/v1/accounts:signInWithPhoneNumber",Ke(e,t));if(n.temporaryProof)throw zu(e,"account-exists-with-different-credential",n);return n}const F9={USER_NOT_FOUND:"user-not-found"};async function U9(e,t){const n=Object.assign(Object.assign({},t),{operation:"REAUTH"});return pr(e,"POST","/v1/accounts:signInWithPhoneNumber",Ke(e,n),F9)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends pc{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,n){return new oa({verificationId:t,verificationCode:n})}static _fromTokenResponse(t,n){return new oa({phoneNumber:t,temporaryProof:n})}_getIdTokenResponse(t){return L9(t,this._makeVerificationRequest())}_linkToIdToken(t,n){return V9(t,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return U9(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:n,verificationId:i,verificationCode:s}=this.params;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:i,code:s}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){typeof t=="string"&&(t=JSON.parse(t));const{verificationId:n,verificationCode:i,phoneNumber:s,temporaryProof:o}=t;return!i&&!n&&!s&&!o?null:new oa({verificationId:n,verificationCode:i,phoneNumber:s,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function j9(e){const t=Sl(Hu(e)).link,n=t?Sl(Hu(t)).deep_link_id:null,i=Sl(Hu(e)).deep_link_id;return(i?Sl(Hu(i)).link:null)||i||n||t||e}class dm{constructor(t){var n,i,s,o,a,c;const u=Sl(Hu(t)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(i=u.oobCode)!==null&&i!==void 0?i:null,g=B9((s=u.mode)!==null&&s!==void 0?s:null);K(d&&f&&g,"argument-error"),this.apiKey=d,this.operation=g,this.code=f,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=u.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(t){const n=j9(t);try{return new dm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.providerId=mo.PROVIDER_ID}static credential(t,n){return Fh._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=dm.parseLink(n);return K(i,"argument-error"),Fh._fromEmailAndCode(t,i.code,i.tenantId)}}mo.PROVIDER_ID="password";mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends gr{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ll extends gc{static credentialFromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;return K("providerId"in n&&"signInMethod"in n,"argument-error"),Ns._fromParams(n)}credential(t){return this._credential(Object.assign(Object.assign({},t),{nonce:t.rawNonce}))}_credential(t){return K(t.idToken||t.accessToken,"argument-error"),Ns._fromParams(Object.assign(Object.assign({},t),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(t){return Ll.oauthCredentialFromTaggedObject(t)}static credentialFromError(t){return Ll.oauthCredentialFromTaggedObject(t.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a,providerId:c}=t;if(!i&&!s&&!n&&!o||!c)return null;try{return new Ll(c)._credential({idToken:n,accessToken:i,nonce:a,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends gc{constructor(){super("facebook.com")}static credential(t){return Ns._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return bs.credentialFromTaggedObject(t)}static credentialFromError(t){return bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return bs.credential(t.oauthAccessToken)}catch{return null}}}bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";bs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends gc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ns._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ws.credentialFromTaggedObject(t)}static credentialFromError(t){return ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return ws.credential(n,i)}catch{return null}}}ws.GOOGLE_SIGN_IN_METHOD="google.com";ws.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends gc{constructor(){super("github.com")}static credential(t){return Ns._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Es.credentialFromTaggedObject(t)}static credentialFromError(t){return Es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Es.credential(t.oauthAccessToken)}catch{return null}}}Es.GITHUB_SIGN_IN_METHOD="github.com";Es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9="http://localhost";class Yl extends pc{constructor(t,n){super(t,t),this.pendingToken=n}_getIdTokenResponse(t){const n=this.buildRequest();return rr(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,rr(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,rr(t,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s,pendingToken:o}=n;return!i||!s||!o||i!==s?null:new Yl(i,o)}static _create(t,n){return new Yl(t,n)}buildRequest(){return{requestUri:$9,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9="saml.";class pg extends gr{constructor(t){K(t.startsWith(H9),"argument-error"),super(t)}static credentialFromResult(t){return pg.samlCredentialFromTaggedObject(t)}static credentialFromError(t){return pg.samlCredentialFromTaggedObject(t.customData||{})}static credentialFromJSON(t){const n=Yl.fromJSON(t);return K(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{pendingToken:n,providerId:i}=t;if(!n||!i)return null;try{return Yl._create(i,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends gc{constructor(){super("twitter.com")}static credential(t,n){return Ns._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Is.credentialFromTaggedObject(t)}static credentialFromError(t){return Is.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Is.credential(n,i)}catch{return null}}}Is.TWITTER_SIGN_IN_METHOD="twitter.com";Is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ox(e,t){return pr(e,"POST","/v1/accounts:signUp",Ke(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const o=await Qs._fromIdTokenResponse(t,i,s),a=KA(i);return new $i({user:o,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=KA(i);return new $i({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function KA(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z9(e){var t;if(je(e.app))return Promise.reject(Sn(e));const n=ze(e);if(await n._initializationPromise,!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous)return new $i({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await Ox(n,{returnSecureToken:!0}),s=await $i._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg extends zn{constructor(t,n,i,s){var o;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,gg.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new gg(t,n,i,s)}}function Mx(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?gg._fromErrorAndOperation(e,o,t,i):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(e){return new Set(e.map(({providerId:t})=>t).filter(t=>!!t))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W9(e,t){const n=Tt(e);await fm(!0,n,t);const{providerUserInfo:i}=await X5(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),s=Nx(i||[]);return n.providerData=n.providerData.filter(o=>s.has(o.providerId)),s.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function C0(e,t,n=!1){const i=await lr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return $i._forOperation(e,"link",i)}async function fm(e,t,n){await Lh(t);const i=Nx(t.providerData),s=e===!1?"provider-already-linked":"no-such-provider";K(i.has(n)===e,t.auth,s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx(e,t,n=!1){const{auth:i}=e;if(je(i.app))return Promise.reject(Sn(i));const s="reauthenticate";try{const o=await lr(e,Mx(i,s,t,e),n);K(o.idToken,i,"internal-error");const a=um(o.idToken);K(a,i,"internal-error");const{sub:c}=a;return K(e.uid===c,i,"user-mismatch"),$i._forOperation(e,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&An(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vx(e,t,n=!1){if(je(e.app))return Promise.reject(Sn(e));const i="signIn",s=await Mx(e,i,t),o=await $i._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(o.user),o}async function pm(e,t){return Vx(ze(e),t)}async function Fx(e,t){const n=Tt(e);return await fm(!1,n,t.providerId),C0(n,t)}async function Ux(e,t){return Lx(Tt(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q9(e,t){return pr(e,"POST","/v1/accounts:signInWithCustomToken",Ke(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K9(e,t){if(je(e.app))return Promise.reject(Sn(e));const n=ze(e),i=await q9(n,{token:t,returnSecureToken:!0}),s=await $i._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(t,n){this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(t,n){return"phoneInfo"in n?P0._fromServerResponse(t,n):"totpInfo"in n?R0._fromServerResponse(t,n):An(t,"internal-error")}}class P0 extends fd{constructor(t){super("phone",t),this.phoneNumber=t.phoneInfo}static _fromServerResponse(t,n){return new P0(n)}}class R0 extends fd{constructor(t){super("totp",t)}static _fromServerResponse(t,n){return new R0(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(e,t,n){var i;K(((i=n.url)===null||i===void 0?void 0:i.length)>0,e,"invalid-continue-uri"),K(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(K(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(K(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k0(e){const t=ze(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function G9(e,t,n){const i=ze(e),s={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&gm(i,s,n),await Vh(i,s,"getOobCode",R9)}async function Y9(e,t,n){await Dx(Tt(e),{oobCode:t,newPassword:n}).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&k0(e),i})}async function X9(e,t){await A9(Tt(e),{oobCode:t})}async function Bx(e,t){const n=Tt(e),i=await Dx(n,{oobCode:t}),s=i.requestType;switch(K(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":K(i.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":K(i.mfaInfo,n,"internal-error");default:K(i.email,n,"internal-error")}let o=null;return i.mfaInfo&&(o=fd._fromServerResponse(ze(n),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:o},operation:s}}async function Q9(e,t){const{data:n}=await Bx(Tt(e),t);return n.email}async function J9(e,t,n){if(je(e.app))return Promise.reject(Sn(e));const i=ze(e),a=await Vh(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ox).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&k0(e),u}),c=await $i._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(c.user),c}function Z9(e,t,n){return je(e.app)?Promise.reject(Sn(e)):pm(Tt(e),mo.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&k0(e),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t6(e,t,n){const i=ze(e),s={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};function o(a,c){K(c.handleCodeInApp,i,"argument-error"),c&&gm(i,a,c)}o(s,n),await Vh(i,s,"getOobCode",k9)}function e6(e,t){const n=dm.parseLink(t);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function n6(e,t,n){if(je(e.app))return Promise.reject(Sn(e));const i=Tt(e),s=mo.credentialWithLink(t,n||Nh());return K(s._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),pm(i,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i6(e,t){return Ge(e,"POST","/v1/accounts:createAuthUri",Ke(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s6(e,t){const n=I0()?Nh():"http://localhost",i={identifier:t,continueUri:n},{signinMethods:s}=await i6(Tt(e),i);return s||[]}async function r6(e,t){const n=Tt(e),s={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&gm(n.auth,s,t);const{email:o}=await P9(n.auth,s);o!==e.email&&await e.reload()}async function o6(e,t,n){const i=Tt(e),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&gm(i.auth,o,n);const{email:a}=await x9(i.auth,o);a!==e.email&&await e.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a6(e,t){return Ge(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zv(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const i=Tt(e),o={idToken:await i.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},a=await lr(i,a6(i.auth,o));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const c=i.providerData.find(({providerId:u})=>u==="password");c&&(c.displayName=i.displayName,c.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function l6(e,t){const n=Tt(e);return je(n.auth.app)?Promise.reject(Sn(n.auth)):jx(n,t,null)}function c6(e,t){return jx(Tt(e),null,t)}async function jx(e,t,n){const{auth:i}=e,o={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(o.email=t),n&&(o.password=n);const a=await lr(e,T9(i,o));await e._updateTokensIfNecessary(a,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u6(e){var t,n;if(!e)return null;const{providerId:i}=e,s=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||e.kind==="identitytoolkit#SignupNewUserResponse";if(!i&&(e!=null&&e.idToken)){const a=(n=(t=um(e.idToken))===null||t===void 0?void 0:t.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(a){const c=a!=="anonymous"&&a!=="custom"?a:null;return new Vl(o,c)}}if(!i)return null;switch(i){case"facebook.com":return new h6(o,s);case"github.com":return new d6(o,s);case"google.com":return new f6(o,s);case"twitter.com":return new p6(o,s,e.screenName||null);case"custom":case"anonymous":return new Vl(o,null);default:return new Vl(o,i,s)}}class Vl{constructor(t,n,i={}){this.isNewUser=t,this.providerId=n,this.profile=i}}class $x extends Vl{constructor(t,n,i,s){super(t,n,i),this.username=s}}class h6 extends Vl{constructor(t,n){super(t,"facebook.com",n)}}class d6 extends $x{constructor(t,n){super(t,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class f6 extends Vl{constructor(t,n){super(t,"google.com",n)}}class p6 extends $x{constructor(t,n,i){super(t,"twitter.com",n,i)}}function g6(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:u6(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(e,t){return Tt(e).setPersistence(t)}function _6(e,t,n,i){return Tt(e).onIdTokenChanged(t,n,i)}function y6(e,t,n){return Tt(e).beforeAuthStateChanged(t,n)}function ls(e,t,n,i){return Tt(e).onAuthStateChanged(t,n,i)}function v6(e){return Tt(e).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(t,n,i){this.type=t,this.credential=n,this.user=i}static _fromIdtoken(t,n){return new Qo("enroll",t,n)}static _fromMfaPendingCredential(t){return new Qo("signin",t)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(t){var n,i;if(t!=null&&t.multiFactorSession){if(!((n=t.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Qo._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(!((i=t.multiFactorSession)===null||i===void 0)&&i.idToken)return Qo._fromIdtoken(t.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(t,n,i){this.session=t,this.hints=n,this.signInResolver=i}static _fromError(t,n){const i=ze(t),s=n.customData._serverResponse,o=(s.mfaInfo||[]).map(c=>fd._fromServerResponse(i,c));K(s.mfaPendingCredential,i,"internal-error");const a=Qo._fromMfaPendingCredential(s.mfaPendingCredential);return new x0(a,o,async c=>{const u=await c._process(i,a);delete s.mfaInfo,delete s.mfaPendingCredential;const d=Object.assign(Object.assign({},s),{idToken:u.idToken,refreshToken:u.refreshToken});switch(n.operationType){case"signIn":const f=await $i._fromIdTokenResponse(i,n.operationType,d);return await i._updateCurrentUser(f.user),f;case"reauthenticate":return K(n.user,i,"internal-error"),$i._forOperation(n.user,n.operationType,d);default:An(i,"internal-error")}})}async resolveSignIn(t){const n=t;return this.signInResolver(n)}}function b6(e,t){var n;const i=Tt(e),s=t;return K(t.customData.operationType,i,"argument-error"),K((n=s.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,i,"argument-error"),x0._fromError(i,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(e,t){return Ge(e,"POST","/v2/accounts/mfaEnrollment:start",Ke(e,t))}function E6(e,t){return Ge(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ke(e,t))}function I6(e,t){return Ge(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Ke(e,t))}class D0{constructor(t){this.user=t,this.enrolledFactors=[],t._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(i=>fd._fromServerResponse(t.auth,i)))})}static _fromUser(t){return new D0(t)}async getSession(){return Qo._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(t,n){const i=t,s=await this.getSession(),o=await lr(this.user,i._process(this.user.auth,s,n));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(t){const n=typeof t=="string"?t:t.uid,i=await this.user.getIdToken();try{const s=await lr(this.user,I6(this.user.auth,{idToken:i,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==n),await this.user._updateTokensIfNecessary(s),await this.user.reload()}catch(s){throw s}}}const nv=new WeakMap;function T6(e){const t=Tt(e);return nv.has(t)||nv.set(t,D0._fromUser(t)),nv.get(t)}const mg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mg,"1"),this.storage.removeItem(mg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(){const e=De();return S0(e)||fc(e)}const A6=1e3,C6=10;class zx extends Hx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=S6()&&a9(),this.fallbackToPolling=Cx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}const i=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)t.newValue!==null?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!n)return}const s=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);o9()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,C6):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},A6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}zx.type="LOCAL";const pd=zx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx extends Hx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Wx.type="SESSION";const lo=Wx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new mm(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:o}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(a).map(async d=>d(n.origin,o)),u=await P6(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,u)=>{const d=gd("",20);s.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(g){const _=g;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(_.data.response);break;default:clearTimeout(f),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:d,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return window}function k6(e){an().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(){return typeof an().WorkerGlobalScope<"u"&&typeof an().importScripts=="function"}async function x6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function D6(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function O6(){return O0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="firebaseLocalStorageDb",M6=1,_g="firebaseLocalStorage",Kx="fbase_key";class md{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _m(e,t){return e.transaction([_g],t?"readwrite":"readonly").objectStore(_g)}function N6(){const e=indexedDB.deleteDatabase(qx);return new md(e).toPromise()}function tb(){const e=indexedDB.open(qx,M6);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(_g,{keyPath:Kx})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(_g)?t(i):(i.close(),await N6(),t(await tb()))})})}async function GA(e,t,n){const i=_m(e,!0).put({[Kx]:t,value:n});return new md(i).toPromise()}async function L6(e,t){const n=_m(e,!1).get(t),i=await new md(n).toPromise();return i===void 0?null:i.value}function YA(e,t){const n=_m(e,!0).delete(t);return new md(n).toPromise()}const V6=800,F6=3;class Gx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tb(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>F6)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return O0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mm._getInstance(O6()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await x6(),!this.activeServiceWorker)return;this.sender=new R6(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||D6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await tb();return await GA(t,mg,"1"),await YA(t,mg),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>GA(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>L6(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>YA(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const o=_m(s,!1).getAll();return new md(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),V6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Gx.type="LOCAL";const Xl=Gx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(e,t){return Ge(e,"POST","/v2/accounts/mfaSignIn:start",Ke(e,t))}function B6(e,t){return Ge(e,"POST","/v2/accounts/mfaSignIn:finalize",Ke(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6=500,$6=6e4,ip=1e12;class H6{constructor(t){this.auth=t,this.counter=ip,this._widgets=new Map}render(t,n){const i=this.counter;return this._widgets.set(i,new z6(t,this.auth.name,n||{})),this.counter++,i}reset(t){var n;const i=t||ip;(n=this._widgets.get(i))===null||n===void 0||n.delete(),this._widgets.delete(i)}getResponse(t){var n;const i=t||ip;return((n=this._widgets.get(i))===null||n===void 0?void 0:n.getResponse())||""}async execute(t){var n;const i=t||ip;return(n=this._widgets.get(i))===null||n===void 0||n.execute(),""}}class z6{constructor(t,n,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof t=="string"?document.getElementById(t):t;K(s,"argument-error",{appName:n}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=W6(50);const{callback:t,"expired-callback":n}=this.params;if(t)try{t(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},$6)},j6))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function W6(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<e;i++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=Rx("rcb"),q6=new ud(3e4,6e4);class K6{constructor(){var t;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((t=an().grecaptcha)===null||t===void 0)&&t.render)}load(t,n=""){return K(G6(n),t,"argument-error"),this.shouldResolveImmediately(n)&&UA(an().grecaptcha)?Promise.resolve(an().grecaptcha):new Promise((i,s)=>{const o=an().setTimeout(()=>{s(pn(t,"network-request-failed"))},q6.get());an()[iv]=()=>{an().clearTimeout(o),delete an()[iv];const c=an().grecaptcha;if(!c||!UA(c)){s(pn(t,"internal-error"));return}const u=c.render;c.render=(d,f)=>{const g=u(d,f);return this.counter++,g},this.hostLanguage=n,i(c)};const a=`${p9()}?${uc({onload:iv,render:"explicit",hl:n})}`;A0(a).catch(()=>{clearTimeout(o),s(pn(t,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(t){var n;return!!(!((n=an().grecaptcha)===null||n===void 0)&&n.render)&&(t===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function G6(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}class Y6{async load(t){return new H6(t)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="recaptcha",X6={theme:"light",type:"image"};let Q6=class{constructor(t,n,i=Object.assign({},X6)){this.parameters=i,this.type=Yx,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ze(t),this.isInvisible=this.parameters.size==="invisible",K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof n=="string"?document.getElementById(n):n;K(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Y6:new K6,this.validateStartingState()}async verify(){this.assertNotDestroyed();const t=await this.render(),n=this.getAssertedRecaptcha(),i=n.getResponse(t);return i||new Promise(s=>{const o=a=>{a&&(this.tokenChangeListeners.delete(o),s(a))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(t)})}render(){try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(t=>{throw this.renderPromise=null,t}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(t=>{this.container.removeChild(t)})}validateStartingState(){K(!this.parameters.sitekey,this.auth,"argument-error"),K(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(t){return n=>{if(this.tokenChangeListeners.forEach(i=>i(n)),typeof t=="function")t(n);else if(typeof t=="string"){const i=an()[t];typeof i=="function"&&i(n)}}}assertNotDestroyed(){K(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let t=this.container;if(!this.isInvisible){const n=document.createElement("div");t.appendChild(n),t=n}this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)}return this.widgetId}async init(){K(I0()&&!O0(),this.auth,"internal-error"),await J6(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const t=await K5(this.auth);K(t,this.auth,"internal-error"),this.parameters.sitekey=t}getAssertedRecaptcha(){return K(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function J6(){let e=null;return new Promise(t=>{if(document.readyState==="complete"){t();return}e=()=>t(),window.addEventListener("load",e)}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(t,n){this.verificationId=t,this.onConfirmation=n}confirm(t){const n=oa._fromVerification(this.verificationId,t);return this.onConfirmation(n)}}async function Z6(e,t,n){if(je(e.app))return Promise.reject(Sn(e));const i=ze(e),s=await ym(i,t,Tt(n));return new M0(s,o=>pm(i,o))}async function tB(e,t,n){const i=Tt(e);await fm(!1,i,"phone");const s=await ym(i.auth,t,Tt(n));return new M0(s,o=>Fx(i,o))}async function eB(e,t,n){const i=Tt(e);if(je(i.auth.app))return Promise.reject(Sn(i.auth));const s=await ym(i.auth,t,Tt(n));return new M0(s,o=>Ux(i,o))}async function ym(e,t,n){var i;const s=await n.verify();try{K(typeof s=="string",e,"argument-error"),K(n.type===Yx,e,"argument-error");let o;if(typeof t=="string"?o={phoneNumber:t}:o=t,"session"in o){const a=o.session;if("phoneNumber"in o)return K(a.type==="enroll",e,"internal-error"),(await w6(e,{idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:s}})).phoneSessionInfo.sessionInfo;{K(a.type==="signin",e,"internal-error");const c=((i=o.multiFactorHint)===null||i===void 0?void 0:i.uid)||o.multiFactorUid;return K(c,e,"missing-multi-factor-info"),(await U6(e,{mfaPendingCredential:a.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:s}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:a}=await N9(e,{phoneNumber:o.phoneNumber,recaptchaToken:s});return a}}finally{n._reset()}}async function nB(e,t){const n=Tt(e);if(je(n.auth.app))return Promise.reject(Sn(n.auth));await C0(n,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ga=class Up{constructor(t){this.providerId=Up.PROVIDER_ID,this.auth=ze(t)}verifyPhoneNumber(t,n){return ym(this.auth,t,Tt(n))}static credential(t,n){return oa._fromVerification(t,n)}static credentialFromResult(t){const n=t;return Up.credentialFromTaggedObject(n)}static credentialFromError(t){return Up.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:n,temporaryProof:i}=t;return n&&i?oa._fromTokenResponse(n,i):null}};ga.PROVIDER_ID="phone";ga.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(e,t){return t?Ri(t):(K(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0 extends pc{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return rr(t,this._buildIdpRequest())}_linkToIdToken(t,n){return rr(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return rr(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function iB(e){return Vx(e.auth,new N0(e),e.bypassAuthState)}function sB(e){const{auth:t,user:n}=e;return K(n,t,"internal-error"),Lx(n,new N0(e),e.bypassAuthState)}async function rB(e){const{auth:t,user:n}=e;return K(n,t,"internal-error"),C0(n,new N0(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(t,n,i,s,o=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:o,error:a,type:c}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return iB;case"linkViaPopup":case"linkViaRedirect":return rB;case"reauthViaPopup":case"reauthViaRedirect":return sB;default:An(this.auth,"internal-error")}}resolve(t){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oB=new ud(2e3,1e4);async function aB(e,t,n){if(je(e.app))return Promise.reject(pn(e,"operation-not-supported-in-this-environment"));const i=ze(e);dc(e,t,gr);const s=Aa(i,n);return new Js(i,"signInViaPopup",t,s).executeNotNull()}async function lB(e,t,n){const i=Tt(e);if(je(i.auth.app))return Promise.reject(pn(i.auth,"operation-not-supported-in-this-environment"));dc(i.auth,t,gr);const s=Aa(i.auth,n);return new Js(i.auth,"reauthViaPopup",t,s,i).executeNotNull()}async function cB(e,t,n){const i=Tt(e);dc(i.auth,t,gr);const s=Aa(i.auth,n);return new Js(i.auth,"linkViaPopup",t,s,i).executeNotNull()}class Js extends Xx{constructor(t,n,i,s,o){super(t,n,s,o),this.provider=i,this.authWindow=null,this.pollId=null,Js.currentPopupAction&&Js.currentPopupAction.cancel(),Js.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return K(t,this.auth,"internal-error"),t}async onExecution(){is(this.filter.length===1,"Popup operations only handle one event");const t=gd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Js.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,oB.get())};t()}}Js.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB="pendingRedirect",uh=new Map;class hB extends Xx{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=uh.get(this.auth._key());if(!t){try{const i=await dB(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}uh.set(this.auth._key(),t)}return this.bypassAuthState||uh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dB(e,t){const n=Jx(t),i=Qx(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}async function L0(e,t){return Qx(e)._set(Jx(t),"true")}function fB(){uh.clear()}function V0(e,t){uh.set(e._key(),t)}function Qx(e){return Ri(e._redirectPersistence)}function Jx(e){return ra(uB,e.config.apiKey,e.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pB(e,t,n){return gB(e,t,n)}async function gB(e,t,n){if(je(e.app))return Promise.reject(Sn(e));const i=ze(e);dc(e,t,gr),await i._initializationPromise;const s=Aa(i,n);return await L0(s,i),s._openRedirect(i,t,"signInViaRedirect")}function mB(e,t,n){return _B(e,t,n)}async function _B(e,t,n){const i=Tt(e);if(dc(i.auth,t,gr),je(i.auth.app))return Promise.reject(Sn(i.auth));await i.auth._initializationPromise;const s=Aa(i.auth,n);await L0(s,i.auth);const o=await Zx(i);return s._openRedirect(i.auth,t,"reauthViaRedirect",o)}function yB(e,t,n){return vB(e,t,n)}async function vB(e,t,n){const i=Tt(e);dc(i.auth,t,gr),await i.auth._initializationPromise;const s=Aa(i.auth,n);await fm(!1,i,t.providerId),await L0(s,i.auth);const o=await Zx(i);return s._openRedirect(i.auth,t,"linkViaRedirect",o)}async function bB(e,t){return await ze(e)._initializationPromise,vm(e,t,!1)}async function vm(e,t,n=!1){if(je(e.app))return Promise.reject(Sn(e));const i=ze(e),s=Aa(i,t),a=await new hB(i,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}async function Zx(e){const t=gd(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wB=10*60*1e3;class t2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!EB(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!e2(t)){const s=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(pn(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=wB&&this.cachedEventUids.clear(),this.cachedEventUids.has(XA(t))}saveEventToCache(t){this.cachedEventUids.add(XA(t)),this.lastProcessedEventTime=Date.now()}}function XA(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function e2({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function EB(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return e2(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(e,t={}){return Ge(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TB=/^https?/;async function SB(e){if(e.config.emulator)return;const{authorizedDomains:t}=await n2(e);for(const n of t)try{if(AB(n))return}catch{}An(e,"unauthorized-domain")}function AB(e){const t=Nh(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!TB.test(n))return!1;if(IB.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB=new ud(3e4,6e4);function QA(){const e=an().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function PB(e){return new Promise((t,n)=>{var i,s,o;function a(){QA(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{QA(),n(pn(e,"network-request-failed"))},timeout:CB.get()})}if(!((s=(i=an().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((o=an().gapi)===null||o===void 0)&&o.load)a();else{const c=Rx("iframefcb");return an()[c]=()=>{gapi.load?a():n(pn(e,"network-request-failed"))},A0(`${m9()}?onload=${c}`).catch(u=>n(u))}}).catch(t=>{throw Bp=null,t})}let Bp=null;function RB(e){return Bp=Bp||PB(e),Bp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB=new ud(5e3,15e3),xB="__/auth/iframe",DB="emulator/auth/iframe",OB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NB(e){const t=e.config;K(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?T0(t,DB):`https://${e.config.authDomain}/${xB}`,i={apiKey:t.apiKey,appName:e.name,v:fr},s=MB.get(e.config.apiHost);s&&(i.eid=s);const o=e._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${uc(i).slice(1)}`}async function LB(e){const t=await RB(e),n=an().gapi;return K(n,e,"internal-error"),t.open({where:document.body,url:NB(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OB,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const a=pn(e,"network-request-failed"),c=an().setTimeout(()=>{o(a)},kB.get());function u(){an().clearTimeout(c),s(i)}i.ping(u).then(u,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FB=500,UB=600,BB="_blank",jB="http://localhost";class JA{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $B(e,t,n,i=FB,s=UB){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const u=Object.assign(Object.assign({},VB),{width:i.toString(),height:s.toString(),top:o,left:a}),d=De().toLowerCase();n&&(c=Ix(d)?BB:n),Ex(d)&&(t=t||jB,u.scrollbars="yes");const f=Object.entries(u).reduce((_,[v,I])=>`${_}${v}=${I},`,"");if(r9(d)&&c!=="_self")return HB(t||"",c),new JA(null);const g=window.open(t||"",c,f);K(g,e,"popup-blocked");try{g.focus()}catch{}return new JA(g)}function HB(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB="__/auth/handler",WB="emulator/auth/handler",qB=encodeURIComponent("fac");async function eb(e,t,n,i,s,o){K(e.config.authDomain,e,"auth-domain-config-required"),K(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:fr,eventId:s};if(t instanceof gr){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",p3(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[f,g]of Object.entries(o||{}))a[f]=g}if(t instanceof gc){const f=t.getScopes().filter(g=>g!=="");f.length>0&&(a.scopes=f.join(","))}e.tenantId&&(a.tid=e.tenantId);const c=a;for(const f of Object.keys(c))c[f]===void 0&&delete c[f];const u=await e._getAppCheckToken(),d=u?`#${qB}=${encodeURIComponent(u)}`:"";return`${KB(e)}?${uc(c).slice(1)}${d}`}function KB({config:e}){return e.emulator?T0(e,WB):`https://${e.authDomain}/${zB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="webStorageSupport";class GB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lo,this._completeRedirectFn=vm,this._overrideRedirectResult=V0}async _openPopup(t,n,i,s){var o;is((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await eb(t,n,i,Nh(),s);return $B(t,a,gd())}async _openRedirect(t,n,i,s){await this._originValidation(t);const o=await eb(t,n,i,Nh(),s);return k6(o),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(is(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await LB(t),i=new t2(t);return n.register("authEvent",s=>(K(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(sv,{type:sv},s=>{var o;const a=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[sv];a!==void 0&&n(!!a),An(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SB(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Cx()||S0()||fc()}}const i2=GB;class YB{constructor(t){this.factorId=t}_process(t,n,i){switch(n.type){case"enroll":return this._finalizeEnroll(t,n.credential,i);case"signin":return this._finalizeSignIn(t,n.credential);default:return Ss("unexpected MultiFactorSessionType")}}}class F0 extends YB{constructor(t){super("phone"),this.credential=t}static _fromCredential(t){return new F0(t)}_finalizeEnroll(t,n,i){return E6(t,{idToken:n,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(t,n){return B6(t,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class s2{constructor(){}static assertion(t){return F0._fromCredential(t)}}s2.FACTOR_ID="phone";var ZA="@firebase/auth",tC="1.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JB(e){ar(new Ms("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=i.options;K(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:c,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Px(e)},d=new d9(i,s,o,u);return w9(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),ar(new Ms("auth-internal",t=>{const n=ze(t.getProvider("auth").getImmediate());return(i=>new XB(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gi(ZA,tC,QB(e)),gi(ZA,tC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB=5*60,tj=Xk("authIdTokenMaxAge")||ZB;let eC=null;const ej=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>tj)return;const s=n==null?void 0:n.token;eC!==s&&(eC=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Wt(e=cm()){const t=hc(e,"auth");if(t.isInitialized())return t.getImmediate();const n=b9(e,{popupRedirectResolver:i2,persistence:[Xl,pd,lo]}),i=Xk("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const a=ej(o.toString());y6(n,a,()=>a(n.currentUser)),_6(n,c=>a(c))}}const s=Kk("auth");return s&&kx(n,`http://${s}`),n}function nj(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}f9({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const o=pn("internal-error");o.customData=s,n(o)},i.type="text/javascript",i.charset="UTF-8",nj().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JB("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=2e3;async function sj(e,t,n){var i;const{BuildInfo:s}=ma();is(t.sessionId,"AuthEvent did not contain a session ID");const o=await cj(t.sessionId),a={};return fc()?a.ibi=s.packageName:hd()?a.apn=s.packageName:An(e,"operation-not-supported-in-this-environment"),s.displayName&&(a.appDisplayName=s.displayName),a.sessionId=o,eb(e,n,t.type,void 0,(i=t.eventId)!==null&&i!==void 0?i:void 0,a)}async function rj(e){const{BuildInfo:t}=ma(),n={};fc()?n.iosBundleId=t.packageName:hd()?n.androidPackageName=t.packageName:An(e,"operation-not-supported-in-this-environment"),await n2(e,n)}function oj(e){const{cordova:t}=ma();return new Promise(n=>{t.plugins.browsertab.isAvailable(i=>{let s=null;i?t.plugins.browsertab.openUrl(e):s=t.InAppBrowser.open(e,s9()?"_blank":"_system","location=yes"),n(s)})})}async function aj(e,t,n){const{cordova:i}=ma();let s=()=>{};try{await new Promise((o,a)=>{let c=null;function u(){var g;o();const _=(g=i.plugins.browsertab)===null||g===void 0?void 0:g.close;typeof _=="function"&&_(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function d(){c||(c=window.setTimeout(()=>{a(pn(e,"redirect-cancelled-by-user"))},ij))}function f(){(document==null?void 0:document.visibilityState)==="visible"&&d()}t.addPassiveListener(u),document.addEventListener("resume",d,!1),hd()&&document.addEventListener("visibilitychange",f,!1),s=()=>{t.removePassiveListener(u),document.removeEventListener("resume",d,!1),document.removeEventListener("visibilitychange",f,!1),c&&window.clearTimeout(c)}})}finally{s()}}function lj(e){var t,n,i,s,o,a,c,u,d,f;const g=ma();K(typeof((t=g==null?void 0:g.universalLinks)===null||t===void 0?void 0:t.subscribe)=="function",e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),K(typeof((n=g==null?void 0:g.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),K(typeof((o=(s=(i=g==null?void 0:g.cordova)===null||i===void 0?void 0:i.plugins)===null||s===void 0?void 0:s.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),K(typeof((u=(c=(a=g==null?void 0:g.cordova)===null||a===void 0?void 0:a.plugins)===null||c===void 0?void 0:c.browsertab)===null||u===void 0?void 0:u.isAvailable)=="function",e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),K(typeof((f=(d=g==null?void 0:g.cordova)===null||d===void 0?void 0:d.InAppBrowser)===null||f===void 0?void 0:f.open)=="function",e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function cj(e){const t=uj(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")}function uj(e){if(is(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=20;class dj extends t2{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(t=>{this.resolveInialized=t})}addPassiveListener(t){this.passiveListeners.add(t)}removePassiveListener(t){this.passiveListeners.delete(t)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(t){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(t)),super.onEvent(t)}async initialized(){await this.initPromise}}function fj(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:mj(),postBody:null,tenantId:e.tenantId,error:pn(e,"no-auth-event")}}function pj(e,t){return nb()._set(ib(e),t)}async function nC(e){const t=await nb()._get(ib(e));return t&&await nb()._remove(ib(e)),t}function gj(e,t){var n,i;const s=yj(t);if(s.includes("/__/auth/callback")){const o=jp(s),a=o.firebaseError?_j(decodeURIComponent(o.firebaseError)):null,c=(i=(n=a==null?void 0:a.code)===null||n===void 0?void 0:n.split("auth/"))===null||i===void 0?void 0:i[1],u=c?pn(c):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:s,postBody:null}}return null}function mj(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<hj;n++){const i=Math.floor(Math.random()*t.length);e.push(t.charAt(i))}return e.join("")}function nb(){return Ri(pd)}function ib(e){return ra("authEvent",e.config.apiKey,e.name)}function _j(e){try{return JSON.parse(e)}catch{return null}}function yj(e){const t=jp(e),n=t.link?decodeURIComponent(t.link):void 0,i=jp(n).link,s=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return jp(s).link||s||i||n||e}function jp(e){if(!(e!=null&&e.includes("?")))return{};const[t,...n]=e.split("?");return Sl(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=500;class bj{constructor(){this._redirectPersistence=lo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=vm,this._overrideRedirectResult=V0}async _initialize(t){const n=t._key();let i=this.eventManagers.get(n);return i||(i=new dj(t),this.eventManagers.set(n,i),this.attachCallbackListeners(t,i)),i}_openPopup(t){An(t,"operation-not-supported-in-this-environment")}async _openRedirect(t,n,i,s){lj(t);const o=await this._initialize(t);await o.initialized(),o.resetRedirect(),fB(),await this._originValidation(t);const a=fj(t,i,s);await pj(t,a);const c=await sj(t,a,n),u=await oj(c);return aj(t,o,u)}_isIframeWebStorageSupported(t,n){throw new Error("Method not implemented.")}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rj(t)),this.originValidationPromises[n]}attachCallbackListeners(t,n){const{universalLinks:i,handleOpenURL:s,BuildInfo:o}=ma(),a=setTimeout(async()=>{await nC(t),n.onEvent(iC())},vj),c=async f=>{clearTimeout(a);const g=await nC(t);let _=null;g&&(f!=null&&f.url)&&(_=gj(g,f.url)),n.onEvent(_||iC())};typeof i<"u"&&typeof i.subscribe=="function"&&i.subscribe(null,c);const u=s,d=`${o.packageName.toLowerCase()}://`;ma().handleOpenURL=async f=>{if(f.toLowerCase().startsWith(d)&&c({url:f}),typeof u=="function")try{u(f)}catch(g){console.error(g)}}}}const wj=bj;function iC(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:pn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(e,t){ze(e)._logFramework(t)}var Ij="@firebase/auth-compat",Tj="0.5.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=1e3;function hh(){var e;return((e=self==null?void 0:self.location)===null||e===void 0?void 0:e.protocol)||null}function Aj(){return hh()==="http:"||hh()==="https:"}function r2(e=De()){return!!((hh()==="file:"||hh()==="ionic:"||hh()==="capacitor:")&&e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Cj(){return m0()||g0()}function Pj(){return tx()&&(document==null?void 0:document.documentMode)===11}function Rj(e=De()){return/Edge\/\d+/.test(e)}function kj(e=De()){return Pj()||Rj(e)}function o2(){try{const e=self.localStorage,t=gd();if(e)return e.setItem(t,"1"),e.removeItem(t),kj()?Dh():!0}catch{return U0()&&Dh()}return!1}function U0(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function rv(){return(Aj()||Zk()||r2())&&!Cj()&&o2()&&!U0()}function a2(){return r2()&&typeof document<"u"}async function xj(){return a2()?new Promise(e=>{const t=setTimeout(()=>{e(!1)},Sj);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})}):!1}function Dj(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci={LOCAL:"local",NONE:"none",SESSION:"session"},ku=K,l2="persistence";function Oj(e,t){if(ku(Object.values(Ci).includes(t),e,"invalid-persistence-type"),m0()){ku(t!==Ci.SESSION,e,"unsupported-persistence-type");return}if(g0()){ku(t===Ci.NONE,e,"unsupported-persistence-type");return}if(U0()){ku(t===Ci.NONE||t===Ci.LOCAL&&Dh(),e,"unsupported-persistence-type");return}ku(t===Ci.NONE||o2(),e,"unsupported-persistence-type")}async function sb(e){await e._initializationPromise;const t=c2(),n=ra(l2,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Mj(e,t){const n=c2();if(!n)return[];const i=ra(l2,e,t);switch(n.getItem(i)){case Ci.NONE:return[Gl];case Ci.LOCAL:return[Xl,lo];case Ci.SESSION:return[lo];default:return[]}}function c2(){var e;try{return((e=Dj())===null||e===void 0?void 0:e.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=K;class Kr{constructor(){this.browserResolver=Ri(i2),this.cordovaResolver=Ri(wj),this.underlyingResolver=null,this._redirectPersistence=lo,this._completeRedirectFn=vm,this._overrideRedirectResult=V0}async _initialize(t){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(t)}async _openPopup(t,n,i,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(t,n,i,s)}async _openRedirect(t,n,i,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(t,n,i,s)}_isIframeWebStorageSupported(t,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(t,n)}_originValidation(t){return this.assertedUnderlyingResolver._originValidation(t)}get _shouldInitProactively(){return a2()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Nj(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const t=await xj();this.underlyingResolver=t?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(e){return e.unwrap()}function Lj(e){return e.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(e){return h2(e)}function Fj(e,t){var n;const i=(n=t.customData)===null||n===void 0?void 0:n._tokenResponse;if((t==null?void 0:t.code)==="auth/multi-factor-auth-required"){const s=t;s.resolver=new Uj(e,b6(e,t))}else if(i){const s=h2(t),o=t;s&&(o.credential=s,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function h2(e){const{_tokenResponse:t}=e instanceof zn?e.customData:e;if(!t)return null;if(!(e instanceof zn)&&"temporaryProof"in t&&"phoneNumber"in t)return ga.credentialFromResult(e);const n=t.providerId;if(!n||n===Ru.PASSWORD)return null;let i;switch(n){case Ru.GOOGLE:i=ws;break;case Ru.FACEBOOK:i=bs;break;case Ru.GITHUB:i=Es;break;case Ru.TWITTER:i=Is;break;default:const{oauthIdToken:s,oauthAccessToken:o,oauthTokenSecret:a,pendingToken:c,nonce:u}=t;return!o&&!a&&!s&&!c?null:c?n.startsWith("saml.")?Yl._create(n,c):Ns._fromParams({providerId:n,signInMethod:n,pendingToken:c,idToken:s,accessToken:o}):new Ll(n).credential({idToken:s,accessToken:o,rawNonce:u})}return e instanceof zn?i.credentialFromError(e):i.credentialFromResult(e)}function hi(e,t){return t.catch(n=>{throw n instanceof zn&&Fj(e,n),n}).then(n=>{const i=n.operationType,s=n.user;return{operationType:i,credential:Vj(n),additionalUserInfo:g6(n),user:bm.getOrCreate(s)}})}async function rb(e,t){const n=await t;return{verificationId:n.verificationId,confirm:i=>hi(e,n.confirm(i))}}class Uj{constructor(t,n){this.resolver=n,this.auth=Lj(t)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(t){return hi(u2(this.auth),this.resolver.resolveSignIn(t))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bm=class Wu{constructor(t){this._delegate=t,this.multiFactor=T6(t)}static getOrCreate(t){return Wu.USER_MAP.has(t)||Wu.USER_MAP.set(t,new Wu(t)),Wu.USER_MAP.get(t)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(t){return this._delegate.getIdTokenResult(t)}getIdToken(t){return this._delegate.getIdToken(t)}linkAndRetrieveDataWithCredential(t){return this.linkWithCredential(t)}async linkWithCredential(t){return hi(this.auth,Fx(this._delegate,t))}async linkWithPhoneNumber(t,n){return rb(this.auth,tB(this._delegate,t,n))}async linkWithPopup(t){return hi(this.auth,cB(this._delegate,t,Kr))}async linkWithRedirect(t){return await sb(ze(this.auth)),yB(this._delegate,t,Kr)}reauthenticateAndRetrieveDataWithCredential(t){return this.reauthenticateWithCredential(t)}async reauthenticateWithCredential(t){return hi(this.auth,Ux(this._delegate,t))}reauthenticateWithPhoneNumber(t,n){return rb(this.auth,eB(this._delegate,t,n))}reauthenticateWithPopup(t){return hi(this.auth,lB(this._delegate,t,Kr))}async reauthenticateWithRedirect(t){return await sb(ze(this.auth)),mB(this._delegate,t,Kr)}sendEmailVerification(t){return r6(this._delegate,t)}async unlink(t){return await W9(this._delegate,t),this}updateEmail(t){return l6(this._delegate,t)}updatePassword(t){return c6(this._delegate,t)}updatePhoneNumber(t){return nB(this._delegate,t)}updateProfile(t){return Zv(this._delegate,t)}verifyBeforeUpdateEmail(t,n){return o6(this._delegate,t,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};bm.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=K;class ob{constructor(t,n){if(this.app=t,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:i}=t.options;xu(i,"invalid-api-key",{appName:t.name}),xu(i,"invalid-api-key",{appName:t.name});const s=typeof window<"u"?Kr:void 0;this._delegate=n.initialize({options:{persistence:Bj(i,t.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(V5),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?bm.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(t){this._delegate.languageCode=t}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(t){this._delegate.tenantId=t}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(t,n){kx(this._delegate,t,n)}applyActionCode(t){return X9(this._delegate,t)}checkActionCode(t){return Bx(this._delegate,t)}confirmPasswordReset(t,n){return Y9(this._delegate,t,n)}async createUserWithEmailAndPassword(t,n){return hi(this._delegate,J9(this._delegate,t,n))}fetchProvidersForEmail(t){return this.fetchSignInMethodsForEmail(t)}fetchSignInMethodsForEmail(t){return s6(this._delegate,t)}isSignInWithEmailLink(t){return e6(this._delegate,t)}async getRedirectResult(){xu(rv(),this._delegate,"operation-not-supported-in-this-environment");const t=await bB(this._delegate,Kr);return t?hi(this._delegate,Promise.resolve(t)):{credential:null,user:null}}addFrameworkForLogging(t){Ej(this._delegate,t)}onAuthStateChanged(t,n,i){const{next:s,error:o,complete:a}=sC(t,n,i);return this._delegate.onAuthStateChanged(s,o,a)}onIdTokenChanged(t,n,i){const{next:s,error:o,complete:a}=sC(t,n,i);return this._delegate.onIdTokenChanged(s,o,a)}sendSignInLinkToEmail(t,n){return t6(this._delegate,t,n)}sendPasswordResetEmail(t,n){return G9(this._delegate,t,n||void 0)}async setPersistence(t){Oj(this._delegate,t);let n;switch(t){case Ci.SESSION:n=lo;break;case Ci.LOCAL:n=await Ri(Xl)._isAvailable()?Xl:pd;break;case Ci.NONE:n=Gl;break;default:return An("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(t){return this.signInWithCredential(t)}signInAnonymously(){return hi(this._delegate,z9(this._delegate))}signInWithCredential(t){return hi(this._delegate,pm(this._delegate,t))}signInWithCustomToken(t){return hi(this._delegate,K9(this._delegate,t))}signInWithEmailAndPassword(t,n){return hi(this._delegate,Z9(this._delegate,t,n))}signInWithEmailLink(t,n){return hi(this._delegate,n6(this._delegate,t,n))}signInWithPhoneNumber(t,n){return rb(this._delegate,Z6(this._delegate,t,n))}async signInWithPopup(t){return xu(rv(),this._delegate,"operation-not-supported-in-this-environment"),hi(this._delegate,aB(this._delegate,t,Kr))}async signInWithRedirect(t){return xu(rv(),this._delegate,"operation-not-supported-in-this-environment"),await sb(this._delegate),pB(this._delegate,t,Kr)}updateCurrentUser(t){return this._delegate.updateCurrentUser(t)}verifyPasswordResetCode(t){return Q9(this._delegate,t)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}ob.Persistence=Ci;function sC(e,t,n){let i=e;typeof e!="function"&&({next:i,error:t,complete:n}=e);const s=i;return{next:a=>s(a&&bm.getOrCreate(a)),error:t,complete:n}}function Bj(e,t){const n=Mj(e,t);if(typeof self<"u"&&!n.includes(Xl)&&n.push(Xl),typeof window<"u")for(const i of[pd,lo])n.includes(i)||n.push(i);return n.includes(Gl)||n.push(Gl),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(){this.providerId="phone",this._delegate=new ga(u2(pt.auth()))}static credential(t,n){return ga.credential(t,n)}verifyPhoneNumber(t,n){return this._delegate.verifyPhoneNumber(t,n)}unwrap(){return this._delegate}}B0.PHONE_SIGN_IN_METHOD=ga.PHONE_SIGN_IN_METHOD;B0.PROVIDER_ID=ga.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=K;class $j{constructor(t,n,i=pt.app()){var s;jj((s=i.options)===null||s===void 0?void 0:s.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Q6(i.auth(),t,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj="auth-compat";function zj(e){e.INTERNAL.registerComponent(new Ms(Hj,t=>{const n=t.getProvider("app-compat").getImmediate(),i=t.getProvider("auth");return new ob(n,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:_l.EMAIL_SIGNIN,PASSWORD_RESET:_l.PASSWORD_RESET,RECOVER_EMAIL:_l.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:_l.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:_l.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:_l.VERIFY_EMAIL}},EmailAuthProvider:mo,FacebookAuthProvider:bs,GithubAuthProvider:Es,GoogleAuthProvider:ws,OAuthProvider:Ll,SAMLAuthProvider:pg,PhoneAuthProvider:B0,PhoneMultiFactorGenerator:s2,RecaptchaVerifier:$j,TwitterAuthProvider:Is,Auth:ob,AuthCredential:pc,Error:zn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion(Ij,Tj)}zj(pt);function Wj(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var d2={exports:{}};(function(e){(function(){var t=window.CustomEvent;(!t||typeof t=="object")&&(t=function(w,T){T=T||{};var S=document.createEvent("CustomEvent");return S.initCustomEvent(w,!!T.bubbles,!!T.cancelable,T.detail||null),S},t.prototype=window.Event.prototype);function n(b){for(;b&&b!==document.body;){var w=window.getComputedStyle(b),T=function(S,k){return!(w[S]===void 0||w[S]===k)};if(w.opacity<1||T("zIndex","auto")||T("transform","none")||T("mixBlendMode","normal")||T("filter","none")||T("perspective","none")||w.isolation==="isolate"||w.position==="fixed"||w.webkitOverflowScrolling==="touch")return!0;b=b.parentElement}return!1}function i(b){for(;b;){if(b.localName==="dialog")return b;b=b.parentElement}return null}function s(b){b&&b.blur&&b!==document.body&&b.blur()}function o(b,w){for(var T=0;T<b.length;++T)if(b[T]===w)return!0;return!1}function a(b){return!b||!b.hasAttribute("method")?!1:b.getAttribute("method").toLowerCase()==="dialog"}function c(b){if(this.dialog_=b,this.replacedStyleTop_=!1,this.openAsModal_=!1,b.hasAttribute("role")||b.setAttribute("role","dialog"),b.show=this.show.bind(this),b.showModal=this.showModal.bind(this),b.close=this.close.bind(this),"returnValue"in b||(b.returnValue=""),"MutationObserver"in window){var w=new MutationObserver(this.maybeHideModal.bind(this));w.observe(b,{attributes:!0,attributeFilter:["open"]})}else{var T=!1,S=(function(){T?this.downgradeModal():this.maybeHideModal(),T=!1}).bind(this),k,x=function(D){if(D.target===b){var M="DOMNodeRemoved";T|=D.type.substr(0,M.length)===M,window.clearTimeout(k),k=window.setTimeout(S,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(D){b.addEventListener(D,x)})}Object.defineProperty(b,"open",{set:this.setOpen.bind(this),get:b.hasAttribute.bind(b,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),u.dm.removeDialog(this))},setOpen:function(b){b?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(b){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var w=document.createElement("div");this.dialog_.insertBefore(w,this.dialog_.firstChild),w.tabIndex=-1,w.focus(),this.dialog_.removeChild(w)}var T=document.createEvent("MouseEvents");T.initMouseEvent(b.type,b.bubbles,b.cancelable,window,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget),this.dialog_.dispatchEvent(T),b.stopPropagation()},focus_:function(){var b=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!b&&this.dialog_.tabIndex>=0&&(b=this.dialog_),!b){var w=["button","input","keygen","select","textarea"],T=w.map(function(S){return S+":not([disabled])"});T.push('[tabindex]:not([disabled]):not([tabindex=""])'),b=this.dialog_.querySelector(T.join(", "))}s(document.activeElement),b&&b.focus()},updateZIndex:function(b,w){if(b<w)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=b,this.backdrop_.style.zIndex=w},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!u.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");n(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,u.needsCentering(this.dialog_)?(u.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(b){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),b!==void 0&&(this.dialog_.returnValue=b);var w=new t("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(w)}};var u={};if(u.reposition=function(b){var w=document.body.scrollTop||document.documentElement.scrollTop,T=w+(window.innerHeight-b.offsetHeight)/2;b.style.top=Math.max(w,T)+"px"},u.isInlinePositionSetByStylesheet=function(b){for(var w=0;w<document.styleSheets.length;++w){var T=document.styleSheets[w],S=null;try{S=T.cssRules}catch{}if(S)for(var k=0;k<S.length;++k){var x=S[k],D=null;try{D=document.querySelectorAll(x.selectorText)}catch{}if(!(!D||!o(D,b))){var M=x.style.getPropertyValue("top"),V=x.style.getPropertyValue("bottom");if(M&&M!=="auto"||V&&V!=="auto")return!0}}}return!1},u.needsCentering=function(b){var w=window.getComputedStyle(b);return w.position!=="absolute"||b.style.top!=="auto"&&b.style.top!==""||b.style.bottom!=="auto"&&b.style.bottom!==""?!1:!u.isInlinePositionSetByStylesheet(b)},u.forceRegisterDialog=function(b){if((window.HTMLDialogElement||b.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",b),b.localName!=="dialog")throw new Error("Failed to register dialog: The element is not a dialog.");new c(b)},u.registerDialog=function(b){b.showModal||u.forceRegisterDialog(b)},u.DialogManager=function(){this.pendingDialogStack=[];var b=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",(function(w){this.forwardTab_=void 0,w.stopPropagation(),b([])}).bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(w){var T=[];w.forEach(function(S){for(var k=0,x;x=S.removedNodes[k];++k){if(x instanceof Element)x.localName==="dialog"&&T.push(x);else continue;T=T.concat(x.querySelectorAll("dialog"))}}),T.length&&b(T)}))},u.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},u.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},u.DialogManager.prototype.updateStacking=function(){for(var b=this.zIndexHigh_,w=0,T;T=this.pendingDialogStack[w];++w)T.updateZIndex(--b,--b),w===0&&(this.overlay.style.zIndex=--b);var S=this.pendingDialogStack[0];if(S){var k=S.dialog.parentNode||document.body;k.appendChild(this.overlay)}else this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},u.DialogManager.prototype.containedByTopDialog_=function(b){for(;b=i(b);){for(var w=0,T;T=this.pendingDialogStack[w];++w)if(T.dialog===b)return w===0;b=b.parentElement}return!1},u.DialogManager.prototype.handleFocus_=function(b){if(!this.containedByTopDialog_(b.target)&&(b.preventDefault(),b.stopPropagation(),s(b.target),this.forwardTab_!==void 0)){var w=this.pendingDialogStack[0],T=w.dialog,S=T.compareDocumentPosition(b.target);return S&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?w.focus_():document.documentElement.focus()),!1}},u.DialogManager.prototype.handleKey_=function(b){if(this.forwardTab_=void 0,b.keyCode===27){b.preventDefault(),b.stopPropagation();var w=new t("cancel",{bubbles:!1,cancelable:!0}),T=this.pendingDialogStack[0];T&&T.dialog.dispatchEvent(w)&&T.dialog.close()}else b.keyCode===9&&(this.forwardTab_=!b.shiftKey)},u.DialogManager.prototype.checkDOM_=function(b){var w=this.pendingDialogStack.slice();w.forEach(function(T){b.indexOf(T.dialog)!==-1?T.downgradeModal():T.maybeHideModal()})},u.DialogManager.prototype.pushDialog=function(b){var w=(this.zIndexHigh_-this.zIndexLow_)/2-1;return this.pendingDialogStack.length>=w?!1:(this.pendingDialogStack.unshift(b)===1&&this.blockDocument(),this.updateStacking(),!0)},u.DialogManager.prototype.removeDialog=function(b){var w=this.pendingDialogStack.indexOf(b);w!==-1&&(this.pendingDialogStack.splice(w,1),this.pendingDialogStack.length===0&&this.unblockDocument(),this.updateStacking())},u.dm=new u.DialogManager,u.formSubmitter=null,u.useValue=null,window.HTMLDialogElement===void 0){var d=document.createElement("form");if(d.setAttribute("method","dialog"),d.method!=="dialog"){var f=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(f){var g=f.get;f.get=function(){return a(this)?"dialog":g.call(this)};var _=f.set;f.set=function(b){return typeof b=="string"&&b.toLowerCase()==="dialog"?this.setAttribute("method",b):_.call(this,b)},Object.defineProperty(HTMLFormElement.prototype,"method",f)}}document.addEventListener("click",function(b){if(u.formSubmitter=null,u.useValue=null,!b.defaultPrevented){var w=b.target;if(!(!w||!a(w.form))){var T=w.type==="submit"&&["button","input"].indexOf(w.localName)>-1;if(!T){if(!(w.localName==="input"&&w.type==="image"))return;u.useValue=b.offsetX+","+b.offsetY}var S=i(w);S&&(u.formSubmitter=w)}}},!1);var v=HTMLFormElement.prototype.submit,I=function(){if(!a(this))return v.call(this);var b=i(this);b&&b.close()};HTMLFormElement.prototype.submit=I,document.addEventListener("submit",function(b){var w=b.target;if(a(w)){b.preventDefault();var T=i(w);if(T){var S=u.formSubmitter;S&&S.form===w?T.close(u.useValue||S.value):T.close(),u.formSubmitter=null}}},!0)}u.forceRegisterDialog=u.forceRegisterDialog,u.registerDialog=u.registerDialog,typeof e.exports=="object"?e.exports=u:window.dialogPolyfill=u})()})(d2);var qj=d2.exports;const Kj=Wj(qj);/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me={upgradeDom:function(e,t){},upgradeElement:function(e,t){},upgradeElements:function(e){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(e,t){},register:function(e){},downgradeElements:function(e){}};Me=function(){var e=[],t=[],n="mdlComponentConfigInternal_";function i(b,w){for(var T=0;T<e.length;T++)if(e[T].className===b)return typeof w<"u"&&(e[T]=w),e[T];return!1}function s(b){var w=b.getAttribute("data-upgraded");return w===null?[""]:w.split(",")}function o(b,w){var T=s(b);return T.indexOf(w)!==-1}function a(b,w,T){if("CustomEvent"in window&&typeof window.CustomEvent=="function")return new CustomEvent(b,{bubbles:w,cancelable:T});var S=document.createEvent("Events");return S.initEvent(b,w,T),S}function c(b,w){if(typeof b>"u"&&typeof w>"u")for(var T=0;T<e.length;T++)c(e[T].className,e[T].cssClass);else{var S=b;if(typeof w>"u"){var k=i(S);k&&(w=k.cssClass)}for(var x=document.querySelectorAll("."+w),D=0;D<x.length;D++)u(x[D],S)}}function u(b,w){if(!(typeof b=="object"&&b instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var T=a("mdl-componentupgrading",!0,!0);if(b.dispatchEvent(T),!T.defaultPrevented){var S=s(b),k=[];if(w)o(b,w)||k.push(i(w));else{var x=b.classList;e.forEach(function(vt){x.contains(vt.cssClass)&&k.indexOf(vt)===-1&&!o(b,vt.className)&&k.push(vt)})}for(var D=0,M=k.length,V;D<M;D++){if(V=k[D],V){S.push(V.className),b.setAttribute("data-upgraded",S.join(","));var z=new V.classConstructor(b);z[n]=V,t.push(z);for(var st=0,gt=V.callbacks.length;st<gt;st++)V.callbacks[st](b);V.widget&&(b[V.className]=z)}else throw new Error("Unable to find a registered component for the given class.");var J=a("mdl-componentupgraded",!0,!1);b.dispatchEvent(J)}}}function d(b){Array.isArray(b)||(b instanceof Element?b=[b]:b=Array.prototype.slice.call(b));for(var w=0,T=b.length,S;w<T;w++)S=b[w],S instanceof HTMLElement&&(u(S),S.children.length>0&&d(S.children))}function f(b){var w=typeof b.widget>"u"&&typeof b.widget>"u",T=!0;w||(T=b.widget||b.widget);var S={classConstructor:b.constructor||b.constructor,className:b.classAsString||b.classAsString,cssClass:b.cssClass||b.cssClass,widget:T,callbacks:[]};if(e.forEach(function(x){if(x.cssClass===S.cssClass)throw new Error("The provided cssClass has already been registered: "+x.cssClass);if(x.className===S.className)throw new Error("The provided className has already been registered")}),b.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");var k=i(b.classAsString,S);k||e.push(S)}function g(b,w){var T=i(b);T&&T.callbacks.push(w)}function _(){for(var b=0;b<e.length;b++)c(e[b].className)}function v(b){if(b){var w=t.indexOf(b);t.splice(w,1);var T=b.element_.getAttribute("data-upgraded").split(","),S=T.indexOf(b[n].classAsString);T.splice(S,1),b.element_.setAttribute("data-upgraded",T.join(","));var k=a("mdl-componentdowngraded",!0,!1);b.element_.dispatchEvent(k)}}function I(b){var w=function(S){t.filter(function(k){return k.element_===S}).forEach(v)};if(b instanceof Array||b instanceof NodeList)for(var T=0;T<b.length;T++)w(b[T]);else if(b instanceof Node)w(b);else throw new Error("Invalid argument provided to downgrade MDL nodes.")}return{upgradeDom:c,upgradeElement:u,upgradeElements:d,upgradeAllRegistered:_,registerUpgradedCallback:g,register:f,downgradeElements:I}}();Me.ComponentConfigPublic;Me.ComponentConfig;Me.Component;Me.upgradeDom=Me.upgradeDom;Me.upgradeElement=Me.upgradeElement;Me.upgradeElements=Me.upgradeElements;Me.upgradeAllRegistered=Me.upgradeAllRegistered;Me.registerUpgradedCallback=Me.registerUpgradedCallback;Me.register=Me.register;Me.downgradeElements=Me.downgradeElements;window.componentHandler=Me;window.componentHandler=Me;window.addEventListener("load",function(){"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),Me.upgradeAllRegistered()):(Me.upgradeElement=function(){},Me.register=function(){})});/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var e=function(n){this.element_=n,this.init()};window.MaterialButton=e,e.prototype.Constant_={},e.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},e.prototype.blurHandler_=function(t){t&&this.element_.blur()},e.prototype.disable=function(){this.element_.disabled=!0},e.prototype.disable=e.prototype.disable,e.prototype.enable=function(){this.element_.disabled=!1},e.prototype.enable=e.prototype.enable,e.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var t=document.createElement("span");t.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),t.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(t)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:e,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var e=function(n){this.element_=n,this.init()};window.MaterialProgress=e,e.prototype.Constant_={},e.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},e.prototype.setProgress=function(t){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=t+"%")},e.prototype.setProgress=e.prototype.setProgress,e.prototype.setBuffer=function(t){this.bufferbar_.style.width=t+"%",this.auxbar_.style.width=100-t+"%"},e.prototype.setBuffer=e.prototype.setBuffer,e.prototype.init=function(){if(this.element_){var t=document.createElement("div");t.className="progressbar bar bar1",this.element_.appendChild(t),this.progressbar_=t,t=document.createElement("div"),t.className="bufferbar bar bar2",this.element_.appendChild(t),this.bufferbar_=t,t=document.createElement("div"),t.className="auxbar bar bar3",this.element_.appendChild(t),this.auxbar_=t,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:e,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var e=function(n){this.element_=n,this.init()};window.MaterialSpinner=e,e.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},e.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},e.prototype.createLayer=function(t){var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),n.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+t);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var o=document.createElement("div");o.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),o.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var a=[i,s,o],c=0;c<a.length;c++){var u=document.createElement("div");u.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),a[c].appendChild(u)}n.appendChild(i),n.appendChild(s),n.appendChild(o),this.element_.appendChild(n)},e.prototype.createLayer=e.prototype.createLayer,e.prototype.stop=function(){this.element_.classList.remove("is-active")},e.prototype.stop=e.prototype.stop,e.prototype.start=function(){this.element_.classList.add("is-active")},e.prototype.start=e.prototype.start,e.prototype.init=function(){if(this.element_){for(var t=1;t<=this.Constant_.MDL_SPINNER_LAYER_COUNT;t++)this.createLayer(t);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:e,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})})();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){var e=function(n){this.element_=n,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=e,e.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},e.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},e.prototype.onKeyDown_=function(t){var n=t.target.value.split(`
`).length;t.keyCode===13&&n>=this.maxRows&&t.preventDefault()},e.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},e.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},e.prototype.onReset_=function(t){this.updateClasses_()},e.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},e.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},e.prototype.checkDisabled=e.prototype.checkDisabled,e.prototype.checkFocus=function(){this.element_.querySelector(":focus")?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},e.prototype.checkFocus=e.prototype.checkFocus,e.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},e.prototype.checkValidity=e.prototype.checkValidity,e.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},e.prototype.checkDirty=e.prototype.checkDirty,e.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},e.prototype.disable=e.prototype.disable,e.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},e.prototype.enable=e.prototype.enable,e.prototype.change=function(t){this.input_.value=t||"",this.updateClasses_()},e.prototype.change=e.prototype.change,e.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var t=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),t&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:e,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})})();(function(){(function(){var e,t=typeof Object.create=="function"?Object.create:function(r){function l(){}return l.prototype=r,new l},n;if(typeof Object.setPrototypeOf=="function")n=Object.setPrototypeOf;else{var i;t:{var s={xb:!0},o={};try{o.__proto__=s,i=o.xb;break t}catch{}i=!1}n=i?function(r,l){if(r.__proto__=l,r.__proto__!==l)throw new TypeError(r+" is not extensible");return r}:null}var a=n;function c(r,l){if(r.prototype=t(l.prototype),r.prototype.constructor=r,a)a(r,l);else for(var h in l)if(h!="prototype")if(Object.defineProperties){var p=Object.getOwnPropertyDescriptor(l,h);p&&Object.defineProperty(r,h,p)}else r[h]=l[h];r.K=l.prototype}var u=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,l,h){r!=Array.prototype&&r!=Object.prototype&&(r[l]=h.value)},d=typeof window<"u"&&window===this?this:typeof global<"u"&&global!=null?global:this;function f(r,l){if(l){var h=d;r=r.split(".");for(var p=0;p<r.length-1;p++){var m=r[p];m in h||(h[m]={}),h=h[m]}r=r[r.length-1],p=h[r],l=l(p),l!=p&&l!=null&&u(h,r,{configurable:!0,writable:!0,value:l})}}f("Object.is",function(r){return r||function(l,h){return l===h?l!==0||1/l===1/h:l!==l&&h!==h}}),f("Array.prototype.includes",function(r){return r||function(l,h){var p=this;p instanceof String&&(p=String(p));var m=p.length;for(h=h||0,0>h&&(h=Math.max(h+m,0));h<m;h++){var y=p[h];if(y===l||Object.is(y,l))return!0}return!1}});var g=this;function _(r){return r!==void 0}function v(r){return typeof r=="string"}var I=/^[\w+/_-]+[=]{0,2}$/,b=null;function w(){}function T(r){r.W=void 0,r.Xa=function(){return r.W?r.W:r.W=new r}}function S(r){var l=typeof r;if(l=="object")if(r){if(r instanceof Array)return"array";if(r instanceof Object)return l;var h=Object.prototype.toString.call(r);if(h=="[object Window]")return"object";if(h=="[object Array]"||typeof r.length=="number"&&typeof r.splice<"u"&&typeof r.propertyIsEnumerable<"u"&&!r.propertyIsEnumerable("splice"))return"array";if(h=="[object Function]"||typeof r.call<"u"&&typeof r.propertyIsEnumerable<"u"&&!r.propertyIsEnumerable("call"))return"function"}else return"null";else if(l=="function"&&typeof r.call>"u")return"object";return l}function k(r){return S(r)=="array"}function x(r){var l=S(r);return l=="array"||l=="object"&&typeof r.length=="number"}function D(r){return S(r)=="function"}function M(r){var l=typeof r;return l=="object"&&r!=null||l=="function"}var V="closure_uid_"+(1e9*Math.random()>>>0),z=0;function st(r,l,h){return r.call.apply(r.bind,arguments)}function gt(r,l,h){if(!r)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,p),r.apply(l,m)}}return function(){return r.apply(l,arguments)}}function J(r,l,h){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?J=st:J=gt,J.apply(null,arguments)}function vt(r,l){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),r.apply(this,p)}}function wt(r,l){for(var h in l)r[h]=l[h]}var pe=Date.now||function(){return+new Date};function dt(r,l){r=r.split(".");var h=g;r[0]in h||typeof h.execScript>"u"||h.execScript("var "+r[0]);for(var p;r.length&&(p=r.shift());)!r.length&&_(l)?h[p]=l:h[p]&&h[p]!==Object.prototype[p]?h=h[p]:h=h[p]={}}function Y(r,l){function h(){}h.prototype=l.prototype,r.K=l.prototype,r.prototype=new h,r.prototype.constructor=r,r.vc=function(p,m,y){for(var E=Array(arguments.length-2),P=2;P<arguments.length;P++)E[P-2]=arguments[P];return l.prototype[m].apply(p,E)}}function ct(r){if(Error.captureStackTrace)Error.captureStackTrace(this,ct);else{var l=Error().stack;l&&(this.stack=l)}r&&(this.message=String(r))}Y(ct,Error),ct.prototype.name="CustomError";var kt;function ae(r,l){r=r.split("%s");for(var h="",p=r.length-1,m=0;m<p;m++)h+=r[m]+(m<l.length?l[m]:"%s");ct.call(this,h+r[p])}Y(ae,ct),ae.prototype.name="AssertionError";function Ie(r,l){throw new ae("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}var _n=Array.prototype.indexOf?function(r,l){return Array.prototype.indexOf.call(r,l,void 0)}:function(r,l){if(v(r))return v(l)&&l.length==1?r.indexOf(l,0):-1;for(var h=0;h<r.length;h++)if(h in r&&r[h]===l)return h;return-1},ge=Array.prototype.forEach?function(r,l,h){Array.prototype.forEach.call(r,l,h)}:function(r,l,h){for(var p=r.length,m=v(r)?r.split(""):r,y=0;y<p;y++)y in m&&l.call(h,m[y],y,r)};function ri(r,l){for(var h=v(r)?r.split(""):r,p=r.length-1;0<=p;--p)p in h&&l.call(void 0,h[p],p,r)}var Ln=Array.prototype.filter?function(r,l){return Array.prototype.filter.call(r,l,void 0)}:function(r,l){for(var h=r.length,p=[],m=0,y=v(r)?r.split(""):r,E=0;E<h;E++)if(E in y){var P=y[E];l.call(void 0,P,E,r)&&(p[m++]=P)}return p},Mi=Array.prototype.map?function(r,l){return Array.prototype.map.call(r,l,void 0)}:function(r,l){for(var h=r.length,p=Array(h),m=v(r)?r.split(""):r,y=0;y<h;y++)y in m&&(p[y]=l.call(void 0,m[y],y,r));return p},ye=Array.prototype.some?function(r,l){return Array.prototype.some.call(r,l,void 0)}:function(r,l){for(var h=r.length,p=v(r)?r.split(""):r,m=0;m<h;m++)if(m in p&&l.call(void 0,p[m],m,r))return!0;return!1};function L(r,l){return 0<=_n(r,l)}function at(r,l){l=_n(r,l);var h;return(h=0<=l)&&tt(r,l),h}function tt(r,l){return Array.prototype.splice.call(r,l,1).length==1}function ft(r,l){t:{for(var h=r.length,p=v(r)?r.split(""):r,m=0;m<h;m++)if(m in p&&l.call(void 0,p[m],m,r)){l=m;break t}l=-1}0<=l&&tt(r,l)}function ne(r,l){var h=0;ri(r,function(p,m){l.call(void 0,p,m,r)&&tt(r,m)&&h++})}function me(r){return Array.prototype.concat.apply([],arguments)}function A(r){var l=r.length;if(0<l){for(var h=Array(l),p=0;p<l;p++)h[p]=r[p];return h}return[]}function R(r,l,h){return 2>=arguments.length?Array.prototype.slice.call(r,l):Array.prototype.slice.call(r,l,h)}var O=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},j=/&/g,F=/</g,X=/>/g,it=/"/g,G=/'/g,Z=/\x00/g,W=/[\x00&<>"']/;function ot(r,l){return r<l?-1:r>l?1:0}function mt(r){return W.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(j,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(F,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(X,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(it,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(G,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(Z,"&#0;"))),r}function _t(r,l,h){for(var p in r)l.call(h,r[p],p,r)}function At(r){var l={},h;for(h in r)l[h]=r[h];return l}var Ut="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qt(r,l){for(var h,p,m=1;m<arguments.length;m++){p=arguments[m];for(h in p)r[h]=p[h];for(var y=0;y<Ut.length;y++)h=Ut[y],Object.prototype.hasOwnProperty.call(p,h)&&(r[h]=p[h])}}var ie="StopIteration"in g?g.StopIteration:{message:"StopIteration",stack:""};function ve(){}ve.prototype.next=function(){throw ie},ve.prototype.ha=function(){return this};function oi(r){if(r instanceof ve)return r;if(typeof r.ha=="function")return r.ha(!1);if(x(r)){var l=0,h=new ve;return h.next=function(){for(;;){if(l>=r.length)throw ie;if(l in r)return r[l++];l++}},h}throw Error("Not implemented")}function wr(r,l){if(x(r))try{ge(r,l,void 0)}catch(h){if(h!==ie)throw h}else{r=oi(r);try{for(;;)l.call(void 0,r.next(),void 0,r)}catch(h){if(h!==ie)throw h}}}function Ld(r){if(x(r))return A(r);r=oi(r);var l=[];return wr(r,function(h){l.push(h)}),l}function cs(r,l){this.g={},this.a=[],this.j=this.h=0;var h=arguments.length;if(1<h){if(h%2)throw Error("Uneven number of arguments");for(var p=0;p<h;p+=2)this.set(arguments[p],arguments[p+1])}else if(r)if(r instanceof cs)for(h=r.ja(),p=0;p<h.length;p++)this.set(h[p],r.get(h[p]));else for(p in r)this.set(p,r[p])}e=cs.prototype,e.la=function(){wo(this);for(var r=[],l=0;l<this.a.length;l++)r.push(this.g[this.a[l]]);return r},e.ja=function(){return wo(this),this.a.concat()},e.clear=function(){this.g={},this.j=this.h=this.a.length=0};function wo(r){if(r.h!=r.a.length){for(var l=0,h=0;l<r.a.length;){var p=r.a[l];Xe(r.g,p)&&(r.a[h++]=p),l++}r.a.length=h}if(r.h!=r.a.length){var m={};for(h=l=0;l<r.a.length;)p=r.a[l],Xe(m,p)||(r.a[h++]=p,m[p]=1),l++;r.a.length=h}}e.get=function(r,l){return Xe(this.g,r)?this.g[r]:l},e.set=function(r,l){Xe(this.g,r)||(this.h++,this.a.push(r),this.j++),this.g[r]=l},e.forEach=function(r,l){for(var h=this.ja(),p=0;p<h.length;p++){var m=h[p],y=this.get(m);r.call(l,y,m,this)}},e.ha=function(r){wo(this);var l=0,h=this.j,p=this,m=new ve;return m.next=function(){if(h!=p.j)throw Error("The map has changed since the iterator was created");if(l>=p.a.length)throw ie;var y=p.a[l++];return r?y:p.g[y]},m};function Xe(r,l){return Object.prototype.hasOwnProperty.call(r,l)}var Ni=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Vd(r,l){if(r){r=r.split("&");for(var h=0;h<r.length;h++){var p=r[h].indexOf("="),m=null;if(0<=p){var y=r[h].substring(0,p);m=r[h].substring(p+1)}else y=r[h];l(y,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function v1(r,l,h,p){for(var m=h.length;0<=(l=r.indexOf(h,l))&&l<p;){var y=r.charCodeAt(l-1);if((y==38||y==63)&&(y=r.charCodeAt(l+m),!y||y==61||y==38||y==35))return l;l+=m+1}return-1}var b1=/#|$/;function Fd(r,l){var h=r.search(b1),p=v1(r,0,l,h);if(0>p)return null;var m=r.indexOf("&",p);return(0>m||m>h)&&(m=h),p+=l.length+1,decodeURIComponent(r.substr(p,m-p).replace(/\+/g," "))}var nN=/[?&]($|#)/;function Er(r,l){this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1;var h;r instanceof Er?(this.i=_(l)?l:r.i,l_(this,r.j),this.A=r.A,this.h=r.h,c_(this,r.C),this.g=r.g,u_(this,I1(r.a)),this.s=r.s):r&&(h=String(r).match(Ni))?(this.i=!!l,l_(this,h[1]||"",!0),this.A=Ic(h[2]||""),this.h=Ic(h[3]||"",!0),c_(this,h[4]),this.g=Ic(h[5]||"",!0),u_(this,h[6]||"",!0),this.s=Ic(h[7]||"")):(this.i=!!l,this.a=new Sc(null,this.i))}Er.prototype.toString=function(){var r=[],l=this.j;l&&r.push(Tc(l,w1,!0),":");var h=this.h;return(h||l=="file")&&(r.push("//"),(l=this.A)&&r.push(Tc(l,w1,!0),"@"),r.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.C,h!=null&&r.push(":",String(h))),(h=this.g)&&(this.h&&h.charAt(0)!="/"&&r.push("/"),r.push(Tc(h,h.charAt(0)=="/"?rN:sN,!0))),(h=this.a.toString())&&r.push("?",h),(h=this.s)&&r.push("#",Tc(h,aN)),r.join("")};function l_(r,l,h){r.j=h?Ic(l,!0):l,r.j&&(r.j=r.j.replace(/:$/,""))}function c_(r,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);r.C=l}else r.C=null}function u_(r,l,h){l instanceof Sc?(r.a=l,lN(r.a,r.i)):(h||(l=Tc(l,oN)),r.a=new Sc(l,r.i))}function h_(r){return r instanceof Er?new Er(r):new Er(r,void 0)}function Ic(r,l){return r?l?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Tc(r,l,h){return v(r)?(r=encodeURI(r).replace(l,iN),h&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function iN(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var w1=/[#\/\?@]/g,sN=/[#\?:]/g,rN=/[#\?]/g,oN=/[#\?@]/g,aN=/#/g;function Sc(r,l){this.g=this.a=null,this.h=r||null,this.j=!!l}function Ir(r){r.a||(r.a=new cs,r.g=0,r.h&&Vd(r.h,function(l,h){r.add(decodeURIComponent(l.replace(/\+/g," ")),h)}))}e=Sc.prototype,e.add=function(r,l){Ir(this),this.h=null,r=Oa(this,r);var h=this.a.get(r);return h||this.a.set(r,h=[]),h.push(l),this.g+=1,this};function Eo(r,l){Ir(r),l=Oa(r,l),Xe(r.a.g,l)&&(r.h=null,r.g-=r.a.get(l).length,r=r.a,Xe(r.g,l)&&(delete r.g[l],r.h--,r.j++,r.a.length>2*r.h&&wo(r)))}e.clear=function(){this.a=this.h=null,this.g=0};function E1(r,l){return Ir(r),l=Oa(r,l),Xe(r.a.g,l)}e.forEach=function(r,l){Ir(this),this.a.forEach(function(h,p){ge(h,function(m){r.call(l,m,p,this)},this)},this)},e.ja=function(){Ir(this);for(var r=this.a.la(),l=this.a.ja(),h=[],p=0;p<l.length;p++)for(var m=r[p],y=0;y<m.length;y++)h.push(l[p]);return h},e.la=function(r){Ir(this);var l=[];if(v(r))E1(this,r)&&(l=me(l,this.a.get(Oa(this,r))));else{r=this.a.la();for(var h=0;h<r.length;h++)l=me(l,r[h])}return l},e.set=function(r,l){return Ir(this),this.h=null,r=Oa(this,r),E1(this,r)&&(this.g-=this.a.get(r).length),this.a.set(r,[l]),this.g+=1,this},e.get=function(r,l){return r?(r=this.la(r),0<r.length?String(r[0]):l):l},e.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var r=[],l=this.a.ja(),h=0;h<l.length;h++){var p=l[h],m=encodeURIComponent(String(p));p=this.la(p);for(var y=0;y<p.length;y++){var E=m;p[y]!==""&&(E+="="+encodeURIComponent(String(p[y]))),r.push(E)}}return this.h=r.join("&")};function I1(r){var l=new Sc;return l.h=r.h,r.a&&(l.a=new cs(r.a),l.g=r.g),l}function Oa(r,l){return l=String(l),r.j&&(l=l.toLowerCase()),l}function lN(r,l){l&&!r.j&&(Ir(r),r.h=null,r.a.forEach(function(h,p){var m=p.toLowerCase();p!=m&&(Eo(this,p),Eo(this,m),0<h.length&&(this.h=null,this.a.set(Oa(this,m),A(h)),this.g+=h.length))},r)),r.j=l}function Io(r){this.a=h_(r)}function cN(r,l){l?r.a.a.set(en.Sa,l):Eo(r.a.a,en.Sa)}function uN(r,l){l!==null?r.a.a.set(en.Qa,l?"1":"0"):Eo(r.a.a,en.Qa)}function T1(r){return r.a.a.get(en.Pa)||null}function S1(r,l){l?r.a.a.set(en.PROVIDER_ID,l):Eo(r.a.a,en.PROVIDER_ID)}Io.prototype.toString=function(){return this.a.toString()};var en={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"},Ma;t:{var A1=g.navigator;if(A1){var C1=A1.userAgent;if(C1){Ma=C1;break t}}Ma=""}function Bt(r){return Ma.indexOf(r)!=-1}function P1(){return(Bt("Chrome")||Bt("CriOS"))&&!Bt("Edge")}function d_(r){return d_[" "](r),r}d_[" "]=w;function hN(r,l){var h=pN;return Object.prototype.hasOwnProperty.call(h,r)?h[r]:h[r]=l(r)}var R1=Bt("Opera"),Ve=Bt("Trident")||Bt("MSIE"),Tr=Bt("Edge"),dN=Tr||Ve,Hi=Bt("Gecko")&&!(Ma.toLowerCase().indexOf("webkit")!=-1&&!Bt("Edge"))&&!(Bt("Trident")||Bt("MSIE"))&&!Bt("Edge"),Xn=Ma.toLowerCase().indexOf("webkit")!=-1&&!Bt("Edge"),fN=Xn&&Bt("Mobile"),Sr=Bt("Macintosh");function k1(){var r=g.document;return r?r.documentMode:void 0}var Ud;t:{var f_="",p_=function(){var r=Ma;if(Hi)return/rv:([^\);]+)(\)|;)/.exec(r);if(Tr)return/Edge\/([\d\.]+)/.exec(r);if(Ve)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(Xn)return/WebKit\/(\S+)/.exec(r);if(R1)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(p_&&(f_=p_?p_[1]:""),Ve){var g_=k1();if(g_!=null&&g_>parseFloat(f_)){Ud=String(g_);break t}}Ud=f_}var pN={};function To(r){return hN(r,function(){for(var l=0,h=O(String(Ud)).split("."),p=O(String(r)).split("."),m=Math.max(h.length,p.length),y=0;l==0&&y<m;y++){var E=h[y]||"",P=p[y]||"";do{if(E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],P=/(\d*)(\D*)(.*)/.exec(P)||["","","",""],E[0].length==0&&P[0].length==0)break;l=ot(E[1].length==0?0:parseInt(E[1],10),P[1].length==0?0:parseInt(P[1],10))||ot(E[2].length==0,P[2].length==0)||ot(E[2],P[2]),E=E[3],P=P[3]}while(l==0)}return 0<=l})}var Ac,x1=g.document;Ac=x1&&Ve?k1()||(x1.compatMode=="CSS1Compat"?parseInt(Ud,10):5):void 0;function Na(r,l){this.a=r===O1&&l||"",this.g=D1}Na.prototype.ma=!0,Na.prototype.ka=function(){return this.a},Na.prototype.toString=function(){return"Const{"+this.a+"}"};var D1={},O1={};function So(){this.a="",this.h=N1}So.prototype.ma=!0,So.prototype.ka=function(){return this.a.toString()},So.prototype.g=function(){return 1},So.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function M1(r){return r instanceof So&&r.constructor===So&&r.h===N1?r.a:(Ie("expected object of type TrustedResourceUrl, got '"+r+"' of type "+S(r)),"type_error:TrustedResourceUrl")}function gN(){var r=oL;r instanceof Na&&r.constructor===Na&&r.g===D1?r=r.a:(Ie("expected object of type Const, got '"+r+"'"),r="type_error:Const");var l=new So;return l.a=r,l}var N1={};function vi(){this.a="",this.h=F1}vi.prototype.ma=!0,vi.prototype.ka=function(){return this.a.toString()},vi.prototype.g=function(){return 1},vi.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Ar(r){return r instanceof vi&&r.constructor===vi&&r.h===F1?r.a:(Ie("expected object of type SafeUrl, got '"+r+"' of type "+S(r)),"type_error:SafeUrl")}var L1=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Bd(r){return r instanceof vi?r:(r=typeof r=="object"&&r.ma?r.ka():String(r),L1.test(r)||(r="about:invalid#zClosurez"),m_(r))}function V1(r){return r instanceof vi?r:(r=typeof r=="object"&&r.ma?r.ka():String(r),L1.test(r)||(r="about:invalid#zClosurez"),m_(r))}var F1={};function m_(r){var l=new vi;return l.a=r,l}m_("about:blank");function La(){this.a="",this.g=U1}La.prototype.ma=!0;var U1={};La.prototype.ka=function(){return this.a},La.prototype.toString=function(){return"SafeStyle{"+this.a+"}"};function Cr(){this.a="",this.j=B1,this.h=null}Cr.prototype.g=function(){return this.h},Cr.prototype.ma=!0,Cr.prototype.ka=function(){return this.a.toString()},Cr.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function jd(r){return r instanceof Cr&&r.constructor===Cr&&r.j===B1?r.a:(Ie("expected object of type SafeHtml, got '"+r+"' of type "+S(r)),"type_error:SafeHtml")}var B1={};function Cc(r,l){var h=new Cr;return h.a=r,h.h=l,h}Cc("<!DOCTYPE html>",0);var mN=Cc("",0);Cc("<br>",0);var _N=function(r){var l=!1,h;return function(){return l||(h=r(),l=!0),h}}(function(){if(typeof document>"u")return!1;var r=document.createElement("div"),l=document.createElement("div");return l.appendChild(document.createElement("div")),r.appendChild(l),r.firstChild?(l=r.firstChild.firstChild,r.innerHTML=jd(mN),!l.parentElement):!1});function yN(r,l){if(r.src=M1(l),b===null)t:{if(l=g.document,(l=l.querySelector&&l.querySelector("script[nonce]"))&&(l=l.nonce||l.getAttribute("nonce"))&&I.test(l)){b=l;break t}b=""}l=b,l&&r.setAttribute("nonce",l)}function Va(r,l){l=l instanceof vi?l:V1(l),r.assign(Ar(l))}function Pr(r,l){this.a=_(r)?r:0,this.g=_(l)?l:0}Pr.prototype.toString=function(){return"("+this.a+", "+this.g+")"},Pr.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},Pr.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},Pr.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this};function __(r,l){this.width=r,this.height=l}e=__.prototype,e.toString=function(){return"("+this.width+" x "+this.height+")"},e.aspectRatio=function(){return this.width/this.height},e.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},e.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},e.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};function $d(r){return r?new w_(Pc(r)):kt||(kt=new w_)}function y_(r,l){var h=l||document;return h.querySelectorAll&&h.querySelector?h.querySelectorAll("."+r):j1(document,r,l)}function v_(r,l){var h=l||document;if(h.getElementsByClassName)r=h.getElementsByClassName(r)[0];else{h=document;var p=l||h;r=p.querySelectorAll&&p.querySelector&&r?p.querySelector(r?"."+r:""):j1(h,r,l)[0]||null}return r||null}function j1(r,l,h){var p;if(r=h||r,r.querySelectorAll&&r.querySelector&&l)return r.querySelectorAll(l?"."+l:"");if(l&&r.getElementsByClassName){var m=r.getElementsByClassName(l);return m}if(m=r.getElementsByTagName("*"),l){var y={};for(h=p=0;r=m[h];h++){var E=r.className;typeof E.split=="function"&&L(E.split(/\s+/),l)&&(y[p++]=r)}return y.length=p,y}return m}function vN(r,l){_t(l,function(h,p){h&&typeof h=="object"&&h.ma&&(h=h.ka()),p=="style"?r.style.cssText=h:p=="class"?r.className=h:p=="for"?r.htmlFor=h:$1.hasOwnProperty(p)?r.setAttribute($1[p],h):p.lastIndexOf("aria-",0)==0||p.lastIndexOf("data-",0)==0?r.setAttribute(p,h):r[p]=h})}var $1={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Hd(r){return r.scrollingElement?r.scrollingElement:(Xn||r.compatMode!="CSS1Compat")&&r.body||r.documentElement}function Ao(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function Pc(r){return r.nodeType==9?r:r.ownerDocument||r.document}function b_(r,l){if("textContent"in r)r.textContent=l;else if(r.nodeType==3)r.data=String(l);else if(r.firstChild&&r.firstChild.nodeType==3){for(;r.lastChild!=r.firstChild;)r.removeChild(r.lastChild);r.firstChild.data=String(l)}else{for(var h;h=r.firstChild;)r.removeChild(h);r.appendChild(Pc(r).createTextNode(String(l)))}}function H1(r,l){return l?bN(r,function(h){return!l||v(h.className)&&L(h.className.split(/\s+/),l)}):null}function bN(r,l){for(var h=0;r;){if(l(r))return r;r=r.parentNode,h++}return null}function w_(r){this.a=r||g.document||document}w_.prototype.N=function(){return v(void 0)?this.a.getElementById(void 0):void 0};var zd={Fc:!0},z1={Hc:!0},wN={Ec:!0},W1={Gc:!0};function Rr(){throw Error("Do not instantiate directly")}Rr.prototype.va=null,Rr.prototype.toString=function(){return this.content};function Rc(r,l,h,p){if(r=r(l||TN,void 0,h),p=(p||$d()).a.createElement("DIV"),r=EN(r),r.match(IN),r=Cc(r,null),_N())for(;p.lastChild;)p.removeChild(p.lastChild);return p.innerHTML=jd(r),p.childNodes.length==1&&(r=p.firstChild,r.nodeType==1&&(p=r)),p}function EN(r){if(!M(r))return mt(String(r));if(r instanceof Rr){if(r.fa===zd)return r.content;if(r.fa===W1)return mt(r.content)}return Ie("Soy template output is unsafe for use as HTML: "+r),"zSoyz"}var IN=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,TN={};function SN(r){if(r!=null)switch(r.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}function Wd(){Rr.call(this)}Y(Wd,Rr),Wd.prototype.fa=zd;function Ct(r){return r!=null&&r.fa===zd?r:r instanceof Cr?lt(jd(r).toString(),r.g()):lt(mt(String(String(r))),SN(r))}function qd(){Rr.call(this)}Y(qd,Rr),qd.prototype.fa=z1,qd.prototype.va=1;function Kd(r,l){this.content=String(r),this.va=l??null}Y(Kd,Rr),Kd.prototype.fa=W1;function Jt(r){return new Kd(r,void 0)}var lt=function(r){function l(h){this.content=h}return l.prototype=r.prototype,function(h,p){return h=new l(String(h)),p!==void 0&&(h.va=p),h}}(Wd),AN=function(r){function l(h){this.content=h}return l.prototype=r.prototype,function(h){return new l(String(h))}}(qd);function CN(r){function l(){}var h={label:Fe("New password")};l.prototype=r,r=new l;for(var p in h)r[p]=h[p];return r}function Fe(r){return(r=String(r))?new Kd(r,void 0):""}var q1=function(r){function l(h){this.content=h}return l.prototype=r.prototype,function(h,p){return h=String(h),h?(h=new l(h),p!==void 0&&(h.va=p),h):""}}(Wd);function Qn(r){return r!=null&&r.fa===zd?String(String(r.content).replace(MN,"").replace(NN,"&lt;")).replace(xN,RN):mt(String(r))}function Co(r){return r!=null&&r.fa===z1?r=String(r).replace(I_,E_):r instanceof vi?r=String(Ar(r).toString()).replace(I_,E_):(r=String(r),ON.test(r)?r=r.replace(I_,E_):(Ie("Bad value `%s` for |filterNormalizeUri",[r]),r="#zSoyz")),r}function K1(r){return r!=null&&r.fa===wN?r=r.content:r==null?r="":r instanceof La?r instanceof La&&r.constructor===La&&r.g===U1?r=r.a:(Ie("expected object of type SafeStyle, got '"+r+"' of type "+S(r)),r="type_error:SafeStyle"):(r=String(r),DN.test(r)||(Ie("Bad value `%s` for |filterCssValue",[r]),r="zSoyz")),r}var PN={"\0":"&#0;","	":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","":"&#133;"," ":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function RN(r){return PN[r]}var kN={"\0":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","\x07":"%07","\b":"%08","	":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","\x1B":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85"," ":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","！":"%EF%BC%81","＃":"%EF%BC%83","＄":"%EF%BC%84","＆":"%EF%BC%86","＇":"%EF%BC%87","（":"%EF%BC%88","）":"%EF%BC%89","＊":"%EF%BC%8A","＋":"%EF%BC%8B","，":"%EF%BC%8C","／":"%EF%BC%8F","：":"%EF%BC%9A","；":"%EF%BC%9B","＝":"%EF%BC%9D","？":"%EF%BC%9F","＠":"%EF%BC%A0","［":"%EF%BC%BB","］":"%EF%BC%BD"};function E_(r){return kN[r]}var xN=/[\x00\x22\x27\x3c\x3e]/g,I_=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,DN=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,ON=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,MN=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,NN=/</g;function T_(){return Jt("Enter a valid phone number")}function G1(){return Jt("Unable to send password reset code to specified email")}function Y1(){return Jt("Something went wrong. Please try again.")}function X1(){return Jt("This email already exists without any means of sign-in. Please reset the password to recover.")}function Q1(r){r=r||{};var l="";switch(r.code){case"invalid-argument":l+="Client specified an invalid argument.";break;case"invalid-configuration":l+="Client specified an invalid project configuration.";break;case"failed-precondition":l+="Request can not be executed in the current system state.";break;case"out-of-range":l+="Client specified an invalid range.";break;case"unauthenticated":l+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":l+="Client does not have sufficient permission.";break;case"not-found":l+="Specified resource is not found.";break;case"aborted":l+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":l+="The resource that a client tried to create already exists.";break;case"resource-exhausted":l+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":l+="Request cancelled by the client.";break;case"data-loss":l+="Unrecoverable data loss or data corruption.";break;case"unknown":l+="Unknown server error.";break;case"internal":l+="Internal server error.";break;case"not-implemented":l+="API method not implemented by the server.";break;case"unavailable":l+="Service unavailable.";break;case"deadline-exceeded":l+="Request deadline exceeded.";break;case"auth/user-disabled":l+="The user account has been disabled by an administrator.";break;case"auth/timeout":l+="The operation has timed out.";break;case"auth/too-many-requests":l+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":l+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":l+="A network error has occurred. Try again later.";break;case"restart-process":l+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":l+="No sign-in provider is available for the given email, please try with a different email."}return Jt(l)}function J1(){return Jt("Please login again to perform this operation")}function kc(r,l,h){var p=Error.call(this);if(this.message=p.message,"stack"in p&&(this.stack=p.stack),this.code=LN+r,!(r=l)){switch(r="",this.code){case"firebaseui/merge-conflict":r+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:r+=Y1()}r=Jt(r).toString()}this.message=r||"",this.credential=h||null}c(kc,Error),kc.prototype.toJSON=function(){return{code:this.code,message:this.message}};var LN="firebaseui/";function Po(){this.T=this.T,this.C=this.C}var VN=0;Po.prototype.T=!1,Po.prototype.m=function(){!this.T&&(this.T=!0,this.o(),VN!=0)&&(this[V]||(this[V]=++z))};function xc(r,l){r.T?_(void 0)?l.call(void 0):l():(r.C||(r.C=[]),r.C.push(_(void 0)?J(l,void 0):l))}Po.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Dc(r){r&&typeof r.m=="function"&&r.m()}var FN=Object.freeze||function(r){return r},Z1=!Ve||9<=Number(Ac),UN=Ve&&!To("9"),BN=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var r=!1,l=Object.defineProperty({},"passive",{get:function(){r=!0}});try{g.addEventListener("test",w,l),g.removeEventListener("test",w,l)}catch{}return r}();function Bs(r,l){this.type=r,this.g=this.target=l,this.h=!1,this.qb=!0}Bs.prototype.stopPropagation=function(){this.h=!0},Bs.prototype.preventDefault=function(){this.qb=!1};function Jn(r,l){if(Bs.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var h=this.type=r.type,p=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=l,l=r.relatedTarget){if(Hi){t:{try{d_(l.nodeName);var m=!0;break t}catch{}m=!1}m||(l=null)}}else h=="mouseover"?l=r.fromElement:h=="mouseout"&&(l=r.toElement);this.relatedTarget=l,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.keyCode=r.keyCode||0,this.key=r.key||"",this.j=r.charCode||(h=="keypress"?r.keyCode:0),this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=v(r.pointerType)?r.pointerType:jN[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}Y(Jn,Bs);var jN=FN({2:"touch",3:"pen",4:"mouse"});Jn.prototype.stopPropagation=function(){Jn.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Jn.prototype.preventDefault=function(){Jn.K.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,UN)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}};var Oc="closure_listenable_"+(1e6*Math.random()|0),$N=0;function HN(r,l,h,p,m){this.listener=r,this.proxy=null,this.src=l,this.type=h,this.capture=!!p,this.La=m,this.key=++$N,this.sa=this.Ia=!1}function Gd(r){r.sa=!0,r.listener=null,r.proxy=null,r.src=null,r.La=null}function Yd(r){this.src=r,this.a={},this.g=0}Yd.prototype.add=function(r,l,h,p,m){var y=r.toString();r=this.a[y],r||(r=this.a[y]=[],this.g++);var E=A_(r,l,p,m);return-1<E?(l=r[E],h||(l.Ia=!1)):(l=new HN(l,this.src,y,!!p,m),l.Ia=h,r.push(l)),l};function S_(r,l){var h=l.type;h in r.a&&at(r.a[h],l)&&(Gd(l),r.a[h].length==0&&(delete r.a[h],r.g--))}function A_(r,l,h,p){for(var m=0;m<r.length;++m){var y=r[m];if(!y.sa&&y.listener==l&&y.capture==!!h&&y.La==p)return m}return-1}var C_="closure_lm_"+(1e6*Math.random()|0),P_={};function zi(r,l,h,p,m){if(p&&p.once)return Mc(r,l,h,p,m);if(k(l)){for(var y=0;y<l.length;y++)zi(r,l[y],h,p,m);return null}return h=k_(h),r&&r[Oc]?r.J.add(String(l),h,!1,M(p)?!!p.capture:!!p,m):tE(r,l,h,!1,p,m)}function tE(r,l,h,p,m,y){if(!l)throw Error("Invalid event type");var E=M(m)?!!m.capture:!!m,P=Xd(r);if(P||(r[C_]=P=new Yd(r)),h=P.add(l,h,p,E,y),h.proxy)return h;if(p=zN(),h.proxy=p,p.src=r,p.listener=h,r.addEventListener)BN||(m=E),m===void 0&&(m=!1),r.addEventListener(l.toString(),p,m);else if(r.attachEvent)r.attachEvent(eE(l.toString()),p);else if(r.addListener&&r.removeListener)r.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function zN(){var r=WN,l=Z1?function(h){return r.call(l.src,l.listener,h)}:function(h){if(h=r.call(l.src,l.listener,h),!h)return h};return l}function Mc(r,l,h,p,m){if(k(l)){for(var y=0;y<l.length;y++)Mc(r,l[y],h,p,m);return null}return h=k_(h),r&&r[Oc]?r.J.add(String(l),h,!0,M(p)?!!p.capture:!!p,m):tE(r,l,h,!0,p,m)}function Ro(r,l,h,p,m){if(k(l))for(var y=0;y<l.length;y++)Ro(r,l[y],h,p,m);else p=M(p)?!!p.capture:!!p,h=k_(h),r&&r[Oc]?(r=r.J,l=String(l).toString(),l in r.a&&(y=r.a[l],h=A_(y,h,p,m),-1<h&&(Gd(y[h]),tt(y,h),y.length==0&&(delete r.a[l],r.g--)))):r&&(r=Xd(r))&&(l=r.a[l.toString()],r=-1,l&&(r=A_(l,h,p,m)),(h=-1<r?l[r]:null)&&kr(h))}function kr(r){if(typeof r!="number"&&r&&!r.sa){var l=r.src;if(l&&l[Oc])S_(l.J,r);else{var h=r.type,p=r.proxy;l.removeEventListener?l.removeEventListener(h,p,r.capture):l.detachEvent?l.detachEvent(eE(h),p):l.addListener&&l.removeListener&&l.removeListener(p),(h=Xd(l))?(S_(h,r),h.g==0&&(h.src=null,l[C_]=null)):Gd(r)}}}function eE(r){return r in P_?P_[r]:P_[r]="on"+r}function nE(r,l,h,p){var m=!0;if((r=Xd(r))&&(l=r.a[l.toString()]))for(l=l.concat(),r=0;r<l.length;r++){var y=l[r];y&&y.capture==h&&!y.sa&&(y=iE(y,p),m=m&&y!==!1)}return m}function iE(r,l){var h=r.listener,p=r.La||r.src;return r.Ia&&kr(r),h.call(p,l)}function WN(r,l){if(r.sa)return!0;if(!Z1){if(!l)t:{l=["window","event"];for(var h=g,p=0;p<l.length;p++)if(h=h[l[p]],h==null){l=null;break t}l=h}if(p=l,l=new Jn(p,this),h=!0,!(0>p.keyCode||p.returnValue!=null)){t:{var m=!1;if(p.keyCode==0)try{p.keyCode=-1;break t}catch{m=!0}(m||p.returnValue==null)&&(p.returnValue=!0)}for(p=[],m=l.g;m;m=m.parentNode)p.push(m);for(r=r.type,m=p.length-1;!l.h&&0<=m;m--){l.g=p[m];var y=nE(p[m],r,!0,l);h=h&&y}for(m=0;!l.h&&m<p.length;m++)l.g=p[m],y=nE(p[m],r,!1,l),h=h&&y}return h}return iE(r,new Jn(l,this))}function Xd(r){return r=r[C_],r instanceof Yd?r:null}var R_="__closure_events_fn_"+(1e9*Math.random()>>>0);function k_(r){return D(r)?r:(r[R_]||(r[R_]=function(l){return r.handleEvent(l)}),r[R_])}function nn(){Po.call(this),this.J=new Yd(this),this.wb=this,this.Ha=null}Y(nn,Po),nn.prototype[Oc]=!0,nn.prototype.Za=function(r){this.Ha=r},nn.prototype.removeEventListener=function(r,l,h,p){Ro(this,r,l,h,p)};function xr(r,l){var h,p=r.Ha;if(p)for(h=[];p;p=p.Ha)h.push(p);if(r=r.wb,p=l.type||l,v(l))l=new Bs(l,r);else if(l instanceof Bs)l.target=l.target||r;else{var m=l;l=new Bs(p,r),Qt(l,m)}if(m=!0,h)for(var y=h.length-1;!l.h&&0<=y;y--){var E=l.g=h[y];m=Qd(E,p,!0,l)&&m}if(l.h||(E=l.g=r,m=Qd(E,p,!0,l)&&m,l.h||(m=Qd(E,p,!1,l)&&m)),h)for(y=0;!l.h&&y<h.length;y++)E=l.g=h[y],m=Qd(E,p,!1,l)&&m;return m}nn.prototype.o=function(){if(nn.K.o.call(this),this.J){var r=this.J,l;for(l in r.a){for(var h=r.a[l],p=0;p<h.length;p++)Gd(h[p]);delete r.a[l],r.g--}}this.Ha=null};function Qd(r,l,h,p){if(l=r.J.a[String(l)],!l)return!0;l=l.concat();for(var m=!0,y=0;y<l.length;++y){var E=l[y];if(E&&!E.sa&&E.capture==h){var P=E.listener,N=E.La||E.src;E.Ia&&S_(r.J,E),m=P.call(N,p)!==!1&&m}}return m&&p.qb!=0}var bi={},sE=0;function rE(r,l){if(!r)throw Error("Event target element must be provided!");if(r=x_(r),bi[r]&&bi[r].length)for(var h=0;h<bi[r].length;h++)xr(bi[r][h],l)}function qN(r){var l=x_(r.N());bi[l]&&bi[l].length&&(ft(bi[l],function(h){return h==r}),bi[l].length||delete bi[l])}function x_(r){return typeof r.a>"u"&&(r.a=sE,sE++),r.a}function Jd(r){if(!r)throw Error("Event target element must be provided!");nn.call(this),this.a=r}c(Jd,nn),Jd.prototype.N=function(){return this.a},Jd.prototype.register=function(){var r=x_(this.N());bi[r]?L(bi[r],this)||bi[r].push(this):bi[r]=[this]};function oE(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function D_(r,l){this.h=r,this.j=l,this.g=0,this.a=null}D_.prototype.get=function(){if(0<this.g){this.g--;var r=this.a;this.a=r.next,r.next=null}else r=this.h();return r};function aE(r,l){r.j(l),100>r.g&&(r.g++,l.next=r.a,r.a=l)}function lE(){this.g=this.a=null}var cE=new D_(function(){return new O_},function(r){r.reset()});lE.prototype.add=function(r,l){var h=cE.get();h.set(r,l),this.g?this.g.next=h:this.a=h,this.g=h};function KN(){var r=hE,l=null;return r.a&&(l=r.a,r.a=r.a.next,r.a||(r.g=null),l.next=null),l}function O_(){this.next=this.g=this.a=null}O_.prototype.set=function(r,l){this.a=r,this.g=l,this.next=null},O_.prototype.reset=function(){this.next=this.g=this.a=null};function uE(r){g.setTimeout(function(){throw r},0)}var M_;function GN(){var r=g.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Bt("Presto")&&(r=function(){var m=document.createElement("IFRAME");m.style.display="none",m.src="",document.documentElement.appendChild(m);var y=m.contentWindow;m=y.document,m.open(),m.write(""),m.close();var E="callImmediate"+Math.random(),P=y.location.protocol=="file:"?"*":y.location.protocol+"//"+y.location.host;m=J(function(N){(P=="*"||N.origin==P)&&N.data==E&&this.port1.onmessage()},this),y.addEventListener("message",m,!1),this.port1={},this.port2={postMessage:function(){y.postMessage(E,P)}}}),typeof r<"u"&&!Bt("Trident")&&!Bt("MSIE")){var l=new r,h={},p=h;return l.port1.onmessage=function(){if(_(h.next)){h=h.next;var m=h.gb;h.gb=null,m()}},function(m){p.next={gb:m},p=p.next,l.port2.postMessage(0)}}return typeof document<"u"&&"onreadystatechange"in document.createElement("SCRIPT")?function(m){var y=document.createElement("SCRIPT");y.onreadystatechange=function(){y.onreadystatechange=null,y.parentNode.removeChild(y),y=null,m(),m=null},document.documentElement.appendChild(y)}:function(m){g.setTimeout(m,0)}}function N_(r,l){Zd||YN(),L_||(Zd(),L_=!0),hE.add(r,l)}var Zd;function YN(){if(g.Promise&&g.Promise.resolve){var r=g.Promise.resolve(void 0);Zd=function(){r.then(dE)}}else Zd=function(){var l=dE;!D(g.setImmediate)||g.Window&&g.Window.prototype&&!Bt("Edge")&&g.Window.prototype.setImmediate==g.setImmediate?(M_||(M_=GN()),M_(l)):g.setImmediate(l)}}var L_=!1,hE=new lE;function dE(){for(var r;r=KN();){try{r.a.call(r.g)}catch(l){uE(l)}aE(cE,r)}L_=!1}function sn(r){if(this.a=ko,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,r!=w)try{var l=this;r.call(void 0,function(h){xo(l,Nc,h)},function(h){if(!(h instanceof Ua))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}xo(l,js,h)})}catch(h){xo(this,js,h)}}var ko=0,Nc=2,js=3;function fE(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}fE.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var pE=new D_(function(){return new fE},function(r){r.reset()});function V_(r,l,h){var p=pE.get();return p.s=r,p.g=l,p.j=h,p}function Ue(r){if(r instanceof sn)return r;var l=new sn(w);return xo(l,Nc,r),l}function Fa(r){return new sn(function(l,h){h(r)})}sn.prototype.then=function(r,l,h){return mE(this,D(r)?r:null,D(l)?l:null,h)},sn.prototype.$goog_Thenable=!0,e=sn.prototype,e.fc=function(r,l){return r=V_(r,r,l),r.h=!0,F_(this,r),this},e.Ca=function(r,l){return mE(this,null,r,l)},e.cancel=function(r){this.a==ko&&N_(function(){var l=new Ua(r);gE(this,l)},this)};function gE(r,l){if(r.a==ko)if(r.h){var h=r.h;if(h.g){for(var p=0,m=null,y=null,E=h.g;E&&(E.h||(p++,E.a==r&&(m=E),!(m&&1<p)));E=E.next)m||(y=E);m&&(h.a==ko&&p==1?gE(h,l):(y?(p=y,p.next==h.j&&(h.j=p),p.next=p.next.next):yE(h),vE(h,m,js,l)))}r.h=null}else xo(r,js,l)}function F_(r,l){r.g||r.a!=Nc&&r.a!=js||_E(r),r.j?r.j.next=l:r.g=l,r.j=l}function mE(r,l,h,p){var m=V_(null,null,null);return m.a=new sn(function(y,E){m.s=l?function(P){try{var N=l.call(p,P);y(N)}catch(q){E(q)}}:y,m.g=h?function(P){try{var N=h.call(p,P);!_(N)&&P instanceof Ua?E(P):y(N)}catch(q){E(q)}}:E}),m.a.h=r,F_(r,m),m.a}e.hc=function(r){this.a=ko,xo(this,Nc,r)},e.ic=function(r){this.a=ko,xo(this,js,r)};function xo(r,l,h){if(r.a==ko){r===h&&(l=js,h=new TypeError("Promise cannot resolve to itself")),r.a=1;t:{var p=h,m=r.hc,y=r.ic;if(p instanceof sn){F_(p,V_(m||w,y||null,r));var E=!0}else if(oE(p))p.then(m,y,r),E=!0;else{if(M(p))try{var P=p.then;if(D(P)){XN(p,P,m,y,r),E=!0;break t}}catch(N){y.call(r,N),E=!0;break t}E=!1}}E||(r.A=h,r.a=l,r.h=null,_E(r),l!=js||h instanceof Ua||QN(r,h))}}function XN(r,l,h,p,m){function y(N){P||(P=!0,p.call(m,N))}function E(N){P||(P=!0,h.call(m,N))}var P=!1;try{l.call(r,E,y)}catch(N){y(N)}}function _E(r){r.i||(r.i=!0,N_(r.Hb,r))}function yE(r){var l=null;return r.g&&(l=r.g,r.g=l.next,l.next=null),r.g||(r.j=null),l}e.Hb=function(){for(var r;r=yE(this);)vE(this,r,this.a,this.A);this.i=!1};function vE(r,l,h,p){if(h==js&&l.g&&!l.h)for(;r&&r.s;r=r.h)r.s=!1;if(l.a)l.a.h=null,bE(l,h,p);else try{l.h?l.s.call(l.j):bE(l,h,p)}catch(m){wE.call(null,m)}aE(pE,l)}function bE(r,l,h){l==Nc?r.s.call(r.j,h):r.g&&r.g.call(r.j,h)}function QN(r,l){r.s=!0,N_(function(){r.s&&wE.call(null,l)})}var wE=uE;function Ua(r){ct.call(this,r)}Y(Ua,ct),Ua.prototype.name="cancel";function EE(r,l,h){l||(l={}),h=h||window;var p=r instanceof vi?r:Bd(typeof r.href<"u"?r.href:String(r));r=l.target||r.target;var m=[];for(y in l)switch(y){case"width":case"height":case"top":case"left":m.push(y+"="+l[y]);break;case"target":case"noopener":case"noreferrer":break;default:m.push(y+"="+(l[y]?1:0))}var y=m.join(",");return(Bt("iPhone")&&!Bt("iPod")&&!Bt("iPad")||Bt("iPad")||Bt("iPod"))&&h.navigator&&h.navigator.standalone&&r&&r!="_self"?(y=h.document.createElement("A"),p=p instanceof vi?p:V1(p),y.href=Ar(p),y.setAttribute("target",r),l.noreferrer&&y.setAttribute("rel","noreferrer"),l=document.createEvent("MouseEvent"),l.initMouseEvent("click",!0,!0,h,1),y.dispatchEvent(l),h={}):l.noreferrer?(h=h.open("",r,y),l=Ar(p).toString(),h&&(dN&&l.indexOf(";")!=-1&&(l="'"+l.replace(/'/g,"%27")+"'"),h.opener=null,l=Cc('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+mt(l)+'">',null),h.document.write(jd(l)),h.document.close())):(h=h.open(Ar(p).toString(),r,y))&&l.noopener&&(h.opener=null),h}function IE(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch{}return!1}function Ba(r){EE(r,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function tf(r,l){if(r=M(r)&&r.nodeType==1?r:document.querySelector(String(r)),r==null)throw Error(l||"Cannot find element.");return r}function $s(){return window.location.href}function JN(){var r=null;return new sn(function(l){g.document.readyState=="complete"?l():(r=function(){l()},Mc(window,"load",r))}).Ca(function(l){throw Ro(window,"load",r),l})}function ZN(){for(var r=32,l=[];0<r;)l.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return l.join("")}function tL(r,l,h){return h=h===void 0?{}:h,Object.keys(r).filter(function(p){return l.includes(p)}).reduce(function(p,m){return p[m]=r[m],p},h)}function Dr(r){var l=iL;this.s=[],this.T=l,this.O=r||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}Dr.prototype.cancel=function(r){if(this.a)this.h instanceof Dr&&this.h.cancel();else{if(this.g){var l=this.g;delete this.g,r?l.cancel(r):(l.C--,0>=l.C&&l.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(r=new Vc,ef(this),Lc(this,!1,r))}},Dr.prototype.L=function(r,l){this.A=!1,Lc(this,r,l)};function Lc(r,l,h){r.a=!0,r.h=h,r.j=!l,AE(r)}function ef(r){if(r.a){if(!r.J)throw new nf;r.J=!1}}Dr.prototype.callback=function(r){ef(this),Lc(this,!0,r)};function TE(r,l,h){r.s.push([l,h,void 0]),r.a&&AE(r)}Dr.prototype.then=function(r,l,h){var p,m,y=new sn(function(E,P){p=E,m=P});return TE(this,p,function(E){E instanceof Vc?y.cancel():m(E)}),y.then(r,l,h)},Dr.prototype.$goog_Thenable=!0;function SE(r){return ye(r.s,function(l){return D(l[1])})}function AE(r){if(r.i&&r.a&&SE(r)){var l=r.i,h=sf[l];h&&(g.clearTimeout(h.a),delete sf[l]),r.i=0}r.g&&(r.g.C--,delete r.g),l=r.h;for(var p=h=!1;r.s.length&&!r.A;){var m=r.s.shift(),y=m[0],E=m[1];if(m=m[2],y=r.j?E:y)try{var P=y.call(m||r.O,l);_(P)&&(r.j=r.j&&(P==l||P instanceof Error),r.h=l=P),(oE(l)||typeof g.Promise=="function"&&l instanceof g.Promise)&&(p=!0,r.A=!0)}catch(N){l=N,r.j=!0,SE(r)||(h=!0)}}r.h=l,p&&(P=J(r.L,r,!0),p=J(r.L,r,!1),l instanceof Dr?(TE(l,P,p),l.l=!0):l.then(P,p)),h&&(l=new CE(l),sf[l.a]=l,r.i=l.a)}function nf(){ct.call(this)}Y(nf,ct),nf.prototype.message="Deferred has already fired",nf.prototype.name="AlreadyCalledError";function Vc(){ct.call(this)}Y(Vc,ct),Vc.prototype.message="Deferred was canceled",Vc.prototype.name="CanceledError";function CE(r){this.a=g.setTimeout(J(this.h,this),0),this.g=r}CE.prototype.h=function(){throw delete sf[this.a],this.g};var sf={};function eL(r){var l={},h=l.document||document,p=M1(r).toString(),m=document.createElement("SCRIPT"),y={rb:m,sb:void 0},E=new Dr(y),P=null,N=l.timeout!=null?l.timeout:5e3;return 0<N&&(P=window.setTimeout(function(){rf(m,!0);var q=new U_(rL,"Timeout reached for loading script "+p);ef(E),Lc(E,!1,q)},N),y.sb=P),m.onload=m.onreadystatechange=function(){m.readyState&&m.readyState!="loaded"&&m.readyState!="complete"||(rf(m,l.xc||!1,P),E.callback(null))},m.onerror=function(){rf(m,!0,P);var q=new U_(sL,"Error while loading script "+p);ef(E),Lc(E,!1,q)},y=l.attributes||{},Qt(y,{type:"text/javascript",charset:"UTF-8"}),vN(m,y),yN(m,r),nL(h).appendChild(m),E}function nL(r){var l=(r||document).getElementsByTagName("HEAD");return l&&l.length!=0?l[0]:r.documentElement}function iL(){if(this&&this.rb){var r=this.rb;r&&r.tagName=="SCRIPT"&&rf(r,!0,this.sb)}}function rf(r,l,h){h!=null&&g.clearTimeout(h),r.onload=w,r.onerror=w,r.onreadystatechange=w,l&&window.setTimeout(function(){Ao(r)},0)}var sL=0,rL=1;function U_(r,l){var h="Jsloader error (code #"+r+")";l&&(h+=": "+l),ct.call(this,h),this.code=r}Y(U_,ct);function Fc(){return g.google&&g.google.accounts&&g.google.accounts.id||null}function B_(r){this.a=r||Fc(),this.h=!1,this.g=null}B_.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())};function PE(r,l,h){if(r.a&&l)return function(){return r.h=!0,new sn(function(m){r.g=m,r.a.initialize({client_id:l,callback:m,auto_select:!h}),r.a.prompt()})}();if(l){var p=j_.Xa().load().then(function(){return r.a=Fc(),PE(r,l,h)}).Ca(function(){return null});return Ue(p)}return Ue(null)}T(B_);var oL=new Na(O1,"https://accounts.google.com/gsi/client");function j_(){this.a=null}j_.prototype.load=function(){var r=this;if(this.a)return this.a;var l=gN();return Fc()?Ue():this.a=JN().then(function(){if(!Fc())return new sn(function(h,p){var m=setTimeout(function(){r.a=null,p(Error("Network error!"))},1e4);g.onGoogleLibraryLoad=function(){clearTimeout(m),h()},Ue(eL(l)).then(function(){Fc()&&h()}).Ca(function(y){clearTimeout(m),r.a=null,p(y)})})})},T(j_);function $_(r,l){this.a=r,this.g=l||function(h){throw h}}$_.prototype.confirm=function(r){return Ue(this.a.confirm(r)).Ca(this.g)};function H_(r,l,h){this.reset(r,l,h,void 0,void 0)}H_.prototype.a=null,H_.prototype.reset=function(r,l,h,p,m){this.h=p||pe(),this.j=r,this.s=l,this.g=h,delete this.a};function z_(r){this.s=r,this.a=this.h=this.j=this.g=null}function of(r,l){this.name=r,this.value=l}of.prototype.toString=function(){return this.name};var RE=new of("SEVERE",1e3),kE=new of("WARNING",900),xE=new of("CONFIG",700);function DE(r){return r.j?r.j:r.g?DE(r.g):(Ie("Root logger has no level set."),null)}z_.prototype.log=function(r,l,h){if(r.value>=DE(this).value)for(D(l)&&(l=l()),r=new H_(r,String(l),this.s),h&&(r.a=h),h=this;h;){var p=h,m=r;if(p.a)for(var y=0;l=p.a[y];y++)l(m);h=h.g}};var W_={},Uc=null;function OE(){Uc||(Uc=new z_(""),W_[""]=Uc,Uc.j=xE)}function ME(r){OE();var l;if(!(l=W_[r])){l=new z_(r);var h=r.lastIndexOf("."),p=r.substr(h+1);h=ME(r.substr(0,h)),h.h||(h.h={}),h.h[p]=l,l.g=h,W_[r]=l}return l}function af(){this.a=pe()}var q_=null;af.prototype.set=function(r){this.a=r},af.prototype.reset=function(){this.set(pe())},af.prototype.get=function(){return this.a};function Bc(r){this.j=r||"",q_||(q_=new af),this.s=q_}Bc.prototype.a=!0,Bc.prototype.g=!0,Bc.prototype.h=!1;function Do(r){return 10>r?"0"+r:String(r)}function aL(r,l){r=(r.h-l)/1e3,l=r.toFixed(3);var h=0;if(1>r)h=2;else for(;100>r;)h++,r*=10;for(;0<h--;)l=" "+l;return l}function NE(r){Bc.call(this,r)}Y(NE,Bc);function lL(r,l){var h=[];if(h.push(r.j," "),r.g){var p=new Date(l.h);h.push("[",Do(p.getFullYear()-2e3)+Do(p.getMonth()+1)+Do(p.getDate())+" "+Do(p.getHours())+":"+Do(p.getMinutes())+":"+Do(p.getSeconds())+"."+Do(Math.floor(p.getMilliseconds()/10)),"] ")}return h.push("[",aL(l,r.s.get()),"s] "),h.push("[",l.g,"] "),h.push(l.s),r.h&&(l=l.a)&&h.push(`
`,l instanceof Error?l.message:l.toString()),r.a&&h.push(`
`),h.join("")}function LE(){this.s=J(this.h,this),this.a=new NE,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}LE.prototype.h=function(r){function l(y){if(y){if(y.value>=RE.value)return"error";if(y.value>=kE.value)return"warn";if(y.value>=xE.value)return"log"}return"debug"}if(!this.j[r.g]){var h=lL(this.a,r),p=cL;if(p){var m=l(r.j);uL(p,m,h,r.a)}}};var cL=g.console;function uL(r,l,h,p){r[l]?r[l](h,p||""):r.log(h,p||"")}function wi(r,l){var h=K_;h&&h.log(RE,r,l)}var K_;K_=ME("firebaseui");var G_=new LE;if(G_.g!=1){var lf;OE(),lf=Uc;var hL=G_.s;lf.a||(lf.a=[]),lf.a.push(hL),G_.g=!0}function Or(r){var l=K_;l&&l.log(kE,r,void 0)}function VE(){this.a=(typeof document>"u"?null:document)||{cookie:""}}e=VE.prototype,e.set=function(r,l,h,p,m,y){if(/[;=\s]/.test(r))throw Error('Invalid cookie name "'+r+'"');if(/[;\r\n]/.test(l))throw Error('Invalid cookie value "'+l+'"');_(h)||(h=-1),m=m?";domain="+m:"",p=p?";path="+p:"",y=y?";secure":"",h=0>h?"":h==0?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(pe()+1e3*h).toUTCString(),this.a.cookie=r+"="+l+m+p+h+y},e.get=function(r,l){for(var h=r+"=",p=(this.a.cookie||"").split(";"),m=0,y;m<p.length;m++){if(y=O(p[m]),y.lastIndexOf(h,0)==0)return y.substr(h.length);if(y==r)return""}return l},e.ja=function(){return Y_(this).keys},e.la=function(){return Y_(this).values},e.clear=function(){for(var r=Y_(this).keys,l=r.length-1;0<=l;l--){var h=r[l];this.get(h),this.set(h,"",0,void 0,void 0)}};function Y_(r){r=(r.a.cookie||"").split(";");for(var l=[],h=[],p,m,y=0;y<r.length;y++)m=O(r[y]),p=m.indexOf("="),p==-1?(l.push(""),h.push(m)):(l.push(m.substring(0,p)),h.push(m.substring(p+1)));return{keys:l,values:h}}var cf=new VE;function FE(){}function ja(r,l,h,p){this.h=typeof r<"u"&&r!==null?r:-1,this.g=l||null,this.a=h||null,this.j=!!p}c(ja,FE),ja.prototype.set=function(r,l){cf.set(r,l,this.h,this.g,this.a,this.j)},ja.prototype.get=function(r){return cf.get(r)||null},ja.prototype.ra=function(r){var l=this.g,h=this.a;cf.get(r),cf.set(r,"",0,l,h)};function X_(r,l){this.g=r,this.a=l||null}function UE(r){return{email:r.g,credential:r.a&&r.a.toJSON()}}function BE(r){if(r&&r.email){var l=r.credential&&pt.auth.AuthCredential.fromJSON(r.credential);return new X_(r.email,l)}return null}function jE(r){this.a=r||null}function $E(r){for(var l=[],h=0,p=0;p<r.length;p++){var m=r.charCodeAt(p);255<m&&(l[h++]=m&255,m>>=8),l[h++]=m}return l}function dL(r){return Mi(r,function(l){return l=l.toString(16),1<l.length?l:"0"+l}).join("")}function uf(r){for(this.i=r,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array($a*(this.j+1)),r=0;r<this.g;r++)this.a[r]=[this.i[4*r],this.i[4*r+1],this.i[4*r+2],this.i[4*r+3]];var l=Array(4);for(r=this.g;r<$a*(this.j+1);r++){if(l[0]=this.a[r-1][0],l[1]=this.a[r-1][1],l[2]=this.a[r-1][2],l[3]=this.a[r-1][3],r%this.g==0){var h=l,p=h[0];h[0]=h[1],h[1]=h[2],h[2]=h[3],h[3]=p,KE(l),l[0]^=df[r/this.g][0],l[1]^=df[r/this.g][1],l[2]^=df[r/this.g][2],l[3]^=df[r/this.g][3]}else 6<this.g&&r%this.g==4&&KE(l);this.a[r]=Array(4),this.a[r][0]=this.a[r-this.g][0]^l[0],this.a[r][1]=this.a[r-this.g][1]^l[1],this.a[r][2]=this.a[r-this.g][2]^l[2],this.a[r][3]=this.a[r-this.g][3]^l[3]}}uf.prototype.A=16;var $a=uf.prototype.A/4;function HE(r,l){for(var h,p=0;p<$a;p++)for(var m=0;4>m;m++)h=4*m+p,h=l[h],r.h[p][m]=h}function zE(r){for(var l=[],h=0;h<$a;h++)for(var p=0;4>p;p++)l[4*p+h]=r.h[h][p];return l}function Ha(r,l){for(var h=0;4>h;h++)for(var p=0;4>p;p++)r.h[h][p]^=r.a[4*l+p][h]}function hf(r,l){for(var h=0;4>h;h++)for(var p=0;4>p;p++)r.h[h][p]=l[r.h[h][p]]}function WE(r){for(var l=1;4>l;l++)for(var h=0;4>h;h++)r.s[l][h]=r.h[l][h];for(l=1;4>l;l++)for(h=0;4>h;h++)r.h[l][h]=r.s[l][(h+l)%$a]}function qE(r){for(var l=1;4>l;l++)for(var h=0;4>h;h++)r.s[l][(h+l)%$a]=r.h[l][h];for(l=1;4>l;l++)for(h=0;4>h;h++)r.h[l][h]=r.s[l][h]}function KE(r){r[0]=za[r[0]],r[1]=za[r[1]],r[2]=za[r[2]],r[3]=za[r[3]]}var za=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],GE=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],df=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],ff=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],pf=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],gf=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],mf=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],_f=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],yf=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function YE(r,l){r=new uf(QE(r)),l=$E(l);for(var h=l.splice(0,16),p="",m;h.length;){m=16-h.length;for(var y=0;y<m;y++)h.push(0);for(m=r,HE(m,h),Ha(m,0),h=1;h<m.j;++h){hf(m,za),WE(m),y=m.h;for(var E=m.s[0],P=0;4>P;P++)E[0]=y[0][P],E[1]=y[1][P],E[2]=y[2][P],E[3]=y[3][P],y[0][P]=ff[E[0]]^pf[E[1]]^E[2]^E[3],y[1][P]=E[0]^ff[E[1]]^pf[E[2]]^E[3],y[2][P]=E[0]^E[1]^ff[E[2]]^pf[E[3]],y[3][P]=pf[E[0]]^E[1]^E[2]^ff[E[3]];Ha(m,h)}hf(m,za),WE(m),Ha(m,m.j),p+=dL(zE(m)),h=l.splice(0,16)}return p}function XE(r,l){r=new uf(QE(r));for(var h=[],p=0;p<l.length;p+=2)h.push(parseInt(l.substring(p,p+2),16));var m=h.splice(0,16);for(l="";m.length;){for(p=r,HE(p,m),Ha(p,p.j),m=1;m<p.j;++m){qE(p),hf(p,GE),Ha(p,p.j-m);for(var y=p.h,E=p.s[0],P=0;4>P;P++)E[0]=y[0][P],E[1]=y[1][P],E[2]=y[2][P],E[3]=y[3][P],y[0][P]=yf[E[0]]^mf[E[1]]^_f[E[2]]^gf[E[3]],y[1][P]=gf[E[0]]^yf[E[1]]^mf[E[2]]^_f[E[3]],y[2][P]=_f[E[0]]^gf[E[1]]^yf[E[2]]^mf[E[3]],y[3][P]=mf[E[0]]^_f[E[1]]^gf[E[2]]^yf[E[3]]}if(qE(p),hf(p,GE),Ha(p,0),p=zE(p),8192>=p.length)p=String.fromCharCode.apply(null,p);else{for(m="",y=0;y<p.length;y+=8192)m+=String.fromCharCode.apply(null,R(p,y,y+8192));p=m}l+=p,m=h.splice(0,16)}return l.replace(/(\x00)+$/,"")}function QE(r){r=$E(r.substring(0,32));for(var l=32-r.length,h=0;h<l;h++)r.push(0);return r}function JE(r){var l=[];return Q_(new fL,r,l),l.join("")}function fL(){}function Q_(r,l,h){if(l==null)h.push("null");else{if(typeof l=="object"){if(k(l)){var p=l;l=p.length,h.push("[");for(var m="",y=0;y<l;y++)h.push(m),Q_(r,p[y],h),m=",";h.push("]");return}if(l instanceof String||l instanceof Number||l instanceof Boolean)l=l.valueOf();else{h.push("{"),m="";for(p in l)Object.prototype.hasOwnProperty.call(l,p)&&(y=l[p],typeof y!="function"&&(h.push(m),tI(p,h),h.push(":"),Q_(r,y,h),m=","));h.push("}");return}}switch(typeof l){case"string":tI(l,h);break;case"number":h.push(isFinite(l)&&!isNaN(l)?String(l):"null");break;case"boolean":h.push(String(l));break;case"function":h.push("null");break;default:throw Error("Unknown type: "+typeof l)}}}var ZE={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},pL=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function tI(r,l){l.push('"',r.replace(pL,function(h){var p=ZE[h];return p||(p="\\u"+(h.charCodeAt(0)|65536).toString(16).substr(1),ZE[h]=p),p}),'"')}function jc(r){this.a=r}jc.prototype.set=function(r,l){_(l)?this.a.set(r,JE(l)):this.a.ra(r)},jc.prototype.get=function(r){try{var l=this.a.get(r)}catch{return}if(l!==null)try{return JSON.parse(l)}catch{throw"Storage: Invalid value was encountered"}};function vf(){}Y(vf,FE),vf.prototype.clear=function(){var r=Ld(this.ha(!0)),l=this;ge(r,function(h){l.ra(h)})};function bf(r){this.a=r}Y(bf,vf);function wf(r){if(!r.a)return!1;try{return r.a.setItem("__sak","1"),r.a.removeItem("__sak"),!0}catch{return!1}}e=bf.prototype,e.set=function(r,l){try{this.a.setItem(r,l)}catch{throw this.a.length==0?"Storage mechanism: Storage disabled":"Storage mechanism: Quota exceeded"}},e.get=function(r){if(r=this.a.getItem(r),!v(r)&&r!==null)throw"Storage mechanism: Invalid value was encountered";return r},e.ra=function(r){this.a.removeItem(r)},e.ha=function(r){var l=0,h=this.a,p=new ve;return p.next=function(){if(l>=h.length)throw ie;var m=h.key(l++);if(r)return m;if(m=h.getItem(m),!v(m))throw"Storage mechanism: Invalid value was encountered";return m},p},e.clear=function(){this.a.clear()},e.key=function(r){return this.a.key(r)};function J_(){var r=null;try{r=window.localStorage||null}catch{}this.a=r}Y(J_,bf);function Z_(){var r=null;try{r=window.sessionStorage||null}catch{}this.a=r}Y(Z_,bf);function Wa(r,l){this.g=r,this.a=l+"::"}Y(Wa,vf),Wa.prototype.set=function(r,l){this.g.set(this.a+r,l)},Wa.prototype.get=function(r){return this.g.get(this.a+r)},Wa.prototype.ra=function(r){this.g.ra(this.a+r)},Wa.prototype.ha=function(r){var l=this.g.ha(!0),h=this,p=new ve;return p.next=function(){for(var m=l.next();m.substr(0,h.a.length)!=h.a;)m=l.next();return r?m.substr(h.a.length):h.g.get(m)},p},wf(new J_);var eI,nI=new Z_;eI=wf(nI)?new Wa(nI,"firebaseui"):null;var ty=new jc(eI),ey={name:"pendingEmailCredential",storage:ty},Oo={name:"redirectStatus",storage:ty},$c={name:"redirectUrl",storage:ty},qa={name:"emailForSignIn",storage:new jc(new ja(3600,"/"))},Hc={name:"pendingEncryptedCredential",storage:new jc(new ja(3600,"/"))};function Ka(r,l){return r.storage.get(l?r.name+":"+l:r.name)}function ai(r,l){r.storage.a.ra(l?r.name+":"+l:r.name)}function Ga(r,l,h){r.storage.set(h?r.name+":"+h:r.name,l)}function iI(r){return Ka($c,r)||null}function us(r){return r=Ka(ey,r)||null,BE(r)}function hs(r){ai(ey,r)}function sI(r,l){Ga(ey,UE(r),l)}function ny(r){return(r=Ka(Oo,r)||null)&&typeof r.tenantId<"u"?new jE(r.tenantId):null}function gL(r,l){Ga(Oo,{tenantId:r.a},l)}function mL(r,l){l=Ka(qa,l);var h=null;if(l)try{var p=XE(r,l),m=JSON.parse(p);h=m&&m.email||null}catch{}return h}function _L(r,l){l=Ka(Hc,l);var h=null;if(l)try{var p=XE(r,l);h=JSON.parse(p)}catch{}return BE(h||null)}function yL(r,l,h){Ga(Hc,YE(r,JSON.stringify(UE(l))),h)}function iy(){this.W={}}function Qe(r,l,h){if(l.toLowerCase()in r.W)throw Error("Configuration "+l+" has already been defined.");r.W[l.toLowerCase()]=h}function sy(r,l,h){if(!(l.toLowerCase()in r.W))throw Error("Configuration "+l+" is not defined.");r.W[l.toLowerCase()]=h}iy.prototype.get=function(r){if(!(r.toLowerCase()in this.W))throw Error("Configuration "+r+" is not defined.");return this.W[r.toLowerCase()]};function ry(r,l){if(r=r.get(l),!r)throw Error("Configuration "+l+" is required.");return r}function oy(){this.g=void 0,this.a={}}e=oy.prototype,e.set=function(r,l){rI(this,r,l,!1)},e.add=function(r,l){rI(this,r,l,!0)};function rI(r,l,h,p){for(var m=0;m<l.length;m++){var y=l.charAt(m);r.a[y]||(r.a[y]=new oy),r=r.a[y]}if(p&&r.g!==void 0)throw Error('The collection already contains the key "'+l+'"');r.g=h}e.get=function(r){t:{for(var l=this,h=0;h<r.length;h++)if(l=l.a[r.charAt(h)],!l){r=void 0;break t}r=l}return r?r.g:void 0},e.la=function(){var r=[];return oI(this,r),r};function oI(r,l){r.g!==void 0&&l.push(r.g);for(var h in r.a)oI(r.a[h],l)}e.ja=function(){var r=[];return aI(this,"",r),r};function aI(r,l,h){r.g!==void 0&&h.push(l);for(var p in r.a)aI(r.a[p],l+p,h)}e.clear=function(){this.a={},this.g=void 0};function lI(r){for(this.a=r,this.g=new oy,r=0;r<this.a.length;r++){var l=this.g.get("+"+this.a[r].b);l?l.push(this.a[r]):this.g.add("+"+this.a[r].b,[this.a[r]])}}function Ef(r,l){r=r.g;var h={},p=0;for(r.g!==void 0&&(h[p]=r.g);p<l.length;p++){var m=l.charAt(p);if(!(m in r.a))break;r=r.a[m],r.g!==void 0&&(h[p]=r.g)}for(var y in h)if(h.hasOwnProperty(y))return h[y];return[]}function Mo(r){for(var l=0;l<Zn.length;l++)if(Zn[l].c===r)return Zn[l];return null}function cI(r){r=r.toUpperCase();for(var l=[],h=0;h<Zn.length;h++)Zn[h].f===r&&l.push(Zn[h]);return l}function uI(r){if(0<r.length&&r.charAt(0)=="+"){r=r.substring(1);for(var l=[],h=0;h<Zn.length;h++)Zn[h].b==r&&l.push(Zn[h]);r=l}else r=cI(r);return r}function hI(r){r.sort(function(l,h){return l.name.localeCompare(h.name,"en")})}var Zn=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"Åland Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"Côte d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Curaçao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"Réunion",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barthélemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"São Tomé and Príncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];hI(Zn);var zc=new lI(Zn);function dI(r,l){this.a=r,this.Aa=l}function fI(r){r=O(r);var l=Ef(zc,r);return 0<l.length?new dI(l[0].b=="1"?"1-US-0":l[0].c,O(r.substr(l[0].b.length+1))):null}function ay(r){var l=Mo(r.a);if(!l)throw Error("Country ID "+r.a+" not found.");return"+"+l.b+r.Aa}function pI(r,l){for(var h=0;h<r.length;h++)if(!L(gI,r[h])&&(Ya!==null&&r[h]in Ya||L(l,r[h])))return r[h];return null}var gI=["emailLink","password","phone"],Ya={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function vL(){this.a=new iy,Qe(this.a,"autoUpgradeAnonymousUsers"),Qe(this.a,"callbacks"),Qe(this.a,"credentialHelper",Sf),Qe(this.a,"immediateFederatedRedirect",!1),Qe(this.a,"popupMode",!1),Qe(this.a,"privacyPolicyUrl"),Qe(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),Qe(this.a,"queryParameterForWidgetMode","mode"),Qe(this.a,"signInFlow"),Qe(this.a,"signInOptions"),Qe(this.a,"signInSuccessUrl"),Qe(this.a,"siteName"),Qe(this.a,"tosUrl"),Qe(this.a,"widgetUrl"),Qe(this.a,"adminRestrictedOperation")}function If(r){var l=!!r.a.get("autoUpgradeAnonymousUsers");return l&&!SI(r)&&wi('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),l}function Tf(r){r=r.a.get("signInOptions")||[];for(var l=[],h=0;h<r.length;h++){var p=r[h];p=M(p)?p:{provider:p},p.provider&&l.push(p)}return l}function Ei(r,l){r=Tf(r);for(var h=0;h<r.length;h++)if(r[h].provider===l)return r[h];return null}function Xa(r){return Tf(r).map(function(l){return l.provider})}function Wc(r,l){r=mI(r);for(var h=0;h<r.length;h++)if(r[h].providerId===l)return r[h];return null}function mI(r){return Tf(r).map(function(l){if(Ya[l.provider]||L(RL,l.provider)){l={providerId:l.provider,S:l.providerName||null,V:l.fullLabel||null,ta:l.buttonColor||null,za:l.iconUrl?Ar(Bd(l.iconUrl)).toString():null};for(var h in l)l[h]===null&&delete l[h];return l}return{providerId:l.provider,S:l.providerName||null,V:l.fullLabel||null,ta:l.buttonColor||null,za:l.iconUrl?Ar(Bd(l.iconUrl)).toString():null,Ob:l.loginHintKey||null}})}function _I(r){var l=Ei(r,pt.auth.GoogleAuthProvider.PROVIDER_ID),h;if(h=l&&l.clientId){t:{if((window.location&&window.location.protocol)==="http:"||(window.location&&window.location.protocol)==="https:"){for(p in r=r.a.get("credentialHelper"),dy)if(dy[p]===r){var p=dy[p];break t}}p=Sf}h=p===hy}return h&&l.clientId||null}function yI(r){return r=Ei(r,pt.auth.EmailAuthProvider.PROVIDER_ID),!!(r&&r.disableSignUp&&r.disableSignUp.status)}function No(r){return r=r.a.get("adminRestrictedOperation")||null,!(!r||!r.status)}function bL(r){var l=null;if(Tf(r).forEach(function(p){p.provider==pt.auth.PhoneAuthProvider.PROVIDER_ID&&M(p.recaptchaParameters)&&!Array.isArray(p.recaptchaParameters)&&(l=At(p.recaptchaParameters))}),l){var h=[];kL.forEach(function(p){typeof l[p]<"u"&&(h.push(p),delete l[p])}),h.length&&Or('The following provided "recaptchaParameters" keys are not allowed: '+h.join(", "))}return l}function wL(r){return(r=r.a.get("adminRestrictedOperation"))&&r.adminEmail?r.adminEmail:null}function EL(r){if(r=r.a.get("adminRestrictedOperation")||null){var l=r.helpLink||null;if(l&&typeof l=="string")return function(){Ba(l)}}return null}function IL(r){return(r=Ei(r,pt.auth.EmailAuthProvider.PROVIDER_ID))&&r.disableSignUp&&r.disableSignUp.adminEmail||null}function TL(r){if((r=Ei(r,pt.auth.EmailAuthProvider.PROVIDER_ID))&&r.disableSignUp){var l=r.disableSignUp.helpLink||null;if(l&&typeof l=="string")return function(){Ba(l)}}return null}function vI(r,l){return r=(r=Ei(r,l))&&r.scopes,Array.isArray(r)?r:[]}function bI(r,l){return r=(r=Ei(r,l))&&r.customParameters,M(r)?(r=At(r),l===pt.auth.GoogleAuthProvider.PROVIDER_ID&&delete r.login_hint,l===pt.auth.GithubAuthProvider.PROVIDER_ID&&delete r.login,r):null}function SL(r){r=Ei(r,pt.auth.PhoneAuthProvider.PROVIDER_ID);var l=null;return r&&typeof r.loginHint=="string"&&(l=fI(r.loginHint)),r&&r.defaultNationalNumber||l&&l.Aa||null}function AL(r){var l=(r=Ei(r,pt.auth.PhoneAuthProvider.PROVIDER_ID))&&r.defaultCountry||null;l=l&&cI(l);var h=null;return r&&typeof r.loginHint=="string"&&(h=fI(r.loginHint)),l&&l[0]||h&&Mo(h.a)||null}function ly(r){if(r=Ei(r,pt.auth.PhoneAuthProvider.PROVIDER_ID),!r)return null;var l=r.whitelistedCountries,h=r.blacklistedCountries;if(typeof l<"u"&&(!Array.isArray(l)||l.length==0))throw Error("WhitelistedCountries must be a non-empty array.");if(typeof h<"u"&&!Array.isArray(h))throw Error("BlacklistedCountries must be an array.");if(l&&h)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!l&&!h)return Zn;if(r=[],l){h={};for(var p=0;p<l.length;p++)for(var m=uI(l[p]),y=0;y<m.length;y++)h[m[y].c]=m[y];for(var E in h)h.hasOwnProperty(E)&&r.push(h[E])}else{for(E={},l=0;l<h.length;l++)for(m=uI(h[l]),p=0;p<m.length;p++)E[m[p].c]=m[p];for(m=0;m<Zn.length;m++)E!==null&&Zn[m].c in E||r.push(Zn[m])}return r}function wI(r){return ry(r.a,"queryParameterForWidgetMode")}function Je(r){var l=r.a.get("tosUrl")||null;if(r=r.a.get("privacyPolicyUrl")||null,l&&!r&&Or("Privacy Policy URL is missing, the link will not be displayed."),l&&r){if(typeof l=="function")return l;if(typeof l=="string")return function(){Ba(l)}}return null}function Ze(r){var l=r.a.get("tosUrl")||null,h=r.a.get("privacyPolicyUrl")||null;if(h&&!l&&Or("Term of Service URL is missing, the link will not be displayed."),l&&h){if(typeof h=="function")return h;if(typeof h=="string")return function(){Ba(h)}}return null}function EI(r){return(r=Ei(r,pt.auth.EmailAuthProvider.PROVIDER_ID))&&typeof r.requireDisplayName<"u"?!!r.requireDisplayName:!0}function Qa(r){return r=Ei(r,pt.auth.EmailAuthProvider.PROVIDER_ID),!(!r||r.signInMethod!==pt.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function CL(r){return r=Ei(r,pt.auth.EmailAuthProvider.PROVIDER_ID),!(!r||!r.forceSameDevice)}function PL(r){if(Qa(r)){var l={url:$s(),handleCodeInApp:!0};(r=Ei(r,pt.auth.EmailAuthProvider.PROVIDER_ID))&&typeof r.emailLinkSignIn=="function"&&Qt(l,r.emailLinkSignIn()),r=l.url;var h=$s();h instanceof Er||(h=h_(h)),r instanceof Er||(r=h_(r));var p=h;h=new Er(p);var m=!!r.j;m?l_(h,r.j):m=!!r.A,m?h.A=r.A:m=!!r.h,m?h.h=r.h:m=r.C!=null;var y=r.g;if(m)c_(h,r.C);else if(m=!!r.g){if(y.charAt(0)!="/"&&(p.h&&!p.g?y="/"+y:(p=h.g.lastIndexOf("/"),p!=-1&&(y=h.g.substr(0,p+1)+y))),y==".."||y==".")y="";else if(y.indexOf("./")!=-1||y.indexOf("/.")!=-1){p=y.lastIndexOf("/",0)==0,y=y.split("/");for(var E=[],P=0;P<y.length;){var N=y[P++];N=="."?p&&P==y.length&&E.push(""):N==".."?((1<E.length||E.length==1&&E[0]!="")&&E.pop(),p&&P==y.length&&E.push("")):(E.push(N),p=!0)}y=E.join("/")}}return m?h.g=y:m=r.a.toString()!=="",m?u_(h,I1(r.a)):m=!!r.s,m&&(h.s=r.s),l.url=h.toString(),l}return null}function cy(r){var l=!!r.a.get("immediateFederatedRedirect"),h=Xa(r);return r=II(r),l&&h.length==1&&!L(gI,h[0])&&r==Af}function II(r){r=r.a.get("signInFlow");for(var l in fy)if(fy[l]==r)return fy[l];return Af}function uy(r){return qc(r).signInSuccess||null}function TI(r){return qc(r).signInSuccessWithAuthResult||null}function SI(r){return qc(r).signInFailure||null}function qc(r){return r.a.get("callbacks")||{}}var hy="googleyolo",Sf="none",dy={nc:hy,NONE:Sf},Af="redirect",fy={qc:"popup",rc:Af},py={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},RL=["anonymous"],kL=["sitekey","tabindex","callback","expired-callback"],Kc,Ja,gy,AI,se={};function ut(r,l,h,p){se[r].apply(null,Array.prototype.slice.call(arguments,1))}function CI(r){return r.classList?r.classList:(r=r.className,v(r)&&r.match(/\S+/g)||[])}function Gc(r,l){return r.classList?r.classList.contains(l):L(CI(r),l)}function ds(r,l){r.classList?r.classList.add(l):Gc(r,l)||(r.className+=0<r.className.length?" "+l:l)}function fs(r,l){r.classList?r.classList.remove(l):Gc(r,l)&&(r.className=Ln(CI(r),function(h){return h!=l}).join(" "))}function yn(r){var l=r.type;switch(v(l)&&l.toLowerCase()){case"checkbox":case"radio":return r.checked?r.value:null;case"select-one":return l=r.selectedIndex,0<=l?r.options[l].value:null;case"select-multiple":l=[];for(var h,p=0;h=r.options[p];p++)h.selected&&l.push(h.value);return l.length?l:null;default:return r.value!=null?r.value:null}}function PI(r,l){var h=r.type;switch(v(h)&&h.toLowerCase()){case"checkbox":case"radio":r.checked=l;break;case"select-one":if(r.selectedIndex=-1,v(l)){for(var p=0;h=r.options[p];p++)if(h.value==l){h.selected=!0;break}}break;case"select-multiple":for(v(l)&&(l=[l]),p=0;h=r.options[p];p++)if(h.selected=!1,l)for(var m,y=0;m=l[y];y++)h.value==m&&(h.selected=!0);break;default:r.value=l??""}}function xL(r){if(r.altKey&&!r.ctrlKey||r.metaKey||112<=r.keyCode&&123>=r.keyCode)return!1;if(Yc(r.keyCode))return!0;switch(r.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!Hi;default:return 166>r.keyCode||183<r.keyCode}}function RI(r,l,h,p,m,y){if(Xn&&!To("525"))return!0;if(Sr&&m)return Yc(r);if(m&&!p)return!1;if(!Hi){typeof l=="number"&&(l=my(l));var E=l==17||l==18||Sr&&l==91;if((!h||Sr)&&E||Sr&&l==16&&(p||y))return!1}if((Xn||Tr)&&p&&h)switch(r){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Ve&&p&&l==r)return!1;switch(r){case 13:return Hi?y||m?!1:!(h&&p):!0;case 27:return!(Xn||Tr||Hi)}return Hi&&(p||m||y)?!1:Yc(r)}function Yc(r){if(48<=r&&57>=r||96<=r&&106>=r||65<=r&&90>=r||(Xn||Tr)&&r==0)return!0;switch(r){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return Hi;default:return!1}}function my(r){if(Hi)r=DL(r);else if(Sr&&Xn)switch(r){case 93:r=91}return r}function DL(r){switch(r){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return r}}function Za(r){nn.call(this),this.a=r,zi(r,"keydown",this.g,!1,this),zi(r,"click",this.h,!1,this)}Y(Za,nn),Za.prototype.g=function(r){(r.keyCode==13||Xn&&r.keyCode==3)&&kI(this,r)},Za.prototype.h=function(r){kI(this,r)};function kI(r,l){var h=new DI(l);if(xr(r,h)){h=new xI(l);try{xr(r,h)}finally{l.stopPropagation()}}}Za.prototype.o=function(){Za.K.o.call(this),Ro(this.a,"keydown",this.g,!1,this),Ro(this.a,"click",this.h,!1,this),delete this.a};function xI(r){Jn.call(this,r.a),this.type="action"}Y(xI,Jn);function DI(r){Jn.call(this,r.a),this.type="beforeaction"}Y(DI,Jn);function tl(r){nn.call(this),this.a=r,r=Ve?"focusout":"blur",this.g=zi(this.a,Ve?"focusin":"focus",this,!Ve),this.h=zi(this.a,r,this,!Ve)}Y(tl,nn),tl.prototype.handleEvent=function(r){var l=new Jn(r.a);l.type=r.type=="focusin"||r.type=="focus"?"focusin":"focusout",xr(this,l)},tl.prototype.o=function(){tl.K.o.call(this),kr(this.g),kr(this.h),delete this.a};function Cf(r,l){nn.call(this),this.g=r||1,this.a=l||g,this.h=J(this.gc,this),this.j=pe()}Y(Cf,nn),e=Cf.prototype,e.Ka=!1,e.aa=null,e.gc=function(){if(this.Ka){var r=pe()-this.j;0<r&&r<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-r):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),xr(this,"tick"),this.Ka&&(Pf(this),this.start()))}},e.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=pe())};function Pf(r){r.Ka=!1,r.aa&&(r.a.clearTimeout(r.aa),r.aa=null)}e.o=function(){Cf.K.o.call(this),Pf(this),delete this.a};function OL(r,l){if(D(r))l&&(r=J(r,l));else if(r&&typeof r.handleEvent=="function")r=J(r.handleEvent,r);else throw Error("Invalid listener argument");return g.setTimeout(r,0)}function el(r){Po.call(this),this.g=r,this.a={}}Y(el,Po);var OI=[];function nl(r,l,h,p){k(h)||(h&&(OI[0]=h.toString()),h=OI);for(var m=0;m<h.length;m++){var y=zi(l,h[m],p||r.handleEvent,!1,r.g||r);if(!y)break;r.a[y.key]=y}}function MI(r){_t(r.a,function(l,h){this.a.hasOwnProperty(h)&&kr(l)},r),r.a={}}el.prototype.o=function(){el.K.o.call(this),MI(this)},el.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Xc(r){nn.call(this),this.a=null,this.g=r,r=Ve||Tr||Xn&&!To("531")&&r.tagName=="TEXTAREA",this.h=new el(this),nl(this.h,this.g,r?["keydown","paste","cut","drop","input"]:"input",this)}Y(Xc,nn),Xc.prototype.handleEvent=function(r){if(r.type=="input")Ve&&To(10)&&r.keyCode==0&&r.j==0||(_y(this),xr(this,NI(r)));else if(r.type!="keydown"||xL(r)){var l=r.type=="keydown"?this.g.value:null;Ve&&r.keyCode==229&&(l=null);var h=NI(r);_y(this),this.a=OL(function(){this.a=null,this.g.value!=l&&xr(this,h)},this)}};function _y(r){r.a!=null&&(g.clearTimeout(r.a),r.a=null)}function NI(r){return r=new Jn(r.a),r.type="input",r}Xc.prototype.o=function(){Xc.K.o.call(this),this.h.m(),_y(this),delete this.g};function Qc(r,l){nn.call(this),r&&(this.Oa&&BI(this),this.qa=r,this.Na=zi(this.qa,"keypress",this,l),this.Ya=zi(this.qa,"keydown",this.Jb,l,this),this.Oa=zi(this.qa,"keyup",this.Kb,l,this))}Y(Qc,nn),e=Qc.prototype,e.qa=null,e.Na=null,e.Ya=null,e.Oa=null,e.R=-1,e.X=-1,e.Ua=!1;var LI={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},VI={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},FI=!Xn||To("525"),UI=Sr&&Hi;e=Qc.prototype,e.Jb=function(r){(Xn||Tr)&&(this.R==17&&!r.ctrlKey||this.R==18&&!r.altKey||Sr&&this.R==91&&!r.metaKey)&&(this.X=this.R=-1),this.R==-1&&(r.ctrlKey&&r.keyCode!=17?this.R=17:r.altKey&&r.keyCode!=18?this.R=18:r.metaKey&&r.keyCode!=91&&(this.R=91)),FI&&!RI(r.keyCode,this.R,r.shiftKey,r.ctrlKey,r.altKey,r.metaKey)?this.handleEvent(r):(this.X=my(r.keyCode),UI&&(this.Ua=r.altKey))},e.Kb=function(r){this.X=this.R=-1,this.Ua=r.altKey},e.handleEvent=function(r){var l=r.a,h=l.altKey;if(Ve&&r.type=="keypress")var p=this.X,m=p!=13&&p!=27?l.keyCode:0;else(Xn||Tr)&&r.type=="keypress"?(p=this.X,m=0<=l.charCode&&63232>l.charCode&&Yc(p)?l.charCode:0):R1&&!Xn?(p=this.X,m=Yc(p)?l.keyCode:0):(r.type=="keypress"?(UI&&(h=this.Ua),l.keyCode==l.charCode?32>l.keyCode?(p=l.keyCode,m=0):(p=this.X,m=l.charCode):(p=l.keyCode||this.X,m=l.charCode||0)):(p=l.keyCode||this.X,m=l.charCode||0),Sr&&m==63&&p==224&&(p=191));var y=p=my(p);p?63232<=p&&p in LI?y=LI[p]:p==25&&r.shiftKey&&(y=9):l.keyIdentifier&&l.keyIdentifier in VI&&(y=VI[l.keyIdentifier]),Hi&&FI&&r.type=="keypress"&&!RI(y,this.R,r.shiftKey,r.ctrlKey,h,r.metaKey)||(r=y==this.R,this.R=y,l=new jI(y,m,r,l),l.altKey=h,xr(this,l))},e.N=function(){return this.qa};function BI(r){r.Na&&(kr(r.Na),kr(r.Ya),kr(r.Oa),r.Na=null,r.Ya=null,r.Oa=null),r.qa=null,r.R=-1,r.X=-1}e.o=function(){Qc.K.o.call(this),BI(this)};function jI(r,l,h,p){Jn.call(this,p),this.type="key",this.keyCode=r,this.j=l,this.repeat=h}Y(jI,Jn);function il(r,l,h,p){this.top=r,this.right=l,this.bottom=h,this.left=p}il.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},il.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},il.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},il.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};function Rf(r,l){var h=Pc(r);return h.defaultView&&h.defaultView.getComputedStyle&&(r=h.defaultView.getComputedStyle(r,null))&&(r[l]||r.getPropertyValue(l))||""}function $I(r){try{var l=r.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}return Ve&&r.ownerDocument.body&&(r=r.ownerDocument,l.left-=r.documentElement.clientLeft+r.body.clientLeft,l.top-=r.documentElement.clientTop+r.body.clientTop),l}function ML(r,l){l=l||Hd(document);var h=l||Hd(document),p=HI(r),m=HI(h);if(!Ve||9<=Number(Ac)){E=Rf(h,"borderLeftWidth");var y=Rf(h,"borderRightWidth");P=Rf(h,"borderTopWidth"),N=Rf(h,"borderBottomWidth"),y=new il(parseFloat(P),parseFloat(y),parseFloat(N),parseFloat(E))}else{var E=kf(h,"borderLeft");y=kf(h,"borderRight");var P=kf(h,"borderTop"),N=kf(h,"borderBottom");y=new il(P,y,N,E)}h==Hd(document)?(E=p.a-h.scrollLeft,p=p.g-h.scrollTop,!Ve||10<=Number(Ac)||(E+=y.left,p+=y.top)):(E=p.a-m.a-y.left,p=p.g-m.g-y.top),m=r.offsetWidth,y=r.offsetHeight,P=Xn&&!m&&!y,_(m)&&!P||!r.getBoundingClientRect?r=new __(m,y):(r=$I(r),r=new __(r.right-r.left,r.bottom-r.top)),m=h.clientHeight-r.height,y=h.scrollLeft,P=h.scrollTop,y+=Math.min(E,Math.max(E-(h.clientWidth-r.width),0)),P+=Math.min(p,Math.max(p-m,0)),h=new Pr(y,P),l.scrollLeft=h.a,l.scrollTop=h.g}function HI(r){var l=Pc(r),h=new Pr(0,0),p=l?Pc(l):document;return p=!Ve||9<=Number(Ac)||$d(p).a.compatMode=="CSS1Compat"?p.documentElement:p.body,r==p||(r=$I(r),p=$d(l).a,l=Hd(p),p=p.parentWindow||p.defaultView,l=Ve&&To("10")&&p.pageYOffset!=l.scrollTop?new Pr(l.scrollLeft,l.scrollTop):new Pr(p.pageXOffset||l.scrollLeft,p.pageYOffset||l.scrollTop),h.a=r.left+l.a,h.g=r.top+l.g),h}var zI={thin:2,medium:4,thick:6};function kf(r,l){if((r.currentStyle?r.currentStyle[l+"Style"]:null)=="none")return 0;var h=r.currentStyle?r.currentStyle[l+"Width"]:null;if(h in zI)r=zI[h];else if(/^\d+px?$/.test(h))r=parseInt(h,10);else{l=r.style.left;var p=r.runtimeStyle.left;r.runtimeStyle.left=r.currentStyle.left,r.style.left=h,h=r.style.pixelLeft,r.style.left=l,r.runtimeStyle.left=p,r=+h}return r}function yy(){}T(yy),yy.prototype.a=0;function Lo(r){nn.call(this),this.s=r||$d(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}Y(Lo,nn),e=Lo.prototype,e.Lb=yy.Xa(),e.N=function(){return this.g};function Gt(r,l){return r.g?v_(l,r.g||r.s.a):null}function Jc(r){return r.L||(r.L=new el(r)),r.L}e.Za=function(r){if(this.Y&&this.Y!=r)throw Error("Method not supported");Lo.K.Za.call(this,r)},e.kb=function(){this.g=this.s.a.createElement("DIV")},e.render=function(r){if(this.na)throw Error("Component already rendered");this.g||this.kb(),r?r.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},e.v=function(){this.na=!0,vy(this,function(r){!r.na&&r.N()&&r.v()})},e.ya=function(){vy(this,function(r){r.na&&r.ya()}),this.L&&MI(this.L),this.na=!1},e.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),vy(this,function(r){r.m()}),this.g&&Ao(this.g),this.Y=this.g=this.oa=this.Ea=null,Lo.K.o.call(this)};function vy(r,l){r.Ea&&ge(r.Ea,l,void 0)}e.removeChild=function(r,l){if(r){var h=v(r)?r:r.cb||(r.cb=":"+(r.Lb.a++).toString(36));if(this.oa&&h?(r=this.oa,r=(r!==null&&h in r?r[h]:void 0)||null):r=null,h&&r){var p=this.oa;if(h in p&&delete p[h],at(this.Ea,r),l&&(r.ya(),r.g&&Ao(r.g)),l=r,l==null)throw Error("Unable to set parent component");l.Y=null,Lo.K.Za.call(l,null)}}if(!r)throw Error("Child is not in parent component");return r};function Be(r,l){var h=H1(r,"firebaseui-textfield");l?(fs(r,"firebaseui-input-invalid"),ds(r,"firebaseui-input"),h&&fs(h,"firebaseui-textfield-invalid")):(fs(r,"firebaseui-input"),ds(r,"firebaseui-input-invalid"),h&&ds(h,"firebaseui-textfield-invalid"))}function sl(r,l,h){l=new Xc(l),xc(r,vt(Dc,l)),nl(Jc(r),l,"input",h)}function Zc(r,l,h){l=new Qc(l),xc(r,vt(Dc,l)),nl(Jc(r),l,"key",function(p){p.keyCode==13&&(p.stopPropagation(),p.preventDefault(),h(p))})}function NL(r,l,h){l=new tl(l),xc(r,vt(Dc,l)),nl(Jc(r),l,"focusin",h)}function LL(r,l,h){l=new tl(l),xc(r,vt(Dc,l)),nl(Jc(r),l,"focusout",h)}function Oe(r,l,h){l=new Za(l),xc(r,vt(Dc,l)),nl(Jc(r),l,"action",function(p){p.stopPropagation(),p.preventDefault(),h(p)})}function Ii(r){ds(r,"firebaseui-hidden")}function vn(r,l){l&&b_(r,l),fs(r,"firebaseui-hidden")}function rl(r){return!Gc(r,"firebaseui-hidden")&&r.style.display!="none"}function ol(r){r=r||{};var l=r.email,h=r.disabled,p='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return p=r.wc?p+"Enter new email address":p+"Email",p+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+Qn(l??"")+'"'+(h?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',lt(p)}function li(r){r=r||{},r=r.label;var l='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return l=r?l+Ct(r):l+"Next",lt(l+"</button>")}function by(){var r=""+li({label:Fe("Sign In")});return lt(r)}function WI(){var r=""+li({label:Fe("Save")});return lt(r)}function Wi(){var r=""+li({label:Fe("Continue")});return lt(r)}function qI(r){r=r||{},r=r.label;var l='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return l=r?l+Ct(r):l+"Choose password",lt(l+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function KI(){var r={},l='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return l=r.current?l+"Current password":l+"Password",lt(l+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function GI(){return lt('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function Ti(r){r=r||{},r=r.label;var l='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return l=r?l+Ct(r):l+"Cancel",lt(l+"</button>")}function Rn(r){var l="";return r.F&&r.D&&(l+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),lt(l)}function al(r){var l="";return r.F&&r.D&&(l+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),lt(l)}function YI(r){return r='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+Ct(r.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',lt(r)}YI.a="firebaseui.auth.soy2.element.infoBar";function XI(r){var l=r.content;return r=r.Ab,lt('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+(r?" "+Qn(r):"")+'">'+Ct(l)+"</dialog>")}function QI(r){var l=r.message;return lt(XI({content:q1('<div class="firebaseui-dialog-icon-wrapper"><div class="'+Qn(r.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+Ct(l)+"</div>")}))}QI.a="firebaseui.auth.soy2.element.progressDialog";function JI(r){var l='<div class="firebaseui-list-box-actions">';r=r.items;for(var h=r.length,p=0;p<h;p++){var m=r[p];l+='<button type="button" data-listboxid="'+Qn(m.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(m.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+Qn(m.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+Ct(m.label)+"</div></button>"}return l=""+XI({Ab:Fe("firebaseui-list-box-dialog"),content:q1(l+"</div>")}),lt(l)}JI.a="firebaseui.auth.soy2.element.listBoxDialog";function xf(r){return r=r||{},lt(r.tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}xf.a="firebaseui.auth.soy2.element.busyIndicator";function Mr(r,l){return r=r||{},r=r.ga,Jt(r.S?r.S:l.hb[r.providerId]?""+l.hb[r.providerId]:r.providerId&&r.providerId.indexOf("saml.")==0||r.providerId&&r.providerId.indexOf("oidc.")==0?r.providerId.substring(5):""+r.providerId)}function wy(r){ZI(r,"upgradeElement")}function Ey(r){ZI(r,"downgradeElements")}var VL=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function ZI(r,l){r&&window.componentHandler&&window.componentHandler[l]&&VL.forEach(function(h){Gc(r,h)&&window.componentHandler[l](r),ge(y_(h,r),function(p){window.componentHandler[l](p)})})}function tT(r,l,h){if(Df.call(this),document.body.appendChild(r),r.showModal||window.dialogPolyfill.registerDialog(r),r.showModal(),wy(r),l&&Oe(this,r,function(y){var E=r.getBoundingClientRect();(y.clientX<E.left||E.left+E.width<y.clientX||y.clientY<E.top||E.top+E.height<y.clientY)&&Df.call(this)}),!h){var p=this.N().parentElement||this.N().parentNode;if(p){var m=this;this.da=function(){if(r.open){var y=r.getBoundingClientRect().height,E=p.getBoundingClientRect().height,P=p.getBoundingClientRect().top-document.body.getBoundingClientRect().top,N=p.getBoundingClientRect().left-document.body.getBoundingClientRect().left,q=r.getBoundingClientRect().width,ht=p.getBoundingClientRect().width;r.style.top=(P+(E-y)/2).toString()+"px",y=N+(ht-q)/2,r.style.left=y.toString()+"px",r.style.right=(document.body.getBoundingClientRect().width-y-q).toString()+"px"}else window.removeEventListener("resize",m.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function Df(){var r=Iy.call(this);r&&(Ey(r),r.open&&r.close(),Ao(r),this.da&&window.removeEventListener("resize",this.da))}function Iy(){return v_("firebaseui-id-dialog")}function eT(){Ao(nT.call(this))}function nT(){return Gt(this,"firebaseui-id-info-bar")}function iT(){return Gt(this,"firebaseui-id-dismiss-info-bar")}var FL={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function Ty(r,l,h){Bs.call(this,r,l);for(var p in h)this[p]=h[p]}Y(Ty,Bs);function B(r,l,h,p,m){Lo.call(this,h),this.fb=r,this.eb=l,this.Fa=!1,this.Ga=p||null,this.A=this.ca=null,this.Z=At(FL),Qt(this.Z,m||{})}Y(B,Lo),e=B.prototype,e.kb=function(){var r=Rc(this.fb,this.eb,this.Z,this.s);wy(r),this.g=r},e.v=function(){if(B.K.v.call(this),rE(ke(this),new Ty("pageEnter",ke(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var r=this.Z.F;Oe(this,this.bb(),function(){r()})}if(this.ab()&&this.Z.D){var l=this.Z.D;Oe(this,this.ab(),function(){l()})}},e.ya=function(){rE(ke(this),new Ty("pageExit",ke(this),{pageId:this.Ga})),B.K.ya.call(this)},e.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,Ey(this.N()),B.K.o.call(this)};function UL(r){r.Fa=!0;var l=Gc(r.N(),"firebaseui-use-spinner");r.ca=window.setTimeout(function(){r.N()&&r.A===null&&(r.A=Rc(xf,{tb:l},null,r.s),r.N().appendChild(r.A),wy(r.A))},500)}e.I=function(r,l,h,p){function m(){if(y.T)return null;y.Fa=!1,window.clearTimeout(y.ca),y.ca=null,y.A&&(Ey(y.A),Ao(y.A),y.A=null)}var y=this;return y.Fa?null:(UL(y),r.apply(null,l).then(h,p).then(m,m))};function ke(r){return r.N().parentElement||r.N().parentNode}function tu(r,l,h){Zc(r,l,function(){h.focus()})}function ll(r,l,h){Zc(r,l,function(){h()})}wt(B.prototype,{a:function(r){eT.call(this);var l=Rc(YI,{message:r},null,this.s);this.N().appendChild(l),Oe(this,iT.call(this),function(){Ao(l)})},yc:eT,Ac:nT,zc:iT,$:function(r,l){r=Rc(QI,{Ma:r,message:l},null,this.s),tT.call(this,r)},h:Df,Cb:Iy,Cc:function(){return Gt(this,"firebaseui-tos")},bb:function(){return Gt(this,"firebaseui-tos-link")},ab:function(){return Gt(this,"firebaseui-pp-link")},Dc:function(){return Gt(this,"firebaseui-tos-list")}});function sT(r,l,h){r=r||{},l=r.Va;var p=r.ia;return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ol(r)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(l?Ti(null):"")+li(null)+'</div></div><div class="firebaseui-card-footer">'+(p?al(h):Rn(h))+"</div></form></div>",lt(r)}sT.a="firebaseui.auth.soy2.page.signIn";function rT(r,l,h){return r=r||{},l=r.ia,r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+ol(r)+KI()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+GI()+'</div><div class="firebaseui-form-actions">'+by()+'</div></div><div class="firebaseui-card-footer">'+(l?al(h):Rn(h))+"</div></form></div>",lt(r)}rT.a="firebaseui.auth.soy2.page.passwordSignIn";function oT(r,l,h){r=r||{};var p=r.Tb;l=r.Ta;var m=r.ia,y='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+ol(r);return p?(r=r||{},r=r.name,r='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+Qn(r??"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',r=lt(r)):r="",h=y+r+qI(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(l?Ti(null):"")+WI()+'</div></div><div class="firebaseui-card-footer">'+(m?al(h):Rn(h))+"</div></form></div>",lt(h)}oT.a="firebaseui.auth.soy2.page.passwordSignUp";function aT(r,l,h){return r=r||{},l=r.Ta,r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+ol(r)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(l?Ti(null):"")+li({label:Fe("Send")})+'</div></div><div class="firebaseui-card-footer">'+Rn(h)+"</div></form></div>",lt(r)}aT.a="firebaseui.auth.soy2.page.passwordRecovery";function lT(r,l,h){l=r.G;var p="";return r="Follow the instructions sent to <strong>"+(Ct(r.email)+"</strong> to recover your password"),p+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions">',l&&(p+='<div class="firebaseui-form-actions">'+li({label:Fe("Done")})+"</div>"),p+='</div><div class="firebaseui-card-footer">'+Rn(h)+"</div></div>",lt(p)}lT.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent";function cT(r,l,h){return lt('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+xf(null)+"</div></div>")}cT.a="firebaseui.auth.soy2.page.callback";function uT(r,l,h){return lt('<div class="firebaseui-container firebaseui-id-page-spinner">'+xf({tb:!0})+"</div>")}uT.a="firebaseui.auth.soy2.page.spinner";function hT(){return lt('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}hT.a="firebaseui.auth.soy2.page.blank";function dT(r,l,h){l="",r="A sign-in email with additional instructions was sent to <strong>"+(Ct(r.email)+"</strong>. Check your email to complete sign-in.");var p=lt('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>');return l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+p+'</div><div class="firebaseui-form-actions">'+Ti({label:Fe("Back")})+'</div></div><div class="firebaseui-card-footer">'+Rn(h)+"</div></form></div>",lt(l)}dT.a="firebaseui.auth.soy2.page.emailLinkSignInSent";function fT(r,l,h){return r=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn't work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">`+lt('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+Ti({label:Fe("Back")})+'</div></div><div class="firebaseui-card-footer">'+Rn(h)+"</div></form></div>",lt(r)}fT.a="firebaseui.auth.soy2.page.emailNotReceived";function pT(r,l,h){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+ol(r)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ti(null)+li(null)+'</div></div><div class="firebaseui-card-footer">'+Rn(h)+"</div></form></div>",lt(r)}pT.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation";function gT(){var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ti({label:Fe("Dismiss")})+"</div></div></div>";return lt(r)}gT.a="firebaseui.auth.soy2.page.differentDeviceError";function mT(){var r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ti({label:Fe("Dismiss")})+"</div></div></div>";return lt(r)}mT.a="firebaseui.auth.soy2.page.anonymousUserMismatch";function _T(r,l,h){return l="",r="You’ve already used <strong>"+(Ct(r.email)+"</strong> to sign in. Enter your password for that account."),l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+r+"</p>"+KI()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+GI()+'</div><div class="firebaseui-form-actions">'+by()+'</div></div><div class="firebaseui-card-footer">'+Rn(h)+"</div></form></div>",lt(l)}_T.a="firebaseui.auth.soy2.page.passwordLinking";function yT(r,l,h){var p=r.email;return l="",r=""+Mr(r,h),r=Fe(r),p="You’ve already used <strong>"+(Ct(p)+("</strong>. You can connect your <strong>"+(Ct(r)+("</strong> account with <strong>"+(Ct(p)+"</strong> by signing in with email link below."))))),r="For this flow to successfully connect your "+(Ct(r)+" account with this email, you have to open the link on the same device or browser."),l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+p+'<p class="firebaseui-text firebaseui-text-justify">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+by()+'</div></div><div class="firebaseui-card-footer">'+Rn(h)+"</div></form></div>",lt(l)}yT.a="firebaseui.auth.soy2.page.emailLinkSignInLinking";function vT(r,l,h){l="";var p=""+Mr(r,h);return p=Fe(p),r="You originally intended to connect <strong>"+(Ct(p)+"</strong> to your email account but have opened the link on a different device where you are not signed in."),p="If you still want to connect your <strong>"+(Ct(p)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device."),l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+r+'</p><p class="firebaseui-text firebaseui-text-justify">'+p+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Wi()+'</div></div><div class="firebaseui-card-footer">'+Rn(h)+"</div></form></div>",lt(l)}vT.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice";function bT(r,l,h){var p=r.email;return l="",r=""+Mr(r,h),r=Fe(r),p="You’ve already used <strong>"+(Ct(p)+("</strong>. Sign in with "+(Ct(r)+" to continue."))),l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+p+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+li({label:Fe("Sign in with "+r)})+'</div></div><div class="firebaseui-card-footer">'+Rn(h)+"</div></form></div>",lt(l)}bT.a="firebaseui.auth.soy2.page.federatedLinking";function wT(r,l,h){r=r||{};var p=r.kc;l=r.yb,r=r.Eb;var m='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return p?(p="<strong>"+(Ct(p)+"</strong> is not authorized to view the requested page."),m+=p):m+="User is not authorized to view the requested page.",m+="</p>",l&&(l="Please contact <strong>"+(Ct(l)+"</strong> for authorization."),m+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+l+"</p>"),m+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',r&&(m+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),m+='</div><div class="firebaseui-form-actions">'+Ti({label:Fe("Back")})+'</div></div><div class="firebaseui-card-footer">'+Rn(h)+"</div></form></div>",lt(m)}wT.a="firebaseui.auth.soy2.page.unauthorizedUser";function ET(r,l,h){return l="",r="To continue sign in with <strong>"+(Ct(r.email)+"</strong> on this device, you have to recover the password."),l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ti(null)+li({label:Fe("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+Rn(h)+"</div></form></div>",lt(l)}ET.a="firebaseui.auth.soy2.page.unsupportedProvider";function IT(r){var l="",h='<p class="firebaseui-text">for <strong>'+(Ct(r.email)+"</strong></p>");return l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content">'+h+qI(CN(r))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+WI()+"</div></div></form></div>",lt(l)}IT.a="firebaseui.auth.soy2.page.passwordReset";function TT(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Wi()+"</div>":"")+"</div></div>",lt(r)}TT.a="firebaseui.auth.soy2.page.passwordResetSuccess";function ST(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Wi()+"</div>":"")+"</div></div>",lt(r)}ST.a="firebaseui.auth.soy2.page.passwordResetFailure";function AT(r){var l=r.G,h="";return r="Your sign-in email address has been changed back to <strong>"+(Ct(r.email)+"</strong>."),h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p><p class="firebaseui-text">If you didn’t ask to change your sign-in email, it’s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(l?'<div class="firebaseui-form-actions">'+Wi()+"</div>":"")+"</div></form></div>",lt(h)}AT.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess";function CT(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can’t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Wi()+"</div>":"")+"</div></div>",lt(r)}CT.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure";function PT(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Wi()+"</div>":"")+"</div></div>",lt(r)}PT.a="firebaseui.auth.soy2.page.emailVerificationSuccess";function RT(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Wi()+"</div>":"")+"</div></div>",lt(r)}RT.a="firebaseui.auth.soy2.page.emailVerificationFailure";function kT(r){var l=r.G,h="";return r="You can now sign in with your new email <strong>"+(Ct(r.email)+"</strong>."),h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+'</p></div><div class="firebaseui-card-actions">'+(l?'<div class="firebaseui-form-actions">'+Wi()+"</div>":"")+"</div></div>",lt(h)}kT.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess";function xT(r){return r=r||{},r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+(r.G?'<div class="firebaseui-form-actions">'+Wi()+"</div>":"")+"</div></div>",lt(r)}xT.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure";function DT(r){var l=r.factorId,h=r.phoneNumber;r=r.G;var p='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';switch(l){case"phone":l="The <strong>"+(Ct(l)+(" "+(Ct(h)+"</strong> was removed as a second authentication step."))),p+=l;break;default:p+="The device or app was removed as a second authentication step."}return p+=`</p><p class="firebaseui-text">If you don't recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">`+(r?'<div class="firebaseui-form-actions">'+Wi()+"</div>":"")+"</div></form></div>",lt(p)}DT.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess";function OT(r){return r=r||{},r=`<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn't remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn't work, contact support for assistance.</p></div><div class="firebaseui-card-actions">`+(r.G?'<div class="firebaseui-form-actions">'+Wi()+"</div>":"")+"</div></div>",lt(r)}OT.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure";function MT(r){var l=r.zb;return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Ct(r.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',l&&(r+=li({label:Fe("Retry")})),lt(r+"</div></div></div>")}MT.a="firebaseui.auth.soy2.page.recoverableError";function NT(r){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+Ct(r.errorMessage)+"</p></div></div>",lt(r)}NT.a="firebaseui.auth.soy2.page.unrecoverableError";function LT(r,l,h){var p=r.Qb;return l="",r="Continue with "+(Ct(r.jc)+"?"),p="You originally wanted to sign in with "+Ct(p),l+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+r+'</h2><p class="firebaseui-text">'+p+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ti(null)+li({label:Fe("Continue")})+'</div></div><div class="firebaseui-card-footer">'+Rn(h)+"</div></form></div>",lt(l)}LT.a="firebaseui.auth.soy2.page.emailMismatch";function VT(r,l,h){var p='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';r=r.Sb,l=r.length;for(var m=0;m<l;m++){var y={ga:r[m]},E=h;y=y||{};var P=y.ga,N=y;N=N||{};var q="";switch(N.ga.providerId){case"google.com":q+="firebaseui-idp-google";break;case"github.com":q+="firebaseui-idp-github";break;case"facebook.com":q+="firebaseui-idp-facebook";break;case"twitter.com":q+="firebaseui-idp-twitter";break;case"phone":q+="firebaseui-idp-phone";break;case"anonymous":q+="firebaseui-idp-anonymous";break;case"password":q+="firebaseui-idp-password";break;default:q+="firebaseui-idp-generic"}N='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+Qn(Jt(q))+' firebaseui-id-idp-button" data-provider-id="'+Qn(P.providerId)+'" style="background-color:',q=(q=y)||{},q=q.ga,N=N+Qn(K1(Jt(q.ta?q.ta:E.wa[q.providerId]?""+E.wa[q.providerId]:q.providerId.indexOf("saml.")==0?""+E.wa.saml:q.providerId.indexOf("oidc.")==0?""+E.wa.oidc:""+E.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var ht=y;q=E,ht=ht||{},ht=ht.ga,q=AN(ht.za?Co(ht.za):q.xa[ht.providerId]?Co(q.xa[ht.providerId]):ht.providerId.indexOf("saml.")==0?Co(q.xa.saml):ht.providerId.indexOf("oidc.")==0?Co(q.xa.oidc):Co(q.xa.password)),N=N+Qn(Co(q))+'"></span>',P.providerId=="password"?(N+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',P.V?N+=Ct(P.V):P.S?(y="Sign in with "+Ct(Mr(y,E)),N+=y):N+="Sign in with email",N+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',N=P.S?N+Ct(P.S):N+"Email",N+="</span>"):P.providerId=="phone"?(N+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',P.V?N+=Ct(P.V):P.S?(y="Sign in with "+Ct(Mr(y,E)),N+=y):N+="Sign in with phone",N+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',N=P.S?N+Ct(P.S):N+"Phone",N+="</span>"):P.providerId=="anonymous"?(N+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',P.V?N+=Ct(P.V):P.S?(y="Sign in with "+Ct(Mr(y,E)),N+=y):N+="Continue as guest",N+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',N=P.S?N+Ct(P.S):N+"Guest",N+="</span>"):(N+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',P.V?N+=Ct(P.V):(q="Sign in with "+Ct(Mr(y,E)),N+=q),N+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+(P.S?Ct(P.S):Ct(Mr(y,E)))+"</span>"),P=lt(N+"</button>"),p+='<li class="firebaseui-list-item">'+P+"</li>"}return p+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+al(h)+"</div></div>",lt(p)}VT.a="firebaseui.auth.soy2.page.providerSignIn";function FT(r,l,h){r=r||{};var p=r.Gb,m=r.Va;l=r.ia,r=r||{},r=r.Aa,r='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+Qn(r??"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+lt(r);var y;return p?y=lt('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):y="",y=r+y+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(m?Ti(null):"")+li({label:Fe("Verify")})+'</div></div><div class="firebaseui-card-footer">',l?(l='<p class="firebaseui-tos firebaseui-phone-tos">',l=h.F&&h.D?l+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':l+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.",h=lt(l+"</p>")):h=lt('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+Rn(h),lt(y+h+"</div></form></div>")}FT.a="firebaseui.auth.soy2.page.phoneSignInStart";function UT(r,l,h){r=r||{},l=r.phoneNumber;var p="";return r='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+(Ct(l)+"</a>"),Ct(l),l=p,p=lt('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'),h='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+r+"</p>"+p+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Ti(null)+li({label:Fe("Continue")})+'</div></div><div class="firebaseui-card-footer">'+Rn(h)+"</div></form>",r=lt('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),lt(l+(h+r+"</div>"))}UT.a="firebaseui.auth.soy2.page.phoneSignInFinish";function BT(){return lt('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}BT.a="firebaseui.auth.soy2.page.signOut";function jT(r,l,h){var p='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';r=r.ec,l=r.length;for(var m=0;m<l;m++){var y=r[m],E="",P=Ct(y.displayName),N=y.tenantId?y.tenantId:"top-level-project";N=Fe(N),E+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+Qn(N)+' firebaseui-id-tenant-selection-button"'+(y.tenantId?'data-tenant-id="'+Qn(y.tenantId)+'"':"")+'style="background-color:'+Qn(K1(y.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+Qn(Co(y.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',y.V?E+=Ct(y.V):(y="Sign in to "+Ct(y.displayName),E+=y),E=lt(E+('</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+P+"</span></button>")),p+='<li class="firebaseui-list-item">'+E+"</li>"}return p+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+al(h)+"</div></div>",lt(p)}jT.a="firebaseui.auth.soy2.page.selectTenant";function $T(r,l,h){return r='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+ol(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+li(null)+'</div></div><div class="firebaseui-card-footer">'+al(h)+"</div></form></div>",lt(r)}$T.a="firebaseui.auth.soy2.page.providerMatchByEmail";function un(){return Gt(this,"firebaseui-id-submit")}function rn(){return Gt(this,"firebaseui-id-secondary-link")}function bn(r,l){Oe(this,un.call(this),function(p){r(p)});var h=rn.call(this);h&&l&&Oe(this,h,function(p){l(p)})}function Of(){return Gt(this,"firebaseui-id-password")}function Mf(){return Gt(this,"firebaseui-id-password-error")}function HT(){var r=Of.call(this),l=Mf.call(this);sl(this,r,function(){rl(l)&&(Be(r,!0),Ii(l))})}function zT(){var r=Of.call(this),l=Mf.call(this);return yn(r)?(Be(r,!0),Ii(l),l=!0):(Be(r,!1),vn(l,Jt("Enter your password").toString()),l=!1),l?yn(r):null}function cl(r,l,h,p,m,y){B.call(this,_T,{email:r},y,"passwordLinking",{F:p,D:m}),this.w=l,this.H=h}c(cl,B),cl.prototype.v=function(){this.P(),this.M(this.w,this.H),ll(this,this.i(),this.w),this.i().focus(),B.prototype.v.call(this)},cl.prototype.o=function(){this.w=null,B.prototype.o.call(this)},cl.prototype.j=function(){return yn(Gt(this,"firebaseui-id-email"))},wt(cl.prototype,{i:Of,B:Mf,P:HT,u:zT,ea:un,ba:rn,M:bn});var BL=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Hs(){return Gt(this,"firebaseui-id-email")}function Nr(){return Gt(this,"firebaseui-id-email-error")}function ul(r){var l=Hs.call(this),h=Nr.call(this);sl(this,l,function(){rl(h)&&(Be(l,!0),Ii(h))}),r&&Zc(this,l,function(){r()})}function hl(){return O(yn(Hs.call(this))||"")}function dl(){var r=Hs.call(this),l=Nr.call(this),h=yn(r)||"";return h?BL.test(h)?(Be(r,!0),Ii(l),l=!0):(Be(r,!1),vn(l,Jt("That email address isn't correct").toString()),l=!1):(Be(r,!1),vn(l,Jt("Enter your email address to continue").toString()),l=!1),l?O(yn(r)):null}function eu(r,l,h,p,m,y,E){B.call(this,rT,{email:h,ia:!!y},E,"passwordSignIn",{F:p,D:m}),this.w=r,this.H=l}c(eu,B),eu.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),tu(this,this.l(),this.i()),ll(this,this.i(),this.w),yn(this.l())?this.i().focus():this.l().focus(),B.prototype.v.call(this)},eu.prototype.o=function(){this.H=this.w=null,B.prototype.o.call(this)},wt(eu.prototype,{l:Hs,U:Nr,P:ul,M:hl,j:dl,i:Of,B:Mf,ea:HT,u:zT,ua:un,pa:rn,ba:bn});function le(r,l,h,p,m,y){B.call(this,r,l,p,m||"notice",y),this.i=h||null}Y(le,B),le.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),le.K.v.call(this)},le.prototype.o=function(){this.i=null,le.K.o.call(this)},wt(le.prototype,{l:un,w:rn,u:bn});function Nf(r,l,h,p,m){le.call(this,lT,{email:r,G:!!l},l,m,"passwordRecoveryEmailSent",{F:h,D:p})}Y(Nf,le);function WT(r,l){le.call(this,PT,{G:!!r},r,l,"emailVerificationSuccess")}Y(WT,le);function qT(r,l){le.call(this,RT,{G:!!r},r,l,"emailVerificationFailure")}Y(qT,le);function KT(r,l,h){le.call(this,kT,{email:r,G:!!l},l,h,"verifyAndChangeEmailSuccess")}Y(KT,le);function GT(r,l){le.call(this,xT,{G:!!r},r,l,"verifyAndChangeEmailFailure")}Y(GT,le);function YT(r,l){le.call(this,OT,{G:!!r},r,l,"revertSecondFactorAdditionFailure")}Y(YT,le);function XT(r){le.call(this,BT,void 0,void 0,r,"signOut")}Y(XT,le);function QT(r,l){le.call(this,TT,{G:!!r},r,l,"passwordResetSuccess")}Y(QT,le);function JT(r,l){le.call(this,ST,{G:!!r},r,l,"passwordResetFailure")}Y(JT,le);function ZT(r,l){le.call(this,CT,{G:!!r},r,l,"emailChangeRevokeFailure")}Y(ZT,le);function tS(r,l,h){le.call(this,MT,{errorMessage:r,zb:!!l},l,h,"recoverableError")}Y(tS,le);function eS(r,l){le.call(this,NT,{errorMessage:r},void 0,l,"unrecoverableError")}Y(eS,le);function nu(r){if(r.code==="auth/invalid-credential"&&r.message&&r.message.indexOf("error=consent_required")!==-1)return{code:"auth/user-cancelled"};if(r.message&&r.message.indexOf("HTTP Cloud Function returned an error:")!==-1){var l=JSON.parse(r.message.substring(r.message.indexOf("{"),r.message.lastIndexOf("}")+1));return{code:r.code,message:l&&l.error&&l.error.message||r.message}}return r}function zs(r,l,h,p){function m(E){if(!E.name||E.name!="cancel"){t:{var P=E.message;try{var N=((JSON.parse(P).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(N&&N.length){var q=!0;break t}}catch{}q=!1}if(q)E=ke(l),l.m(),_e(r,E,void 0,Jt("Your sign-in session has expired. Please try again.").toString());else{if(q=E&&E.message||"",E.code){if(E.code=="auth/email-already-in-use"||E.code=="auth/credential-already-in-use")return;q=ue(E)}l.a(q)}}}if(IS(r),p)return nS(r,h),Ue();if(!h.credential)throw Error("No credential found!");if(!jt(r).currentUser&&!h.user)throw Error("User not logged in.");try{var y=yV(r,h)}catch(E){return wi(E.code||E.message,E),l.a(E.code||E.message),Ue()}return h=y.then(function(E){nS(r,E)},m).then(void 0,m),Nt(r,y),Ue(h)}function nS(r,l){if(!l.user)throw Error("No user found");var h=TI($(r));if(uy($(r))&&h&&Or("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),h){h=TI($(r));var p=iI(St(r))||void 0;ai($c,St(r));var m=!1;IE()?((!h||h(l,p))&&(m=!0,Va(window.opener.location,Lf(r,p))),h||window.close()):(!h||h(l,p))&&(m=!0,Va(window.location,Lf(r,p))),m||r.reset()}else{h=l.user,l=l.credential,p=uy($(r)),m=iI(St(r))||void 0,ai($c,St(r));var y=!1;IE()?((!p||p(h,l,m))&&(y=!0,Va(window.opener.location,Lf(r,m))),p||window.close()):(!p||p(h,l,m))&&(y=!0,Va(window.location,Lf(r,m))),y||r.reset()}}function Lf(r,l){if(r=l||$(r).a.get("signInSuccessUrl"),!r)throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return r}function ue(r){var l={code:r.code};l=l||{};var h="";switch(l.code){case"auth/email-already-in-use":h+="The email address is already used by another account";break;case"auth/requires-recent-login":h+=J1();break;case"auth/too-many-requests":h+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":h+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":h+="That email address doesn't match an existing account";break;case"auth/user-token-expired":h+=J1();break;case"auth/weak-password":h+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":h+="The email and password you entered don't match";break;case"auth/network-request-failed":h+="A network error has occurred";break;case"auth/invalid-phone-number":h+=T_();break;case"auth/invalid-verification-code":h+=Jt("Wrong code. Try again.");break;case"auth/code-expired":h+="This code is no longer valid";break;case"auth/expired-action-code":h+="This code has expired.";break;case"auth/invalid-action-code":h+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(l=Jt(h).toString())return l;try{return JSON.parse(r.message),wi("Internal error: "+r.message,void 0),Y1().toString()}catch{return r.message}}function jL(r,l,h){var p=Ya[l]&&pt.auth[Ya[l]]?new pt.auth[Ya[l]]:l.indexOf("saml.")==0?new pt.auth.SAMLAuthProvider(l):new pt.auth.OAuthProvider(l);if(!p)throw Error("Invalid Firebase Auth provider!");var m=vI($(r),l);if(p.addScope)for(var y=0;y<m.length;y++)p.addScope(m[y]);return m=bI($(r),l)||{},h&&(l==pt.auth.GoogleAuthProvider.PROVIDER_ID?r="login_hint":l==pt.auth.GithubAuthProvider.PROVIDER_ID?r="login":r=(r=Wc($(r),l))&&r.Ob,r&&(m[r]=h)),p.setCustomParameters&&p.setCustomParameters(m),p}function iu(r,l,h,p){function m(){gL(new jE(r.h.tenantId||null),St(r)),Nt(r,l.I(J(r.dc,r),[N],function(){if((window.location&&window.location.protocol)==="file:")return Nt(r,yS(r).then(function(q){l.m(),ai(Oo,St(r)),ut("callback",r,P,Ue(q))},y))},E))}function y(q){if(ai(Oo,St(r)),!q.name||q.name!="cancel")switch(q=nu(q),q.code){case"auth/popup-blocked":m();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":break;case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":l.a(ue(q));break;case"auth/admin-restricted-operation":l.m(),No($(r))?ut("handleUnauthorizedUser",r,P,null,h):ut("callback",r,P,Fa(q));break;default:l.m(),ut("callback",r,P,Fa(q))}}function E(q){ai(Oo,St(r)),q.name&&q.name=="cancel"||(wi("signInWithRedirect: "+q.code,void 0),q=ue(q),l.Ga=="blank"&&cy($(r))?(l.m(),ut("providerSignIn",r,P,q)):l.a(q))}var P=ke(l),N=jL(r,h,p);II($(r))==Af?m():Nt(r,_V(r,N).then(function(q){l.m(),ut("callback",r,P,Ue(q))},y))}function $L(r,l){Nt(r,l.I(J(r.$b,r),[],function(h){return l.m(),zs(r,l,h,!0)},function(h){h.name&&h.name=="cancel"||(wi("ContinueAsGuest: "+h.code,void 0),h=ue(h),l.a(h))}))}function HL(r,l,h){function p(y){var E=!1;return y=l.I(J(r.ac,r),[y],function(P){var N=ke(l);l.m(),ut("callback",r,N,Ue(P)),E=!0},function(P){if((!P.name||P.name!="cancel")&&(!P||P.code!="auth/credential-already-in-use"))if(P&&P.code=="auth/email-already-in-use"&&P.email&&P.credential){var N=ke(l);l.m(),ut("callback",r,N,Fa(P))}else P&&P.code=="auth/admin-restricted-operation"&&No($(r))?(P=ke(l),l.m(),ut("handleUnauthorizedUser",r,P,null,pt.auth.GoogleAuthProvider.PROVIDER_ID)):(P=ue(P),l.a(P))}),Nt(r,y),y.then(function(){return E},function(){return!1})}if(h&&h.credential&&h.clientId===_I($(r))){if(vI($(r),pt.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var m=JSON.parse(atob(h.credential.split(".")[1])).email}catch{}return iu(r,l,pt.auth.GoogleAuthProvider.PROVIDER_ID,m),Ue(!0)}return p(pt.auth.GoogleAuthProvider.credential(h.credential))}return h&&l.a(Jt("The selected credential for the authentication provider is not supported!").toString()),Ue(!1)}function zL(r,l){var h=l.j(),p=l.u();if(h)if(p){var m=pt.auth.EmailAuthProvider.credential(h,p);Nt(r,l.I(J(r.bc,r),[h,p],function(y){return zs(r,l,{user:y.user,credential:m,operationType:y.operationType,additionalUserInfo:y.additionalUserInfo})},function(y){if(!y.name||y.name!="cancel")switch(y.code){case"auth/email-already-in-use":break;case"auth/email-exists":Be(l.l(),!1),vn(l.U(),ue(y));break;case"auth/too-many-requests":case"auth/wrong-password":Be(l.i(),!1),vn(l.B(),ue(y));break;default:wi("verifyPassword: "+y.message,void 0),l.a(ue(y))}}))}else l.i().focus();else l.l().focus()}function Vf(r){return r=Xa($(r)),r.length==1&&r[0]==pt.auth.EmailAuthProvider.PROVIDER_ID}function iS(r){return r=Xa($(r)),r.length==1&&r[0]==pt.auth.PhoneAuthProvider.PROVIDER_ID}function _e(r,l,h,p){Vf(r)?p?ut("signIn",r,l,h,p):Ay(r,l,h):r&&iS(r)&&!p?ut("phoneSignInStart",r,l):r&&cy($(r))&&!p?ut("federatedRedirect",r,l,h):ut("providerSignIn",r,l,p,h)}function sS(r,l,h,p){var m=ke(l);Nt(r,l.I(J(jt(r).fetchSignInMethodsForEmail,jt(r)),[h],function(y){l.m(),rS(r,m,y,h,p)},function(y){y=ue(y),l.a(y)}))}function rS(r,l,h,p,m,y){h.length||Qa($(r))&&!Qa($(r))?L(h,pt.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ut("passwordSignIn",r,l,p,y):h.length==1&&h[0]===pt.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?Qa($(r))?ut("sendEmailLinkForSignIn",r,l,p,function(){ut("signIn",r,l)}):ut("unsupportedProvider",r,l,p):(h=pI(h,Xa($(r))))?(sI(new X_(p),St(r)),ut("federatedSignIn",r,l,p,h,m)):ut("unsupportedProvider",r,l,p):yI($(r))?ut("handleUnauthorizedUser",r,l,p,pt.auth.EmailAuthProvider.PROVIDER_ID):Qa($(r))?ut("sendEmailLinkForSignIn",r,l,p,function(){ut("signIn",r,l)}):ut("passwordSignUp",r,l,p,void 0,void 0,y)}function Sy(r,l,h,p,m,y){var E=ke(l);Nt(r,l.I(J(r.Ib,r),[h,y],function(){l.m(),ut("emailLinkSignInSent",r,E,h,p,y)},m))}function Ay(r,l,h){h?ut("prefilledEmailSignIn",r,l,h):ut("signIn",r,l)}function su(){return Fd($s(),"oobCode")}function Cy(){var r=Fd($s(),"continueUrl");return r?function(){Va(window.location,r)}:null}function ru(r,l){B.call(this,mT,void 0,l,"anonymousUserMismatch"),this.i=r}c(ru,B),ru.prototype.v=function(){var r=this;Oe(this,this.l(),function(){r.i()}),this.l().focus(),B.prototype.v.call(this)},ru.prototype.o=function(){this.i=null,B.prototype.o.call(this)},wt(ru.prototype,{l:rn}),se.anonymousUserMismatch=function(r,l){var h=new ru(function(){h.m(),_e(r,l)});h.render(l),Ft(r,h)};function Ff(r){B.call(this,cT,void 0,r,"callback")}c(Ff,B),Ff.prototype.I=function(r,l,h,p){return r.apply(null,l).then(h,p)};function oS(r,l,h){if(h.user){var p={user:h.user,credential:h.credential,operationType:h.operationType,additionalUserInfo:h.additionalUserInfo},m=us(St(r)),y=m&&m.g;if(y&&!qL(h.user,y))WL(r,l,p);else{var E=m&&m.a;E?Nt(r,h.user.linkWithCredential(E).then(function(P){p={user:P.user,credential:E,operationType:P.operationType,additionalUserInfo:P.additionalUserInfo},aS(r,l,p)},function(P){Uf(r,l,P)})):aS(r,l,p)}}else h=ke(l),l.m(),hs(St(r)),_e(r,h)}function aS(r,l,h){hs(St(r)),zs(r,l,h)}function Uf(r,l,h){var p=ke(l);hs(St(r)),h=ue(h),l.m(),_e(r,p,void 0,h)}function lS(r,l,h,p){var m=ke(l);Nt(r,jt(r).fetchSignInMethodsForEmail(h).then(function(y){l.m(),y.length?L(y,pt.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ut("passwordLinking",r,m,h):y.length==1&&y[0]===pt.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?ut("emailLinkSignInLinking",r,m,h):(y=pI(y,Xa($(r))))?ut("federatedLinking",r,m,h,y,p):(hs(St(r)),ut("unsupportedProvider",r,m,h)):(hs(St(r)),ut("passwordRecovery",r,m,h,!1,X1().toString()))},function(y){Uf(r,l,y)}))}function WL(r,l,h){var p=ke(l);Nt(r,Lr(r).then(function(){l.m(),ut("emailMismatch",r,p,h)},function(m){m.name&&m.name=="cancel"||(m=ue(m.code),l.a(m))}))}function qL(r,l){if(l==r.email)return!0;if(r.providerData){for(var h=0;h<r.providerData.length;h++)if(l==r.providerData[h].email)return!0}return!1}se.callback=function(r,l,h){var p=new Ff;p.render(l),Ft(r,p),h=h||yS(r),Nt(r,h.then(function(m){oS(r,p,m)},function(m){if((m=nu(m))&&(m.code=="auth/account-exists-with-different-credential"||m.code=="auth/email-already-in-use")&&m.email&&m.credential)sI(new X_(m.email,m.credential),St(r)),lS(r,p,m.email);else if(m&&m.code=="auth/user-cancelled"){var y=us(St(r)),E=ue(m);y&&y.a?lS(r,p,y.g,E):y?sS(r,p,y.g,E):Uf(r,p,m)}else m&&m.code=="auth/credential-already-in-use"||(m&&m.code=="auth/operation-not-supported-in-this-environment"&&Vf(r)?oS(r,p,{user:null,credential:null}):m&&m.code=="auth/admin-restricted-operation"&&No($(r))?(p.m(),hs(St(r)),ut("handleUnauthorizedUser",r,l,null,null)):Uf(r,p,m))}))};function ou(r,l){B.call(this,gT,void 0,l,"differentDeviceError"),this.i=r}c(ou,B),ou.prototype.v=function(){var r=this;Oe(this,this.l(),function(){r.i()}),this.l().focus(),B.prototype.v.call(this)},ou.prototype.o=function(){this.i=null,B.prototype.o.call(this)},wt(ou.prototype,{l:rn}),se.differentDeviceError=function(r,l){var h=new ou(function(){h.m(),_e(r,l)});h.render(l),Ft(r,h)};function au(r,l,h,p){B.call(this,AT,{email:r,G:!!h},p,"emailChangeRevoke"),this.l=l,this.i=h||null}c(au,B),au.prototype.v=function(){var r=this;Oe(this,Gt(this,"firebaseui-id-reset-password-link"),function(){r.l()}),this.i&&(this.w(this.i),this.u().focus()),B.prototype.v.call(this)},au.prototype.o=function(){this.l=this.i=null,B.prototype.o.call(this)},wt(au.prototype,{u:un,B:rn,w:bn});function lu(){return Gt(this,"firebaseui-id-new-password")}function Bf(){return Gt(this,"firebaseui-id-password-toggle")}function KL(){this.Ra=!this.Ra;var r=Bf.call(this),l=lu.call(this);this.Ra?(l.type="text",ds(r,"firebaseui-input-toggle-off"),fs(r,"firebaseui-input-toggle-on")):(l.type="password",ds(r,"firebaseui-input-toggle-on"),fs(r,"firebaseui-input-toggle-off")),l.focus()}function jf(){return Gt(this,"firebaseui-id-new-password-error")}function cS(){this.Ra=!1;var r=lu.call(this);r.type="password";var l=jf.call(this);sl(this,r,function(){rl(l)&&(Be(r,!0),Ii(l))});var h=Bf.call(this);ds(h,"firebaseui-input-toggle-on"),fs(h,"firebaseui-input-toggle-off"),NL(this,r,function(){ds(h,"firebaseui-input-toggle-focus"),fs(h,"firebaseui-input-toggle-blur")}),LL(this,r,function(){ds(h,"firebaseui-input-toggle-blur"),fs(h,"firebaseui-input-toggle-focus")}),Oe(this,h,J(KL,this))}function uS(){var r=lu.call(this),l=jf.call(this);return yn(r)?(Be(r,!0),Ii(l),l=!0):(Be(r,!1),vn(l,Jt("Enter your password").toString()),l=!1),l?yn(r):null}function cu(r,l,h){B.call(this,IT,{email:r},h,"passwordReset"),this.l=l}c(cu,B),cu.prototype.v=function(){this.H(),this.B(this.l),ll(this,this.i(),this.l),this.i().focus(),B.prototype.v.call(this)},cu.prototype.o=function(){this.l=null,B.prototype.o.call(this)},wt(cu.prototype,{i:lu,w:jf,M:Bf,H:cS,u:uS,U:un,P:rn,B:bn});function uu(r,l,h,p,m){B.call(this,DT,{factorId:r,phoneNumber:h||null,G:!!p},m,"revertSecondFactorAdditionSuccess"),this.l=l,this.i=p||null}c(uu,B),uu.prototype.v=function(){var r=this;Oe(this,Gt(this,"firebaseui-id-reset-password-link"),function(){r.l()}),this.i&&(this.w(this.i),this.u().focus()),B.prototype.v.call(this)},uu.prototype.o=function(){this.l=this.i=null,B.prototype.o.call(this)},wt(uu.prototype,{u:un,B:rn,w:bn});function GL(r,l,h,p,m){var y=h.u();y&&Nt(r,h.I(J(jt(r).confirmPasswordReset,jt(r)),[p,y],function(){h.m();var E=new QT(m);E.render(l),Ft(r,E)},function(E){hS(r,l,h,E)}))}function hS(r,l,h,p){(p&&p.code)=="auth/weak-password"?(r=ue(p),Be(h.i(),!1),vn(h.w(),r),h.i().focus()):(h&&h.m(),h=new JT,h.render(l),Ft(r,h))}function YL(r,l,h){var p=new au(h,function(){Nt(r,p.I(J(jt(r).sendPasswordResetEmail,jt(r)),[h],function(){p.m(),p=new Nf(h,void 0,Je($(r)),Ze($(r))),p.render(l),Ft(r,p)},function(){p.a(G1().toString())}))});p.render(l),Ft(r,p)}function XL(r,l,h,p){var m=new uu(p.factorId,function(){m.I(J(jt(r).sendPasswordResetEmail,jt(r)),[h],function(){m.m(),m=new Nf(h,void 0,Je($(r)),Ze($(r))),m.render(l),Ft(r,m)},function(){m.a(G1().toString())})},p.phoneNumber);m.render(l),Ft(r,m)}se.passwordReset=function(r,l,h,p){Nt(r,jt(r).verifyPasswordResetCode(h).then(function(m){var y=new cu(m,function(){GL(r,l,y,h,p)});y.render(l),Ft(r,y)},function(){hS(r,l)}))},se.emailChangeRevocation=function(r,l,h){var p=null;Nt(r,jt(r).checkActionCode(h).then(function(m){return p=m.data.email,jt(r).applyActionCode(h)}).then(function(){YL(r,l,p)},function(){var m=new ZT;m.render(l),Ft(r,m)}))},se.emailVerification=function(r,l,h,p){Nt(r,jt(r).applyActionCode(h).then(function(){var m=new WT(p);m.render(l),Ft(r,m)},function(){var m=new qT;m.render(l),Ft(r,m)}))},se.revertSecondFactorAddition=function(r,l,h){var p=null,m=null;Nt(r,jt(r).checkActionCode(h).then(function(y){return p=y.data.email,m=y.data.multiFactorInfo,jt(r).applyActionCode(h)}).then(function(){XL(r,l,p,m)},function(){var y=new YT;y.render(l),Ft(r,y)}))},se.verifyAndChangeEmail=function(r,l,h,p){var m=null;Nt(r,jt(r).checkActionCode(h).then(function(y){return m=y.data.email,jt(r).applyActionCode(h)}).then(function(){var y=new KT(m,p);y.render(l),Ft(r,y)},function(){var y=new GT;y.render(l),Ft(r,y)}))};function $f(r,l){try{var h=typeof r.selectionStart=="number"}catch{h=!1}h?(r.selectionStart=l,r.selectionEnd=l):Ve&&!To("9")&&(r.type=="textarea"&&(l=r.value.substring(0,l).replace(/(\r\n|\r|\n)/g,`
`).length),r=r.createTextRange(),r.collapse(!0),r.move("character",l),r.select())}function hu(r,l,h,p,m,y){B.call(this,pT,{email:h},y,"emailLinkSignInConfirmation",{F:p,D:m}),this.l=r,this.u=l}c(hu,B),hu.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),$f(this.i(),(this.i().value||"").length),B.prototype.v.call(this)},hu.prototype.o=function(){this.u=this.l=null,B.prototype.o.call(this)},wt(hu.prototype,{i:Hs,M:Nr,w:ul,H:hl,j:dl,U:un,P:rn,B:bn}),se.emailLinkConfirmation=function(r,l,h,p,m,y){var E=new hu(function(){var P=E.j();P?(E.m(),p(r,l,P,h)):E.i().focus()},function(){E.m(),_e(r,l,m||void 0)},m||void 0,Je($(r)),Ze($(r)));E.render(l),Ft(r,E),y&&E.a(y)};function du(r,l,h,p,m){B.call(this,vT,{ga:r},m,"emailLinkSignInLinkingDifferentDevice",{F:h,D:p}),this.i=l}c(du,B),du.prototype.v=function(){this.u(this.i),this.l().focus(),B.prototype.v.call(this)},du.prototype.o=function(){this.i=null,B.prototype.o.call(this)},wt(du.prototype,{l:un,u:bn}),se.emailLinkNewDeviceLinking=function(r,l,h,p){var m=new Io(h);if(h=m.a.a.get(en.PROVIDER_ID)||null,S1(m,null),h){var y=new du(Wc($(r),h),function(){y.m(),p(r,l,m.toString())},Je($(r)),Ze($(r)));y.render(l),Ft(r,y)}else _e(r,l)};function Hf(r){B.call(this,hT,void 0,r,"blank")}c(Hf,B);function Py(r,l,h,p,m){var y=new Hf,E=new Io(h),P=E.a.a.get(en.$a)||"",N=E.a.a.get(en.Sa)||"",q=E.a.a.get(en.Qa)==="1",ht=T1(E),ce=E.a.a.get(en.PROVIDER_ID)||null;E=E.a.a.get(en.vb)||null,TS(r,E);var Gi=!Ka(qa,St(r)),RS=p||mL(N,St(r)),Su=(p=_L(N,St(r)))&&p.a;ce&&Su&&Su.providerId!==ce&&(Su=null),y.render(l),Ft(r,y),Nt(r,y.I(function(){var Li=Ue(null);Li=ht&&Gi||Gi&&q?Fa(Error("anonymous-user-not-found")):pV(r,h).then(function(Uy){if(ce&&!Su)throw Error("pending-credential-not-found");return Uy});var Au=null;return Li.then(function(Uy){return Au=Uy,m?null:jt(r).checkActionCode(P)}).then(function(){return Au})},[],function(Li){RS?JL(r,y,RS,h,Su,Li):q?(y.m(),ut("differentDeviceError",r,l)):(y.m(),ut("emailLinkConfirmation",r,l,h,dS))},function(Li){var Au=void 0;if(!Li||!Li.name||Li.name!="cancel")switch(y.m(),Li&&Li.message){case"anonymous-user-not-found":ut("differentDeviceError",r,l);break;case"anonymous-user-mismatch":ut("anonymousUserMismatch",r,l);break;case"pending-credential-not-found":ut("emailLinkNewDeviceLinking",r,l,h,QL);break;default:Li&&(Au=ue(Li)),_e(r,l,void 0,Au)}}))}function dS(r,l,h,p){Py(r,l,p,h,!0)}function QL(r,l,h){Py(r,l,h)}function JL(r,l,h,p,m,y){var E=ke(l);l.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Jt("Signing in...").toString());var P=null;m=(y?gV(r,y,h,p,m):mV(r,h,p,m)).then(function(N){ai(Hc,St(r)),ai(qa,St(r)),l.h(),l.$("firebaseui-icon-done",Jt("Signed in!").toString()),P=setTimeout(function(){l.h(),zs(r,l,N,!0)},1e3),Nt(r,function(){l&&(l.h(),l.m()),clearTimeout(P)})},function(N){if(l.h(),l.m(),!N.name||N.name!="cancel"){N=nu(N);var q=ue(N);N.code=="auth/email-already-in-use"||N.code=="auth/credential-already-in-use"?(ai(Hc,St(r)),ai(qa,St(r))):N.code=="auth/invalid-email"?(q=Jt("The email provided does not match the current sign-in session.").toString(),ut("emailLinkConfirmation",r,E,p,dS,null,q)):_e(r,E,h,q)}}),Nt(r,m)}se.emailLinkSignInCallback=Py;function fu(r,l,h,p,m,y){B.call(this,yT,{email:r,ga:l},y,"emailLinkSignInLinking",{F:p,D:m}),this.i=h}c(fu,B),fu.prototype.v=function(){this.u(this.i),this.l().focus(),B.prototype.v.call(this)},fu.prototype.o=function(){this.i=null,B.prototype.o.call(this)},wt(fu.prototype,{l:un,u:bn});function ZL(r,l,h,p){var m=ke(l);Sy(r,l,h,function(){_e(r,m,h)},function(y){if(!y.name||y.name!="cancel"){var E=ue(y);y&&y.code=="auth/network-request-failed"?l.a(E):(l.m(),_e(r,m,h,E))}},p)}se.emailLinkSignInLinking=function(r,l,h){var p=us(St(r));if(hs(St(r)),p){var m=p.a.providerId,y=new fu(h,Wc($(r),m),function(){ZL(r,y,h,p)},Je($(r)),Ze($(r)));y.render(l),Ft(r,y)}else _e(r,l)};function pu(r,l,h,p,m,y){B.call(this,dT,{email:r},y,"emailLinkSignInSent",{F:p,D:m}),this.u=l,this.i=h}c(pu,B),pu.prototype.v=function(){var r=this;Oe(this,this.l(),function(){r.i()}),Oe(this,Gt(this,"firebaseui-id-trouble-getting-email-link"),function(){r.u()}),this.l().focus(),B.prototype.v.call(this)},pu.prototype.o=function(){this.i=this.u=null,B.prototype.o.call(this)},wt(pu.prototype,{l:rn}),se.emailLinkSignInSent=function(r,l,h,p,m){var y=new pu(h,function(){y.m(),ut("emailNotReceived",r,l,h,p,m)},function(){y.m(),p()},Je($(r)),Ze($(r)));y.render(l),Ft(r,y)};function gu(r,l,h,p,m,y,E){B.call(this,LT,{jc:r,Qb:l},E,"emailMismatch",{F:m,D:y}),this.l=h,this.i=p}c(gu,B),gu.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),B.prototype.v.call(this)},gu.prototype.o=function(){this.i=null,B.prototype.o.call(this)},wt(gu.prototype,{u:un,B:rn,w:bn}),se.emailMismatch=function(r,l,h){var p=us(St(r));if(p){var m=new gu(h.user.email,p.g,function(){var y=m;hs(St(r)),zs(r,y,h)},function(){var y=h.credential.providerId,E=ke(m);m.m(),p.a?ut("federatedLinking",r,E,p.g,y):ut("federatedSignIn",r,E,p.g,y)},Je($(r)),Ze($(r)));m.render(l),Ft(r,m)}else _e(r,l)};function fl(r,l,h,p,m){B.call(this,fT,void 0,m,"emailNotReceived",{F:h,D:p}),this.l=r,this.i=l}c(fl,B),fl.prototype.v=function(){var r=this;Oe(this,this.u(),function(){r.i()}),Oe(this,this.Da(),function(){r.l()}),this.u().focus(),B.prototype.v.call(this)},fl.prototype.Da=function(){return Gt(this,"firebaseui-id-resend-email-link")},fl.prototype.o=function(){this.i=this.l=null,B.prototype.o.call(this)},wt(fl.prototype,{u:rn}),se.emailNotReceived=function(r,l,h,p,m){var y=new fl(function(){Sy(r,y,h,p,function(E){E=ue(E),y.a(E)},m)},function(){y.m(),_e(r,l,h)},Je($(r)),Ze($(r)));y.render(l),Ft(r,y)};function pl(r,l,h,p,m,y){B.call(this,bT,{email:r,ga:l},y,"federatedLinking",{F:p,D:m}),this.i=h}c(pl,B),pl.prototype.v=function(){this.u(this.i),this.l().focus(),B.prototype.v.call(this)},pl.prototype.o=function(){this.i=null,B.prototype.o.call(this)},wt(pl.prototype,{l:un,u:bn}),se.federatedLinking=function(r,l,h,p,m){var y=us(St(r));if(y&&y.a){var E=new pl(h,Wc($(r),p),function(){iu(r,E,p,h)},Je($(r)),Ze($(r)));E.render(l),Ft(r,E),m&&E.a(m)}else _e(r,l)},se.federatedRedirect=function(r,l,h){var p=new Hf;p.render(l),Ft(r,p),l=Xa($(r))[0],iu(r,p,l,h)},se.federatedSignIn=function(r,l,h,p,m){var y=new pl(h,Wc($(r),p),function(){iu(r,y,p,h)},Je($(r)),Ze($(r)));y.render(l),Ft(r,y),m&&y.a(m)};function tV(r,l,h,p){var m=l.u();m?Nt(r,l.I(J(r.Xb,r),[h,m],function(y){return y=y.user.linkWithCredential(p).then(function(E){return zs(r,l,{user:E.user,credential:p,operationType:E.operationType,additionalUserInfo:E.additionalUserInfo})}),Nt(r,y),y},function(y){if(!y.name||y.name!="cancel")switch(y.code){case"auth/wrong-password":Be(l.i(),!1),vn(l.B(),ue(y));break;case"auth/too-many-requests":l.a(ue(y));break;default:wi("signInWithEmailAndPassword: "+y.message,void 0),l.a(ue(y))}})):l.i().focus()}se.passwordLinking=function(r,l,h){var p=us(St(r));hs(St(r));var m=p&&p.a;if(m){var y=new cl(h,function(){tV(r,y,h,m)},function(){y.m(),ut("passwordRecovery",r,l,h)},Je($(r)),Ze($(r)));y.render(l),Ft(r,y)}else _e(r,l)};function mu(r,l,h,p,m,y){B.call(this,aT,{email:h,Ta:!!l},y,"passwordRecovery",{F:p,D:m}),this.l=r,this.u=l}c(mu,B),mu.prototype.v=function(){this.B(),this.H(this.l,this.u),yn(this.i())||this.i().focus(),ll(this,this.i(),this.l),B.prototype.v.call(this)},mu.prototype.o=function(){this.u=this.l=null,B.prototype.o.call(this)},wt(mu.prototype,{i:Hs,w:Nr,B:ul,M:hl,j:dl,U:un,P:rn,H:bn});function eV(r,l){var h=l.j();if(h){var p=ke(l);Nt(r,l.I(J(jt(r).sendPasswordResetEmail,jt(r)),[h],function(){l.m();var m=new Nf(h,function(){m.m(),_e(r,p)},Je($(r)),Ze($(r)));m.render(p),Ft(r,m)},function(m){Be(l.i(),!1),vn(l.w(),ue(m))}))}else l.i().focus()}se.passwordRecovery=function(r,l,h,p,m){var y=new mu(function(){eV(r,y)},p?void 0:function(){y.m(),_e(r,l)},h,Je($(r)),Ze($(r)));y.render(l),Ft(r,y),m&&y.a(m)},se.passwordSignIn=function(r,l,h,p){var m=new eu(function(){zL(r,m)},function(){var y=m.M();m.m(),ut("passwordRecovery",r,l,y)},h,Je($(r)),Ze($(r)),p);m.render(l),Ft(r,m)};function Ry(){return Gt(this,"firebaseui-id-name")}function ky(){return Gt(this,"firebaseui-id-name-error")}function _u(r,l,h,p,m,y,E,P,N){B.call(this,oT,{email:p,Tb:r,name:m,Ta:!!h,ia:!!P},N,"passwordSignUp",{F:y,D:E}),this.w=l,this.H=h,this.B=r}c(_u,B),_u.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(tu(this,this.i(),this.u()),tu(this,this.u(),this.l())):tu(this,this.i(),this.l()),this.w&&ll(this,this.l(),this.w),yn(this.i())?this.B&&!yn(this.u())?this.u().focus():this.l().focus():this.i().focus(),B.prototype.v.call(this)},_u.prototype.o=function(){this.H=this.w=null,B.prototype.o.call(this)},wt(_u.prototype,{i:Hs,U:Nr,ea:ul,jb:hl,j:dl,u:Ry,Bc:ky,Ja:function(){var r=Ry.call(this),l=ky.call(this);sl(this,r,function(){rl(l)&&(Be(r,!0),Ii(l))})},M:function(){var r=Ry.call(this),l=ky.call(this),h=yn(r);return h=!/^[\s\xa0]*$/.test(h==null?"":String(h)),Be(r,h),h?(Ii(l),l=!0):(vn(l,Jt("Enter your account name").toString()),l=!1),l?O(yn(r)):null},l:lu,ba:jf,lb:Bf,ua:cS,P:uS,Nb:un,Mb:rn,pa:bn});function nV(r,l){var h=EI($(r)),p=l.j(),m=null;h&&(m=l.M());var y=l.P();if(p){if(h)if(m)m=mt(m);else{l.u().focus();return}if(y){var E=pt.auth.EmailAuthProvider.credential(p,y);Nt(r,l.I(J(r.Yb,r),[p,y],function(P){var N={user:P.user,credential:E,operationType:P.operationType,additionalUserInfo:P.additionalUserInfo};return h?(P=P.user.updateProfile({displayName:m}).then(function(){return zs(r,l,N)}),Nt(r,P),P):zs(r,l,N)},function(P){if(!P.name||P.name!="cancel"){var N=nu(P);switch(P=ue(N),N.code){case"auth/email-already-in-use":return iV(r,l,p,N);case"auth/too-many-requests":P=Jt("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":Be(l.l(),!1),vn(l.ba(),P);break;case"auth/admin-restricted-operation":No($(r))?(P=ke(l),l.m(),ut("handleUnauthorizedUser",r,P,p,pt.auth.EmailAuthProvider.PROVIDER_ID)):l.a(P);break;default:N="setAccountInfo: "+JE(N),wi(N,void 0),l.a(P)}}}))}else l.l().focus()}else l.i().focus()}function iV(r,l,h,p){function m(){var E=ue(p);Be(l.i(),!1),vn(l.U(),E),l.i().focus()}var y=jt(r).fetchSignInMethodsForEmail(h).then(function(E){E.length?m():(E=ke(l),l.m(),ut("passwordRecovery",r,E,h,!1,X1().toString()))},function(){m()});return Nt(r,y),y}se.passwordSignUp=function(r,l,h,p,m,y){function E(){P.m(),_e(r,l)}var P=new _u(EI($(r)),function(){nV(r,P)},m?void 0:E,h,p,Je($(r)),Ze($(r)),y);P.render(l),Ft(r,P)};function xy(){return Gt(this,"firebaseui-id-phone-confirmation-code")}function fS(){return Gt(this,"firebaseui-id-phone-confirmation-code-error")}function pS(){return Gt(this,"firebaseui-id-resend-countdown")}function gl(r,l,h,p,m,y,E,P,N){B.call(this,UT,{phoneNumber:m},N,"phoneSignInFinish",{F:E,D:P}),this.jb=y,this.i=new Cf(1e3),this.B=y,this.P=r,this.l=l,this.H=h,this.M=p}c(gl,B),gl.prototype.v=function(){var r=this;this.U(this.jb),zi(this.i,"tick",this.w,!1,this),this.i.start(),Oe(this,Gt(this,"firebaseui-id-change-phone-number-link"),function(){r.P()}),Oe(this,this.Da(),function(){r.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),B.prototype.v.call(this)},gl.prototype.o=function(){this.M=this.H=this.l=this.P=null,Pf(this.i),Ro(this.i,"tick",this.w),this.i=null,B.prototype.o.call(this)},gl.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(Pf(this.i),Ro(this.i,"tick",this.w),this.ua(),this.lb())},wt(gl.prototype,{u:xy,pa:fS,Ja:function(r){var l=xy.call(this),h=fS.call(this);sl(this,l,function(){rl(h)&&(Be(l,!0),Ii(h))}),r&&Zc(this,l,function(){r()})},ba:function(){var r=O(yn(xy.call(this))||"");return/^\d{6}$/.test(r)?r:null},Fb:pS,U:function(r){b_(pS.call(this),Jt("Resend code in "+((9<r?"0:":"0:0")+r)).toString())},ua:function(){Ii(this.Fb())},Da:function(){return Gt(this,"firebaseui-id-resend-link")},lb:function(){vn(this.Da())},Nb:un,Mb:rn,ea:bn});function sV(r,l,h,p){function m(E){l.u().focus(),Be(l.u(),!1),vn(l.pa(),E)}var y=l.ba();y?(l.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Jt("Verifying...").toString()),Nt(r,l.I(J(p.confirm,p),[y],function(E){l.h(),l.$("firebaseui-icon-done",Jt("Verified!").toString());var P=setTimeout(function(){l.h(),l.m();var N={user:qi(r).currentUser,credential:null,operationType:E.operationType,additionalUserInfo:E.additionalUserInfo};zs(r,l,N,!0)},1e3);Nt(r,function(){l&&l.h(),clearTimeout(P)})},function(E){if(E.name&&E.name=="cancel")l.h();else{var P=nu(E);switch(E=ue(P),P.code){case"auth/credential-already-in-use":l.h();break;case"auth/code-expired":P=ke(l),l.h(),l.m(),ut("phoneSignInStart",r,P,h,E);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":l.h(),m(E);break;default:l.h(),l.a(E)}}}))):m(Jt("Wrong code. Try again.").toString())}se.phoneSignInFinish=function(r,l,h,p,m,y){var E=new gl(function(){E.m(),ut("phoneSignInStart",r,l,h)},function(){sV(r,E,h,m)},function(){E.m(),_e(r,l)},function(){E.m(),ut("phoneSignInStart",r,l,h)},ay(h),p,Je($(r)),Ze($(r)));E.render(l),Ft(r,E),y&&E.a(y)};var rV=!Ve&&!(Bt("Safari")&&!(P1()||Bt("Coast")||Bt("Opera")||Bt("Edge")||Bt("Firefox")||Bt("FxiOS")||Bt("Silk")||Bt("Android")));function zf(r,l){return/-[a-z]/.test(l)?null:rV&&r.dataset?!Bt("Android")||P1()||Bt("Firefox")||Bt("FxiOS")||Bt("Opera")||Bt("Silk")||l in r.dataset?(r=r.dataset[l],r===void 0?null:r):null:r.getAttribute("data-"+String(l).replace(/([A-Z])/g,"-$1").toLowerCase())}function oV(r,l,h){var p=this;r=Rc(JI,{items:r},null,this.s),tT.call(this,r,!0,!0),h&&(h=aV(r,h))&&(h.focus(),ML(h,r)),Oe(this,r,function(m){(m=(m=H1(m.target,"firebaseui-id-list-box-dialog-button"))&&zf(m,"listboxid"))&&(Df.call(p),l(m))})}function aV(r,l){r=(r||document).getElementsByTagName("BUTTON");for(var h=0;h<r.length;h++)if(zf(r[h],"listboxid")===l)return r[h];return null}function Vo(){return Gt(this,"firebaseui-id-phone-number")}function gS(){return Gt(this,"firebaseui-id-country-selector")}function Dy(){return Gt(this,"firebaseui-id-phone-number-error")}function lV(r,l){var h=r.a,p=Oy("1-US-0",h),m=null;if(l&&Oy(l,h)?m=l:p?m="1-US-0":m=0<h.length?h[0].c:null,!m)throw Error("No available default country");Wf.call(this,m,r)}function Oy(r,l){return r=Mo(r),!(!r||!L(l,r))}function cV(r){return r.map(function(l){return{id:l.c,Ma:"firebaseui-flag "+My(l),label:l.name+" "+("‎+"+l.b)}})}function My(r){return"firebaseui-flag-"+r.f}function uV(r){var l=this;oV.call(this,cV(r.a),function(h){Wf.call(l,h,r,!0),l.O().focus()},this.Ba)}function Wf(r,l,h){var p=Mo(r);p&&(h&&(h=O(yn(Vo.call(this))||""),l=Ef(l,h),l.length&&l[0].b!=p.b&&(h="+"+p.b+h.substr(l[0].b.length+1),PI(Vo.call(this),h))),l=Mo(this.Ba),this.Ba=r,r=Gt(this,"firebaseui-id-country-selector-flag"),l&&fs(r,My(l)),ds(r,My(p)),b_(Gt(this,"firebaseui-id-country-selector-code"),"‎+"+p.b))}function yu(r,l,h,p,m,y,E,P,N,q){B.call(this,FT,{Gb:l,Aa:N||null,Va:!!h,ia:!!y},q,"phoneSignInStart",{F:p,D:m}),this.H=P||null,this.M=l,this.l=r,this.w=h||null,this.pa=E||null}c(yu,B),yu.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||tu(this,this.O(),this.i()),ll(this,this.i(),this.l),this.O().focus(),$f(this.O(),(this.O().value||"").length),B.prototype.v.call(this)},yu.prototype.o=function(){this.w=this.l=null,B.prototype.o.call(this)},wt(yu.prototype,{Cb:Iy,O:Vo,B:Dy,ea:function(r,l,h){var p=this,m=Vo.call(this),y=gS.call(this),E=Dy.call(this),P=r||zc,N=P.a;if(N.length==0)throw Error("No available countries provided.");lV.call(p,P,l),Oe(this,y,function(){uV.call(p,P)}),sl(this,m,function(){rl(E)&&(Be(m,!0),Ii(E));var q=O(yn(m)||""),ht=Mo(this.Ba),ce=Ef(P,q);q=Oy("1-US-0",N),ce.length&&ce[0].b!=ht.b&&(ht=ce[0],Wf.call(p,ht.b=="1"&&q?"1-US-0":ht.c,P))}),h&&Zc(this,m,function(){h()})},U:function(r){var l=O(yn(Vo.call(this))||"");r=r||zc;var h=r.a,p=Ef(zc,l);if(p.length&&!L(h,p[0]))throw PI(Vo.call(this)),Vo.call(this).focus(),vn(Dy.call(this),Jt("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return h=Mo(this.Ba),p.length&&p[0].b!=h.b&&Wf.call(this,p[0].c,r),p.length&&(l=l.substr(p[0].b.length+1)),l?new dI(this.Ba,l):null},Ja:gS,ba:function(){return Gt(this,"firebaseui-recaptcha-container")},u:function(){return Gt(this,"firebaseui-id-recaptcha-error")},i:un,ua:rn,P:bn});function mS(r,l,h,p){try{var m=l.U(gy)}catch{return}m?Kc?(l.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Jt("Verifying...").toString()),Nt(r,l.I(J(r.cc,r),[ay(m),h],function(y){var E=ke(l);l.$("firebaseui-icon-done",Jt("Code sent!").toString());var P=setTimeout(function(){l.h(),l.m(),ut("phoneSignInFinish",r,E,m,15,y)},1e3);Nt(r,function(){l&&l.h(),clearTimeout(P)})},function(y){if(l.h(),!y.name||y.name!="cancel"){grecaptcha.reset(AI),Kc=null;var E=y&&y.message||"";if(y.code)switch(y.code){case"auth/too-many-requests":E=Jt("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":l.O().focus(),vn(l.B(),T_().toString());return;case"auth/admin-restricted-operation":if(No($(r))){y=ke(l),l.m(),ut("handleUnauthorizedUser",r,y,ay(m),pt.auth.PhoneAuthProvider.PROVIDER_ID);return}E=ue(y);break;default:E=ue(y)}l.a(E)}}))):Ja?vn(l.u(),Jt("Solve the reCAPTCHA").toString()):!Ja&&p&&l.i().click():(l.O().focus(),vn(l.B(),T_().toString()))}se.phoneSignInStart=function(r,l,h,p){var m=bL($(r))||{};Kc=null,Ja=!(m&&m.size==="invisible");var y=iS(r),E=AL($(r)),P=y?SL($(r)):null;E=h&&h.a||E&&E.c||null,h=h&&h.Aa||P,(P=ly($(r)))&&hI(P),gy=P?new lI(ly($(r))):zc;var N=new yu(function(ht){mS(r,N,q,!(!ht||!ht.keyCode))},Ja,y?null:function(){q.clear(),N.m(),_e(r,l)},Je($(r)),Ze($(r)),y,gy,E,h);N.render(l),Ft(r,N),p&&N.a(p),m.callback=function(ht){N.u()&&Ii(N.u()),Kc=ht,Ja||mS(r,N,q)},m["expired-callback"]=function(){Kc=null};var q=new pt.auth.RecaptchaVerifier(Ja?N.ba():N.i(),m,qi(r).app);Nt(r,N.I(J(q.render,q),[],function(ht){AI=ht},function(ht){ht.name&&ht.name=="cancel"||(ht=ue(ht),N.m(),_e(r,l,void 0,ht))}))},se.prefilledEmailSignIn=function(r,l,h){var p=new Hf;p.render(l),Ft(r,p),Nt(r,p.I(J(jt(r).fetchSignInMethodsForEmail,jt(r)),[h],function(m){p.m();var y=!(!Vf(r)||!vS(r));rS(r,l,m,h,void 0,y)},function(m){m=ue(m),p.m(),ut("signIn",r,l,h,m)}))};function vu(r,l,h,p,m){B.call(this,VT,{Sb:l},m,"providerSignIn",{F:h,D:p}),this.i=r}c(vu,B),vu.prototype.v=function(){this.l(this.i),B.prototype.v.call(this)},vu.prototype.o=function(){this.i=null,B.prototype.o.call(this)},wt(vu.prototype,{l:function(r){function l(E){r(E)}for(var h=this.g?y_("firebaseui-id-idp-button",this.g||this.s.a):[],p=0;p<h.length;p++){var m=h[p],y=zf(m,"providerId");Oe(this,m,vt(l,y))}}}),se.providerSignIn=function(r,l,h,p){var m=new vu(function(y){y==pt.auth.EmailAuthProvider.PROVIDER_ID?(m.m(),Ay(r,l,p)):y==pt.auth.PhoneAuthProvider.PROVIDER_ID?(m.m(),ut("phoneSignInStart",r,l)):y=="anonymous"?$L(r,m):iu(r,m,y,p),Yt(r),r.l.cancel()},mI($(r)),Je($(r)),Ze($(r)));m.render(l),Ft(r,m),h&&m.a(h),fV(r)},se.sendEmailLinkForSignIn=function(r,l,h,p){var m=new Ff;m.render(l),Ft(r,m),Sy(r,m,h,p,function(y){m.m(),y&&y.code=="auth/admin-restricted-operation"&&No($(r))?ut("handleUnauthorizedUser",r,l,h,pt.auth.EmailAuthProvider.PROVIDER_ID):(y=ue(y),ut("signIn",r,l,h,y))})};function bu(r,l,h,p,m,y,E){B.call(this,sT,{email:h,Va:!!l,ia:!!y},E,"signIn",{F:p,D:m}),this.i=r,this.u=l}c(bu,B),bu.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),$f(this.l(),(this.l().value||"").length),B.prototype.v.call(this)},bu.prototype.o=function(){this.u=this.i=null,B.prototype.o.call(this)},wt(bu.prototype,{l:Hs,M:Nr,w:ul,H:hl,j:dl,U:un,P:rn,B:bn}),se.signIn=function(r,l,h,p){var m=Vf(r),y=new bu(function(){var E=y,P=E.j()||"";P&&sS(r,E,P)},m?null:function(){y.m(),_e(r,l,h)},h,Je($(r)),Ze($(r)),m);y.render(l),Ft(r,y),p&&y.a(p)};function wu(r,l,h,p,m,y,E){B.call(this,wT,{kc:r,yb:h,Eb:!!p},E,"unauthorizedUser",{F:m,D:y}),this.l=l,this.i=p}c(wu,B),wu.prototype.v=function(){var r=this,l=Gt(this,"firebaseui-id-unauthorized-user-help-link");this.i&&l&&Oe(this,l,function(){r.i()}),Oe(this,this.u(),function(){r.l()}),this.u().focus(),B.prototype.v.call(this)},wu.prototype.o=function(){this.i=this.l=null,B.prototype.o.call(this)},wt(wu.prototype,{u:rn}),se.handleUnauthorizedUser=function(r,l,h,p){function m(){_e(r,l)}p===pt.auth.EmailAuthProvider.PROVIDER_ID?m=function(){Ay(r,l)}:p===pt.auth.PhoneAuthProvider.PROVIDER_ID&&(m=function(){ut("phoneSignInStart",r,l)});var y=null,E=null;p===pt.auth.EmailAuthProvider.PROVIDER_ID&&yI($(r))?(y=IL($(r)),E=TL($(r))):No($(r))&&(y=wL($(r)),E=EL($(r)));var P=new wu(h,function(){P.m(),m()},y,E,Je($(r)),Ze($(r)));P.render(l),Ft(r,P)};function Eu(r,l,h,p,m,y){B.call(this,ET,{email:r},y,"unsupportedProvider",{F:p,D:m}),this.l=l,this.i=h}c(Eu,B),Eu.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),B.prototype.v.call(this)},Eu.prototype.o=function(){this.i=this.l=null,B.prototype.o.call(this)},wt(Eu.prototype,{u:un,B:rn,w:bn}),se.unsupportedProvider=function(r,l,h){var p=new Eu(h,function(){p.m(),ut("passwordRecovery",r,l,h)},function(){p.m(),_e(r,l,h)},Je($(r)),Ze($(r)));p.render(l),Ft(r,p)};function ps(r,l){this.$=!1;var h=Ny(l);if(Iu[h])throw Error('An AuthUI instance already exists for the key "'+h+'"');Iu[h]=this,this.a=r,this.u=null,this.Y=!1,_S(this.a),this.h=pt.initializeApp({apiKey:r.app.options.apiKey,authDomain:r.app.options.authDomain},r.app.name+"-firebaseui-temp").auth(),(r=r.emulatorConfig)&&(h=r.port,this.h.useEmulator(r.protocol+"://"+r.host+(h===null?"":":"+h),r.options)),_S(this.h),this.h.setPersistence&&this.h.setPersistence(pt.auth.Auth.Persistence.SESSION),this.oa=l,this.ca=new vL,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=B_.Xa(),this.j=this.C=null,this.da=this.A=!1}function _S(r){r&&r.INTERNAL&&r.INTERNAL.logFramework&&r.INTERNAL.logFramework("FirebaseUI-web")}var Iu={};function Ny(r){return r||"[DEFAULT]"}function yS(r){return Yt(r),r.i||(r.i=Ws(r,function(l){return l&&!us(St(r))?Ue(qi(r).getRedirectResult().then(function(h){return h},function(h){if(h&&h.code=="auth/email-already-in-use"&&h.email&&h.credential)throw h;return Vr(r,h)})):Ue(jt(r).getRedirectResult().then(function(h){return If($(r))&&!h.user&&r.j&&!r.j.isAnonymous?qi(r).getRedirectResult():h}))})),r.i}function Ft(r,l){Yt(r),r.g=l}var ml=null;function jt(r){return Yt(r),r.h}function qi(r){return Yt(r),r.a}function St(r){return Yt(r),r.oa}function vS(r){return Yt(r),r.O?r.O.emailHint:void 0}e=ps.prototype,e.nb=function(){return Yt(this),!!ny(St(this))||bS($s())};function bS(r){return r=new Io(r),(r.a.a.get(en.ub)||null)==="signIn"&&!!r.a.a.get(en.$a)}e.start=function(r,l){wS(this,r,l)};function wS(r,l,h,p){Yt(r),typeof r.a.languageCode<"u"&&(r.u=r.a.languageCode);var m="en".replace(/_/g,"-");r.a.languageCode=m,r.h.languageCode=m,r.Y=!0,typeof r.a.tenantId<"u"&&(r.h.tenantId=r.a.tenantId),r.ib(h),r.O=p||null;var y=g.document;r.C?r.C.then(function(){y.readyState=="complete"?qf(r,l):Mc(window,"load",function(){qf(r,l)})}):y.readyState=="complete"?qf(r,l):Mc(window,"load",function(){qf(r,l)})}function qf(r,l){var h=tf(l,"Could not find the FirebaseUI widget element on the page.");if(h.setAttribute("lang","en".replace(/_/g,"-")),ml){var p=ml;Yt(p),us(St(p))&&Or("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),ml.reset()}if(ml=r,r.T=h,dV(r,h),wf(new J_)&&wf(new Z_)){l=tf(l,"Could not find the FirebaseUI widget element on the page."),h=$s(),p=ry($(r).a,"queryParameterForSignInSuccessUrl"),h=(h=Fd(h,p))?Ar(Bd(h)).toString():null;t:{p=$s();var m=wI($(r));p=Fd(p,m)||"";for(y in py)if(py[y].toLowerCase()==p.toLowerCase()){var y=py[y];break t}y="callback"}switch(y){case"callback":h&&(y=St(r),Ga($c,h,y)),r.nb()?ut("callback",r,l):_e(r,l,vS(r));break;case"resetPassword":ut("passwordReset",r,l,su(),Cy());break;case"recoverEmail":ut("emailChangeRevocation",r,l,su());break;case"revertSecondFactorAddition":ut("revertSecondFactorAddition",r,l,su());break;case"verifyEmail":ut("emailVerification",r,l,su(),Cy());break;case"verifyAndChangeEmail":ut("verifyAndChangeEmail",r,l,su(),Cy());break;case"signIn":ut("emailLinkSignInCallback",r,l,$s()),SS();break;case"select":h&&(y=St(r),Ga($c,h,y)),_e(r,l);break;default:throw Error("Unhandled widget operation.")}l=$(r),(l=qc(l).uiShown||null)&&l()}else l=tf(l,"Could not find the FirebaseUI widget element on the page."),y=new eS(Jt("The browser you are using does not support Web Storage. Please try again in a different browser.").toString()),y.render(l),Ft(r,y);l=r.g&&r.g.Ga=="blank"&&cy($(r)),ny(St(r))&&!l&&(l=ny(St(r)),TS(r,l.a),ai(Oo,St(r)))}function Ws(r,l){if(r.A)return l(ES(r));if(Nt(r,function(){r.A=!1}),If($(r))){var h=new sn(function(p){Nt(r,r.a.onAuthStateChanged(function(m){r.j=m,r.A||(r.A=!0,p(l(ES(r))))}))});return Nt(r,h),h}return r.A=!0,l(null)}function ES(r){return Yt(r),If($(r))&&r.j&&r.j.isAnonymous?r.j:null}function Nt(r,l){if(Yt(r),l){r.s.push(l);var h=function(){ne(r.s,function(p){return p==l})};typeof l!="function"&&l.then(h,h)}}e.Db=function(){Yt(this),this.Z=!0};function hV(r){Yt(r);var l;return(l=r.Z)||(r=$(r),r=bI(r,pt.auth.GoogleAuthProvider.PROVIDER_ID),l=!(!r||r.prompt!=="select_account")),l}function IS(r){typeof r.a.languageCode<"u"&&r.Y&&(r.Y=!1,r.a.languageCode=r.u)}function TS(r,l){r.a.tenantId=l,r.h.tenantId=l}e.reset=function(){Yt(this);var r=this;this.T&&this.T.removeAttribute("lang"),this.J&&qN(this.J),IS(this),this.O=null,SS(),ai(Oo,St(this)),Yt(this),this.l.cancel(),this.i=Ue({user:null,credential:null}),ml==this&&(ml=null),this.T=null;for(var l=0;l<this.s.length;l++)typeof this.s[l]=="function"?this.s[l]():this.s[l].cancel&&this.s[l].cancel();this.s=[],hs(St(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=Lr(this).then(function(){r.C=null},function(){r.C=null}))};function dV(r,l){r.L=null,r.J=new Jd(l),r.J.register(),zi(r.J,"pageEnter",function(h){if(h=h&&h.pageId,r.L!=h){var p=$(r);(p=qc(p).uiChanged||null)&&p(r.L,h),r.L=h}})}e.ib=function(r){Yt(this);var l=this.ca,h;for(h in r)try{sy(l.a,h,r[h])}catch{wi('Invalid config: "'+h+'"',void 0)}fN&&sy(l.a,"popupMode",!1),ly(l),!this.da&&uy($(this))&&(Or("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)};function $(r){return Yt(r),r.ca}e.Wb=function(){Yt(this);var r=$(this),l=ry(r.a,"widgetUrl");r=wI(r);for(var h=l.search(b1),p=0,m,y=[];0<=(m=v1(l,p,r,h));)y.push(l.substring(p,m)),p=Math.min(l.indexOf("&",m)+1||h,h);y.push(l.substr(p)),l=y.join("").replace(nN,"$1"),h="="+encodeURIComponent("select"),(r+=h)?(h=l.indexOf("#"),0>h&&(h=l.length),p=l.indexOf("?"),0>p||p>h?(p=h,m=""):m=l.substring(p+1,h),l=[l.substr(0,p),m,l.substr(h)],h=l[1],l[1]=r?h?h+"&"+r:r:h,h=l[0]+(l[1]?"?"+l[1]:"")+l[2]):h=l,$(this).a.get("popupMode")?(r=(window.screen.availHeight-600)/2,l=(window.screen.availWidth-500)/2,h=h||"about:blank",r={width:500,height:600,top:0<r?r:0,left:0<l?l:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},r.target=r.target||h.target||"google_popup",r.width=r.width||690,r.height=r.height||500,(r=EE(h,r))&&r.focus()):Va(window.location,h)};function Yt(r){if(r.$)throw Error("AuthUI instance is deleted!")}e.Wa=function(){var r=this;return Yt(this),this.h.app.delete().then(function(){var l=Ny(St(r));delete Iu[l],r.reset(),r.$=!0})};function fV(r){Yt(r);try{PE(r.l,_I($(r)),hV(r)).then(function(l){return r.g?HL(r,r.g,l):!1})}catch{}}e.Ib=function(r,l){Yt(this);var h=this,p=ZN();if(!Qa($(this)))return Fa(Error("Email link sign-in should be enabled to trigger email sending."));var m=PL($(this)),y=new Io(m.url);return cN(y,p),l&&l.a&&(yL(p,l,St(this)),S1(y,l.a.providerId)),uN(y,CL($(this))),Ws(this,function(E){return E&&((E=E.uid)?y.a.a.set(en.Pa,E):Eo(y.a.a,en.Pa)),m.url=y.toString(),jt(h).sendSignInLinkToEmail(r,m)}).then(function(){var E=St(h),P={};P.email=r,Ga(qa,YE(p,JSON.stringify(P)),E)},function(E){throw ai(Hc,St(h)),ai(qa,St(h)),E})};function pV(r,l){var h=T1(new Io(l));return h?(l=new sn(function(p,m){var y=qi(r).onAuthStateChanged(function(E){y(),E&&E.isAnonymous&&E.uid===h?p(E):E&&E.isAnonymous&&E.uid!==h?m(Error("anonymous-user-mismatch")):m(Error("anonymous-user-not-found"))});Nt(r,y)}),Nt(r,l),l):Ue(null)}function gV(r,l,h,p,m){Yt(r);var y=m||null,E=pt.auth.EmailAuthProvider.credentialWithLink(h,p);return h=y?jt(r).signInWithEmailLink(h,p).then(function(P){return P.user.linkWithCredential(y)}).then(function(){return Lr(r)}).then(function(){return Vr(r,{code:"auth/email-already-in-use"},y)}):jt(r).fetchSignInMethodsForEmail(h).then(function(P){return P.length?Vr(r,{code:"auth/email-already-in-use"},E):l.linkWithCredential(E)}),Nt(r,h),h}function mV(r,l,h,p){Yt(r);var m=p||null,y;return l=jt(r).signInWithEmailLink(l,h).then(function(E){if(y={user:E.user,credential:null,operationType:E.operationType,additionalUserInfo:E.additionalUserInfo},m)return E.user.linkWithCredential(m).then(function(P){y={user:P.user,credential:m,operationType:y.operationType,additionalUserInfo:P.additionalUserInfo}})}).then(function(){Lr(r)}).then(function(){return qi(r).updateCurrentUser(y.user)}).then(function(){return y.user=qi(r).currentUser,y}),Nt(r,l),l}function SS(){var r=$s();if(bS(r)){r=new Io(r);for(var l in en)en.hasOwnProperty(l)&&Eo(r.a.a,en[l]);l={state:"signIn",mode:"emailLink",operation:"clear"};var h=g.document.title;g.history&&g.history.replaceState&&g.history.replaceState(l,h,r.toString())}}e.bc=function(r,l){Yt(this);var h=this;return jt(this).signInWithEmailAndPassword(r,l).then(function(p){return Ws(h,function(m){return m?Lr(h).then(function(){return Vr(h,{code:"auth/email-already-in-use"},pt.auth.EmailAuthProvider.credential(r,l))}):p})})},e.Yb=function(r,l){Yt(this);var h=this;return Ws(this,function(p){if(p){var m=pt.auth.EmailAuthProvider.credential(r,l);return p.linkWithCredential(m)}return jt(h).createUserWithEmailAndPassword(r,l)})},e.ac=function(r){Yt(this);var l=this;return Ws(this,function(h){return h?h.linkWithCredential(r).then(function(p){return p},function(p){if(p&&p.code=="auth/email-already-in-use"&&p.email&&p.credential)throw p;return Vr(l,p,r)}):jt(l).signInWithCredential(r)})};function _V(r,l){return Yt(r),Ws(r,function(h){return h&&!us(St(r))?h.linkWithPopup(l).then(function(p){return p},function(p){if(p&&p.code=="auth/email-already-in-use"&&p.email&&p.credential)throw p;return Vr(r,p)}):jt(r).signInWithPopup(l)})}e.dc=function(r){Yt(this);var l=this,h=this.i;return this.i=null,Ws(this,function(p){return p&&!us(St(l))?p.linkWithRedirect(r):jt(l).signInWithRedirect(r)}).then(function(){},function(p){throw l.i=h,p})},e.cc=function(r,l){Yt(this);var h=this;return Ws(this,function(p){return p?p.linkWithPhoneNumber(r,l).then(function(m){return new $_(m,function(y){if(y.code=="auth/credential-already-in-use")return Vr(h,y);throw y})}):qi(h).signInWithPhoneNumber(r,l).then(function(m){return new $_(m)})})},e.$b=function(){return Yt(this),qi(this).signInAnonymously()};function yV(r,l){return Yt(r),Ws(r,function(h){if(r.j&&!r.j.isAnonymous&&If($(r))&&!jt(r).currentUser)return Lr(r).then(function(){return l.credential.providerId=="password"&&(l.credential=null),l});if(h)return Lr(r).then(function(){return h.linkWithCredential(l.credential)}).then(function(p){return l.user=p.user,l.credential=p.credential,l.operationType=p.operationType,l.additionalUserInfo=p.additionalUserInfo,l},function(p){if(p&&p.code=="auth/email-already-in-use"&&p.email&&p.credential)throw p;return Vr(r,p,l.credential)});if(!l.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return Lr(r).then(function(){return qi(r).updateCurrentUser(l.user)}).then(function(){return l.user=qi(r).currentUser,l.operationType="signIn",l.credential&&l.credential.providerId&&l.credential.providerId=="password"&&(l.credential=null),l})})}e.Xb=function(r,l){return Yt(this),jt(this).signInWithEmailAndPassword(r,l)};function Lr(r){return Yt(r),jt(r).signOut()}function Vr(r,l,h){if(Yt(r),l&&l.code&&(l.code=="auth/email-already-in-use"||l.code=="auth/credential-already-in-use")){var p=SI($(r));return Ue().then(function(){return p(new kc("anonymous-upgrade-merge-conflict",null,h||l.credential))}).then(function(){throw r.g&&(r.g.m(),r.g=null),l})}return Fa(l)}function Tu(r,l,h,p){B.call(this,$T,void 0,p,"providerMatchByEmail",{F:l,D:h}),this.i=r}c(Tu,B),Tu.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),$f(this.l(),(this.l().value||"").length),B.prototype.v.call(this)},Tu.prototype.o=function(){this.i=null,B.prototype.o.call(this)},wt(Tu.prototype,{l:Hs,H:Nr,u:ul,B:hl,j:dl,M:un,w:bn});function Kf(r,l,h,p,m){B.call(this,jT,{ec:l},m,"selectTenant",{F:h,D:p}),this.i=r}c(Kf,B),Kf.prototype.v=function(){vV(this,this.i),B.prototype.v.call(this)},Kf.prototype.o=function(){this.i=null,B.prototype.o.call(this)};function vV(r,l){function h(P){l(P)}for(var p=r.g?y_("firebaseui-id-tenant-selection-button",r.g||r.s.a):[],m=0;m<p.length;m++){var y=p[m],E=zf(y,"tenantId");Oe(r,y,vt(h,E))}}function Ly(r){B.call(this,uT,void 0,r,"spinner")}c(Ly,B);function bV(r){this.a=new iy,Qe(this.a,"authDomain"),Qe(this.a,"displayMode",Yf),Qe(this.a,"tenants"),Qe(this.a,"callbacks"),Qe(this.a,"tosUrl"),Qe(this.a,"privacyPolicyUrl");for(var l in r)if(r.hasOwnProperty(l))try{sy(this.a,l,r[l])}catch{wi('Invalid config: "'+l+'"',void 0)}}function wV(r){r=r.a.get("displayMode");for(var l in Fy)if(Fy[l]===r)return Fy[l];return Yf}function Gf(r){return r.a.get("callbacks")||{}}function AS(r){var l=r.a.get("tosUrl")||null;if(r=r.a.get("privacyPolicyUrl")||null,l&&!r&&Or("Privacy Policy URL is missing, the link will not be displayed."),l&&r){if(typeof l=="function")return l;if(typeof l=="string")return function(){Ba(l)}}return null}function CS(r){var l=r.a.get("tosUrl")||null,h=r.a.get("privacyPolicyUrl")||null;if(h&&!l&&Or("Terms of Service URL is missing, the link will not be displayed."),l&&h){if(typeof h=="function")return h;if(typeof h=="string")return function(){Ba(h)}}return null}function Vy(r,l){if(r=r.a.get("tenants"),!r||!r.hasOwnProperty(l)&&!r.hasOwnProperty(Xf))throw Error("Invalid tenant configuration!")}function PS(r,l,h){if(r=r.a.get("tenants"),!r)throw Error("Invalid tenant configuration!");var p=[];if(r=r[l]||r[Xf],!r)return wi("Invalid tenant configuration: "+(l+" is not configured!"),void 0),p;if(l=r.signInOptions,!l)throw Error("Invalid tenant configuration: signInOptions are invalid!");return l.forEach(function(m){if(typeof m=="string")p.push(m);else if(typeof m.provider=="string"){var y=m.hd;y&&h?(y instanceof RegExp?y:new RegExp("@"+y.replace(".","\\.")+"$")).test(h)&&p.push(m.provider):p.push(m.provider)}else m="Invalid tenant configuration: signInOption "+(JSON.stringify(m)+" is invalid!"),wi(m,void 0)}),p}function EV(r,l,h){return r=IV(r,l),(l=r.signInOptions)&&h&&(l=l.filter(function(p){return typeof p=="string"?h.includes(p):h.includes(p.provider)}),r.signInOptions=l),r}function IV(r,l){var h=TV,p=p===void 0?{}:p;return Vy(r,l),r=r.a.get("tenants"),tL(r[l]||r[Xf],h,p)}var TV=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],Yf="optionFirst",Fy={pc:Yf,oc:"identifierFirst"},Xf="*";function Ki(r,l){var h=this;this.s=tf(r),this.a={},Object.keys(l).forEach(function(p){h.a[p]=new bV(l[p])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(p){this.ob=p||null},enumerable:!1})}e=Ki.prototype,e.Ub=function(r,l){var h=this;Fr(this);var p=r.apiKey;return new sn(function(m,y){if(h.a.hasOwnProperty(p)){var E=Gf(h.a[p]).selectTenantUiHidden||null;if(wV(h.a[p])===Yf){var P=[];l.forEach(function(ht){ht=ht||"_";var ce=h.a[p].a.get("tenants");if(!ce)throw Error("Invalid tenant configuration!");(ce=ce[ht]||ce[Xf])?ht={tenantId:ht!=="_"?ht:null,V:ce.fullLabel||null,displayName:ce.displayName,za:ce.iconUrl,ta:ce.buttonColor}:(wi("Invalid tenant configuration: "+(ht+" is not configured!"),void 0),ht=null),ht&&P.push(ht)});var N=function(ht){ht={tenantId:ht,providerIds:PS(h.a[p],ht||"_")},m(ht)};if(P.length===1){N(P[0].tenantId);return}h.g=new Kf(function(ht){Fr(h),E&&E(),N(ht)},P,AS(h.a[p]),CS(h.a[p]))}else h.g=new Tu(function(){var ht=h.g.j();if(ht){for(var ce=0;ce<l.length;ce++){var Gi=PS(h.a[p],l[ce]||"_",ht);if(Gi.length!==0){ht={tenantId:l[ce],providerIds:Gi,email:ht},Fr(h),E&&E(),m(ht);return}}h.g.a(Q1({code:"no-matching-tenant-for-email"}).toString())}},AS(h.a[p]),CS(h.a[p]));h.g.render(h.s),(y=Gf(h.a[p]).selectTenantUiShown||null)&&y()}else{var q=Error("Invalid project configuration: API key is invalid!");q.code="invalid-configuration",h.pb(q),y(q)}})},e.Pb=function(r,l){if(!this.a.hasOwnProperty(r))throw Error("Invalid project configuration: API key is invalid!");var h=l||void 0;Vy(this.a[r],l||"_");try{this.i=pt.app(h).auth()}catch{var p=this.a[r].a.get("authDomain");if(!p)throw Error("Invalid project configuration: authDomain is required!");r=pt.initializeApp({apiKey:r,authDomain:p},h),r.auth().tenantId=l,this.i=r.auth()}return this.i},e.Zb=function(r,l){var h=this;return new sn(function(p,m){function y(ce,Gi){h.j=new ps(r),wS(h.j,h.s,ce,Gi)}var E=r.app.options.apiKey;h.a.hasOwnProperty(E)||m(Error("Invalid project configuration: API key is invalid!"));var P=EV(h.a[E],r.tenantId||"_",l&&l.providerIds);Fr(h),m={signInSuccessWithAuthResult:function(ce){return p(ce),!1}};var N=Gf(h.a[E]).signInUiShown||null,q=!1;m.uiChanged=function(ce,Gi){ce===null&&Gi==="callback"?((ce=v_("firebaseui-id-page-callback",h.s))&&Ii(ce),h.h=new Ly,h.h.render(h.s)):q||ce===null&&Gi==="spinner"||Gi==="blank"||(h.h&&(h.h.m(),h.h=null),q=!0,N&&N(r.tenantId))},P.callbacks=m,P.credentialHelper="none";var ht;l&&l.email&&(ht={emailHint:l.email}),h.j?h.j.Wa().then(function(){y(P,ht)}):y(P,ht)})},e.reset=function(){var r=this;return Ue().then(function(){r.j&&r.j.Wa()}).then(function(){r.j=null,Fr(r)})},e.Vb=function(){var r=this;this.h||this.A||(this.A=window.setTimeout(function(){Fr(r),r.h=new Ly,r.g=r.h,r.h.render(r.s),r.A=null},500))},e.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},e.Bb=function(){return Fr(this),this.g=new XT,this.g.render(this.s),Ue()};function Fr(r){r.j&&r.j.reset(),r.mb(),r.g&&r.g.m()}e.pb=function(r){var l=this,h=Q1({code:r.code}).toString()||r.message;Fr(this);var p;r.retry&&typeof r.retry=="function"&&(p=function(){l.reset(),r.retry()}),this.g=new tS(h,p),this.g.render(this.s)},e.Rb=function(r){var l=this;return Ue().then(function(){var h=l.i&&l.i.app.options.apiKey;if(!l.a.hasOwnProperty(h))throw Error("Invalid project configuration: API key is invalid!");if(Vy(l.a[h],r.tenantId||"_"),!l.i.currentUser||l.i.currentUser.uid!==r.uid)throw Error("The user being processed does not match the signed in user!");return(h=Gf(l.a[h]).beforeSignInSuccess||null)?h(r):r}).then(function(h){if(h.uid!==r.uid)throw Error("User with mismatching UID returned.");return h})},dt("firebaseui.auth.FirebaseUiHandler",Ki),dt("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",Ki.prototype.Ub),dt("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",Ki.prototype.Pb),dt("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",Ki.prototype.Zb),dt("firebaseui.auth.FirebaseUiHandler.prototype.reset",Ki.prototype.reset),dt("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",Ki.prototype.Vb),dt("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",Ki.prototype.mb),dt("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",Ki.prototype.Bb),dt("firebaseui.auth.FirebaseUiHandler.prototype.handleError",Ki.prototype.pb),dt("firebaseui.auth.FirebaseUiHandler.prototype.processUser",Ki.prototype.Rb),dt("firebaseui.auth.AuthUI",ps),dt("firebaseui.auth.AuthUI.getInstance",function(r){return r=Ny(r),Iu[r]?Iu[r]:null}),dt("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",ps.prototype.Db),dt("firebaseui.auth.AuthUI.prototype.start",ps.prototype.start),dt("firebaseui.auth.AuthUI.prototype.setConfig",ps.prototype.ib),dt("firebaseui.auth.AuthUI.prototype.signIn",ps.prototype.Wb),dt("firebaseui.auth.AuthUI.prototype.reset",ps.prototype.reset),dt("firebaseui.auth.AuthUI.prototype.delete",ps.prototype.Wa),dt("firebaseui.auth.AuthUI.prototype.isPendingRedirect",ps.prototype.nb),dt("firebaseui.auth.AuthUIError",kc),dt("firebaseui.auth.AuthUIError.prototype.toJSON",kc.prototype.toJSON),dt("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",hy),dt("firebaseui.auth.CredentialHelper.NONE",Sf),dt("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),sn.prototype.catch=sn.prototype.Ca,sn.prototype.finally=sn.prototype.fc}).apply(typeof global<"u"?global:typeof self<"u"?self:window)}).apply(typeof global<"u"?global:typeof self<"u"?self:window);typeof window<"u"&&(window.dialogPolyfill=Kj);var rC=firebaseui.auth,Gj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nt,j0=j0||{},xt=Gj||self;function wm(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function _d(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function Yj(e){return Object.prototype.hasOwnProperty.call(e,ov)&&e[ov]||(e[ov]=++Xj)}var ov="closure_uid_"+(1e9*Math.random()>>>0),Xj=0;function Qj(e,t,n){return e.call.apply(e.bind,arguments)}function Jj(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),e.apply(t,s)}}return function(){return e.apply(t,arguments)}}function Wn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Wn=Qj:Wn=Jj,Wn.apply(null,arguments)}function sp(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function Pn(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(i,s,o){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return t.prototype[s].apply(i,a)}}function _o(){this.s=this.s,this.o=this.o}var Zj=0;_o.prototype.s=!1;_o.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Zj!=0)&&Yj(this)};_o.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const f2=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function $0(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function oC(e,t){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(wm(i)){const s=e.length||0,o=i.length||0;e.length=s+o;for(let a=0;a<o;a++)e[s+a]=i[a]}else e.push(i)}}function qn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}qn.prototype.h=function(){this.defaultPrevented=!0};var t$=function(){if(!xt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};xt.addEventListener("test",n,t),xt.removeEventListener("test",n,t)}catch{}return e}();function Uh(e){return/^[\s\xa0]*$/.test(e)}function Em(){var e=xt.navigator;return e&&(e=e.userAgent)?e:""}function Ts(e){return Em().indexOf(e)!=-1}function H0(e){return H0[" "](e),e}H0[" "]=function(){};function e$(e,t){var n=K$;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var n$=Ts("Opera"),Ql=Ts("Trident")||Ts("MSIE"),p2=Ts("Edge"),ab=p2||Ql,g2=Ts("Gecko")&&!(Em().toLowerCase().indexOf("webkit")!=-1&&!Ts("Edge"))&&!(Ts("Trident")||Ts("MSIE"))&&!Ts("Edge"),i$=Em().toLowerCase().indexOf("webkit")!=-1&&!Ts("Edge");function m2(){var e=xt.document;return e?e.documentMode:void 0}var lb;t:{var av="",lv=function(){var e=Em();if(g2)return/rv:([^\);]+)(\)|;)/.exec(e);if(p2)return/Edge\/([\d\.]+)/.exec(e);if(Ql)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(i$)return/WebKit\/(\S+)/.exec(e);if(n$)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(lv&&(av=lv?lv[1]:""),Ql){var cv=m2();if(cv!=null&&cv>parseFloat(av)){lb=String(cv);break t}}lb=av}var cb;if(xt.document&&Ql){var aC=m2();cb=aC||parseInt(lb,10)||void 0}else cb=void 0;var s$=cb;function Bh(e,t){if(qn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(g2){t:{try{H0(t.nodeName);var s=!0;break t}catch{}s=!1}s||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:r$[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Bh.$.h.call(this)}}Pn(Bh,qn);var r$={2:"touch",3:"pen",4:"mouse"};Bh.prototype.h=function(){Bh.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var yd="closure_listenable_"+(1e6*Math.random()|0),o$=0;function a$(e,t,n,i,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.la=s,this.key=++o$,this.fa=this.ia=!1}function Im(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function z0(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function l$(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function _2(e){const t={};for(const n in e)t[n]=e[n];return t}const lC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function y2(e,t){let n,i;for(let s=1;s<arguments.length;s++){i=arguments[s];for(n in i)e[n]=i[n];for(let o=0;o<lC.length;o++)n=lC[o],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function Tm(e){this.src=e,this.g={},this.h=0}Tm.prototype.add=function(e,t,n,i,s){var o=e.toString();e=this.g[o],e||(e=this.g[o]=[],this.h++);var a=hb(e,t,i,s);return-1<a?(t=e[a],n||(t.ia=!1)):(t=new a$(t,this.src,o,!!i,s),t.ia=n,e.push(t)),t};function ub(e,t){var n=t.type;if(n in e.g){var i=e.g[n],s=f2(i,t),o;(o=0<=s)&&Array.prototype.splice.call(i,s,1),o&&(Im(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function hb(e,t,n,i){for(var s=0;s<e.length;++s){var o=e[s];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==i)return s}return-1}var W0="closure_lm_"+(1e6*Math.random()|0),uv={};function v2(e,t,n,i,s){if(i&&i.once)return w2(e,t,n,i,s);if(Array.isArray(t)){for(var o=0;o<t.length;o++)v2(e,t[o],n,i,s);return null}return n=G0(n),e&&e[yd]?e.O(t,n,_d(i)?!!i.capture:!!i,s):b2(e,t,n,!1,i,s)}function b2(e,t,n,i,s,o){if(!t)throw Error("Invalid event type");var a=_d(s)?!!s.capture:!!s,c=K0(e);if(c||(e[W0]=c=new Tm(e)),n=c.add(t,n,i,a,o),n.proxy)return n;if(i=c$(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)t$||(s=a),s===void 0&&(s=!1),e.addEventListener(t.toString(),i,s);else if(e.attachEvent)e.attachEvent(I2(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function c$(){function e(n){return t.call(e.src,e.listener,n)}const t=u$;return e}function w2(e,t,n,i,s){if(Array.isArray(t)){for(var o=0;o<t.length;o++)w2(e,t[o],n,i,s);return null}return n=G0(n),e&&e[yd]?e.P(t,n,_d(i)?!!i.capture:!!i,s):b2(e,t,n,!0,i,s)}function E2(e,t,n,i,s){if(Array.isArray(t))for(var o=0;o<t.length;o++)E2(e,t[o],n,i,s);else i=_d(i)?!!i.capture:!!i,n=G0(n),e&&e[yd]?(e=e.i,t=String(t).toString(),t in e.g&&(o=e.g[t],n=hb(o,n,i,s),-1<n&&(Im(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete e.g[t],e.h--)))):e&&(e=K0(e))&&(t=e.g[t.toString()],e=-1,t&&(e=hb(t,n,i,s)),(n=-1<e?t[e]:null)&&q0(n))}function q0(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[yd])ub(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(I2(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=K0(t))?(ub(n,e),n.h==0&&(n.src=null,t[W0]=null)):Im(e)}}}function I2(e){return e in uv?uv[e]:uv[e]="on"+e}function u$(e,t){if(e.fa)e=!0;else{t=new Bh(t,this);var n=e.listener,i=e.la||e.src;e.ia&&q0(e),e=n.call(i,t)}return e}function K0(e){return e=e[W0],e instanceof Tm?e:null}var hv="__closure_events_fn_"+(1e9*Math.random()>>>0);function G0(e){return typeof e=="function"?e:(e[hv]||(e[hv]=function(t){return e.handleEvent(t)}),e[hv])}function Cn(){_o.call(this),this.i=new Tm(this),this.S=this,this.J=null}Pn(Cn,_o);Cn.prototype[yd]=!0;Cn.prototype.removeEventListener=function(e,t,n,i){E2(this,e,t,n,i)};function On(e,t){var n,i=e.J;if(i)for(n=[];i;i=i.J)n.push(i);if(e=e.S,i=t.type||t,typeof t=="string")t=new qn(t,e);else if(t instanceof qn)t.target=t.target||e;else{var s=t;t=new qn(i,e),y2(t,s)}if(s=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];s=rp(a,i,!0,t)&&s}if(a=t.g=e,s=rp(a,i,!0,t)&&s,s=rp(a,i,!1,t)&&s,n)for(o=0;o<n.length;o++)a=t.g=n[o],s=rp(a,i,!1,t)&&s}Cn.prototype.N=function(){if(Cn.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)Im(n[i]);delete e.g[t],e.h--}}this.J=null};Cn.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};Cn.prototype.P=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function rp(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var s=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.fa&&a.capture==n){var c=a.listener,u=a.la||a.src;a.ia&&ub(e.i,a),s=c.call(u,i)!==!1&&s}}return s&&!i.defaultPrevented}var Y0=xt.JSON.stringify;class h${constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function d$(){var e=X0;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class f${constructor(){this.h=this.g=null}add(t,n){const i=T2.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i}}var T2=new h$(()=>new p$,e=>e.reset());class p${constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function g$(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function m$(e){xt.setTimeout(()=>{throw e},0)}let jh,$h=!1,X0=new f$,S2=()=>{const e=xt.Promise.resolve(void 0);jh=()=>{e.then(_$)}};var _$=()=>{for(var e;e=d$();){try{e.h.call(e.g)}catch(n){m$(n)}var t=T2;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}$h=!1};function Sm(e,t){Cn.call(this),this.h=e||1,this.g=t||xt,this.j=Wn(this.qb,this),this.l=Date.now()}Pn(Sm,Cn);nt=Sm.prototype;nt.ga=!1;nt.T=null;nt.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),On(this,"tick"),this.ga&&(Q0(this),this.start()))}};nt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Q0(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}nt.N=function(){Sm.$.N.call(this),Q0(this),delete this.g};function J0(e,t,n){if(typeof e=="function")n&&(e=Wn(e,n));else if(e&&typeof e.handleEvent=="function")e=Wn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:xt.setTimeout(e,t||0)}function A2(e){e.g=J0(()=>{e.g=null,e.i&&(e.i=!1,A2(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class y$ extends _o{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:A2(this)}N(){super.N(),this.g&&(xt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hh(e){_o.call(this),this.h=e,this.g={}}Pn(Hh,_o);var cC=[];function C2(e,t,n,i){Array.isArray(n)||(n&&(cC[0]=n.toString()),n=cC);for(var s=0;s<n.length;s++){var o=v2(t,n[s],i||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function P2(e){z0(e.g,function(t,n){this.g.hasOwnProperty(n)&&q0(t)},e),e.g={}}Hh.prototype.N=function(){Hh.$.N.call(this),P2(this)};Hh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Am(){this.g=!0}Am.prototype.Ea=function(){this.g=!1};function v$(e,t,n,i,s,o){e.info(function(){if(e.g)if(o)for(var a="",c=o.split("&"),u=0;u<c.length;u++){var d=c[u].split("=");if(1<d.length){var f=d[0];d=d[1];var g=f.split("_");a=2<=g.length&&g[1]=="type"?a+(f+"="+d+"&"):a+(f+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+t+`
`+n+`
`+a})}function b$(e,t,n,i,s,o,a){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+t+`
`+n+`
`+o+" "+a})}function Al(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+E$(e,n)+(i?" "+i:"")})}function w$(e,t){e.info(function(){return"TIMEOUT: "+t})}Am.prototype.info=function(){};function E$(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var o=s[0];if(o!="noop"&&o!="stop"&&o!="close")for(var a=1;a<s.length;a++)s[a]=""}}}}return Y0(n)}catch{return t}}var Ca={},uC=null;function Cm(){return uC=uC||new Cn}Ca.Ta="serverreachability";function R2(e){qn.call(this,Ca.Ta,e)}Pn(R2,qn);function zh(e){const t=Cm();On(t,new R2(t))}Ca.STAT_EVENT="statevent";function k2(e,t){qn.call(this,Ca.STAT_EVENT,e),this.stat=t}Pn(k2,qn);function si(e){const t=Cm();On(t,new k2(t,e))}Ca.Ua="timingevent";function x2(e,t){qn.call(this,Ca.Ua,e),this.size=t}Pn(x2,qn);function vd(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return xt.setTimeout(function(){e()},t)}var Pm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},D2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Z0(){}Z0.prototype.h=null;function hC(e){return e.h||(e.h=e.i())}function O2(){}var bd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function tw(){qn.call(this,"d")}Pn(tw,qn);function ew(){qn.call(this,"c")}Pn(ew,qn);var db;function Rm(){}Pn(Rm,Z0);Rm.prototype.g=function(){return new XMLHttpRequest};Rm.prototype.i=function(){return{}};db=new Rm;function wd(e,t,n,i){this.l=e,this.j=t,this.m=n,this.W=i||1,this.U=new Hh(this),this.P=I$,e=ab?125:void 0,this.V=new Sm(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new M2}function M2(){this.i=null,this.g="",this.h=!1}var I$=45e3,N2={},fb={};nt=wd.prototype;nt.setTimeout=function(e){this.P=e};function pb(e,t,n){e.L=1,e.A=xm(cr(t)),e.u=n,e.S=!0,L2(e,null)}function L2(e,t){e.G=Date.now(),Ed(e),e.B=cr(e.A);var n=e.B,i=e.W;Array.isArray(i)||(i=[String(i)]),z2(n.i,"t",i),e.o=0,n=e.l.J,e.h=new M2,e.g=hD(e.l,n?t:null,!e.u),0<e.O&&(e.M=new y$(Wn(e.Pa,e,e.g),e.O)),C2(e.U,e.g,"readystatechange",e.nb),t=e.I?_2(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),zh(),v$(e.j,e.v,e.B,e.m,e.W,e.u)}nt.nb=function(e){e=e.target;const t=this.M;t&&As(e)==3?t.l():this.Pa(e)};nt.Pa=function(e){try{if(e==this.g)t:{const f=As(this.g);var t=this.g.Ia();const g=this.g.da();if(!(3>f)&&(f!=3||ab||this.g&&(this.h.h||this.g.ja()||gC(this.g)))){this.J||f!=4||t==7||(t==8||0>=g?zh(3):zh(2)),km(this);var n=this.g.da();this.ca=n;e:if(V2(this)){var i=gC(this.g);e="";var s=i.length,o=As(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jo(this),dh(this);var a="";break e}this.h.i=new xt.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:o&&t==s-1});i.length=0,this.h.g+=e,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,b$(this.j,this.v,this.B,this.m,this.W,f,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var c,u=this.g;if((c=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Uh(c)){var d=c;break e}}d=null}if(n=d)Al(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gb(this,n);else{this.i=!1,this.s=3,si(12),Jo(this),dh(this);break t}}this.S?(F2(this,f,a),ab&&this.i&&f==3&&(C2(this.U,this.V,"tick",this.mb),this.V.start())):(Al(this.j,this.m,a,null),gb(this,a)),f==4&&Jo(this),this.i&&!this.J&&(f==4?aD(this.l,this):(this.i=!1,Ed(this)))}else z$(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.s=3,si(12)):(this.s=0,si(13)),Jo(this),dh(this)}}}catch{}finally{}};function V2(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function F2(e,t,n){let i=!0,s;for(;!e.J&&e.o<n.length;)if(s=T$(e,n),s==fb){t==4&&(e.s=4,si(14),i=!1),Al(e.j,e.m,null,"[Incomplete Response]");break}else if(s==N2){e.s=4,si(15),Al(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else Al(e.j,e.m,s,null),gb(e,s);V2(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,si(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),aw(t),t.M=!0,si(11))):(Al(e.j,e.m,n,"[Invalid Chunked Response]"),Jo(e),dh(e))}nt.mb=function(){if(this.g){var e=As(this.g),t=this.g.ja();this.o<t.length&&(km(this),F2(this,e,t),this.i&&e!=4&&Ed(this))}};function T$(e,t){var n=e.o,i=t.indexOf(`
`,n);return i==-1?fb:(n=Number(t.substring(n,i)),isNaN(n)?N2:(i+=1,i+n>t.length?fb:(t=t.slice(i,i+n),e.o=i+n,t)))}nt.cancel=function(){this.J=!0,Jo(this)};function Ed(e){e.Y=Date.now()+e.P,U2(e,e.P)}function U2(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=vd(Wn(e.lb,e),t)}function km(e){e.C&&(xt.clearTimeout(e.C),e.C=null)}nt.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(w$(this.j,this.B),this.L!=2&&(zh(),si(17)),Jo(this),this.s=2,dh(this)):U2(this,this.Y-e)};function dh(e){e.l.H==0||e.J||aD(e.l,e)}function Jo(e){km(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,Q0(e.V),P2(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function gb(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||mb(n.i,e))){if(!e.K&&mb(n.i,e)&&n.H==3){try{var i=n.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var s=i;if(s[0]==0){t:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)bg(n),Nm(n);else break t;ow(n),si(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=vd(Wn(n.ib,n),6e3));if(1>=K2(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Zo(n,11)}else if((e.K||n.g==e)&&bg(n),!Uh(t))for(s=n.Ja.g.parse(t),t=0;t<s.length;t++){let d=s[t];if(n.V=d[0],d=d[1],n.H==2)if(d[0]=="c"){n.K=d[1],n.pa=d[2];const f=d[3];f!=null&&(n.ra=f,n.l.info("VER="+n.ra));const g=d[4];g!=null&&(n.Ga=g,n.l.info("SVER="+n.Ga));const _=d[5];_!=null&&typeof _=="number"&&0<_&&(i=1.5*_,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const v=e.g;if(v){const I=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(I){var o=i.i;o.g||I.indexOf("spdy")==-1&&I.indexOf("quic")==-1&&I.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(nw(o,o.h),o.h=null))}if(i.F){const b=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;b&&(i.Da=b,Se(i.I,i.F,b))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var a=e;if(i.wa=uD(i,i.J?i.pa:null,i.Y),a.K){G2(i.i,a);var c=a,u=i.L;u&&c.setTimeout(u),c.C&&(km(c),Ed(c)),i.g=a}else rD(i);0<n.j.length&&Lm(n)}else d[0]!="stop"&&d[0]!="close"||Zo(n,7);else n.H==3&&(d[0]=="stop"||d[0]=="close"?d[0]=="stop"?Zo(n,7):rw(n):d[0]!="noop"&&n.h&&n.h.Aa(d),n.A=0)}}zh(4)}catch{}}function S$(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(wm(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function A$(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(wm(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}function B2(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(wm(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=A$(e),i=S$(e),s=i.length,o=0;o<s;o++)t.call(void 0,i[o],n&&n[o],e)}var j2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function C$(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),s=null;if(0<=i){var o=e[n].substring(0,i);s=e[n].substring(i+1)}else o=e[n];t(o,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function aa(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof aa){this.h=e.h,yg(this,e.j),this.s=e.s,this.g=e.g,vg(this,e.m),this.l=e.l;var t=e.i,n=new Wh;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),dC(this,n),this.o=e.o}else e&&(t=String(e).match(j2))?(this.h=!1,yg(this,t[1]||"",!0),this.s=qu(t[2]||""),this.g=qu(t[3]||"",!0),vg(this,t[4]),this.l=qu(t[5]||"",!0),dC(this,t[6]||"",!0),this.o=qu(t[7]||"")):(this.h=!1,this.i=new Wh(null,this.h))}aa.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ku(t,fC,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Ku(t,fC,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Ku(n,n.charAt(0)=="/"?k$:R$,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ku(n,D$)),e.join("")};function cr(e){return new aa(e)}function yg(e,t,n){e.j=n?qu(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function vg(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function dC(e,t,n){t instanceof Wh?(e.i=t,O$(e.i,e.h)):(n||(t=Ku(t,x$)),e.i=new Wh(t,e.h))}function Se(e,t,n){e.i.set(t,n)}function xm(e){return Se(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function qu(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ku(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,P$),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function P$(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var fC=/[#\/\?@]/g,R$=/[#\?:]/g,k$=/[#\?]/g,x$=/[#\?@]/g,D$=/#/g;function Wh(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function yo(e){e.g||(e.g=new Map,e.h=0,e.i&&C$(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}nt=Wh.prototype;nt.add=function(e,t){yo(this),this.i=null,e=mc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function $2(e,t){yo(e),t=mc(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function H2(e,t){return yo(e),t=mc(e,t),e.g.has(t)}nt.forEach=function(e,t){yo(this),this.g.forEach(function(n,i){n.forEach(function(s){e.call(t,s,i,this)},this)},this)};nt.ta=function(){yo(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const s=e[i];for(let o=0;o<s.length;o++)n.push(t[i])}return n};nt.Z=function(e){yo(this);let t=[];if(typeof e=="string")H2(this,e)&&(t=t.concat(this.g.get(mc(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};nt.set=function(e,t){return yo(this),this.i=null,e=mc(this,e),H2(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};nt.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function z2(e,t,n){$2(e,t),0<n.length&&(e.i=null,e.g.set(mc(e,t),$0(n)),e.h+=n.length)}nt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const o=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var s=o;a[i]!==""&&(s+="="+encodeURIComponent(String(a[i]))),e.push(s)}}return this.i=e.join("&")};function mc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function O$(e,t){t&&!e.j&&(yo(e),e.i=null,e.g.forEach(function(n,i){var s=i.toLowerCase();i!=s&&($2(this,i),z2(this,s,n))},e)),e.j=t}var M$=class{constructor(e,t){this.g=e,this.map=t}};function W2(e){this.l=e||N$,xt.PerformanceNavigationTiming?(e=xt.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(xt.g&&xt.g.Ka&&xt.g.Ka()&&xt.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var N$=10;function q2(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function K2(e){return e.h?1:e.g?e.g.size:0}function mb(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function nw(e,t){e.g?e.g.add(t):e.h=t}function G2(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}W2.prototype.cancel=function(){if(this.i=Y2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function Y2(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return $0(e.i)}var L$=class{stringify(e){return xt.JSON.stringify(e,void 0)}parse(e){return xt.JSON.parse(e,void 0)}};function V$(){this.g=new L$}function F$(e,t,n){const i=n||"";try{B2(e,function(s,o){let a=s;_d(s)&&(a=Y0(s)),t.push(i+o+"="+encodeURIComponent(a))})}catch(s){throw t.push(i+"type="+encodeURIComponent("_badmap")),s}}function U$(e,t){const n=new Am;if(xt.Image){const i=new Image;i.onload=sp(op,n,i,"TestLoadImage: loaded",!0,t),i.onerror=sp(op,n,i,"TestLoadImage: error",!1,t),i.onabort=sp(op,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=sp(op,n,i,"TestLoadImage: timeout",!1,t),xt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function op(e,t,n,i,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(i)}catch{}}function Dm(e){this.l=e.ec||null,this.j=e.ob||!1}Pn(Dm,Z0);Dm.prototype.g=function(){return new Om(this.l,this.j)};Dm.prototype.i=function(e){return function(){return e}}({});function Om(e,t){Cn.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=iw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Pn(Om,Cn);var iw=0;nt=Om.prototype;nt.open=function(e,t){if(this.readyState!=iw)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,qh(this)};nt.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||xt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};nt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Id(this)),this.readyState=iw};nt.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,qh(this)),this.g&&(this.readyState=3,qh(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof xt.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;X2(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function X2(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}nt.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Id(this):qh(this),this.readyState==3&&X2(this)}};nt.Za=function(e){this.g&&(this.response=this.responseText=e,Id(this))};nt.Ya=function(e){this.g&&(this.response=e,Id(this))};nt.ka=function(){this.g&&Id(this)};function Id(e){e.readyState=4,e.l=null,e.j=null,e.A=null,qh(e)}nt.setRequestHeader=function(e,t){this.v.append(e,t)};nt.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};nt.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function qh(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Om.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var B$=xt.JSON.parse;function We(e){Cn.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Q2,this.L=this.M=!1}Pn(We,Cn);var Q2="",j$=/^https?$/i,$$=["POST","PUT"];nt=We.prototype;nt.Oa=function(e){this.M=e};nt.ha=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():db.g(),this.C=this.u?hC(this.u):hC(db),this.g.onreadystatechange=Wn(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){pC(this,o);return}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const o of i.keys())n.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),s=xt.FormData&&e instanceof xt.FormData,!(0<=f2($$,t))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{tD(this),0<this.B&&((this.L=H$(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wn(this.ua,this)):this.A=J0(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){pC(this,o)}};function H$(e){return Ql&&typeof e.timeout=="number"&&e.ontimeout!==void 0}nt.ua=function(){typeof j0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,On(this,"timeout"),this.abort(8))};function pC(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,J2(e),Mm(e)}function J2(e){e.F||(e.F=!0,On(e,"complete"),On(e,"error"))}nt.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,On(this,"complete"),On(this,"abort"),Mm(this))};nt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mm(this,!0)),We.$.N.call(this)};nt.La=function(){this.s||(this.G||this.v||this.l?Z2(this):this.kb())};nt.kb=function(){Z2(this)};function Z2(e){if(e.h&&typeof j0<"u"&&(!e.C[1]||As(e)!=4||e.da()!=2)){if(e.v&&As(e)==4)J0(e.La,0,e);else if(On(e,"readystatechange"),As(e)==4){e.h=!1;try{const a=e.da();t:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var i;if(i=a===0){var s=String(e.I).match(j2)[1]||null;!s&&xt.self&&xt.self.location&&(s=xt.self.location.protocol.slice(0,-1)),i=!j$.test(s?s.toLowerCase():"")}n=i}if(n)On(e,"complete"),On(e,"success");else{e.m=6;try{var o=2<As(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.da()+"]",J2(e)}}finally{Mm(e)}}}}function Mm(e,t){if(e.g){tD(e);const n=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||On(e,"ready");try{n.onreadystatechange=i}catch{}}}function tD(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(xt.clearTimeout(e.A),e.A=null)}nt.isActive=function(){return!!this.g};function As(e){return e.g?e.g.readyState:0}nt.da=function(){try{return 2<As(this)?this.g.status:-1}catch{return-1}};nt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};nt.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),B$(t)}};function gC(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Q2:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function z$(e){const t={};e=(e.g&&2<=As(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<e.length;i++){if(Uh(e[i]))continue;var n=g$(e[i]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=t[s]||[];t[s]=o,o.push(n)}l$(t,function(i){return i.join(", ")})}nt.Ia=function(){return this.m};nt.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function eD(e){let t="";return z0(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function sw(e,t,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=eD(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Se(e,t,n))}function Du(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function nD(e){this.Ga=0,this.j=[],this.l=new Am,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Du("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Du("baseRetryDelayMs",5e3,e),this.hb=Du("retryDelaySeedMs",1e4,e),this.eb=Du("forwardChannelMaxRetries",2,e),this.xa=Du("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new W2(e&&e.concurrentRequestLimit),this.Ja=new V$,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}nt=nD.prototype;nt.ra=8;nt.H=1;function rw(e){if(iD(e),e.H==3){var t=e.W++,n=cr(e.I);if(Se(n,"SID",e.K),Se(n,"RID",t),Se(n,"TYPE","terminate"),Td(e,n),t=new wd(e,e.l,t),t.L=2,t.A=xm(cr(n)),n=!1,xt.navigator&&xt.navigator.sendBeacon)try{n=xt.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&xt.Image&&(new Image().src=t.A,n=!0),n||(t.g=hD(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Ed(t)}cD(e)}function Nm(e){e.g&&(aw(e),e.g.cancel(),e.g=null)}function iD(e){Nm(e),e.u&&(xt.clearTimeout(e.u),e.u=null),bg(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&xt.clearTimeout(e.m),e.m=null)}function Lm(e){if(!q2(e.i)&&!e.m){e.m=!0;var t=e.Na;jh||S2(),$h||(jh(),$h=!0),X0.add(t,e),e.C=0}}function W$(e,t){return K2(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=vd(Wn(e.Na,e,t),lD(e,e.C)),e.C++,!0)}nt.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const s=new wd(this,this.l,e);let o=this.s;if(this.U&&(o?(o=_2(o),y2(o,this.U)):o=this.U),this.o!==null||this.O||(s.I=o,o=null),this.P)t:{for(var t=0,n=0;n<this.j.length;n++){e:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break e}i=void 0}if(i===void 0)break;if(t+=i,4096<t){t=n;break t}if(t===4096||n===this.j.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=sD(this,s,t),n=cr(this.I),Se(n,"RID",e),Se(n,"CVER",22),this.F&&Se(n,"X-HTTP-Session-Id",this.F),Td(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(eD(o)))+"&"+t:this.o&&sw(n,this.o,o)),nw(this.i,s),this.bb&&Se(n,"TYPE","init"),this.P?(Se(n,"$req",t),Se(n,"SID","null"),s.aa=!0,pb(s,n,null)):pb(s,n,t),this.H=2}}else this.H==3&&(e?mC(this,e):this.j.length==0||q2(this.i)||mC(this))};function mC(e,t){var n;t?n=t.m:n=e.W++;const i=cr(e.I);Se(i,"SID",e.K),Se(i,"RID",n),Se(i,"AID",e.V),Td(e,i),e.o&&e.s&&sw(i,e.o,e.s),n=new wd(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=sD(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),nw(e.i,n),pb(n,i,t)}function Td(e,t){e.na&&z0(e.na,function(n,i){Se(t,i,n)}),e.h&&B2({},function(n,i){Se(t,i,n)})}function sD(e,t,n){n=Math.min(e.j.length,n);var i=e.h?Wn(e.h.Va,e.h,e):null;t:{var s=e.j;let o=-1;for(;;){const a=["count="+n];o==-1?0<n?(o=s[0].g,a.push("ofs="+o)):o=0:a.push("ofs="+o);let c=!0;for(let u=0;u<n;u++){let d=s[u].g;const f=s[u].map;if(d-=o,0>d)o=Math.max(0,s[u].g-100),c=!1;else try{F$(f,a,"req"+d+"_")}catch{i&&i(f)}}if(c){i=a.join("&");break t}}}return e=e.j.splice(0,n),t.F=e,i}function rD(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;jh||S2(),$h||(jh(),$h=!0),X0.add(t,e),e.A=0}}function ow(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=vd(Wn(e.Ma,e),lD(e,e.A)),e.A++,!0)}nt.Ma=function(){if(this.u=null,oD(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=vd(Wn(this.jb,this),e)}};nt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,si(10),Nm(this),oD(this))};function aw(e){e.B!=null&&(xt.clearTimeout(e.B),e.B=null)}function oD(e){e.g=new wd(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=cr(e.wa);Se(t,"RID","rpc"),Se(t,"SID",e.K),Se(t,"AID",e.V),Se(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Se(t,"TO",e.qa),Se(t,"TYPE","xmlhttp"),Td(e,t),e.o&&e.s&&sw(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=xm(cr(t)),n.u=null,n.S=!0,L2(n,e)}nt.ib=function(){this.v!=null&&(this.v=null,Nm(this),ow(this),si(19))};function bg(e){e.v!=null&&(xt.clearTimeout(e.v),e.v=null)}function aD(e,t){var n=null;if(e.g==t){bg(e),aw(e),e.g=null;var i=2}else if(mb(e.i,t))n=t.F,G2(e.i,t),i=1;else return;if(e.H!=0){if(t.i)if(i==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var s=e.C;i=Cm(),On(i,new x2(i,n)),Lm(e)}else rD(e);else if(s=t.s,s==3||s==0&&0<t.ca||!(i==1&&W$(e,t)||i==2&&ow(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:Zo(e,5);break;case 4:Zo(e,10);break;case 3:Zo(e,6);break;default:Zo(e,2)}}}function lD(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Zo(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var i=Wn(e.pb,e);n||(n=new aa("//www.google.com/images/cleardot.gif"),xt.location&&xt.location.protocol=="http"||yg(n,"https"),xm(n)),U$(n.toString(),i)}else si(2);e.H=0,e.h&&e.h.za(t),cD(e),iD(e)}nt.pb=function(e){e?(this.l.info("Successfully pinged google.com"),si(2)):(this.l.info("Failed to ping google.com"),si(1))};function cD(e){if(e.H=0,e.ma=[],e.h){const t=Y2(e.i);(t.length!=0||e.j.length!=0)&&(oC(e.ma,t),oC(e.ma,e.j),e.i.i.length=0,$0(e.j),e.j.length=0),e.h.ya()}}function uD(e,t,n){var i=n instanceof aa?cr(n):new aa(n);if(i.g!="")t&&(i.g=t+"."+i.g),vg(i,i.m);else{var s=xt.location;i=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new aa(null);i&&yg(o,i),t&&(o.g=t),s&&vg(o,s),n&&(o.l=n),i=o}return n=e.F,t=e.Da,n&&t&&Se(i,n,t),Se(i,"VER",e.ra),Td(e,i),i}function hD(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new We(new Dm({ob:n})):new We(e.va),t.Oa(e.J),t}nt.isActive=function(){return!!this.h&&this.h.isActive(this)};function dD(){}nt=dD.prototype;nt.Ba=function(){};nt.Aa=function(){};nt.za=function(){};nt.ya=function(){};nt.isActive=function(){return!0};nt.Va=function(){};function wg(){if(Ql&&!(10<=Number(s$)))throw Error("Environmental error: no available transport.")}wg.prototype.g=function(e,t){return new Oi(e,t)};function Oi(e,t){Cn.call(this),this.g=new nD(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Uh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Uh(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new _c(this)}Pn(Oi,Cn);Oi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;si(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=uD(e,null,e.Y),Lm(e)};Oi.prototype.close=function(){rw(this.g)};Oi.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Y0(e),e=n);t.j.push(new M$(t.fb++,e)),t.H==3&&Lm(t)};Oi.prototype.N=function(){this.g.h=null,delete this.j,rw(this.g),delete this.g,Oi.$.N.call(this)};function fD(e){tw.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Pn(fD,tw);function pD(){ew.call(this),this.status=1}Pn(pD,ew);function _c(e){this.g=e}Pn(_c,dD);_c.prototype.Ba=function(){On(this.g,"a")};_c.prototype.Aa=function(e){On(this.g,new fD(e))};_c.prototype.za=function(e){On(this.g,new pD)};_c.prototype.ya=function(){On(this.g,"b")};function q$(){this.blockSize=-1}function ss(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Pn(ss,q$);ss.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function dv(e,t,n){n||(n=0);var i=Array(16);if(typeof t=="string")for(var s=0;16>s;++s)i[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)i[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var o=e.g[3],a=t+(o^n&(s^o))+i[0]+3614090360&4294967295;t=n+(a<<7&4294967295|a>>>25),a=o+(s^t&(n^s))+i[1]+3905402710&4294967295,o=t+(a<<12&4294967295|a>>>20),a=s+(n^o&(t^n))+i[2]+606105819&4294967295,s=o+(a<<17&4294967295|a>>>15),a=n+(t^s&(o^t))+i[3]+3250441966&4294967295,n=s+(a<<22&4294967295|a>>>10),a=t+(o^n&(s^o))+i[4]+4118548399&4294967295,t=n+(a<<7&4294967295|a>>>25),a=o+(s^t&(n^s))+i[5]+1200080426&4294967295,o=t+(a<<12&4294967295|a>>>20),a=s+(n^o&(t^n))+i[6]+2821735955&4294967295,s=o+(a<<17&4294967295|a>>>15),a=n+(t^s&(o^t))+i[7]+4249261313&4294967295,n=s+(a<<22&4294967295|a>>>10),a=t+(o^n&(s^o))+i[8]+1770035416&4294967295,t=n+(a<<7&4294967295|a>>>25),a=o+(s^t&(n^s))+i[9]+2336552879&4294967295,o=t+(a<<12&4294967295|a>>>20),a=s+(n^o&(t^n))+i[10]+4294925233&4294967295,s=o+(a<<17&4294967295|a>>>15),a=n+(t^s&(o^t))+i[11]+2304563134&4294967295,n=s+(a<<22&4294967295|a>>>10),a=t+(o^n&(s^o))+i[12]+1804603682&4294967295,t=n+(a<<7&4294967295|a>>>25),a=o+(s^t&(n^s))+i[13]+4254626195&4294967295,o=t+(a<<12&4294967295|a>>>20),a=s+(n^o&(t^n))+i[14]+2792965006&4294967295,s=o+(a<<17&4294967295|a>>>15),a=n+(t^s&(o^t))+i[15]+1236535329&4294967295,n=s+(a<<22&4294967295|a>>>10),a=t+(s^o&(n^s))+i[1]+4129170786&4294967295,t=n+(a<<5&4294967295|a>>>27),a=o+(n^s&(t^n))+i[6]+3225465664&4294967295,o=t+(a<<9&4294967295|a>>>23),a=s+(t^n&(o^t))+i[11]+643717713&4294967295,s=o+(a<<14&4294967295|a>>>18),a=n+(o^t&(s^o))+i[0]+3921069994&4294967295,n=s+(a<<20&4294967295|a>>>12),a=t+(s^o&(n^s))+i[5]+3593408605&4294967295,t=n+(a<<5&4294967295|a>>>27),a=o+(n^s&(t^n))+i[10]+38016083&4294967295,o=t+(a<<9&4294967295|a>>>23),a=s+(t^n&(o^t))+i[15]+3634488961&4294967295,s=o+(a<<14&4294967295|a>>>18),a=n+(o^t&(s^o))+i[4]+3889429448&4294967295,n=s+(a<<20&4294967295|a>>>12),a=t+(s^o&(n^s))+i[9]+568446438&4294967295,t=n+(a<<5&4294967295|a>>>27),a=o+(n^s&(t^n))+i[14]+3275163606&4294967295,o=t+(a<<9&4294967295|a>>>23),a=s+(t^n&(o^t))+i[3]+4107603335&4294967295,s=o+(a<<14&4294967295|a>>>18),a=n+(o^t&(s^o))+i[8]+1163531501&4294967295,n=s+(a<<20&4294967295|a>>>12),a=t+(s^o&(n^s))+i[13]+2850285829&4294967295,t=n+(a<<5&4294967295|a>>>27),a=o+(n^s&(t^n))+i[2]+4243563512&4294967295,o=t+(a<<9&4294967295|a>>>23),a=s+(t^n&(o^t))+i[7]+1735328473&4294967295,s=o+(a<<14&4294967295|a>>>18),a=n+(o^t&(s^o))+i[12]+2368359562&4294967295,n=s+(a<<20&4294967295|a>>>12),a=t+(n^s^o)+i[5]+4294588738&4294967295,t=n+(a<<4&4294967295|a>>>28),a=o+(t^n^s)+i[8]+2272392833&4294967295,o=t+(a<<11&4294967295|a>>>21),a=s+(o^t^n)+i[11]+1839030562&4294967295,s=o+(a<<16&4294967295|a>>>16),a=n+(s^o^t)+i[14]+4259657740&4294967295,n=s+(a<<23&4294967295|a>>>9),a=t+(n^s^o)+i[1]+2763975236&4294967295,t=n+(a<<4&4294967295|a>>>28),a=o+(t^n^s)+i[4]+1272893353&4294967295,o=t+(a<<11&4294967295|a>>>21),a=s+(o^t^n)+i[7]+4139469664&4294967295,s=o+(a<<16&4294967295|a>>>16),a=n+(s^o^t)+i[10]+3200236656&4294967295,n=s+(a<<23&4294967295|a>>>9),a=t+(n^s^o)+i[13]+681279174&4294967295,t=n+(a<<4&4294967295|a>>>28),a=o+(t^n^s)+i[0]+3936430074&4294967295,o=t+(a<<11&4294967295|a>>>21),a=s+(o^t^n)+i[3]+3572445317&4294967295,s=o+(a<<16&4294967295|a>>>16),a=n+(s^o^t)+i[6]+76029189&4294967295,n=s+(a<<23&4294967295|a>>>9),a=t+(n^s^o)+i[9]+3654602809&4294967295,t=n+(a<<4&4294967295|a>>>28),a=o+(t^n^s)+i[12]+3873151461&4294967295,o=t+(a<<11&4294967295|a>>>21),a=s+(o^t^n)+i[15]+530742520&4294967295,s=o+(a<<16&4294967295|a>>>16),a=n+(s^o^t)+i[2]+3299628645&4294967295,n=s+(a<<23&4294967295|a>>>9),a=t+(s^(n|~o))+i[0]+4096336452&4294967295,t=n+(a<<6&4294967295|a>>>26),a=o+(n^(t|~s))+i[7]+1126891415&4294967295,o=t+(a<<10&4294967295|a>>>22),a=s+(t^(o|~n))+i[14]+2878612391&4294967295,s=o+(a<<15&4294967295|a>>>17),a=n+(o^(s|~t))+i[5]+4237533241&4294967295,n=s+(a<<21&4294967295|a>>>11),a=t+(s^(n|~o))+i[12]+1700485571&4294967295,t=n+(a<<6&4294967295|a>>>26),a=o+(n^(t|~s))+i[3]+2399980690&4294967295,o=t+(a<<10&4294967295|a>>>22),a=s+(t^(o|~n))+i[10]+4293915773&4294967295,s=o+(a<<15&4294967295|a>>>17),a=n+(o^(s|~t))+i[1]+2240044497&4294967295,n=s+(a<<21&4294967295|a>>>11),a=t+(s^(n|~o))+i[8]+1873313359&4294967295,t=n+(a<<6&4294967295|a>>>26),a=o+(n^(t|~s))+i[15]+4264355552&4294967295,o=t+(a<<10&4294967295|a>>>22),a=s+(t^(o|~n))+i[6]+2734768916&4294967295,s=o+(a<<15&4294967295|a>>>17),a=n+(o^(s|~t))+i[13]+1309151649&4294967295,n=s+(a<<21&4294967295|a>>>11),a=t+(s^(n|~o))+i[4]+4149444226&4294967295,t=n+(a<<6&4294967295|a>>>26),a=o+(n^(t|~s))+i[11]+3174756917&4294967295,o=t+(a<<10&4294967295|a>>>22),a=s+(t^(o|~n))+i[2]+718787259&4294967295,s=o+(a<<15&4294967295|a>>>17),a=n+(o^(s|~t))+i[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+o&4294967295}ss.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,i=this.m,s=this.h,o=0;o<t;){if(s==0)for(;o<=n;)dv(this,e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){dv(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){dv(this,i),s=0;break}}this.h=s,this.i+=t};ss.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var i=0;32>i;i+=8)e[n++]=this.g[t]>>>i&255;return e};function fe(e,t){this.h=t;for(var n=[],i=!0,s=e.length-1;0<=s;s--){var o=e[s]|0;i&&o==t||(n[s]=o,i=!1)}this.g=n}var K$={};function lw(e){return-128<=e&&128>e?e$(e,function(t){return new fe([t|0],0>t?-1:0)}):new fe([e|0],0>e?-1:0)}function Cs(e){if(isNaN(e)||!isFinite(e))return Fl;if(0>e)return xn(Cs(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=_b;return new fe(t,0)}function gD(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return xn(gD(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Cs(Math.pow(t,8)),i=Fl,s=0;s<e.length;s+=8){var o=Math.min(8,e.length-s),a=parseInt(e.substring(s,s+o),t);8>o?(o=Cs(Math.pow(t,o)),i=i.R(o).add(Cs(a))):(i=i.R(n),i=i.add(Cs(a)))}return i}var _b=4294967296,Fl=lw(0),yb=lw(1),_C=lw(16777216);nt=fe.prototype;nt.ea=function(){if(Fi(this))return-xn(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var i=this.D(n);e+=(0<=i?i:_b+i)*t,t*=_b}return e};nt.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Zs(this))return"0";if(Fi(this))return"-"+xn(this).toString(e);for(var t=Cs(Math.pow(e,6)),n=this,i="";;){var s=Ig(n,t).g;n=Eg(n,s.R(t));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=s,Zs(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};nt.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Zs(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function Fi(e){return e.h==-1}nt.X=function(e){return e=Eg(this,e),Fi(e)?-1:Zs(e)?0:1};function xn(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new fe(n,~e.h).add(yb)}nt.abs=function(){return Fi(this)?xn(this):this};nt.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var o=i+(this.D(s)&65535)+(e.D(s)&65535),a=(o>>>16)+(this.D(s)>>>16)+(e.D(s)>>>16);i=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new fe(n,n[n.length-1]&-2147483648?-1:0)};function Eg(e,t){return e.add(xn(t))}nt.R=function(e){if(Zs(this)||Zs(e))return Fl;if(Fi(this))return Fi(e)?xn(this).R(xn(e)):xn(xn(this).R(e));if(Fi(e))return xn(this.R(xn(e)));if(0>this.X(_C)&&0>e.X(_C))return Cs(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var o=this.D(i)>>>16,a=this.D(i)&65535,c=e.D(s)>>>16,u=e.D(s)&65535;n[2*i+2*s]+=a*u,ap(n,2*i+2*s),n[2*i+2*s+1]+=o*u,ap(n,2*i+2*s+1),n[2*i+2*s+1]+=a*c,ap(n,2*i+2*s+1),n[2*i+2*s+2]+=o*c,ap(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new fe(n,0)};function ap(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Ou(e,t){this.g=e,this.h=t}function Ig(e,t){if(Zs(t))throw Error("division by zero");if(Zs(e))return new Ou(Fl,Fl);if(Fi(e))return t=Ig(xn(e),t),new Ou(xn(t.g),xn(t.h));if(Fi(t))return t=Ig(e,xn(t)),new Ou(xn(t.g),t.h);if(30<e.g.length){if(Fi(e)||Fi(t))throw Error("slowDivide_ only works with positive integers.");for(var n=yb,i=t;0>=i.X(e);)n=yC(n),i=yC(i);var s=yl(n,1),o=yl(i,1);for(i=yl(i,2),n=yl(n,2);!Zs(i);){var a=o.add(i);0>=a.X(e)&&(s=s.add(n),o=a),i=yl(i,1),n=yl(n,1)}return t=Eg(e,s.R(t)),new Ou(s,t)}for(s=Fl;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=Cs(n),a=o.R(t);Fi(a)||0<a.X(e);)n-=i,o=Cs(n),a=o.R(t);Zs(o)&&(o=yb),s=s.add(o),e=Eg(e,a)}return new Ou(s,e)}nt.gb=function(e){return Ig(this,e).h};nt.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)&e.D(i);return new fe(n,this.h&e.h)};nt.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)|e.D(i);return new fe(n,this.h|e.h)};nt.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)^e.D(i);return new fe(n,this.h^e.h)};function yC(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.D(i)<<1|e.D(i-1)>>>31;return new fe(n,e.h)}function yl(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],o=0;o<i;o++)s[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new fe(s,e.h)}wg.prototype.createWebChannel=wg.prototype.g;Oi.prototype.send=Oi.prototype.u;Oi.prototype.open=Oi.prototype.m;Oi.prototype.close=Oi.prototype.close;Pm.NO_ERROR=0;Pm.TIMEOUT=8;Pm.HTTP_ERROR=6;D2.COMPLETE="complete";O2.EventType=bd;bd.OPEN="a";bd.CLOSE="b";bd.ERROR="c";bd.MESSAGE="d";Cn.prototype.listen=Cn.prototype.O;We.prototype.listenOnce=We.prototype.P;We.prototype.getLastError=We.prototype.Sa;We.prototype.getLastErrorCode=We.prototype.Ia;We.prototype.getStatus=We.prototype.da;We.prototype.getResponseJson=We.prototype.Wa;We.prototype.getResponseText=We.prototype.ja;We.prototype.send=We.prototype.ha;We.prototype.setWithCredentials=We.prototype.Oa;ss.prototype.digest=ss.prototype.l;ss.prototype.reset=ss.prototype.reset;ss.prototype.update=ss.prototype.j;fe.prototype.add=fe.prototype.add;fe.prototype.multiply=fe.prototype.R;fe.prototype.modulo=fe.prototype.gb;fe.prototype.compare=fe.prototype.X;fe.prototype.toNumber=fe.prototype.ea;fe.prototype.toString=fe.prototype.toString;fe.prototype.getBits=fe.prototype.D;fe.fromNumber=Cs;fe.fromString=gD;var G$=function(){return new wg},Y$=function(){return Cm()},fv=Pm,X$=D2,Q$=Ca,vC={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},lp=O2,J$=We,Z$=ss,Ul=fe;const bC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yc="10.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new am("@firebase/firestore");function Mu(){return _a.logLevel}function et(e,...t){if(_a.logLevel<=Ht.DEBUG){const n=t.map(cw);_a.debug(`Firestore (${yc}): ${e}`,...n)}}function Ls(e,...t){if(_a.logLevel<=Ht.ERROR){const n=t.map(cw);_a.error(`Firestore (${yc}): ${e}`,...n)}}function Jl(e,...t){if(_a.logLevel<=Ht.WARN){const n=t.map(cw);_a.warn(`Firestore (${yc}): ${e}`,...n)}}function cw(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(e="Unexpected state"){const t=`FIRESTORE (${yc}) INTERNAL ASSERTION FAILED: `+e;throw Ls(t),new Error(t)}function we(e,t){e||Rt()}function Mt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends zn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class t7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Un.UNAUTHENTICATED))}shutdown(){}}class e7{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class n7{constructor(t){this.t=t,this.currentUser=Un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let i=this.i;const s=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let o=new Rs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Rs,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=o;t.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},c=u=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Rs)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(we(typeof i.accessToken=="string"),new mD(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return we(t===null||typeof t=="string"),new Un(t)}}class i7{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=Un.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class s7{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new i7(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r7{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o7{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const i=o=>{o.error!=null&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,et("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const s=o=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(we(typeof n.token=="string"),this.R=n.token,new r7(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a7(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const s=a7(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<n&&(i+=t.charAt(s[o]%t.length))}return i}}function re(e,t){return e<t?-1:e>t?1:0}function Zl(e,t,n){return e.length===t.length&&e.every((i,s)=>n(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new rt(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rt(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new rt(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return gn.fromMillis(Date.now())}static fromDate(t){return gn.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new gn(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?re(this.nanoseconds,t.nanoseconds):re(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Dt(t)}static min(){return new Dt(new gn(0,0))}static max(){return new Dt(new gn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(t,n,i){n===void 0?n=0:n>t.length&&Rt(),i===void 0?i=t.length-n:i>t.length-n&&Rt(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Kh.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Kh?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const o=t.get(s),a=n.get(s);if(o<a)return-1;if(o>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Ae extends Kh{construct(t,n,i){return new Ae(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new rt(U.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Ae(n)}static emptyPath(){return new Ae([])}}const l7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dn extends Kh{construct(t,n,i){return new Dn(t,n,i)}static isValidIdentifier(t){return l7.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Dn(["__name__"])}static fromServerFormat(t){const n=[];let i="",s=0;const o=()=>{if(i.length===0)throw new rt(U.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;s<t.length;){const c=t[s];if(c==="\\"){if(s+1===t.length)throw new rt(U.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new rt(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,s+=2}else c==="`"?(a=!a,s++):c!=="."||a?(i+=c,s++):(o(),s++)}if(o(),a)throw new rt(U.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Dn(n)}static emptyPath(){return new Dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t){this.path=t}static fromPath(t){return new Et(Ae.fromString(t))}static fromName(t){return new Et(Ae.fromString(t).popFirst(5))}static empty(){return new Et(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ae.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new Ae(t.slice()))}}function c7(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=Dt.fromTimestamp(i===1e9?new gn(n+1,0):new gn(n,i));return new co(s,Et.empty(),t)}function u7(e){return new co(e.readTime,e.key,-1)}class co{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new co(Dt.min(),Et.empty(),-1)}static max(){return new co(Dt.max(),Et.empty(),-1)}}function h7(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Et.comparator(e.documentKey,t.documentKey),n!==0?n:re(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class f7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sd(e){if(e.code!==U.FAILED_PRECONDITION||e.message!==d7)throw e;et("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new H((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):H.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):H.reject(n)}static resolve(t){return new H((n,i)=>{n(t)})}static reject(t){return new H((n,i)=>{i(t)})}static waitFor(t){return new H((n,i)=>{let s=0,o=0,a=!1;t.forEach(c=>{++s,c.next(()=>{++o,a&&o===s&&n()},u=>i(u))}),a=!0,o===s&&n()})}static or(t){let n=H.resolve(!1);for(const i of t)n=n.next(s=>s?H.resolve(s):i());return n}static forEach(t,n){const i=[];return t.forEach((s,o)=>{i.push(n.call(this,s,o))}),this.waitFor(i)}static mapArray(t,n){return new H((i,s)=>{const o=t.length,a=new Array(o);let c=0;for(let u=0;u<o;u++){const d=u;n(t[d]).next(f=>{a[d]=f,++c,c===o&&i(a)},f=>s(f))}})}static doWhile(t,n){return new H((i,s)=>{const o=()=>{t()===!0?n().next(()=>{o()},s):i()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.V=new Rs,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new fh(t,n.error)):this.V.resolve()},this.transaction.onerror=i=>{const s=hw(i.target.error);this.V.reject(new fh(t,s))}}static open(t,n,i,s){try{return new uw(n,t.transaction(s,i))}catch(o){throw new fh(n,o)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(et("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const n=this.transaction.objectStore(t);return new g7(n)}}class ta{constructor(t,n,i){this.name=t,this.version=n,this.p=i,ta.S(De())===12.2&&Ls("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return et("SimpleDb","Removing database:",t),Yo(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!Dh())return!1;if(ta.C())return!0;const t=De(),n=ta.S(t),i=0<n&&n<10,s=ta.v(t),o=0<s&&s<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static C(){var t;return typeof process<"u"&&((t=process.__PRIVATE_env)===null||t===void 0?void 0:t.F)==="YES"}static M(t,n){return t.store(n)}static S(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(t){const n=t.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}async O(t){return this.db||(et("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,i)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=o=>{const a=o.target.result;n(a)},s.onblocked=()=>{i(new fh(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;a.name==="VersionError"?i(new rt(U.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?i(new rt(U.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):i(new fh(t,a))},s.onupgradeneeded=o=>{et("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const a=o.target.result;this.p.N(a,s.transaction,o.oldVersion,this.version).next(()=>{et("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(t){this.L=t,this.db&&(this.db.onversionchange=n=>t(n))}async runTransaction(t,n,i,s){const o=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.O(t);const c=uw.open(this.db,t,o?"readonly":"readwrite",i),u=s(c).next(d=>(c.g(),d)).catch(d=>(c.abort(d),H.reject(d))).toPromise();return u.catch(()=>{}),await c.m,u}catch(c){const u=c,d=u.name!=="FirebaseError"&&a<3;if(et("SimpleDb","Transaction failed with error:",u.message,"Retrying:",d),this.close(),!d)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}class p7{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return Yo(this.k.delete())}}class fh extends rt{constructor(t,n){super(U.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ad(e){return e.name==="IndexedDbTransactionError"}class g7{constructor(t){this.store=t}put(t,n){let i;return n!==void 0?(et("SimpleDb","PUT",this.store.name,t,n),i=this.store.put(n,t)):(et("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Yo(i)}add(t){return et("SimpleDb","ADD",this.store.name,t,t),Yo(this.store.add(t))}get(t){return Yo(this.store.get(t)).next(n=>(n===void 0&&(n=null),et("SimpleDb","GET",this.store.name,t,n),n))}delete(t){return et("SimpleDb","DELETE",this.store.name,t),Yo(this.store.delete(t))}count(){return et("SimpleDb","COUNT",this.store.name),Yo(this.store.count())}W(t,n){const i=this.options(t,n),s=i.index?this.store.index(i.index):this.store;if(typeof s.getAll=="function"){const o=s.getAll(i.range);return new H((a,c)=>{o.onerror=u=>{c(u.target.error)},o.onsuccess=u=>{a(u.target.result)}})}{const o=this.cursor(i),a=[];return this.G(o,(c,u)=>{a.push(u)}).next(()=>a)}}j(t,n){const i=this.store.getAll(t,n===null?void 0:n);return new H((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}H(t,n){et("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,n);i.J=!1;const s=this.cursor(i);return this.G(s,(o,a,c)=>c.delete())}Y(t,n){let i;n?i=t:(i={},n=t);const s=this.cursor(i);return this.G(s,n)}Z(t){const n=this.cursor({});return new H((i,s)=>{n.onerror=o=>{const a=hw(o.target.error);s(a)},n.onsuccess=o=>{const a=o.target.result;a?t(a.primaryKey,a.value).next(c=>{c?a.continue():i()}):i()}})}G(t,n){const i=[];return new H((s,o)=>{t.onerror=a=>{o(a.target.error)},t.onsuccess=a=>{const c=a.target.result;if(!c)return void s();const u=new p7(c),d=n(c.primaryKey,c.value,u);if(d instanceof H){const f=d.catch(g=>(u.done(),H.reject(g)));i.push(f)}u.isDone?s():u.$===null?c.continue():c.continue(u.$)}}).next(()=>H.waitFor(i))}options(t,n){let i;return t!==void 0&&(typeof t=="string"?i=t:n=t),{index:i,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const i=this.store.index(t.index);return t.J?i.openKeyCursor(t.range,n):i.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function Yo(e){return new H((t,n)=>{e.onsuccess=i=>{const s=i.target.result;t(s)},e.onerror=i=>{const s=hw(i.target.error);n(s)}})}let wC=!1;function hw(e){const t=ta.S(De());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){const i=new rt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return wC||(wC=!0,setTimeout(()=>{throw i},0)),i}}return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.se(i),this.oe=i=>n.writeSequenceNumber(i))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}dw._e=-1;function Vm(e){return e==null}function Tg(e){return e===0&&1/e==-1/0}function m7(e){return typeof e=="number"&&Number.isInteger(e)&&!Tg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Pa(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function yD(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t,n){this.comparator=t,this.root=n||kn.EMPTY}insert(t,n){return new Ne(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(t){return new Ne(this.comparator,this.root.remove(t,this.comparator).copy(null,null,kn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new cp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new cp(this.root,t,this.comparator,!1)}getReverseIterator(){return new cp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new cp(this.root,t,this.comparator,!0)}}class cp{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?i(t.key,n):1,n&&s&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class kn{constructor(t,n,i,s,o){this.key=t,this.value=n,this.color=i??kn.RED,this.left=s??kn.EMPTY,this.right=o??kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,o){return new kn(t??this.key,n??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,n,i),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return kn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Rt();const t=this.left.check();if(t!==this.right.check())throw Rt();return t+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt()}get value(){throw Rt()}get color(){throw Rt()}get left(){throw Rt()}get right(){throw Rt()}copy(t,n,i,s,o){return this}insert(t,n,i){return new kn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this.comparator=t,this.data=new Ne(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new IC(this.data.getIterator())}getIteratorFrom(t){return new IC(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Mn)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Mn(this.comparator);return n.data=t,n}}class IC{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(t){this.fields=t,t.sort(Dn.comparator)}static empty(){return new ki([])}unionWith(t){let n=new Mn(Dn.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new ki(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Zl(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new vD("Invalid base64 string: "+o):o}}(t);return new Gn(n)}static fromUint8Array(t){const n=function(s){let o="";for(let a=0;a<s.length;++a)o+=String.fromCharCode(s[a]);return o}(t);return new Gn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return re(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Gn.EMPTY_BYTE_STRING=new Gn("");const _7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uo(e){if(we(!!e),typeof e=="string"){let t=0;const n=_7.exec(e);if(we(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ln(e.seconds),nanos:ln(e.nanos)}}function ln(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ya(e){return typeof e=="string"?Gn.fromBase64String(e):Gn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function pw(e){const t=e.mapValue.fields.__previous_value__;return fw(t)?pw(t):t}function Gh(e){const t=uo(e.mapValue.fields.__local_write_time__.timestampValue);return new gn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(t,n,i,s,o,a,c,u,d){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d}}class Yh{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Yh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Yh&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function va(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?fw(e)?4:v7(e)?9007199254740991:10:Rt()}function Vs(e,t){if(e===t)return!0;const n=va(e);if(n!==va(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Gh(e).isEqual(Gh(t));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const a=uo(s.timestampValue),c=uo(o.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,o){return ya(s.bytesValue).isEqual(ya(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,o){return ln(s.geoPointValue.latitude)===ln(o.geoPointValue.latitude)&&ln(s.geoPointValue.longitude)===ln(o.geoPointValue.longitude)}(e,t);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return ln(s.integerValue)===ln(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const a=ln(s.doubleValue),c=ln(o.doubleValue);return a===c?Tg(a)===Tg(c):isNaN(a)&&isNaN(c)}return!1}(e,t);case 9:return Zl(e.arrayValue.values||[],t.arrayValue.values||[],Vs);case 10:return function(s,o){const a=s.mapValue.fields||{},c=o.mapValue.fields||{};if(EC(a)!==EC(c))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(c[u]===void 0||!Vs(a[u],c[u])))return!1;return!0}(e,t);default:return Rt()}}function Xh(e,t){return(e.values||[]).find(n=>Vs(n,t))!==void 0}function tc(e,t){if(e===t)return 0;const n=va(e),i=va(t);if(n!==i)return re(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(e.booleanValue,t.booleanValue);case 2:return function(o,a){const c=ln(o.integerValue||o.doubleValue),u=ln(a.integerValue||a.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(e,t);case 3:return TC(e.timestampValue,t.timestampValue);case 4:return TC(Gh(e),Gh(t));case 5:return re(e.stringValue,t.stringValue);case 6:return function(o,a){const c=ya(o),u=ya(a);return c.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(o,a){const c=o.split("/"),u=a.split("/");for(let d=0;d<c.length&&d<u.length;d++){const f=re(c[d],u[d]);if(f!==0)return f}return re(c.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,a){const c=re(ln(o.latitude),ln(a.latitude));return c!==0?c:re(ln(o.longitude),ln(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,a){const c=o.values||[],u=a.values||[];for(let d=0;d<c.length&&d<u.length;++d){const f=tc(c[d],u[d]);if(f)return f}return re(c.length,u.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,a){if(o===up.mapValue&&a===up.mapValue)return 0;if(o===up.mapValue)return 1;if(a===up.mapValue)return-1;const c=o.fields||{},u=Object.keys(c),d=a.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){const _=re(u[g],f[g]);if(_!==0)return _;const v=tc(c[u[g]],d[f[g]]);if(v!==0)return v}return re(u.length,f.length)}(e.mapValue,t.mapValue);default:throw Rt()}}function TC(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return re(e,t);const n=uo(e),i=uo(t),s=re(n.seconds,i.seconds);return s!==0?s:re(n.nanos,i.nanos)}function ec(e){return vb(e)}function vb(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=uo(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return ya(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Et.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",s=!0;for(const o of n.values||[])s?s=!1:i+=",",i+=vb(o);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${vb(n.fields[a])}`;return s+"}"}(e.mapValue):Rt()}function SC(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function bb(e){return!!e&&"integerValue"in e}function gw(e){return!!e&&"arrayValue"in e}function AC(e){return!!e&&"nullValue"in e}function CC(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $p(e){return!!e&&"mapValue"in e}function ph(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Pa(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=ph(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ph(e.arrayValue.values[n]);return t}return Object.assign({},e)}function v7(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t){this.value=t}static empty(){return new di({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!$p(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ph(n)}setAll(t){let n=Dn.emptyPath(),i={},s=[];t.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,i,s),i={},s=[],n=c.popLast()}a?i[c.lastSegment()]=ph(a):s.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,s)}delete(t){const n=this.field(t.popLast());$p(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Vs(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];$p(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){Pa(n,(s,o)=>t[s]=o);for(const s of i)delete t[s]}clone(){return new di(ph(this.value))}}function bD(e){const t=[];return Pa(e.fields,(n,i)=>{const s=new Dn([n]);if($p(i)){const o=bD(i.mapValue).fields;if(o.length===0)t.push(s);else for(const a of o)t.push(s.child(a))}else t.push(s)}),new ki(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t,n,i,s,o,a,c){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=o,this.data=a,this.documentState=c}static newInvalidDocument(t){return new Bn(t,0,Dt.min(),Dt.min(),Dt.min(),di.empty(),0)}static newFoundDocument(t,n,i,s){return new Bn(t,1,n,Dt.min(),i,s,0)}static newNoDocument(t,n){return new Bn(t,2,n,Dt.min(),Dt.min(),di.empty(),0)}static newUnknownDocument(t,n){return new Bn(t,3,n,Dt.min(),Dt.min(),di.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=di.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Bn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(t,n){this.position=t,this.inclusive=n}}function PC(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const o=t[s],a=e.position[s];if(o.field.isKeyField()?i=Et.comparator(Et.fromName(a.referenceValue),n.key):i=tc(a,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function RC(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Vs(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(t,n="asc"){this.field=t,this.dir=n}}function b7(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{}class cn extends wD{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new E7(t,n,i):n==="array-contains"?new S7(t,i):n==="in"?new A7(t,i):n==="not-in"?new C7(t,i):n==="array-contains-any"?new P7(t,i):new cn(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new I7(t,i):new T7(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(tc(n,this.value)):n!==null&&va(this.value)===va(n)&&this.matchesComparison(tc(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rs extends wD{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new rs(t,n)}matches(t){return ED(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function ED(e){return e.op==="and"}function ID(e){return w7(e)&&ED(e)}function w7(e){for(const t of e.filters)if(t instanceof rs)return!1;return!0}function wb(e){if(e instanceof cn)return e.field.canonicalString()+e.op.toString()+ec(e.value);if(ID(e))return e.filters.map(t=>wb(t)).join(",");{const t=e.filters.map(n=>wb(n)).join(",");return`${e.op}(${t})`}}function TD(e,t){return e instanceof cn?function(i,s){return s instanceof cn&&i.op===s.op&&i.field.isEqual(s.field)&&Vs(i.value,s.value)}(e,t):e instanceof rs?function(i,s){return s instanceof rs&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,a,c)=>o&&TD(a,s.filters[c]),!0):!1}(e,t):void Rt()}function SD(e){return e instanceof cn?function(n){return`${n.field.canonicalString()} ${n.op} ${ec(n.value)}`}(e):e instanceof rs?function(n){return n.op.toString()+" {"+n.getFilters().map(SD).join(" ,")+"}"}(e):"Filter"}class E7 extends cn{constructor(t,n,i){super(t,n,i),this.key=Et.fromName(i.referenceValue)}matches(t){const n=Et.comparator(t.key,this.key);return this.matchesComparison(n)}}class I7 extends cn{constructor(t,n){super(t,"in",n),this.keys=AD("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class T7 extends cn{constructor(t,n){super(t,"not-in",n),this.keys=AD("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function AD(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Et.fromName(i.referenceValue))}class S7 extends cn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return gw(n)&&Xh(n.arrayValue,this.value)}}class A7 extends cn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Xh(this.value.arrayValue,n)}}class C7 extends cn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Xh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Xh(this.value.arrayValue,n)}}class P7 extends cn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!gw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Xh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(t,n=null,i=[],s=[],o=null,a=null,c=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=a,this.endAt=c,this.ce=null}}function kC(e,t=null,n=[],i=[],s=null,o=null,a=null){return new R7(e,t,n,i,s,o,a)}function mw(e){const t=Mt(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>wb(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Vm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>ec(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>ec(i)).join(",")),t.ce=n}return t.ce}function _w(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!b7(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!TD(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!RC(e.startAt,t.startAt)&&RC(e.endAt,t.endAt)}function Eb(e){return Et.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(t,n=null,i=[],s=[],o=null,a="F",c=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=a,this.startAt=c,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function k7(e,t,n,i,s,o,a,c){return new vc(e,t,n,i,s,o,a,c)}function Fm(e){return new vc(e)}function xC(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function CD(e){return e.collectionGroup!==null}function gh(e){const t=Mt(e);if(t.le===null){t.le=[];const n=new Set;for(const o of t.explicitOrderBy)t.le.push(o),n.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new Mn(Dn.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(t).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||t.le.push(new Qh(o,i))}),n.has(Dn.keyField().canonicalString())||t.le.push(new Qh(Dn.keyField(),i))}return t.le}function ks(e){const t=Mt(e);return t.he||(t.he=x7(t,gh(e))),t.he}function x7(e,t){if(e.limitType==="F")return kC(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Qh(s.field,o)});const n=e.endAt?new Sg(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Sg(e.startAt.position,e.startAt.inclusive):null;return kC(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Ib(e,t){const n=e.filters.concat([t]);return new vc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ag(e,t,n){return new vc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Um(e,t){return _w(ks(e),ks(t))&&e.limitType===t.limitType}function PD(e){return`${mw(ks(e))}|lt:${e.limitType}`}function El(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>SD(s)).join(", ")}]`),Vm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>ec(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>ec(s)).join(",")),`Target(${i})`}(ks(e))}; limitType=${e.limitType})`}function Bm(e,t){return t.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Et.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(e,t)&&function(i,s){for(const o of gh(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(e,t)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(e,t)&&function(i,s){return!(i.startAt&&!function(a,c,u){const d=PC(a,c,u);return a.inclusive?d<=0:d<0}(i.startAt,gh(i),s)||i.endAt&&!function(a,c,u){const d=PC(a,c,u);return a.inclusive?d>=0:d>0}(i.endAt,gh(i),s))}(e,t)}function D7(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function RD(e){return(t,n)=>{let i=!1;for(const s of gh(e)){const o=O7(s,t,n);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function O7(e,t,n){const i=e.field.isKeyField()?Et.comparator(t.key,n.key):function(o,a,c){const u=a.data.field(o),d=c.data.field(o);return u!==null&&d!==null?tc(u,d):Rt()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Rt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return void(s[o]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Pa(this.inner,(n,i)=>{for(const[s,o]of i)t(s,o)})}isEmpty(){return yD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M7=new Ne(Et.comparator);function ur(){return M7}const kD=new Ne(Et.comparator);function Gu(...e){let t=kD;for(const n of e)t=t.insert(n.key,n);return t}function xD(e){let t=kD;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function ea(){return mh()}function DD(){return mh()}function mh(){return new bc(e=>e.toString(),(e,t)=>e.isEqual(t))}const N7=new Ne(Et.comparator),L7=new Mn(Et.comparator);function zt(...e){let t=L7;for(const n of e)t=t.add(n);return t}const V7=new Mn(re);function F7(){return V7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tg(t)?"-0":t}}function MD(e){return{integerValue:""+e}}function U7(e,t){return m7(t)?MD(t):OD(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(){this._=void 0}}function B7(e,t,n){return e instanceof Cg?function(s,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&fw(o)&&(o=pw(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,t):e instanceof Jh?LD(e,t):e instanceof Zh?VD(e,t):function(s,o){const a=ND(s,o),c=DC(a)+DC(s.Ie);return bb(a)&&bb(s.Ie)?MD(c):OD(s.serializer,c)}(e,t)}function j7(e,t,n){return e instanceof Jh?LD(e,t):e instanceof Zh?VD(e,t):n}function ND(e,t){return e instanceof Pg?function(i){return bb(i)||function(o){return!!o&&"doubleValue"in o}(i)}(t)?t:{integerValue:0}:null}class Cg extends jm{}class Jh extends jm{constructor(t){super(),this.elements=t}}function LD(e,t){const n=FD(t);for(const i of e.elements)n.some(s=>Vs(s,i))||n.push(i);return{arrayValue:{values:n}}}class Zh extends jm{constructor(t){super(),this.elements=t}}function VD(e,t){let n=FD(t);for(const i of e.elements)n=n.filter(s=>!Vs(s,i));return{arrayValue:{values:n}}}class Pg extends jm{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function DC(e){return ln(e.integerValue||e.doubleValue)}function FD(e){return gw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function $7(e,t){return e.field.isEqual(t.field)&&function(i,s){return i instanceof Jh&&s instanceof Jh||i instanceof Zh&&s instanceof Zh?Zl(i.elements,s.elements,Vs):i instanceof Pg&&s instanceof Pg?Vs(i.Ie,s.Ie):i instanceof Cg&&s instanceof Cg}(e.transform,t.transform)}class H7{constructor(t,n){this.version=t,this.transformResults=n}}class ji{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ji}static exists(t){return new ji(void 0,t)}static updateTime(t){return new ji(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Hp(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class $m{}function UD(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new yw(e.key,ji.none()):new Cd(e.key,e.data,ji.none());{const n=e.data,i=di.empty();let s=new Mn(Dn.comparator);for(let o of t.fields)if(!s.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?i.delete(o):i.set(o,a),s=s.add(o)}return new vo(e.key,i,new ki(s.toArray()),ji.none())}}function z7(e,t,n){e instanceof Cd?function(s,o,a){const c=s.value.clone(),u=MC(s.fieldTransforms,o,a.transformResults);c.setAll(u),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(e,t,n):e instanceof vo?function(s,o,a){if(!Hp(s.precondition,o))return void o.convertToUnknownDocument(a.version);const c=MC(s.fieldTransforms,o,a.transformResults),u=o.data;u.setAll(BD(s)),u.setAll(c),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(s,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function _h(e,t,n,i){return e instanceof Cd?function(o,a,c,u){if(!Hp(o.precondition,a))return c;const d=o.value.clone(),f=NC(o.fieldTransforms,u,a);return d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(e,t,n,i):e instanceof vo?function(o,a,c,u){if(!Hp(o.precondition,a))return c;const d=NC(o.fieldTransforms,u,a),f=a.data;return f.setAll(BD(o)),f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(e,t,n,i):function(o,a,c){return Hp(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(e,t,n)}function W7(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),o=ND(i.transform,s||null);o!=null&&(n===null&&(n=di.empty()),n.set(i.field,o))}return n||null}function OC(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Zl(i,s,(o,a)=>$7(o,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Cd extends $m{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class vo extends $m{constructor(t,n,i,s,o=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function BD(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function MC(e,t,n){const i=new Map;we(e.length===n.length);for(let s=0;s<n.length;s++){const o=e[s],a=o.transform,c=t.data.field(o.field);i.set(o.field,j7(a,c,n[s]))}return i}function NC(e,t,n){const i=new Map;for(const s of e){const o=s.transform,a=n.data.field(s.field);i.set(s.field,B7(o,a,t))}return i}class yw extends $m{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class q7 extends $m{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(t.key)&&z7(o,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=_h(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=_h(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=DD();return this.mutations.forEach(s=>{const o=t.get(s.key),a=o.overlayedDocument;let c=this.applyToLocalView(a,o.mutatedFields);c=n.has(s.key)?null:c;const u=UD(a,c);u!==null&&i.set(s.key,u),a.isValidDocument()||a.convertToNoDocument(Dt.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),zt())}isEqual(t){return this.batchId===t.batchId&&Zl(this.mutations,t.mutations,(n,i)=>OC(n,i))&&Zl(this.baseMutations,t.baseMutations,(n,i)=>OC(n,i))}}class vw{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){we(t.mutations.length===i.length);let s=function(){return N7}();const o=t.mutations;for(let a=0;a<o.length;a++)s=s.insert(o[a].key,i[a].version);return new vw(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,Xt;function X7(e){switch(e){default:return Rt();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function jD(e){if(e===void 0)return Ls("GRPC error has no .code"),U.UNKNOWN;switch(e){case on.OK:return U.OK;case on.CANCELLED:return U.CANCELLED;case on.UNKNOWN:return U.UNKNOWN;case on.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case on.INTERNAL:return U.INTERNAL;case on.UNAVAILABLE:return U.UNAVAILABLE;case on.UNAUTHENTICATED:return U.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case on.NOT_FOUND:return U.NOT_FOUND;case on.ALREADY_EXISTS:return U.ALREADY_EXISTS;case on.PERMISSION_DENIED:return U.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case on.ABORTED:return U.ABORTED;case on.OUT_OF_RANGE:return U.OUT_OF_RANGE;case on.UNIMPLEMENTED:return U.UNIMPLEMENTED;case on.DATA_LOSS:return U.DATA_LOSS;default:return Rt()}}(Xt=on||(on={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q7(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J7=new Ul([4294967295,4294967295],0);function LC(e){const t=Q7().encode(e),n=new Z$;return n.update(t),new Uint8Array(n.digest())}function VC(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ul([n,i],0),new Ul([s,o],0)]}class bw{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Yu(`Invalid padding: ${n}`);if(i<0)throw new Yu(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Yu(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Yu(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=Ul.fromNumber(this.Te)}de(t,n,i){let s=t.add(n.multiply(Ul.fromNumber(i)));return s.compare(J7)===1&&(s=new Ul([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=LC(t),[i,s]=VC(n);for(let o=0;o<this.hashCount;o++){const a=this.de(i,s,o);if(!this.Ae(a))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),a=new bw(o,s,n);return i.forEach(c=>a.insert(c)),a}insert(t){if(this.Te===0)return;const n=LC(t),[i,s]=VC(n);for(let o=0;o<this.hashCount;o++){const a=this.de(i,s,o);this.Re(a)}}Re(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t,n,i,s,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,Pd.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Hm(Dt.min(),s,new Ne(re),ur(),zt())}}class Pd{constructor(t,n,i,s,o){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Pd(i,n,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(t,n,i,s){this.Ve=t,this.removedTargetIds=n,this.key=i,this.me=s}}class $D{constructor(t,n){this.targetId=t,this.fe=n}}class HD{constructor(t,n,i=Gn.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class FC{constructor(){this.ge=0,this.pe=BC(),this.ye=Gn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=zt(),n=zt(),i=zt();return this.pe.forEach((s,o)=>{switch(o){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:Rt()}}),new Pd(this.ye,this.we,t,n,i)}Fe(){this.Se=!1,this.pe=BC()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,we(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class Z7{constructor(t){this.Be=t,this.ke=new Map,this.qe=ur(),this.Qe=UC(),this.Ke=new Ne(re)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const i=this.ze(n);switch(t.state){case 0:this.je(n)&&i.Ce(t.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(t.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Le(),i.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(t.resumeToken));break;default:Rt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((i,s)=>{this.je(s)&&n(s)})}Je(t){const n=t.targetId,i=t.fe.count,s=this.Ye(n);if(s){const o=s.target;if(Eb(o))if(i===0){const a=new Et(o.path);this.We(n,a,Bn.newNoDocument(a,Dt.min()))}else we(i===1);else{const a=this.Ze(n);if(a!==i){const c=this.Xe(t),u=c?this.et(c,t,a):1;if(u!==0){this.He(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,d)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let a,c;try{a=ya(i).toUint8Array()}catch(u){if(u instanceof vD)return Jl("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new bw(a,s,o)}catch(u){return Jl(u instanceof Yu?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Te===0?null:c}et(t,n,i){return n.fe.count===i-this.rt(t,n.targetId)?0:2}rt(t,n){const i=this.Be.getRemoteKeysForTarget(n);let s=0;return i.forEach(o=>{const a=this.Be.nt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;t.mightContain(c)||(this.We(n,o,null),s++)}),s}it(t){const n=new Map;this.ke.forEach((o,a)=>{const c=this.Ye(a);if(c){if(o.current&&Eb(c.target)){const u=new Et(c.target.path);this.qe.get(u)!==null||this.st(a,u)||this.We(a,u,Bn.newNoDocument(u,t))}o.De&&(n.set(a,o.ve()),o.Fe())}});let i=zt();this.Qe.forEach((o,a)=>{let c=!0;a.forEachWhile(u=>{const d=this.Ye(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(o))}),this.qe.forEach((o,a)=>a.setReadTime(t));const s=new Hm(t,n,this.Ke,this.qe,i);return this.qe=ur(),this.Qe=UC(),this.Ke=new Ne(re),s}Ue(t,n){if(!this.je(t))return;const i=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,i){if(!this.je(t))return;const s=this.ze(t);this.st(t,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Be.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new FC,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new Mn(re),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||et("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Be._t(t)}He(t){this.ke.set(t,new FC),this.Be.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Be.getRemoteKeysForTarget(t).has(n)}}function UC(){return new Ne(Et.comparator)}function BC(){return new Ne(Et.comparator)}const t8={asc:"ASCENDING",desc:"DESCENDING"},e8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},n8={and:"AND",or:"OR"};class i8{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Tb(e,t){return e.useProto3Json||Vm(t)?t:{value:t}}function Rg(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function zD(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function s8(e,t){return Rg(e,t.toTimestamp())}function xs(e){return we(!!e),Dt.fromTimestamp(function(n){const i=uo(n);return new gn(i.seconds,i.nanos)}(e))}function ww(e,t){return Sb(e,t).canonicalString()}function Sb(e,t){const n=function(s){return new Ae(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function WD(e){const t=Ae.fromString(e);return we(XD(t)),t}function Ab(e,t){return ww(e.databaseId,t.path)}function pv(e,t){const n=WD(t);if(n.get(1)!==e.databaseId.projectId)throw new rt(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new rt(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Et(KD(n))}function qD(e,t){return ww(e.databaseId,t)}function r8(e){const t=WD(e);return t.length===4?Ae.emptyPath():KD(t)}function Cb(e){return new Ae(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function KD(e){return we(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function jC(e,t,n){return{name:Ab(e,t),fields:n.value.mapValue.fields}}function o8(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Rt()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],o=function(d,f){return d.useProto3Json?(we(f===void 0||typeof f=="string"),Gn.fromBase64String(f||"")):(we(f===void 0||f instanceof Uint8Array),Gn.fromUint8Array(f||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,c=a&&function(d){const f=d.code===void 0?U.UNKNOWN:jD(d.code);return new rt(f,d.message||"")}(a);n=new HD(i,s,o,c||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=pv(e,i.document.name),o=xs(i.document.updateTime),a=i.document.createTime?xs(i.document.createTime):Dt.min(),c=new di({mapValue:{fields:i.document.fields}}),u=Bn.newFoundDocument(s,o,a,c),d=i.targetIds||[],f=i.removedTargetIds||[];n=new zp(d,f,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=pv(e,i.document),o=i.readTime?xs(i.readTime):Dt.min(),a=Bn.newNoDocument(s,o),c=i.removedTargetIds||[];n=new zp([],c,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=pv(e,i.document),o=i.removedTargetIds||[];n=new zp([],o,s,null)}else{if(!("filter"in t))return Rt();{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,a=new Y7(s,o),c=i.targetId;n=new $D(c,a)}}return n}function a8(e,t){let n;if(t instanceof Cd)n={update:jC(e,t.key,t.value)};else if(t instanceof yw)n={delete:Ab(e,t.key)};else if(t instanceof vo)n={update:jC(e,t.key,t.data),updateMask:m8(t.fieldMask)};else{if(!(t instanceof q7))return Rt();n={verify:Ab(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(o,a){const c=a.transform;if(c instanceof Cg)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Jh)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Zh)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Pg)return{fieldPath:a.field.canonicalString(),increment:c.Ie};throw Rt()}(0,i))),t.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:s8(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Rt()}(e,t.precondition)),n}function l8(e,t){return e&&e.length>0?(we(t!==void 0),e.map(n=>function(s,o){let a=s.updateTime?xs(s.updateTime):xs(o);return a.isEqual(Dt.min())&&(a=xs(o)),new H7(a,s.transformResults||[])}(n,t))):[]}function c8(e,t){return{documents:[qD(e,t.path)]}}function u8(e,t){const n={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=qD(e,s);const o=function(d){if(d.length!==0)return YD(rs.create(d,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(d){if(d.length!==0)return d.map(f=>function(_){return{field:Il(_.field),direction:f8(_.dir)}}(f))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const c=Tb(e,t.limit);return c!==null&&(n.structuredQuery.limit=c),t.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{ut:n,parent:s}}function h8(e){let t=r8(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){we(i===1);const f=n.from[0];f.allDescendants?s=f.collectionId:t=t.child(f.collectionId)}let o=[];n.where&&(o=function(g){const _=GD(g);return _ instanceof rs&&ID(_)?_.getFilters():[_]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(_=>function(I){return new Qh(Tl(I.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(g){let _;return _=typeof g=="object"?g.value:g,Vm(_)?null:_}(n.limit));let u=null;n.startAt&&(u=function(g){const _=!!g.before,v=g.values||[];return new Sg(v,_)}(n.startAt));let d=null;return n.endAt&&(d=function(g){const _=!g.before,v=g.values||[];return new Sg(v,_)}(n.endAt)),k7(t,s,a,o,c,"F",u,d)}function d8(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function GD(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Tl(n.unaryFilter.field);return cn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Tl(n.unaryFilter.field);return cn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Tl(n.unaryFilter.field);return cn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Tl(n.unaryFilter.field);return cn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Rt()}}(e):e.fieldFilter!==void 0?function(n){return cn.create(Tl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rt()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return rs.create(n.compositeFilter.filters.map(i=>GD(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Rt()}}(n.compositeFilter.op))}(e):Rt()}function f8(e){return t8[e]}function p8(e){return e8[e]}function g8(e){return n8[e]}function Il(e){return{fieldPath:e.canonicalString()}}function Tl(e){return Dn.fromServerFormat(e.fieldPath)}function YD(e){return e instanceof cn?function(n){if(n.op==="=="){if(CC(n.value))return{unaryFilter:{field:Il(n.field),op:"IS_NAN"}};if(AC(n.value))return{unaryFilter:{field:Il(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(CC(n.value))return{unaryFilter:{field:Il(n.field),op:"IS_NOT_NAN"}};if(AC(n.value))return{unaryFilter:{field:Il(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Il(n.field),op:p8(n.op),value:n.value}}}(e):e instanceof rs?function(n){const i=n.getFilters().map(s=>YD(s));return i.length===1?i[0]:{compositeFilter:{op:g8(n.op),filters:i}}}(e):Rt()}function m8(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function XD(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(t,n,i,s,o=Dt.min(),a=Dt.min(),c=Gn.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(t){return new Gr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(t){this.ct=t}}function y8(e){const t=h8({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Ag(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(){this._n=new b8}addToCollectionParentIndex(t,n){return this._n.add(n),H.resolve()}getCollectionParents(t,n){return H.resolve(this._n.getEntries(n))}addFieldIndex(t,n){return H.resolve()}deleteFieldIndex(t,n){return H.resolve()}deleteAllFieldIndexes(t){return H.resolve()}createTargetIndexes(t,n){return H.resolve()}getDocumentsMatchingTarget(t,n){return H.resolve(null)}getIndexType(t,n){return H.resolve(0)}getFieldIndexes(t,n){return H.resolve([])}getNextCollectionGroupToUpdate(t){return H.resolve(null)}getMinOffset(t,n){return H.resolve(co.min())}getMinOffsetFromCollectionGroup(t,n){return H.resolve(co.min())}updateCollectionGroup(t,n,i){return H.resolve()}updateIndexEntries(t,n){return H.resolve()}}class b8{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new Mn(Ae.comparator),o=!s.has(i);return this.index[n]=s.add(i),o}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new Mn(Ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new nc(0)}static Ln(){return new nc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(){this.changes=new bc(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Bn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?H.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(i!==null&&_h(i.mutation,s,ki.empty(),gn.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,zt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=zt()){const s=ea();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,i).next(o=>{let a=Gu();return o.forEach((c,u)=>{a=a.insert(c,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const i=ea();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,zt()))}populateOverlays(t,n,i){const s=[];return i.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(t,s).next(o=>{o.forEach((a,c)=>{n.set(a,c)})})}computeViews(t,n,i,s){let o=ur();const a=mh(),c=function(){return mh()}();return n.forEach((u,d)=>{const f=i.get(d.key);s.has(d.key)&&(f===void 0||f.mutation instanceof vo)?o=o.insert(d.key,d):f!==void 0?(a.set(d.key,f.mutation.getFieldMask()),_h(f.mutation,d,f.mutation.getFieldMask(),gn.now())):a.set(d.key,ki.empty())}),this.recalculateAndSaveOverlays(t,o).next(u=>(u.forEach((d,f)=>a.set(d,f)),n.forEach((d,f)=>{var g;return c.set(d,new E8(f,(g=a.get(d))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(t,n){const i=mh();let s=new Ne((a,c)=>a-c),o=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const c of a)c.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let f=i.get(u)||ki.empty();f=c.applyToLocalView(d,f),i.set(u,f);const g=(s.get(c.batchId)||zt()).add(u);s=s.insert(c.batchId,g)})}).next(()=>{const a=[],c=s.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),d=u.key,f=u.value,g=DD();f.forEach(_=>{if(!o.has(_)){const v=UD(n.get(_),i.get(_));v!==null&&g.set(_,v),o=o.add(_)}}),a.push(this.documentOverlayCache.saveOverlays(t,d,g))}return H.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,s){return function(a){return Et.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):CD(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,s):this.getDocumentsMatchingCollectionQuery(t,n,i,s)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next(o=>{const a=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-o.size):H.resolve(ea());let c=-1,u=o;return a.next(d=>H.forEach(d,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),o.get(f)?H.resolve():this.remoteDocumentCache.getEntry(t,f).next(_=>{u=u.insert(f,_)}))).next(()=>this.populateOverlays(t,d,o)).next(()=>this.computeViews(t,u,d,zt())).next(f=>({batchId:c,changes:xD(f)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Et(n)).next(i=>{let s=Gu();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,i,s){const o=n.collectionGroup;let a=Gu();return this.indexManager.getCollectionParents(t,o).next(c=>H.forEach(c,u=>{const d=function(g,_){return new vc(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,i,s).next(f=>{f.forEach((g,_)=>{a=a.insert(g,_)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,o,s))).next(a=>{o.forEach((u,d)=>{const f=d.getKey();a.get(f)===null&&(a=a.insert(f,Bn.newInvalidDocument(f)))});let c=Gu();return a.forEach((u,d)=>{const f=o.get(u);f!==void 0&&_h(f.mutation,d,ki.empty(),gn.now()),Bm(n,d)&&(c=c.insert(u,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,n){return H.resolve(this.cr.get(n))}saveBundleMetadata(t,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:xs(s.createTime)}}(n)),H.resolve()}getNamedQuery(t,n){return H.resolve(this.lr.get(n))}saveNamedQuery(t,n){return this.lr.set(n.name,function(s){return{name:s.name,query:y8(s.bundledQuery),readTime:xs(s.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(){this.overlays=new Ne(Et.comparator),this.hr=new Map}getOverlay(t,n){return H.resolve(this.overlays.get(n))}getOverlays(t,n){const i=ea();return H.forEach(n,s=>this.getOverlay(t,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((s,o)=>{this.ht(t,n,o)}),H.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.hr.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(i)),H.resolve()}getOverlaysForCollection(t,n,i){const s=ea(),o=n.length+1,a=new Et(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const u=c.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&u.largestBatchId>i&&s.set(u.getKey(),u)}return H.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let o=new Ne((d,f)=>d-f);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>i){let f=o.get(d.largestBatchId);f===null&&(f=ea(),o=o.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const c=ea(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=s)););return H.resolve(c)}ht(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const a=this.hr.get(s.largestBatchId).delete(i.key);this.hr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new G7(n,i));let o=this.hr.get(n);o===void 0&&(o=zt(),this.hr.set(n,o)),this.hr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.Pr=new Mn(In.Ir),this.Tr=new Mn(In.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,n){const i=new In(t,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Ar(new In(t,n))}Rr(t,n){t.forEach(i=>this.removeReference(i,n))}Vr(t){const n=new Et(new Ae([])),i=new In(n,t),s=new In(n,t+1),o=[];return this.Tr.forEachInRange([i,s],a=>{this.Ar(a),o.push(a.key)}),o}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const n=new Et(new Ae([])),i=new In(n,t),s=new In(n,t+1);let o=zt();return this.Tr.forEachInRange([i,s],a=>{o=o.add(a.key)}),o}containsKey(t){const n=new In(t,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class In{constructor(t,n){this.key=t,this.pr=n}static Ir(t,n){return Et.comparator(t.key,n.key)||re(t.pr,n.pr)}static Er(t,n){return re(t.pr,n.pr)||Et.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Mn(In.Ir)}checkEmpty(t){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new K7(o,n,i,s);this.mutationQueue.push(a);for(const c of s)this.wr=this.wr.add(new In(c.key,o)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return H.resolve(a)}lookupMutationBatch(t,n){return H.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.br(i),o=s<0?0:s;return H.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new In(n,0),s=new In(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([i,s],a=>{const c=this.Sr(a.pr);o.push(c)}),H.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Mn(re);return n.forEach(s=>{const o=new In(s,0),a=new In(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,a],c=>{i=i.add(c.pr)})}),H.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let o=i;Et.isDocumentKey(o)||(o=o.child(""));const a=new In(new Et(o),0);let c=new Mn(re);return this.wr.forEachWhile(u=>{const d=u.key.path;return!!i.isPrefixOf(d)&&(d.length===s&&(c=c.add(u.pr)),!0)},a),H.resolve(this.Dr(c))}Dr(t){const n=[];return t.forEach(i=>{const s=this.Sr(i);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){we(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return H.forEach(n.mutations,s=>{const o=new In(s.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.wr=i})}Mn(t){}containsKey(t,n){const i=new In(n,0),s=this.wr.firstAfterOrEqual(i);return H.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,H.resolve()}Cr(t,n){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){const n=this.br(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(t){this.vr=t,this.docs=function(){return new Ne(Et.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),o=s?s.size:0,a=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return H.resolve(i?i.document.mutableCopy():Bn.newInvalidDocument(n))}getEntries(t,n){let i=ur();return n.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Bn.newInvalidDocument(s))}),H.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let o=ur();const a=n.path,c=new Et(a.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||h7(u7(f),i)<=0||(s.has(f.key)||Bm(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return H.resolve(o)}getAllFromCollectionGroup(t,n,i,s){Rt()}Fr(t,n){return H.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new P8(this)}getSize(t){return H.resolve(this.size)}}class P8 extends w8{constructor(t){super(),this.ar=t}applyChanges(t){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(t,s)):this.ar.removeEntry(i)}),H.waitFor(n)}getFromCache(t,n){return this.ar.getEntry(t,n)}getAllFromCache(t,n){return this.ar.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(t){this.persistence=t,this.Mr=new bc(n=>mw(n),_w),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Ew,this.targetCount=0,this.Lr=nc.Nn()}forEachTarget(t,n){return this.Mr.forEach((i,s)=>n(s)),H.resolve()}getLastRemoteSnapshotVersion(t){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return H.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),H.resolve()}qn(t){this.Mr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Lr=new nc(n),this.highestTargetId=n),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,n){return this.qn(n),this.targetCount+=1,H.resolve()}updateTargetData(t,n){return this.qn(n),H.resolve()}removeTargetData(t,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(t,n,i){let s=0;const o=[];return this.Mr.forEach((a,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.Mr.delete(a),o.push(this.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),H.waitFor(o).next(()=>s)}getTargetCount(t){return H.resolve(this.targetCount)}getTargetData(t,n){const i=this.Mr.get(n)||null;return H.resolve(i)}addMatchingKeys(t,n,i){return this.Nr.dr(n,i),H.resolve()}removeMatchingKeys(t,n,i){this.Nr.Rr(n,i);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(a=>{o.push(s.markPotentiallyOrphaned(t,a))}),H.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.Nr.Vr(n),H.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Nr.gr(n);return H.resolve(i)}containsKey(t,n){return H.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(t,n){this.Br={},this.overlays={},this.kr=new dw(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new R8(this),this.indexManager=new v8,this.remoteDocumentCache=function(s){return new C8(s)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new _8(n),this.$r=new T8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new S8,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.Br[t.toKey()];return i||(i=new A8(n,this.referenceDelegate),this.Br[t.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,n,i){et("MemoryPersistence","Starting transaction:",t);const s=new x8(this.kr.next());return this.referenceDelegate.Ur(),i(s).next(o=>this.referenceDelegate.Wr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Gr(t,n){return H.or(Object.values(this.Br).map(i=>()=>i.containsKey(t,n)))}}class x8 extends f7{constructor(t){super(),this.currentSequenceNumber=t}}class Iw{constructor(t){this.persistence=t,this.zr=new Ew,this.jr=null}static Hr(t){return new Iw(t)}get Jr(){if(this.jr)return this.jr;throw Rt()}addReference(t,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),H.resolve()}removeReference(t,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),H.resolve()}markPotentiallyOrphaned(t,n){return this.Jr.add(n.toString()),H.resolve()}removeTarget(t,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(o=>this.Jr.add(o.toString()))}).next(()=>i.removeTargetData(t,n))}Ur(){this.jr=new Set}Wr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Jr,i=>{const s=Et.fromPath(i);return this.Yr(t,s).next(o=>{o||n.removeEntry(s,Dt.min())})}).next(()=>(this.jr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Yr(t,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(t){return 0}Yr(t,n){return H.or([()=>H.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.qi=i,this.Qi=s}static Ki(t,n){let i=zt(),s=zt();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Tw(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return c3()?8:ta.v(De())>0?6:4}()}initialize(t,n){this.zi=t,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(t,n,i,s){const o={result:null};return this.ji(t,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Hi(t,n,s,i).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new D8;return this.Ji(t,n,a).next(c=>{if(o.result=c,this.Ui)return this.Yi(t,n,a,c.size)})}).next(()=>o.result)}Yi(t,n,i,s){return i.documentReadCount<this.Wi?(Mu()<=Ht.DEBUG&&et("QueryEngine","SDK will not create cache indexes for query:",El(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),H.resolve()):(Mu()<=Ht.DEBUG&&et("QueryEngine","Query:",El(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Gi*s?(Mu()<=Ht.DEBUG&&et("QueryEngine","The SDK decides to create cache indexes for query:",El(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ks(n))):H.resolve())}ji(t,n){if(xC(n))return H.resolve(null);let i=ks(n);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ag(n,null,"F"),i=ks(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const a=zt(...o);return this.zi.getDocuments(t,a).next(c=>this.indexManager.getMinOffset(t,i).next(u=>{const d=this.Zi(n,c);return this.Xi(n,d,a,u.readTime)?this.ji(t,Ag(n,null,"F")):this.es(t,d,n,u)}))})))}Hi(t,n,i,s){return xC(n)||s.isEqual(Dt.min())?H.resolve(null):this.zi.getDocuments(t,i).next(o=>{const a=this.Zi(n,o);return this.Xi(n,a,i,s)?H.resolve(null):(Mu()<=Ht.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),El(n)),this.es(t,a,n,c7(s,-1)).next(c=>c))})}Zi(t,n){let i=new Mn(RD(t));return n.forEach((s,o)=>{Bm(t,o)&&(i=i.add(o))}),i}Xi(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ji(t,n,i){return Mu()<=Ht.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",El(n)),this.zi.getDocumentsMatchingQuery(t,n,co.min(),i)}es(t,n,i,s){return this.zi.getDocumentsMatchingQuery(t,i,s).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(t,n,i,s){this.persistence=t,this.ts=n,this.serializer=s,this.ns=new Ne(re),this.rs=new bc(o=>mw(o),_w),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(i)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new I8(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ns))}}function N8(e,t,n,i){return new M8(e,t,n,i)}async function QD(e,t){const n=Mt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,n._s(t),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const a=[],c=[];let u=zt();for(const d of s){a.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of o){c.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(i,u).next(d=>({us:d,removedBatchIds:a,addedBatchIds:c}))})})}function L8(e,t){const n=Mt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(c,u,d,f){const g=d.batch,_=g.keys();let v=H.resolve();return _.forEach(I=>{v=v.next(()=>f.getEntry(u,I)).next(b=>{const w=d.docVersions.get(I);we(w!==null),b.version.compareTo(w)<0&&(g.applyToRemoteDocument(b,d),b.isValidDocument()&&(b.setReadTime(d.commitVersion),f.addEntry(b)))})}),v.next(()=>c.mutationQueue.removeMutationBatch(u,g))}(n,i,t,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let u=zt();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,s))})}function JD(e){const t=Mt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Qr.getLastRemoteSnapshotVersion(n))}function V8(e,t){const n=Mt(e),i=t.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const c=[];t.targetChanges.forEach((f,g)=>{const _=s.get(g);if(!_)return;c.push(n.Qr.removeMatchingKeys(o,f.removedDocuments,g).next(()=>n.Qr.addMatchingKeys(o,f.addedDocuments,g)));let v=_.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(g)!==null?v=v.withResumeToken(Gn.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,i)),s=s.insert(g,v),function(b,w,T){return b.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(_,v,f)&&c.push(n.Qr.updateTargetData(o,v))});let u=ur(),d=zt();if(t.documentUpdates.forEach(f=>{t.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(F8(o,a,t.documentUpdates).next(f=>{u=f.cs,d=f.ls})),!i.isEqual(Dt.min())){const f=n.Qr.getLastRemoteSnapshotVersion(o).next(g=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,i));c.push(f)}return H.waitFor(c).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,d)).next(()=>u)}).then(o=>(n.ns=s,o))}function F8(e,t,n){let i=zt(),s=zt();return n.forEach(o=>i=i.add(o)),t.getEntries(e,i).next(o=>{let a=ur();return n.forEach((c,u)=>{const d=o.get(c);u.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),u.isNoDocument()&&u.version.isEqual(Dt.min())?(t.removeEntry(c,u.readTime),a=a.insert(c,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(u),a=a.insert(c,u)):et("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",u.version)}),{cs:a,ls:s}})}function U8(e,t){const n=Mt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function B8(e,t){const n=Mt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Qr.getTargetData(i,t).next(o=>o?(s=o,H.resolve(s)):n.Qr.allocateTargetId(i).next(a=>(s=new Gr(t,a,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.ns.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(t,i.targetId)),i})}async function Pb(e,t,n){const i=Mt(e),s=i.ns.get(t),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Ad(a))throw a;et("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}i.ns=i.ns.remove(t),i.rs.delete(s.target)}function $C(e,t,n){const i=Mt(e);let s=Dt.min(),o=zt();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,d,f){const g=Mt(u),_=g.rs.get(f);return _!==void 0?H.resolve(g.ns.get(_)):g.Qr.getTargetData(d,f)}(i,a,ks(t)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(a,c.targetId).next(u=>{o=u})}).next(()=>i.ts.getDocumentsMatchingQuery(a,t,n?s:Dt.min(),n?o:zt())).next(c=>(j8(i,D7(t),c),{documents:c,hs:o})))}function j8(e,t,n){let i=e.ss.get(t)||Dt.min();n.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),e.ss.set(t,i)}class HC{constructor(){this.activeTargetIds=F7()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class $8{constructor(){this.no=new HC,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,n,i){this.ro[t]=n}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new HC,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{io(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hp=null;function gv(){return hp===null?hp=function(){return 268435456+Math.round(2147483648*Math.random())}():hp++,"0x"+hp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}onMessage(t){this.Ao=t}close(){this.ho()}send(t){this.lo(t)}Ro(){this.Io()}Vo(t){this.Eo(t)}mo(t){this.Ao(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn="WebChannelConnection";class q8 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=i+"://"+n.host,this.po=`projects/${s}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}get wo(){return!1}So(n,i,s,o,a){const c=gv(),u=this.bo(n,i.toUriEncodedString());et("RestConnection",`Sending RPC '${n}' ${c}:`,u,s);const d={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(d,o,a),this.Co(n,u,d,s).then(f=>(et("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw Jl("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",s),f})}vo(n,i,s,o,a,c){return this.So(n,i,s,o,a)}Do(n,i,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,a)=>n[a]=o),s&&s.headers.forEach((o,a)=>n[a]=o)}bo(n,i){const s=z8[n];return`${this.fo}/v1/${i}:${s}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Co(t,n,i,s){const o=gv();return new Promise((a,c)=>{const u=new J$;u.setWithCredentials(!0),u.listenOnce(X$.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case fv.NO_ERROR:const f=u.getResponseJson();et(Vn,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(f)),a(f);break;case fv.TIMEOUT:et(Vn,`RPC '${t}' ${o} timed out`),c(new rt(U.DEADLINE_EXCEEDED,"Request time out"));break;case fv.HTTP_ERROR:const g=u.getStatus();if(et(Vn,`RPC '${t}' ${o} failed with status:`,g,"response text:",u.getResponseText()),g>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);const v=_==null?void 0:_.error;if(v&&v.status&&v.message){const I=function(w){const T=w.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(T)>=0?T:U.UNKNOWN}(v.status);c(new rt(I,v.message))}else c(new rt(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new rt(U.UNAVAILABLE,"Connection failed."));break;default:Rt()}}finally{et(Vn,`RPC '${t}' ${o} completed.`)}});const d=JSON.stringify(s);et(Vn,`RPC '${t}' ${o} sending request:`,s),u.send(n,"POST",d,i,15)})}Fo(t,n,i){const s=gv(),o=[this.fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=G$(),c=Y$(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const f=o.join("");et(Vn,`Creating RPC '${t}' stream ${s}: ${f}`,u);const g=a.createWebChannel(f,u);let _=!1,v=!1;const I=new W8({lo:w=>{v?et(Vn,`Not sending because RPC '${t}' stream ${s} is closed:`,w):(_||(et(Vn,`Opening RPC '${t}' stream ${s} transport.`),g.open(),_=!0),et(Vn,`RPC '${t}' stream ${s} sending:`,w),g.send(w))},ho:()=>g.close()}),b=(w,T,S)=>{w.listen(T,k=>{try{S(k)}catch(x){setTimeout(()=>{throw x},0)}})};return b(g,lp.EventType.OPEN,()=>{v||et(Vn,`RPC '${t}' stream ${s} transport opened.`)}),b(g,lp.EventType.CLOSE,()=>{v||(v=!0,et(Vn,`RPC '${t}' stream ${s} transport closed`),I.Vo())}),b(g,lp.EventType.ERROR,w=>{v||(v=!0,Jl(Vn,`RPC '${t}' stream ${s} transport errored:`,w),I.Vo(new rt(U.UNAVAILABLE,"The operation could not be completed")))}),b(g,lp.EventType.MESSAGE,w=>{var T;if(!v){const S=w.data[0];we(!!S);const k=S,x=k.error||((T=k[0])===null||T===void 0?void 0:T.error);if(x){et(Vn,`RPC '${t}' stream ${s} received error:`,x);const D=x.status;let M=function(st){const gt=on[st];if(gt!==void 0)return jD(gt)}(D),V=x.message;M===void 0&&(M=U.INTERNAL,V="Unknown error status: "+D+" with message "+x.message),v=!0,I.Vo(new rt(M,V)),g.close()}else et(Vn,`RPC '${t}' stream ${s} received:`,S),I.mo(S)}}),b(c,Q$.STAT_EVENT,w=>{w.stat===vC.PROXY?et(Vn,`RPC '${t}' stream ${s} detected buffering proxy`):w.stat===vC.NOPROXY&&et(Vn,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{I.Ro()},0),I}}function mv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(e){return new i8(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(t,n,i=1e3,s=1.5,o=6e4){this.oi=t,this.timerId=n,this.Mo=i,this.xo=s,this.Oo=o,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(t){this.cancel();const n=Math.floor(this.No+this.Qo()),i=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-i);s>0&&et("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),t())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(t,n,i,s,o,a,c,u){this.oi=t,this.$o=i,this.Uo=s,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new ZD(t,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(t){this.n_(),this.stream.send(t)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(t,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,t!==4?this.jo.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Ls(n.toString()),Ls("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.To(n)}i_(){}auth(){this.state=1;const t=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Wo===n&&this.o_(i,s)},i=>{t(()=>{const s=new rt(U.UNKNOWN,"Fetching auth token failed: "+i.message);return this.__(s)})})}o_(t,n){const i=this.s_(this.Wo);this.stream=this.a_(t,n),this.stream.Po(()=>{i(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{i(()=>this.__(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(t){return et("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}s_(t){return n=>{this.oi.enqueueAndForget(()=>this.Wo===t?n():(et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class K8 extends tO{constructor(t,n,i,s,o,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,a),this.serializer=o}a_(t,n){return this.connection.Fo("Listen",t,n)}onMessage(t){this.jo.reset();const n=o8(this.serializer,t),i=function(o){if(!("targetChange"in o))return Dt.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?Dt.min():a.readTime?xs(a.readTime):Dt.min()}(t);return this.listener.u_(n,i)}c_(t){const n={};n.database=Cb(this.serializer),n.addTarget=function(o,a){let c;const u=a.target;if(c=Eb(u)?{documents:c8(o,u)}:{query:u8(o,u).ut},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=zD(o,a.resumeToken);const d=Tb(o,a.expectedCount);d!==null&&(c.expectedCount=d)}else if(a.snapshotVersion.compareTo(Dt.min())>0){c.readTime=Rg(o,a.snapshotVersion.toTimestamp());const d=Tb(o,a.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,t);const i=d8(this.serializer,t);i&&(n.labels=i),this.t_(n)}l_(t){const n={};n.database=Cb(this.serializer),n.removeTarget=t,this.t_(n)}}class G8 extends tO{constructor(t,n,i,s,o,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,a),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(t,n){return this.connection.Fo("Write",t,n)}onMessage(t){if(we(!!t.streamToken),this.lastStreamToken=t.streamToken,this.h_){this.jo.reset();const n=l8(t.writeResults,t.commitTime),i=xs(t.commitTime);return this.listener.T_(i,n)}return we(!t.writeResults||t.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const t={};t.database=Cb(this.serializer),this.t_(t)}I_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>a8(this.serializer,i))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8 extends class{}{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new rt(U.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.So(t,Sb(n,i),s,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new rt(U.UNKNOWN,o.toString())})}vo(t,n,i,s,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.vo(t,Sb(n,i),s,a,c,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new rt(U.UNKNOWN,a.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class X8{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(t){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.y_("Offline")))}set(t){this.b_(),this.m_=0,t==="Online"&&(this.g_=!1),this.y_(t)}y_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}w_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Ls(n),this.g_=!1):et("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(t,n,i,s,o){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(a=>{i.enqueueAndForget(async()=>{Ra(this)&&(et("RemoteStore","Restarting streams for network reachability change."),await async function(u){const d=Mt(u);d.v_.add(4),await Rd(d),d.x_.set("Unknown"),d.v_.delete(4),await Wm(d)}(this))})}),this.x_=new X8(i,s)}}async function Wm(e){if(Ra(e))for(const t of e.F_)await t(!0)}async function Rd(e){for(const t of e.F_)await t(!1)}function eO(e,t){const n=Mt(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),Pw(n)?Cw(n):wc(n).Jo()&&Aw(n,t))}function Sw(e,t){const n=Mt(e),i=wc(n);n.C_.delete(t),i.Jo()&&nO(n,t),n.C_.size===0&&(i.Jo()?i.Xo():Ra(n)&&n.x_.set("Unknown"))}function Aw(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Dt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}wc(e).c_(t)}function nO(e,t){e.O_.Oe(t),wc(e).l_(t)}function Cw(e){e.O_=new Z7({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),wc(e).start(),e.x_.p_()}function Pw(e){return Ra(e)&&!wc(e).Ho()&&e.C_.size>0}function Ra(e){return Mt(e).v_.size===0}function iO(e){e.O_=void 0}async function J8(e){e.C_.forEach((t,n)=>{Aw(e,t)})}async function Z8(e,t){iO(e),Pw(e)?(e.x_.S_(t),Cw(e)):e.x_.set("Unknown")}async function tH(e,t,n){if(e.x_.set("Online"),t instanceof HD&&t.state===2&&t.cause)try{await async function(s,o){const a=o.cause;for(const c of o.targetIds)s.C_.has(c)&&(await s.remoteSyncer.rejectListen(c,a),s.C_.delete(c),s.O_.removeTarget(c))}(e,t)}catch(i){et("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await kg(e,i)}else if(t instanceof zp?e.O_.$e(t):t instanceof $D?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(Dt.min()))try{const i=await JD(e.localStore);n.compareTo(i)>=0&&await function(o,a){const c=o.O_.it(a);return c.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=o.C_.get(d);f&&o.C_.set(d,f.withResumeToken(u.resumeToken,a))}}),c.targetMismatches.forEach((u,d)=>{const f=o.C_.get(u);if(!f)return;o.C_.set(u,f.withResumeToken(Gn.EMPTY_BYTE_STRING,f.snapshotVersion)),nO(o,u);const g=new Gr(f.target,u,d,f.sequenceNumber);Aw(o,g)}),o.remoteSyncer.applyRemoteEvent(c)}(e,n)}catch(i){et("RemoteStore","Failed to raise snapshot:",i),await kg(e,i)}}async function kg(e,t,n){if(!Ad(t))throw t;e.v_.add(1),await Rd(e),e.x_.set("Offline"),n||(n=()=>JD(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{et("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await Wm(e)})}function sO(e,t){return t().catch(n=>kg(e,n,t))}async function qm(e){const t=Mt(e),n=ho(t);let i=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;eH(t);)try{const s=await U8(t.localStore,i);if(s===null){t.D_.length===0&&n.Xo();break}i=s.batchId,nH(t,s)}catch(s){await kg(t,s)}rO(t)&&oO(t)}function eH(e){return Ra(e)&&e.D_.length<10}function nH(e,t){e.D_.push(t);const n=ho(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function rO(e){return Ra(e)&&!ho(e).Ho()&&e.D_.length>0}function oO(e){ho(e).start()}async function iH(e){ho(e).d_()}async function sH(e){const t=ho(e);for(const n of e.D_)t.I_(n.mutations)}async function rH(e,t,n){const i=e.D_.shift(),s=vw.from(i,t,n);await sO(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await qm(e)}async function oH(e,t){t&&ho(e).P_&&await async function(i,s){if(function(a){return X7(a)&&a!==U.ABORTED}(s.code)){const o=i.D_.shift();ho(i).Zo(),await sO(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),await qm(i)}}(e,t),rO(e)&&oO(e)}async function WC(e,t){const n=Mt(e);n.asyncQueue.verifyOperationInProgress(),et("RemoteStore","RemoteStore received new credentials");const i=Ra(n);n.v_.add(3),await Rd(n),i&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await Wm(n)}async function aH(e,t){const n=Mt(e);t?(n.v_.delete(2),await Wm(n)):t||(n.v_.add(2),await Rd(n),n.x_.set("Unknown"))}function wc(e){return e.N_||(e.N_=function(n,i,s){const o=Mt(n);return o.R_(),new K8(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(e.datastore,e.asyncQueue,{Po:J8.bind(null,e),To:Z8.bind(null,e),u_:tH.bind(null,e)}),e.F_.push(async t=>{t?(e.N_.Zo(),Pw(e)?Cw(e):e.x_.set("Unknown")):(await e.N_.stop(),iO(e))})),e.N_}function ho(e){return e.L_||(e.L_=function(n,i,s){const o=Mt(n);return o.R_(),new G8(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(e.datastore,e.asyncQueue,{Po:iH.bind(null,e),To:oH.bind(null,e),E_:sH.bind(null,e),T_:rH.bind(null,e)}),e.F_.push(async t=>{t?(e.L_.Zo(),await qm(e)):(await e.L_.stop(),e.D_.length>0&&(et("RemoteStore",`Stopping write stream with ${e.D_.length} pending writes`),e.D_=[]))})),e.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(t,n,i,s,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new Rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,o){const a=Date.now()+i,c=new Rw(t,n,a,s,o);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(U.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kw(e,t){if(Ls("AsyncQueue",`${t}: ${e}`),Ad(e))return new rt(U.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(t){this.comparator=t?(n,i)=>t(n,i)||Et.comparator(n.key,i.key):(n,i)=>Et.comparator(n.key,i.key),this.keyedMap=Gu(),this.sortedSet=new Ne(this.comparator)}static emptySet(t){return new Bl(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Bl)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Bl;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.B_=new Ne(Et.comparator)}track(t){const n=t.doc.key,i=this.B_.get(n);i?t.type!==0&&i.type===3?this.B_=this.B_.insert(n,t):t.type===3&&i.type!==1?this.B_=this.B_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.B_=this.B_.remove(n):t.type===1&&i.type===2?this.B_=this.B_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):Rt():this.B_=this.B_.insert(n,t)}k_(){const t=[];return this.B_.inorderTraversal((n,i)=>{t.push(i)}),t}}class ic{constructor(t,n,i,s,o,a,c,u,d){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(t,n,i,s,o){const a=[];return n.forEach(c=>{a.push({type:0,doc:c})}),new ic(t,n,Bl.emptySet(n),a,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Um(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(t=>t.U_())}}class cH{constructor(){this.queries=new bc(t=>PD(t),Um),this.onlineState="Unknown",this.W_=new Set}}async function xw(e,t){const n=Mt(e);let i=3;const s=t.query;let o=n.queries.get(s);o?!o.K_()&&t.U_()&&(i=2):(o=new lH,i=t.U_()?0:1);try{switch(i){case 0:o.q_=await n.onListen(s,!0);break;case 1:o.q_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const c=kw(a,`Initialization of query '${El(t.query)}' failed`);return void t.onError(c)}n.queries.set(s,o),o.Q_.push(t),t.G_(n.onlineState),o.q_&&t.z_(o.q_)&&Ow(n)}async function Dw(e,t){const n=Mt(e),i=t.query;let s=3;const o=n.queries.get(i);if(o){const a=o.Q_.indexOf(t);a>=0&&(o.Q_.splice(a,1),o.Q_.length===0?s=t.U_()?0:1:!o.K_()&&t.U_()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function uH(e,t){const n=Mt(e);let i=!1;for(const s of t){const o=s.query,a=n.queries.get(o);if(a){for(const c of a.Q_)c.z_(s)&&(i=!0);a.q_=s}}i&&Ow(n)}function hH(e,t,n){const i=Mt(e),s=i.queries.get(t);if(s)for(const o of s.Q_)o.onError(n);i.queries.delete(t)}function Ow(e){e.W_.forEach(t=>{t.next()})}var Rb,KC;(KC=Rb||(Rb={})).j_="default",KC.Cache="cache";class Mw{constructor(t,n,i){this.query=t,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=i||{}}z_(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new ic(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.J_?this.Z_(t)&&(this.H_.next(t),n=!0):this.X_(t,this.onlineState)&&(this.ea(t),n=!0),this.Y_=t,n}onError(t){this.H_.error(t)}G_(t){this.onlineState=t;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,t)&&(this.ea(this.Y_),n=!0),n}X_(t,n){if(!t.fromCache||!this.U_())return!0;const i=n!=="Offline";return(!this.options.ta||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Z_(t){if(t.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(t){t=ic.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.J_=!0,this.H_.next(t)}U_(){return this.options.source!==Rb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(t){this.key=t}}class lO{constructor(t){this.key=t}}class dH{constructor(t,n){this.query=t,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=zt(),this.mutatedKeys=zt(),this.ha=RD(t),this.Pa=new Bl(this.ha)}get Ia(){return this.ua}Ta(t,n){const i=n?n.Ea:new qC,s=n?n.Pa:this.Pa;let o=n?n.mutatedKeys:this.mutatedKeys,a=s,c=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((f,g)=>{const _=s.get(f),v=Bm(this.query,g)?g:null,I=!!_&&this.mutatedKeys.has(_.key),b=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let w=!1;_&&v?_.data.isEqual(v.data)?I!==b&&(i.track({type:3,doc:v}),w=!0):this.da(_,v)||(i.track({type:2,doc:v}),w=!0,(u&&this.ha(v,u)>0||d&&this.ha(v,d)<0)&&(c=!0)):!_&&v?(i.track({type:0,doc:v}),w=!0):_&&!v&&(i.track({type:1,doc:_}),w=!0,(u||d)&&(c=!0)),w&&(v?(a=a.add(v),o=b?o.add(f):o.delete(f)):(a=a.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),o=o.delete(f.key),i.track({type:1,doc:f})}return{Pa:a,Ea:i,Xi:c,mutatedKeys:o}}da(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,s){const o=this.Pa;this.Pa=t.Pa,this.mutatedKeys=t.mutatedKeys;const a=t.Ea.k_();a.sort((f,g)=>function(v,I){const b=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt()}};return b(v)-b(I)}(f.type,g.type)||this.ha(f.doc,g.doc)),this.Aa(i),s=s!=null&&s;const c=n&&!s?this.Ra():[],u=this.la.size===0&&this.current&&!s?1:0,d=u!==this.ca;return this.ca=u,a.length!==0||d?{snapshot:new ic(this.query,t.Pa,o,a,t.mutatedKeys,u===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),Va:c}:{Va:c}}G_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new qC,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(t){return!this.ua.has(t)&&!!this.Pa.has(t)&&!this.Pa.get(t).hasLocalMutations}Aa(t){t&&(t.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=t.current)}Ra(){if(!this.current)return[];const t=this.la;this.la=zt(),this.Pa.forEach(i=>{this.ma(i.key)&&(this.la=this.la.add(i.key))});const n=[];return t.forEach(i=>{this.la.has(i)||n.push(new lO(i))}),this.la.forEach(i=>{t.has(i)||n.push(new aO(i))}),n}fa(t){this.ua=t.hs,this.la=zt();const n=this.Ta(t.documents);return this.applyChanges(n,!0)}ga(){return ic.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class fH{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class pH{constructor(t){this.key=t,this.pa=!1}}class gH{constructor(t,n,i,s,o,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.ya={},this.wa=new bc(c=>PD(c),Um),this.Sa=new Map,this.ba=new Set,this.Da=new Ne(Et.comparator),this.Ca=new Map,this.va=new Ew,this.Fa={},this.Ma=new Map,this.xa=nc.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function mH(e,t,n=!0){const i=pO(e);let s;const o=i.wa.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.ga()):s=await cO(i,t,n,!0),s}async function _H(e,t){const n=pO(e);await cO(n,t,!0,!1)}async function cO(e,t,n,i){const s=await B8(e.localStore,ks(t)),o=s.targetId,a=n?e.sharedClientState.addLocalQueryTarget(o):"not-current";let c;return i&&(c=await yH(e,t,o,a==="current",s.resumeToken)),e.isPrimaryClient&&n&&eO(e.remoteStore,s),c}async function yH(e,t,n,i,s){e.Na=(g,_,v)=>async function(b,w,T,S){let k=w.view.Ta(T);k.Xi&&(k=await $C(b.localStore,w.query,!1).then(({documents:V})=>w.view.Ta(V,k)));const x=S&&S.targetChanges.get(w.targetId),D=S&&S.targetMismatches.get(w.targetId)!=null,M=w.view.applyChanges(k,b.isPrimaryClient,x,D);return YC(b,w.targetId,M.Va),M.snapshot}(e,g,_,v);const o=await $C(e.localStore,t,!0),a=new dH(t,o.hs),c=a.Ta(o.documents),u=Pd.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),d=a.applyChanges(c,e.isPrimaryClient,u);YC(e,n,d.Va);const f=new fH(t,n,a);return e.wa.set(t,f),e.Sa.has(n)?e.Sa.get(n).push(t):e.Sa.set(n,[t]),d.snapshot}async function vH(e,t,n){const i=Mt(e),s=i.wa.get(t),o=i.Sa.get(s.targetId);if(o.length>1)return i.Sa.set(s.targetId,o.filter(a=>!Um(a,t))),void i.wa.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Pb(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&Sw(i.remoteStore,s.targetId),kb(i,s.targetId)}).catch(Sd)):(kb(i,s.targetId),await Pb(i.localStore,s.targetId,!0))}async function bH(e,t){const n=Mt(e),i=n.wa.get(t),s=n.Sa.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Sw(n.remoteStore,i.targetId))}async function wH(e,t,n){const i=PH(e);try{const s=await function(a,c){const u=Mt(a),d=gn.now(),f=c.reduce((v,I)=>v.add(I.key),zt());let g,_;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let I=ur(),b=zt();return u.os.getEntries(v,f).next(w=>{I=w,I.forEach((T,S)=>{S.isValidDocument()||(b=b.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,I)).next(w=>{g=w;const T=[];for(const S of c){const k=W7(S,g.get(S.key).overlayedDocument);k!=null&&T.push(new vo(S.key,k,bD(k.value.mapValue),ji.exists(!0)))}return u.mutationQueue.addMutationBatch(v,d,T,c)}).next(w=>{_=w;const T=w.applyToLocalDocumentSet(g,b);return u.documentOverlayCache.saveOverlays(v,w.batchId,T)})}).then(()=>({batchId:_.batchId,changes:xD(g)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(a,c,u){let d=a.Fa[a.currentUser.toKey()];d||(d=new Ne(re)),d=d.insert(c,u),a.Fa[a.currentUser.toKey()]=d}(i,s.batchId,n),await kd(i,s.changes),await qm(i.remoteStore)}catch(s){const o=kw(s,"Failed to persist write");n.reject(o)}}async function uO(e,t){const n=Mt(e);try{const i=await V8(n.localStore,t);t.targetChanges.forEach((s,o)=>{const a=n.Ca.get(o);a&&(we(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.pa=!0:s.modifiedDocuments.size>0?we(a.pa):s.removedDocuments.size>0&&(we(a.pa),a.pa=!1))}),await kd(n,i,t)}catch(i){await Sd(i)}}function GC(e,t,n){const i=Mt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.wa.forEach((o,a)=>{const c=a.view.G_(t);c.snapshot&&s.push(c.snapshot)}),function(a,c){const u=Mt(a);u.onlineState=c;let d=!1;u.queries.forEach((f,g)=>{for(const _ of g.Q_)_.G_(c)&&(d=!0)}),d&&Ow(u)}(i.eventManager,t),s.length&&i.ya.u_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function EH(e,t,n){const i=Mt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Ca.get(t),o=s&&s.key;if(o){let a=new Ne(Et.comparator);a=a.insert(o,Bn.newNoDocument(o,Dt.min()));const c=zt().add(o),u=new Hm(Dt.min(),new Map,new Ne(re),a,c);await uO(i,u),i.Da=i.Da.remove(o),i.Ca.delete(t),Nw(i)}else await Pb(i.localStore,t,!1).then(()=>kb(i,t,n)).catch(Sd)}async function IH(e,t){const n=Mt(e),i=t.batch.batchId;try{const s=await L8(n.localStore,t);dO(n,i,null),hO(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await kd(n,s)}catch(s){await Sd(s)}}async function TH(e,t,n){const i=Mt(e);try{const s=await function(a,c){const u=Mt(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,c).next(g=>(we(g!==null),f=g.keys(),u.mutationQueue.removeMutationBatch(d,g))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(i.localStore,t);dO(i,t,n),hO(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await kd(i,s)}catch(s){await Sd(s)}}function hO(e,t){(e.Ma.get(t)||[]).forEach(n=>{n.resolve()}),e.Ma.delete(t)}function dO(e,t,n){const i=Mt(e);let s=i.Fa[i.currentUser.toKey()];if(s){const o=s.get(t);o&&(n?o.reject(n):o.resolve(),s=s.remove(t)),i.Fa[i.currentUser.toKey()]=s}}function kb(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Sa.get(t))e.wa.delete(i),n&&e.ya.La(i,n);e.Sa.delete(t),e.isPrimaryClient&&e.va.Vr(t).forEach(i=>{e.va.containsKey(i)||fO(e,i)})}function fO(e,t){e.ba.delete(t.path.canonicalString());const n=e.Da.get(t);n!==null&&(Sw(e.remoteStore,n),e.Da=e.Da.remove(t),e.Ca.delete(n),Nw(e))}function YC(e,t,n){for(const i of n)i instanceof aO?(e.va.addReference(i.key,t),SH(e,i)):i instanceof lO?(et("SyncEngine","Document no longer in limbo: "+i.key),e.va.removeReference(i.key,t),e.va.containsKey(i.key)||fO(e,i.key)):Rt()}function SH(e,t){const n=t.key,i=n.path.canonicalString();e.Da.get(n)||e.ba.has(i)||(et("SyncEngine","New document in limbo: "+n),e.ba.add(i),Nw(e))}function Nw(e){for(;e.ba.size>0&&e.Da.size<e.maxConcurrentLimboResolutions;){const t=e.ba.values().next().value;e.ba.delete(t);const n=new Et(Ae.fromString(t)),i=e.xa.next();e.Ca.set(i,new pH(n)),e.Da=e.Da.insert(n,i),eO(e.remoteStore,new Gr(ks(Fm(n.path)),i,"TargetPurposeLimboResolution",dw._e))}}async function kd(e,t,n){const i=Mt(e),s=[],o=[],a=[];i.wa.isEmpty()||(i.wa.forEach((c,u)=>{a.push(i.Na(u,t,n).then(d=>{if((d||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(u.targetId,d!=null&&d.fromCache?"not-current":"current"),d){s.push(d);const f=Tw.Ki(u.targetId,d);o.push(f)}}))}),await Promise.all(a),i.ya.u_(s),await async function(u,d){const f=Mt(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>H.forEach(d,_=>H.forEach(_.qi,v=>f.persistence.referenceDelegate.addReference(g,_.targetId,v)).next(()=>H.forEach(_.Qi,v=>f.persistence.referenceDelegate.removeReference(g,_.targetId,v)))))}catch(g){if(!Ad(g))throw g;et("LocalStore","Failed to update sequence numbers: "+g)}for(const g of d){const _=g.targetId;if(!g.fromCache){const v=f.ns.get(_),I=v.snapshotVersion,b=v.withLastLimboFreeSnapshotVersion(I);f.ns=f.ns.insert(_,b)}}}(i.localStore,o))}async function AH(e,t){const n=Mt(e);if(!n.currentUser.isEqual(t)){et("SyncEngine","User change. New user:",t.toKey());const i=await QD(n.localStore,t);n.currentUser=t,function(o,a){o.Ma.forEach(c=>{c.forEach(u=>{u.reject(new rt(U.CANCELLED,a))})}),o.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await kd(n,i.us)}}function CH(e,t){const n=Mt(e),i=n.Ca.get(t);if(i&&i.pa)return zt().add(i.key);{let s=zt();const o=n.Sa.get(t);if(!o)return s;for(const a of o){const c=n.wa.get(a);s=s.unionWith(c.view.Ia)}return s}}function pO(e){const t=Mt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=uO.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=CH.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=EH.bind(null,t),t.ya.u_=uH.bind(null,t.eventManager),t.ya.La=hH.bind(null,t.eventManager),t}function PH(e){const t=Mt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=IH.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=TH.bind(null,t),t}class XC{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=zm(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return N8(this.persistence,new O8,t.initialUser,this.serializer)}createPersistence(t){return new k8(Iw.Hr,this.serializer)}createSharedClientState(t){return new $8}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class RH{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>GC(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=AH.bind(null,this.syncEngine),await aH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new cH}()}createDatastore(t){const n=zm(t.databaseInfo.databaseId),i=function(o){return new q8(o)}(t.databaseInfo);return function(o,a,c,u){return new Y8(o,a,c,u)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,s,o,a,c){return new Q8(i,s,o,a,c)}(this.localStore,this.datastore,t.asyncQueue,n=>GC(this.syncEngine,n,0),function(){return zC.D()?new zC:new H8}())}createSyncEngine(t,n){return function(s,o,a,c,u,d,f){const g=new gH(s,o,a,c,u,d);return f&&(g.Oa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t;await async function(i){const s=Mt(i);et("RemoteStore","RemoteStore shutting down."),s.v_.add(5),await Rd(s),s.M_.shutdown(),s.x_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.qa(this.observer.next,t)}error(t){this.observer.error?this.qa(this.observer.error,t):Ls("Uncaught Error in snapshot listener:",t.toString())}Qa(){this.muted=!0}qa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(t,n,i,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Un.UNAUTHENTICATED,this.clientId=_D.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async o=>{et("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(et("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new rt(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=kw(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function _v(e,t){e.asyncQueue.verifyOperationInProgress(),et("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async s=>{i.isEqual(s)||(await QD(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function QC(e,t){e.asyncQueue.verifyOperationInProgress();const n=await DH(e);et("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>WC(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>WC(t.remoteStore,s)),e._onlineComponents=t}function xH(e){return e.name==="FirebaseError"?e.code===U.FAILED_PRECONDITION||e.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function DH(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){et("FirestoreClient","Using user provided OfflineComponentProvider");try{await _v(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!xH(n))throw n;Jl("Error using user provided cache. Falling back to memory cache: "+n),await _v(e,new XC)}}else et("FirestoreClient","Using default OfflineComponentProvider"),await _v(e,new XC);return e._offlineComponents}async function gO(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(et("FirestoreClient","Using user provided OnlineComponentProvider"),await QC(e,e._uninitializedComponentsProvider._online)):(et("FirestoreClient","Using default OnlineComponentProvider"),await QC(e,new RH))),e._onlineComponents}function OH(e){return gO(e).then(t=>t.syncEngine)}async function xg(e){const t=await gO(e),n=t.eventManager;return n.onListen=mH.bind(null,t.syncEngine),n.onUnlisten=vH.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=_H.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=bH.bind(null,t.syncEngine),n}function MH(e,t,n={}){const i=new Rs;return e.asyncQueue.enqueueAndForget(async()=>function(o,a,c,u,d){const f=new Lw({next:_=>{a.enqueueAndForget(()=>Dw(o,g));const v=_.docs.has(c);!v&&_.fromCache?d.reject(new rt(U.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&_.fromCache&&u&&u.source==="server"?d.reject(new rt(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),g=new Mw(Fm(c.path),f,{includeMetadataChanges:!0,ta:!0});return xw(o,g)}(await xg(e),e.asyncQueue,t,n,i)),i.promise}function NH(e,t,n={}){const i=new Rs;return e.asyncQueue.enqueueAndForget(async()=>function(o,a,c,u,d){const f=new Lw({next:_=>{a.enqueueAndForget(()=>Dw(o,g)),_.fromCache&&u.source==="server"?d.reject(new rt(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),g=new Mw(c,f,{includeMetadataChanges:!0,ta:!0});return xw(o,g)}(await xg(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(e,t,n){if(!n)throw new rt(U.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function LH(e,t,n,i){if(t===!0&&i===!0)throw new rt(U.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function ZC(e){if(!Et.isDocumentKey(e))throw new rt(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function tP(e){if(Et.isDocumentKey(e))throw new rt(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Km(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Rt()}function mi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new rt(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Km(e);throw new rt(U.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function VH(e,t){if(t<=0)throw new rt(U.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new rt(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new rt(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}LH("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mO((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new rt(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new rt(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new rt(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Gm{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new rt(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new rt(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eP(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new t7;switch(i.type){case"firstParty":return new s7(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new rt(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=JC.get(n);i&&(et("ComponentProvider","Removing Datastore"),JC.delete(n),i.terminate())}(this),Promise.resolve()}}function FH(e,t,n,i={}){var s;const o=(e=mi(e,Gm))._getSettings(),a=`${t}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&Jl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),i.mockUserToken){let c,u;if(typeof i.mockUserToken=="string")c=i.mockUserToken,u=Un.MOCK_USER;else{c=Qk(i.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new rt(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Un(d)}e._authCredentials=new e7(new mD(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new mr(this.firestore,t,this._query)}}class Kn{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new no(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Kn(this.firestore,t,this._key)}}class no extends mr{constructor(t,n,i){super(t,n,Fm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Kn(this.firestore,null,new Et(t))}withConverter(t){return new no(this.firestore,t,this._path)}}function Di(e,t,...n){if(e=Tt(e),_O("collection","path",t),e instanceof Gm){const i=Ae.fromString(t,...n);return tP(i),new no(e,null,i)}{if(!(e instanceof Kn||e instanceof no))throw new rt(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Ae.fromString(t,...n));return tP(i),new no(e.firestore,null,i)}}function fo(e,t,...n){if(e=Tt(e),arguments.length===1&&(t=_D.newId()),_O("doc","path",t),e instanceof Gm){const i=Ae.fromString(t,...n);return ZC(i),new Kn(e,null,new Et(i))}{if(!(e instanceof Kn||e instanceof no))throw new rt(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Ae.fromString(t,...n));return ZC(i),new Kn(e.firestore,e instanceof no?e.converter:null,new Et(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new ZD(this,"async_queue_retry"),this.cu=()=>{const n=mv();n&&et("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const t=mv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.lu(),this.hu(t)}enterRestrictedMode(t){if(!this.iu){this.iu=!0,this.au=t||!1;const n=mv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(t){if(this.lu(),this.iu)return new Promise(()=>{});const n=new Rs;return this.hu(()=>this.iu&&this.au?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.ru.push(t),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(t){if(!Ad(t))throw t;et("AsyncQueue","Operation failed with retryable error: "+t)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(t){const n=this.nu.then(()=>(this._u=!0,t().catch(i=>{this.ou=i,this._u=!1;const s=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(i);throw Ls("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this._u=!1,i))));return this.nu=n,n}enqueueAfterDelay(t,n,i){this.lu(),this.uu.indexOf(t)>-1&&(n=0);const s=Rw.createAndSchedule(this,t,n,i,o=>this.Iu(o));return this.su.push(s),s}lu(){this.ou&&Rt()}verifyOperationInProgress(){}async Tu(){let t;do t=this.nu,await t;while(t!==this.nu)}Eu(t){for(const n of this.su)if(n.timerId===t)return!0;return!1}du(t){return this.Tu().then(()=>{this.su.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.su)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tu()})}Au(t){this.uu.push(t)}Iu(t){const n=this.su.indexOf(t);this.su.splice(n,1)}}function nP(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of i)if(o in s&&typeof s[o]=="function")return!0;return!1}(e,["next","error","complete"])}class hr extends Gm{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=function(){return new UH}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||yO(this),this._firestoreClient.terminate()}}function dn(e,t){const n=typeof e=="object"?e:cm(),i=typeof e=="string"?e:t||"(default)",s=hc(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=Gk("firestore");o&&FH(s,...o)}return s}function Ym(e){return e._firestoreClient||yO(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function yO(e){var t,n,i;const s=e._freezeSettings(),o=function(c,u,d,f){return new y7(c,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,mO(f.experimentalLongPollingOptions),f.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._firestoreClient=new kH(e._authCredentials,e._appCheckCredentials,e._queue,o),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new sc(Gn.fromBase64String(t))}catch(n){throw new rt(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new sc(Gn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new rt(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new rt(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new rt(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return re(this._lat,t._lat)||re(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BH=/^__.*__$/;class jH{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new vo(t,this.data,this.fieldMask,n,this.fieldTransforms):new Cd(t,this.data,n,this.fieldTransforms)}}class vO{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new vo(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function bO(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt()}}class Uw{constructor(t,n,i,s,o,a){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Ru(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(t){return new Uw(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.mu({path:i,gu:!1});return s.pu(t),s}yu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.mu({path:i,gu:!1});return s.Ru(),s}wu(t){return this.mu({path:void 0,gu:!0})}Su(t){return Dg(t,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let t=0;t<this.path.length;t++)this.pu(this.path.get(t))}pu(t){if(t.length===0)throw this.Su("Document fields must not be empty");if(bO(this.Vu)&&BH.test(t))throw this.Su('Document fields cannot begin and end with "__"')}}class $H{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||zm(t)}Cu(t,n,i,s=!1){return new Uw({Vu:t,methodName:n,Du:i,path:Dn.emptyPath(),gu:!1,bu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qm(e){const t=e._freezeSettings(),n=zm(e._databaseId);return new $H(e._databaseId,!!t.ignoreUndefinedProperties,n)}function wO(e,t,n,i,s,o={}){const a=e.Cu(o.merge||o.mergeFields?2:0,t,n,s);Bw("Data must be an object, but it was:",a,i);const c=EO(i,a);let u,d;if(o.merge)u=new ki(a.fieldMask),d=a.fieldTransforms;else if(o.mergeFields){const f=[];for(const g of o.mergeFields){const _=xb(t,g,n);if(!a.contains(_))throw new rt(U.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);TO(f,_)||f.push(_)}u=new ki(f),d=a.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,d=a.fieldTransforms;return new jH(new di(c),u,d)}class xd extends Vw{_toFieldTransform(t){if(t.Vu!==2)throw t.Vu===1?t.Su(`${this._methodName}() can only appear at the top level of your update data`):t.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof xd}}function HH(e,t,n,i){const s=e.Cu(1,t,n);Bw("Data must be an object, but it was:",s,i);const o=[],a=di.empty();Pa(i,(u,d)=>{const f=jw(t,u,n);d=Tt(d);const g=s.yu(f);if(d instanceof xd)o.push(f);else{const _=Dd(d,g);_!=null&&(o.push(f),a.set(f,_))}});const c=new ki(o);return new vO(a,c,s.fieldTransforms)}function zH(e,t,n,i,s,o){const a=e.Cu(1,t,n),c=[xb(t,i,n)],u=[s];if(o.length%2!=0)throw new rt(U.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)c.push(xb(t,o[_])),u.push(o[_+1]);const d=[],f=di.empty();for(let _=c.length-1;_>=0;--_)if(!TO(d,c[_])){const v=c[_];let I=u[_];I=Tt(I);const b=a.yu(v);if(I instanceof xd)d.push(v);else{const w=Dd(I,b);w!=null&&(d.push(v),f.set(v,w))}}const g=new ki(d);return new vO(f,g,a.fieldTransforms)}function WH(e,t,n,i=!1){return Dd(n,e.Cu(i?4:3,t))}function Dd(e,t){if(IO(e=Tt(e)))return Bw("Unsupported field value:",t,e),EO(e,t);if(e instanceof Vw)return function(i,s){if(!bO(s.Vu))throw s.Su(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Su(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.gu&&t.Vu!==4)throw t.Su("Nested arrays are not supported");return function(i,s){const o=[];let a=0;for(const c of i){let u=Dd(c,s.wu(a));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),a++}return{arrayValue:{values:o}}}(e,t)}return function(i,s){if((i=Tt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return U7(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=gn.fromDate(i);return{timestampValue:Rg(s.serializer,o)}}if(i instanceof gn){const o=new gn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Rg(s.serializer,o)}}if(i instanceof Fw)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof sc)return{bytesValue:zD(s.serializer,i._byteString)};if(i instanceof Kn){const o=s.databaseId,a=i.firestore._databaseId;if(!a.isEqual(o))throw s.Su(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ww(i.firestore._databaseId||s.databaseId,i._key.path)}}throw s.Su(`Unsupported field value: ${Km(i)}`)}(e,t)}function EO(e,t){const n={};return yD(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Pa(e,(i,s)=>{const o=Dd(s,t.fu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function IO(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof gn||e instanceof Fw||e instanceof sc||e instanceof Kn||e instanceof Vw)}function Bw(e,t,n){if(!IO(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=Km(n);throw i==="an object"?t.Su(e+" a custom object"):t.Su(e+" "+i)}}function xb(e,t,n){if((t=Tt(t))instanceof Xm)return t._internalPath;if(typeof t=="string")return jw(e,t);throw Dg("Field path arguments must be of type string or ",e,!1,void 0,n)}const qH=new RegExp("[~\\*/\\[\\]]");function jw(e,t,n){if(t.search(qH)>=0)throw Dg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Xm(...t.split("."))._internalPath}catch{throw Dg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Dg(e,t,n,i,s){const o=i&&!i.isEmpty(),a=s!==void 0;let c=`Function ${t}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||a)&&(u+=" (found",o&&(u+=` in field ${i}`),a&&(u+=` in document ${s}`),u+=")"),new rt(U.INVALID_ARGUMENT,c+e+u)}function TO(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(t,n,i,s,o){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new KH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Jm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KH extends SO{data(){return super.data()}}function Jm(e,t){return typeof t=="string"?jw(e,t):t instanceof Xm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new rt(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $w{}class Hw extends $w{}function la(e,t,...n){let i=[];t instanceof $w&&i.push(t),i=i.concat(n),function(o){const a=o.filter(u=>u instanceof zw).length,c=o.filter(u=>u instanceof Zm).length;if(a>1||a>0&&c>0)throw new rt(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)e=s._apply(e);return e}class Zm extends Hw{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new Zm(t,n,i)}_apply(t){const n=this._parse(t);return CO(t._query,n),new mr(t.firestore,t.converter,Ib(t._query,n))}_parse(t){const n=Qm(t.firestore);return function(o,a,c,u,d,f,g){let _;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new rt(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){sP(g,f);const v=[];for(const I of g)v.push(iP(u,o,I));_={arrayValue:{values:v}}}else _=iP(u,o,g)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||sP(g,f),_=WH(c,a,g,f==="in"||f==="not-in");return cn.create(d,f,_)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function dp(e,t,n){const i=t,s=Jm("where",e);return Zm._create(s,i,n)}class zw extends $w{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new zw(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:rs.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(s,o){let a=s;const c=o.getFlattenedFilters();for(const u of c)CO(a,u),a=Ib(a,u)}(t._query,n),new mr(t.firestore,t.converter,Ib(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ww extends Hw{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Ww(t,n)}_apply(t){const n=function(s,o,a){if(s.startAt!==null)throw new rt(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new rt(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qh(o,a)}(t._query,this._field,this._direction);return new mr(t.firestore,t.converter,function(s,o){const a=s.explicitOrderBy.concat([o]);return new vc(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(t._query,n))}}function yh(e,t="asc"){const n=t,i=Jm("orderBy",e);return Ww._create(i,n)}class qw extends Hw{constructor(t,n,i){super(),this.type=t,this._limit=n,this._limitType=i}static _create(t,n,i){return new qw(t,n,i)}_apply(t){return new mr(t.firestore,t.converter,Ag(t._query,this._limit,this._limitType))}}function Db(e){return VH("limit",e),qw._create("limit",e,"F")}function iP(e,t,n){if(typeof(n=Tt(n))=="string"){if(n==="")throw new rt(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CD(t)&&n.indexOf("/")!==-1)throw new rt(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(Ae.fromString(n));if(!Et.isDocumentKey(i))throw new rt(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return SC(e,new Et(i))}if(n instanceof Kn)return SC(e,n._key);throw new rt(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Km(n)}.`)}function sP(e,t){if(!Array.isArray(e)||e.length===0)throw new rt(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function CO(e,t){const n=function(s,o){for(const a of s)for(const c of a.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(e.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new rt(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class GH{convertValue(t,n="none"){switch(va(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ln(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ya(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Rt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Pa(t,(s,o)=>{i[s]=this.convertValue(o,n)}),i}convertGeoPoint(t){return new Fw(ln(t.latitude),ln(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=pw(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Gh(t));default:return null}}convertTimestamp(t){const n=uo(t);return new gn(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Ae.fromString(t);we(XD(i));const s=new Yh(i.get(1),i.get(3)),o=new Et(i.popFirst(5));return s.isEqual(n)||Ls(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class RO extends SO{constructor(t,n,i,s,o,a){super(t,n,i,s,a),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Wp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(Jm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Wp extends RO{data(t={}){return super.data(t)}}class kO{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new Xu(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Wp(this._firestore,this._userDataWriter,i.key,i,new Xu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rt(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(c=>{const u=new Wp(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Xu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const u=new Wp(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Xu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,f=-1;return c.type!==0&&(d=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),f=a.indexOf(c.doc.key)),{type:YH(c.type),doc:u,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function YH(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XH(e){e=mi(e,Kn);const t=mi(e.firestore,hr);return MH(Ym(t),e._key).then(n=>DO(t,e,n))}class Kw extends GH{constructor(t){super(),this.firestore=t}convertBytes(t){return new sc(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Kn(this.firestore,null,n)}}function or(e){e=mi(e,mr);const t=mi(e.firestore,hr),n=Ym(t),i=new Kw(t);return AO(e._query),NH(n,e._query).then(s=>new kO(t,i,e,s))}function QH(e,t,n){e=mi(e,Kn);const i=mi(e.firestore,hr),s=PO(e.converter,t,n);return e_(i,[wO(Qm(i),"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,ji.none())])}function t_(e,t,n,...i){e=mi(e,Kn);const s=mi(e.firestore,hr),o=Qm(s);let a;return a=typeof(t=Tt(t))=="string"||t instanceof Xm?zH(o,"updateDoc",e._key,t,n,i):HH(o,"updateDoc",e._key,t),e_(s,[a.toMutation(e._key,ji.exists(!0))])}function Gw(e){return e_(mi(e.firestore,hr),[new yw(e._key,ji.none())])}function Yw(e,t){const n=mi(e.firestore,hr),i=fo(e),s=PO(e.converter,t);return e_(n,[wO(Qm(e.firestore),"addDoc",i._key,s,e.converter!==null,{}).toMutation(i._key,ji.exists(!1))]).then(()=>i)}function xO(e,...t){var n,i,s;e=Tt(e);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||nP(t[a])||(o=t[a],a++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(nP(t[a])){const g=t[a];t[a]=(n=g.next)===null||n===void 0?void 0:n.bind(g),t[a+1]=(i=g.error)===null||i===void 0?void 0:i.bind(g),t[a+2]=(s=g.complete)===null||s===void 0?void 0:s.bind(g)}let u,d,f;if(e instanceof Kn)d=mi(e.firestore,hr),f=Fm(e._key.path),u={next:g=>{t[a]&&t[a](DO(d,e,g))},error:t[a+1],complete:t[a+2]};else{const g=mi(e,mr);d=mi(g.firestore,hr),f=g._query;const _=new Kw(d);u={next:v=>{t[a]&&t[a](new kO(d,_,g,v))},error:t[a+1],complete:t[a+2]},AO(e._query)}return function(_,v,I,b){const w=new Lw(b),T=new Mw(v,w,I);return _.asyncQueue.enqueueAndForget(async()=>xw(await xg(_),T)),()=>{w.Qa(),_.asyncQueue.enqueueAndForget(async()=>Dw(await xg(_),T))}}(Ym(d),f,c,u)}function e_(e,t){return function(i,s){const o=new Rs;return i.asyncQueue.enqueueAndForget(async()=>wH(await OH(i),s,o)),o.promise}(Ym(e),t)}function DO(e,t,n){const i=n.docs.get(t._key),s=new Kw(e);return new RO(e,s,t._key,i,new Xu(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(){return new xd("deleteField")}(function(t,n=!0){(function(s){yc=s})(fr),ar(new Ms("firestore",(i,{instanceIdentifier:s,options:o})=>{const a=i.getProvider("app").getImmediate(),c=new hr(new n7(i.getProvider("auth-internal")),new o7(i.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new rt(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yh(d.options.projectId,f)}(a,s),a);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),gi(bC,"4.5.1",t),gi(bC,"4.5.1","esm2017")})();const JH={name:"loginPage",mounted(){const e=rC.AuthUI.getInstance()||new rC.AuthUI(pt.auth()),t=dn(),n={signInOptions:[pt.auth.GoogleAuthProvider.PROVIDER_ID,pt.auth.EmailAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:async i=>{console.log("Auth result:",i);const s=fo(t,"users",i.user.uid);console.log("Document Reference:",s);const o=await XH(s);return console.log("Document Snapshot Exists:",o.exists()),console.log("Document Data:",o.data()),i.additionalUserInfo.isNewUser||!o.exists()?(console.log("Setting new user data..."),QH(s,{email:i.user.email,createdAt:new Date},{merge:!0}).then(()=>{console.log("New user data set successfully."),this.$router.push("/dashboardPage")}).catch(a=>{console.error("Error initializing user data:",a)})):(console.log("User already exists, checking for missing email..."),o.data().email?(console.log("Redirecting to dashboard..."),this.$router.push("/dashboardPage")):(console.log("Updating email..."),t_(s,{email:i.user.email}).then(()=>{console.log("Email updated successfully."),this.$router.push("/dashboardPage")}).catch(a=>{console.error("Error updating user data for new features:",a)}))),!1}}};e.start("#firebaseui-auth-container",n)}},ZH=e=>(os("data-v-ed9f0e48"),e=e(),as(),e),tz={class:"login-container",style:{"text-align":"center"}},ez=ZH(()=>C("div",{class:"word-container"},[C("h1",{id:"mainHead"},"Welcome to BudgetBuddy"),C("div",{id:"firebaseui-auth-container"}),C("div",{id:"pagecontent"},[En(" BudgetBuddy is an app to track your budgets and expenditures. "),C("br"),En(" Feel free to explore our application! ")])],-1)),nz=[ez];function iz(e,t,n,i,s,o){return yt(),It("div",tz,nz)}const sz=Le(JH,[["render",iz],["__scopeId","data-v-ed9f0e48"]]);var rz="firebase",oz="10.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi(rz,oz,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO="firebasestorage.googleapis.com",NO="storageBucket",az=2*60*1e3,lz=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye extends zn{constructor(t,n,i=0){super(yv(t),`Firebase Storage: ${n} (${yv(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ye.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return yv(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qe;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qe||(qe={}));function yv(e){return"storage/"+e}function Xw(){const e="An unknown error occurred, please check the error payload for server response.";return new Ye(qe.UNKNOWN,e)}function cz(e){return new Ye(qe.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function uz(e){return new Ye(qe.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function hz(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ye(qe.UNAUTHENTICATED,e)}function dz(){return new Ye(qe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function fz(e){return new Ye(qe.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function pz(){return new Ye(qe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gz(){return new Ye(qe.CANCELED,"User canceled the upload/download.")}function mz(e){return new Ye(qe.INVALID_URL,"Invalid URL '"+e+"'.")}function _z(e){return new Ye(qe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function yz(){return new Ye(qe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+NO+"' property when initializing the app?")}function vz(){return new Ye(qe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function bz(){return new Ye(qe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function wz(e){return new Ye(qe.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ob(e){return new Ye(qe.INVALID_ARGUMENT,e)}function LO(){return new Ye(qe.APP_DELETED,"The Firebase app was deleted.")}function Ez(e){return new Ye(qe.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vh(e,t){return new Ye(qe.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Nu(e){throw new Ye(qe.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let i;try{i=xi.makeFromUrl(t,n)}catch{return new xi(t,"")}if(i.path==="")return i;throw _z(t)}static makeFromUrl(t,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function o(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const a="(/(.*))?$",c=new RegExp("^gs://"+s+a,"i"),u={bucket:1,path:3};function d(x){x.path_=decodeURIComponent(x.path)}const f="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",v=new RegExp(`^https?://${g}/${f}/b/${s}/o${_}`,"i"),I={bucket:1,path:3},b=n===MO?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",T=new RegExp(`^https?://${b}/${s}/${w}`,"i"),k=[{regex:c,indices:u,postModify:o},{regex:v,indices:I,postModify:d},{regex:T,indices:{bucket:1,path:2},postModify:d}];for(let x=0;x<k.length;x++){const D=k[x],M=D.regex.exec(t);if(M){const V=M[D.indices.bucket];let z=M[D.indices.path];z||(z=""),i=new xi(V,z),D.postModify(i);break}}if(i==null)throw mz(t);return i}}class Iz{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tz(e,t,n){let i=1,s=null,o=null,a=!1,c=0;function u(){return c===2}let d=!1;function f(...w){d||(d=!0,t.apply(null,w))}function g(w){s=setTimeout(()=>{s=null,e(v,u())},w)}function _(){o&&clearTimeout(o)}function v(w,...T){if(d){_();return}if(w){_(),f.call(null,w,...T);return}if(u()||a){_(),f.call(null,w,...T);return}i<64&&(i*=2);let k;c===1?(c=2,k=0):k=(i+Math.random())*1e3,g(k)}let I=!1;function b(w){I||(I=!0,_(),!d&&(s!==null?(w||(c=2),clearTimeout(s),g(0)):w||(c=1)))}return g(0),o=setTimeout(()=>{a=!0,b(!0)},n),b}function Sz(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Az(e){return e!==void 0}function Cz(e){return typeof e=="object"&&!Array.isArray(e)}function Qw(e){return typeof e=="string"||e instanceof String}function rP(e){return Jw()&&e instanceof Blob}function Jw(){return typeof Blob<"u"}function oP(e,t,n,i){if(i<t)throw Ob(`Invalid value for '${e}'. Expected ${t} or greater.`);if(i>n)throw Ob(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(e,t,n){let i=t;return n==null&&(i=`https://${t}`),`${n}://${i}/v0${e}`}function VO(e){const t=encodeURIComponent;let n="?";for(const i in e)if(e.hasOwnProperty(i)){const s=t(i)+"="+t(e[i]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ca;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(ca||(ca={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pz(e,t){const n=e>=500&&e<600,s=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(t,n,i,s,o,a,c,u,d,f,g,_=!0){this.url_=t,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=c,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=g,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,I)=>{this.resolve_=v,this.reject_=I,this.start_()})}start_(){const t=(i,s)=>{if(s){i(!1,new fp(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=c=>{const u=c.loaded,d=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const c=o.getErrorCode()===ca.NO_ERROR,u=o.getStatus();if(!c||Pz(u,this.additionalRetryCodes_)&&this.retry){const f=o.getErrorCode()===ca.ABORT;i(!1,new fp(!1,null,f));return}const d=this.successCodes_.indexOf(u)!==-1;i(!0,new fp(d,o))})},n=(i,s)=>{const o=this.resolve_,a=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());Az(u)?o(u):o()}catch(u){a(u)}else if(c!==null){const u=Xw();u.serverResponse=c.getErrorText(),this.errorCallback_?a(this.errorCallback_(c,u)):a(u)}else if(s.canceled){const u=this.appDelete_?LO():gz();a(u)}else{const u=pz();a(u)}};this.canceled_?n(!1,new fp(!1,null,!0)):this.backoffId_=Tz(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Sz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fp{constructor(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}}function kz(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function xz(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Dz(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Oz(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Mz(e,t,n,i,s,o,a=!0){const c=VO(e.urlParams),u=e.url+c,d=Object.assign({},e.headers);return Dz(d,t),kz(d,n),xz(d,o),Oz(d,i),new Rz(u,e.method,d,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nz(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Lz(...e){const t=Nz();if(t!==void 0){const n=new t;for(let i=0;i<e.length;i++)n.append(e[i]);return n.getBlob()}else{if(Jw())return new Blob(e);throw new Ye(qe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Vz(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fz(e){if(typeof atob>"u")throw wz("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vv{constructor(t,n){this.data=t,this.contentType=n||null}}function Uz(e,t){switch(e){case Ps.RAW:return new vv(FO(t));case Ps.BASE64:case Ps.BASE64URL:return new vv(UO(e,t));case Ps.DATA_URL:return new vv(jz(t),$z(t))}throw Xw()}function FO(e){const t=[];for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const o=i,a=e.charCodeAt(++n);i=65536|(o&1023)<<10|a&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function Bz(e){let t;try{t=decodeURIComponent(e)}catch{throw vh(Ps.DATA_URL,"Malformed data URL.")}return FO(t)}function UO(e,t){switch(e){case Ps.BASE64:{const s=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(s||o)throw vh(e,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Ps.BASE64URL:{const s=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(s||o)throw vh(e,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Fz(t)}catch(s){throw s.message.includes("polyfill")?s:vh(e,"Invalid character found")}const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}class BO{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw vh(Ps.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=Hz(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}function jz(e){const t=new BO(e);return t.base64?UO(Ps.BASE64,t.rest):Bz(t.rest)}function $z(e){return new BO(e).contentType}function Hz(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t,n){let i=0,s="";rP(t)?(this.data_=t,i=t.size,s=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(t,n){if(rP(this.data_)){const i=this.data_,s=Vz(i,t,n);return s===null?null:new qr(s)}else{const i=new Uint8Array(this.data_.buffer,t,n-t);return new qr(i,!0)}}static getBlob(...t){if(Jw()){const n=t.map(i=>i instanceof qr?i.data_:i);return new qr(Lz.apply(null,n))}else{const n=t.map(a=>Qw(a)?Uz(Ps.RAW,a).data:a.data_);let i=0;n.forEach(a=>{i+=a.byteLength});const s=new Uint8Array(i);let o=0;return n.forEach(a=>{for(let c=0;c<a.length;c++)s[o++]=a[c]}),new qr(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(e){let t;try{t=JSON.parse(e)}catch{return null}return Cz(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zz(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function Wz(e,t){const n=t.split("/").filter(i=>i.length>0).join("/");return e.length===0?n:e+"/"+n}function $O(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qz(e,t){return t}class ti{constructor(t,n,i,s){this.server=t,this.local=n||t,this.writable=!!i,this.xform=s||qz}}let pp=null;function Kz(e){return!Qw(e)||e.length<2?e:$O(e)}function HO(){if(pp)return pp;const e=[];e.push(new ti("bucket")),e.push(new ti("generation")),e.push(new ti("metageneration")),e.push(new ti("name","fullPath",!0));function t(o,a){return Kz(a)}const n=new ti("name");n.xform=t,e.push(n);function i(o,a){return a!==void 0?Number(a):a}const s=new ti("size");return s.xform=i,e.push(s),e.push(new ti("timeCreated")),e.push(new ti("updated")),e.push(new ti("md5Hash",null,!0)),e.push(new ti("cacheControl",null,!0)),e.push(new ti("contentDisposition",null,!0)),e.push(new ti("contentEncoding",null,!0)),e.push(new ti("contentLanguage",null,!0)),e.push(new ti("contentType",null,!0)),e.push(new ti("metadata","customMetadata",!0)),pp=e,pp}function Gz(e,t){function n(){const i=e.bucket,s=e.fullPath,o=new xi(i,s);return t._makeStorageReference(o)}Object.defineProperty(e,"ref",{get:n})}function Yz(e,t,n){const i={};i.type="file";const s=n.length;for(let o=0;o<s;o++){const a=n[o];i[a.local]=a.xform(i,t[a.server])}return Gz(i,e),i}function zO(e,t,n){const i=jO(t);return i===null?null:Yz(e,i,n)}function Xz(e,t,n,i){const s=jO(t);if(s===null||!Qw(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(d=>{const f=e.bucket,g=e.fullPath,_="/b/"+a(f)+"/o/"+a(g),v=Zw(_,n,i),I=VO({alt:"media",token:d});return v+I})[0]}function Qz(e,t){const n={},i=t.length;for(let s=0;s<i;s++){const o=t[s];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}class WO{constructor(t,n,i,s){this.url=t,this.method=n,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(e){if(!e)throw Xw()}function Jz(e,t){function n(i,s){const o=zO(e,s,t);return qO(o!==null),o}return n}function Zz(e,t){function n(i,s){const o=zO(e,s,t);return qO(o!==null),Xz(o,s,e.host,e._protocol)}return n}function KO(e){function t(n,i){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=dz():s=hz():n.getStatus()===402?s=uz(e.bucket):n.getStatus()===403?s=fz(e.path):s=i,s.status=n.getStatus(),s.serverResponse=i.serverResponse,s}return t}function tW(e){const t=KO(e);function n(i,s){let o=t(i,s);return i.getStatus()===404&&(o=cz(e.path)),o.serverResponse=s.serverResponse,o}return n}function eW(e,t,n){const i=t.fullServerUrl(),s=Zw(i,e.host,e._protocol),o="GET",a=e.maxOperationRetryTime,c=new WO(s,o,Zz(e,n),a);return c.errorHandler=tW(t),c}function nW(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function iW(e,t,n){const i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=nW(null,t)),i}function sW(e,t,n,i,s){const o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function c(){let k="";for(let x=0;x<2;x++)k=k+Math.random().toString().slice(2);return k}const u=c();a["Content-Type"]="multipart/related; boundary="+u;const d=iW(t,i,s),f=Qz(d,n),g="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,_=`\r
--`+u+"--",v=qr.getBlob(g,i,_);if(v===null)throw vz();const I={name:d.fullPath},b=Zw(o,e.host,e._protocol),w="POST",T=e.maxUploadRetryTime,S=new WO(b,w,Jz(e,n),T);return S.urlParams=I,S.headers=a,S.body=v.uploadData(),S.errorHandler=KO(t),S}class rW{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ca.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ca.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ca.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,i,s){if(this.sent_)throw Nu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Nu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Nu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Nu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Nu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class oW extends rW{initXhr(){this.xhr_.responseType="text"}}function GO(){return new oW}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(t,n){this._service=t,n instanceof xi?this._location=n:this._location=xi.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new ba(t,n)}get root(){const t=new xi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $O(this._location.path)}get storage(){return this._service}get parent(){const t=zz(this._location.path);if(t===null)return null;const n=new xi(this._location.bucket,t);return new ba(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw Ez(t)}}function aW(e,t,n){e._throwIfRoot("uploadBytes");const i=sW(e.storage,e._location,HO(),new qr(t,!0),n);return e.storage.makeRequestWithTokens(i,GO).then(s=>({metadata:s,ref:e}))}function lW(e){e._throwIfRoot("getDownloadURL");const t=eW(e.storage,e._location,HO());return e.storage.makeRequestWithTokens(t,GO).then(n=>{if(n===null)throw bz();return n})}function cW(e,t){const n=Wz(e._location.path,t),i=new xi(e._location.bucket,n);return new ba(e.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uW(e){return/^[A-Za-z]+:\/\//.test(e)}function hW(e,t){return new ba(e,t)}function YO(e,t){if(e instanceof t1){const n=e;if(n._bucket==null)throw yz();const i=new ba(n,n._bucket);return t!=null?YO(i,t):i}else return t!==void 0?cW(e,t):e}function dW(e,t){if(t&&uW(t)){if(e instanceof t1)return hW(e,t);throw Ob("To use ref(service, url), the first argument must be a Storage instance.")}else return YO(e,t)}function aP(e,t){const n=t==null?void 0:t[NO];return n==null?null:xi.makeFromBucketSpec(n,e)}function fW(e,t,n,i={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:s}=i;s&&(e._overrideAuthToken=typeof s=="string"?s:Qk(s,e.app.options.projectId))}class t1{constructor(t,n,i,s,o){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=MO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=az,this._maxUploadRetryTime=lz,this._requests=new Set,s!=null?this._bucket=xi.makeFromBucketSpec(s,this._host):this._bucket=aP(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=xi.makeFromBucketSpec(this._url,t):this._bucket=aP(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){oP("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){oP("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ba(this,t)}_makeRequest(t,n,i,s,o=!0){if(this._deleted)return new Iz(LO());{const a=Mz(t,this._appId,i,s,n,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(t,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,i,s).getPromise()}}const lP="@firebase/storage",cP="0.12.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO="storage";function pW(e,t,n){return e=Tt(e),aW(e,t,n)}function gW(e){return e=Tt(e),lW(e)}function mW(e,t){return e=Tt(e),dW(e,t)}function QO(e=cm(),t){e=Tt(e);const i=hc(e,XO).getImmediate({identifier:t}),s=Gk("storage");return s&&_W(i,...s),i}function _W(e,t,n,i={}){fW(e,t,n,i)}function yW(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new t1(n,i,s,t,fr)}function vW(){ar(new Ms(XO,yW,"PUBLIC").setMultipleInstances(!0)),gi(lP,cP,""),gi(lP,cP,"esm2017")}vW();const bW={apiKey:"AIzaSyAN-vVW46wKoqjR2WfhKoc7G2KwbjSsb6k",authDomain:"budgetbuddy-190c9.firebaseapp.com",projectId:"budgetbuddy-190c9",storageBucket:"budgetbuddy-190c9.appspot.com",messagingSenderId:"923067373606",appId:"1:923067373606:web:fa85b8338713ccef936ee7",measurementId:"G-31CY8FVMSB"},Ot=lm(bW),wW=Wt(Ot);m6(wW,pd).then(()=>{console.log("Persistence set to local")}).catch(e=>{console.error("Error setting persistence:",e)});QO(Ot);const EW={name:"Logout",props:["user"],methods:{signOut(){const e=Wt();v6(e).then(()=>{this.$router.push("/")}).catch(t=>{console.error("Logout Error:",t)})}}};function IW(e,t,n,i,s,o){return n.user?(yt(),It("button",{key:0,id:"btn",onClick:t[0]||(t[0]=a=>o.signOut())},"Logout")):ii("",!0)}const _r=Le(EW,[["render",IW],["__scopeId","data-v-89c0cd67"]]),TW={name:"sidebar"},Fs=e=>(os("data-v-e9206936"),e=e(),as(),e),SW={class:"sidebar"},AW=Fs(()=>C("h2",null,"BudgetBuddy",-1)),CW={class:"menu"},PW=Fs(()=>C("ion-icon",{name:"list-circle"},null,-1)),RW=Fs(()=>C("ion-icon",{name:"analytics-outline"},null,-1)),kW=Fs(()=>C("ion-icon",{name:"card"},null,-1)),xW=Fs(()=>C("ion-icon",{name:"chatbubble-ellipses"},null,-1)),DW=Fs(()=>C("ion-icon",{name:"alarm"},null,-1)),OW=Fs(()=>C("ion-icon",{name:"calendar"},null,-1)),MW=Fs(()=>C("ion-icon",{name:"alarm"},null,-1)),NW=Fs(()=>C("ion-icon",{name:"chatbubble-ellipses"},null,-1)),LW=Fs(()=>C("ion-icon",{name:"person-circle"},null,-1));function VW(e,t,n,i,s,o){const a=Kt("router-link");return yt(),It("div",SW,[AW,C("nav",null,[C("ul",CW,[C("li",{class:wn(["item",{active:e.$route.path==="/dashboardPage"}])},[PW,bt(a,{to:"/dashboardPage"},{default:ni(()=>[En("Dashboard")]),_:1})],2),C("li",{class:wn(["item",{active:e.$route.path==="/analyticsPage"}])},[RW,bt(a,{to:"/analyticsPage"},{default:ni(()=>[En("Analytics")]),_:1})],2),C("li",{class:wn(["item",{active:e.$route.path==="/addTransaction"}])},[kW,bt(a,{to:"/addTransaction"},{default:ni(()=>[En("Add Transaction")]),_:1})],2),C("li",{class:wn(["item",{active:e.$route.path==="/addBudget"}])},[xW,bt(a,{to:"/addBudget"},{default:ni(()=>[En("Add Budget")]),_:1})],2),C("li",{class:wn(["item",{active:e.$route.path==="/addScheduledTransaction"}])},[DW,bt(a,{to:"/addScheduledTransaction"},{default:ni(()=>[En("Add Scheduled Transactions")]),_:1})],2),C("li",{class:wn(["item",{active:e.$route.path==="/transactionHistory"}])},[OW,bt(a,{to:"/transactionHistory"},{default:ni(()=>[En("Transaction History")]),_:1})],2),C("li",{class:wn(["item",{active:e.$route.path==="/viewScheduledTransactions"}])},[MW,bt(a,{to:"/viewScheduledTransactions"},{default:ni(()=>[En("View Scheduled Transactions")]),_:1})],2),C("li",{class:wn(["item",{active:e.$route.path==="/goalSetting"}])},[NW,bt(a,{to:"/goalSetting"},{default:ni(()=>[En("View Budgets")]),_:1})],2),C("li",{class:wn(["item",{active:e.$route.path==="/userProfile"}])},[LW,bt(a,{to:"/userProfile"},{default:ni(()=>[En("User Profile")]),_:1})],2)])])])}const Us=Le(TW,[["render",VW],["__scopeId","data-v-e9206936"]]);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Od(e){return e+.5|0}const Yr=(e,t,n)=>Math.max(Math.min(e,n),t);function Qu(e){return Yr(Od(e*2.55),0,255)}function io(e){return Yr(Od(e*255),0,255)}function Xs(e){return Yr(Od(e/2.55)/100,0,1)}function uP(e){return Yr(Od(e*100),0,100)}const Vi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Mb=[..."0123456789ABCDEF"],FW=e=>Mb[e&15],UW=e=>Mb[(e&240)>>4]+Mb[e&15],gp=e=>(e&240)>>4===(e&15),BW=e=>gp(e.r)&&gp(e.g)&&gp(e.b)&&gp(e.a);function jW(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Vi[e[1]]*17,g:255&Vi[e[2]]*17,b:255&Vi[e[3]]*17,a:t===5?Vi[e[4]]*17:255}:(t===7||t===9)&&(n={r:Vi[e[1]]<<4|Vi[e[2]],g:Vi[e[3]]<<4|Vi[e[4]],b:Vi[e[5]]<<4|Vi[e[6]],a:t===9?Vi[e[7]]<<4|Vi[e[8]]:255})),n}const $W=(e,t)=>e<255?t(e):"";function HW(e){var t=BW(e)?FW:UW;return e?"#"+t(e.r)+t(e.g)+t(e.b)+$W(e.a,t):void 0}const zW=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function JO(e,t,n){const i=t*Math.min(n,1-n),s=(o,a=(o+e/30)%12)=>n-i*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function WW(e,t,n){const i=(s,o=(s+e/60)%6)=>n-n*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function qW(e,t,n){const i=JO(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function KW(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}function e1(e){const n=e.r/255,i=e.g/255,s=e.b/255,o=Math.max(n,i,s),a=Math.min(n,i,s),c=(o+a)/2;let u,d,f;return o!==a&&(f=o-a,d=c>.5?f/(2-o-a):f/(o+a),u=KW(n,i,s,f,o),u=u*60+.5),[u|0,d||0,c]}function n1(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(io)}function i1(e,t,n){return n1(JO,e,t,n)}function GW(e,t,n){return n1(qW,e,t,n)}function YW(e,t,n){return n1(WW,e,t,n)}function ZO(e){return(e%360+360)%360}function XW(e){const t=zW.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?Qu(+t[5]):io(+t[5]));const s=ZO(+t[2]),o=+t[3]/100,a=+t[4]/100;return t[1]==="hwb"?i=GW(s,o,a):t[1]==="hsv"?i=YW(s,o,a):i=i1(s,o,a),{r:i[0],g:i[1],b:i[2],a:n}}function QW(e,t){var n=e1(e);n[0]=ZO(n[0]+t),n=i1(n),e.r=n[0],e.g=n[1],e.b=n[2]}function JW(e){if(!e)return;const t=e1(e),n=t[0],i=uP(t[1]),s=uP(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${s}%, ${Xs(e.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const hP={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},dP={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function ZW(){const e={},t=Object.keys(dP),n=Object.keys(hP);let i,s,o,a,c;for(i=0;i<t.length;i++){for(a=c=t[i],s=0;s<n.length;s++)o=n[s],c=c.replace(o,hP[o]);o=parseInt(dP[a],16),e[c]=[o>>16&255,o>>8&255,o&255]}return e}let mp;function tq(e){mp||(mp=ZW(),mp.transparent=[0,0,0,0]);const t=mp[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const eq=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function nq(e){const t=eq.exec(e);let n=255,i,s,o;if(t){if(t[7]!==i){const a=+t[7];n=t[8]?Qu(a):Yr(a*255,0,255)}return i=+t[1],s=+t[3],o=+t[5],i=255&(t[2]?Qu(i):Yr(i,0,255)),s=255&(t[4]?Qu(s):Yr(s,0,255)),o=255&(t[6]?Qu(o):Yr(o,0,255)),{r:i,g:s,b:o,a:n}}}function iq(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Xs(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const bv=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,vl=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function sq(e,t,n){const i=vl(Xs(e.r)),s=vl(Xs(e.g)),o=vl(Xs(e.b));return{r:io(bv(i+n*(vl(Xs(t.r))-i))),g:io(bv(s+n*(vl(Xs(t.g))-s))),b:io(bv(o+n*(vl(Xs(t.b))-o))),a:e.a+n*(t.a-e.a)}}function _p(e,t,n){if(e){let i=e1(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=i1(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function tM(e,t){return e&&Object.assign(t||{},e)}function fP(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=io(e[3]))):(t=tM(e,{r:0,g:0,b:0,a:1}),t.a=io(t.a)),t}function rq(e){return e.charAt(0)==="r"?nq(e):XW(e)}class td{constructor(t){if(t instanceof td)return t;const n=typeof t;let i;n==="object"?i=fP(t):n==="string"&&(i=jW(t)||tq(t)||rq(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=tM(this._rgb);return t&&(t.a=Xs(t.a)),t}set rgb(t){this._rgb=fP(t)}rgbString(){return this._valid?iq(this._rgb):void 0}hexString(){return this._valid?HW(this._rgb):void 0}hslString(){return this._valid?JW(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,s=t.rgb;let o;const a=n===o?.5:n,c=2*a-1,u=i.a-s.a,d=((c*u===-1?c:(c+u)/(1+c*u))+1)/2;o=1-d,i.r=255&d*i.r+o*s.r+.5,i.g=255&d*i.g+o*s.g+.5,i.b=255&d*i.b+o*s.b+.5,i.a=a*i.a+(1-a)*s.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=sq(this._rgb,t._rgb,n)),this}clone(){return new td(this.rgb)}alpha(t){return this._rgb.a=io(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Od(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return _p(this._rgb,2,t),this}darken(t){return _p(this._rgb,2,-t),this}saturate(t){return _p(this._rgb,1,t),this}desaturate(t){return _p(this._rgb,1,-t),this}rotate(t){return QW(this._rgb,t),this}}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Ks(){}const oq=(()=>{let e=0;return()=>e++})();function ee(e){return e===null||typeof e>"u"}function Ce(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function qt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function $e(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Si(e,t){return $e(e)?e:t}function Lt(e,t){return typeof e>"u"?t:e}const aq=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,eM=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function be(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function de(e,t,n,i){let s,o,a;if(Ce(e))if(o=e.length,i)for(s=o-1;s>=0;s--)t.call(n,e[s],s);else for(s=0;s<o;s++)t.call(n,e[s],s);else if(qt(e))for(a=Object.keys(e),o=a.length,s=0;s<o;s++)t.call(n,e[a[s]],a[s])}function Og(e,t){let n,i,s,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],o=t[n],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function Mg(e){if(Ce(e))return e.map(Mg);if(qt(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=Mg(e[n[s]]);return t}return e}function nM(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function lq(e,t,n,i){if(!nM(e))return;const s=t[e],o=n[e];qt(s)&&qt(o)?ed(s,o,i):t[e]=Mg(o)}function ed(e,t,n){const i=Ce(t)?t:[t],s=i.length;if(!qt(e))return e;n=n||{};const o=n.merger||lq;let a;for(let c=0;c<s;++c){if(a=i[c],!qt(a))continue;const u=Object.keys(a);for(let d=0,f=u.length;d<f;++d)o(u[d],e,a,n)}return e}function bh(e,t){return ed(e,t,{merger:cq})}function cq(e,t,n){if(!nM(e))return;const i=t[e],s=n[e];qt(i)&&qt(s)?bh(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Mg(s))}const pP={"":e=>e,x:e=>e.x,y:e=>e.y};function uq(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function hq(e){const t=uq(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function po(e,t){return(pP[t]||(pP[t]=hq(t)))(e)}function s1(e){return e.charAt(0).toUpperCase()+e.slice(1)}const nd=e=>typeof e<"u",go=e=>typeof e=="function",gP=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function dq(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Re=Math.PI,Pe=2*Re,fq=Pe+Re,Ng=Number.POSITIVE_INFINITY,pq=Re/180,tn=Re/2,Bo=Re/4,mP=Re*2/3,Xr=Math.log10,Ds=Math.sign;function wh(e,t,n){return Math.abs(e-t)<n}function _P(e){const t=Math.round(e);e=wh(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Xr(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function gq(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((s,o)=>s-o).pop(),t}function rc(e){return!isNaN(parseFloat(e))&&isFinite(e)}function mq(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function iM(e,t,n){let i,s,o;for(i=0,s=e.length;i<s;i++)o=e[i][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Zi(e){return e*(Re/180)}function r1(e){return e*(180/Re)}function yP(e){if(!$e(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function sM(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let o=Math.atan2(i,n);return o<-.5*Re&&(o+=Pe),{angle:o,distance:s}}function Nb(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function _q(e,t){return(e-t+fq)%Pe-Re}function Ai(e){return(e%Pe+Pe)%Pe}function id(e,t,n,i){const s=Ai(e),o=Ai(t),a=Ai(n),c=Ai(o-s),u=Ai(a-s),d=Ai(s-o),f=Ai(s-a);return s===o||s===a||i&&o===a||c>u&&d<f}function Tn(e,t,n){return Math.max(t,Math.min(n,e))}function yq(e){return Tn(e,-32768,32767)}function tr(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function o1(e,t,n){n=n||(a=>e[a]<t);let i=e.length-1,s=0,o;for(;i-s>1;)o=s+i>>1,n(o)?s=o:i=o;return{lo:s,hi:i}}const er=(e,t,n,i)=>o1(e,n,i?s=>{const o=e[s][t];return o<n||o===n&&e[s+1][t]===n}:s=>e[s][t]<n),vq=(e,t,n)=>o1(e,n,i=>e[i][t]>=n);function bq(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}const rM=["push","pop","shift","splice","unshift"];function wq(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),rM.forEach(n=>{const i="_onData"+s1(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...o){const a=s.apply(this,o);return e._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...o)}),a}})})}function vP(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(rM.forEach(o=>{delete e[o]}),delete e._chartjs)}function oM(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const aM=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function lM(e,t){let n=[],i=!1;return function(...s){n=s,i||(i=!0,aM.call(window,()=>{i=!1,e.apply(t,n)}))}}function Eq(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const a1=e=>e==="start"?"left":e==="end"?"right":"center",Fn=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,Iq=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function cM(e,t,n){const i=t.length;let s=0,o=i;if(e._sorted){const{iScale:a,_parsed:c}=e,u=a.axis,{min:d,max:f,minDefined:g,maxDefined:_}=a.getUserBounds();g&&(s=Tn(Math.min(er(c,u,d).lo,n?i:er(t,u,a.getPixelForValue(d)).lo),0,i-1)),_?o=Tn(Math.max(er(c,a.axis,f,!0).hi+1,n?0:er(t,u,a.getPixelForValue(f),!0).hi+1),s,i)-s:o=i-s}return{start:s,count:o}}function uM(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=s,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),o}const yp=e=>e===0||e===1,bP=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Pe/n)),wP=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Pe/n)+1,Eh={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*tn)+1,easeOutSine:e=>Math.sin(e*tn),easeInOutSine:e=>-.5*(Math.cos(Re*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>yp(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>yp(e)?e:bP(e,.075,.3),easeOutElastic:e=>yp(e)?e:wP(e,.075,.3),easeInOutElastic(e){return yp(e)?e:e<.5?.5*bP(e*2,.1125,.45):.5+.5*wP(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Eh.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Eh.easeInBounce(e*2)*.5:Eh.easeOutBounce(e*2-1)*.5+.5};function l1(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function EP(e){return l1(e)?e:new td(e)}function wv(e){return l1(e)?e:new td(e).saturate(.5).darken(.1).hexString()}const Tq=["x","y","borderWidth","radius","tension"],Sq=["color","borderColor","backgroundColor"];function Aq(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:Sq},numbers:{type:"number",properties:Tq}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Cq(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const IP=new Map;function Pq(e,t){t=t||{};const n=e+JSON.stringify(t);let i=IP.get(n);return i||(i=new Intl.NumberFormat(e,t),IP.set(n,i)),i}function Md(e,t,n){return Pq(t,n).format(e)}const hM={values(e){return Ce(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let s,o=e;if(n.length>1){const d=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),o=Rq(e,n)}const a=Xr(Math.abs(o)),c=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),u={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),Md(e,i,u)},logarithmic(e,t,n){if(e===0)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(Xr(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?hM.numeric.call(this,e,t,n):""}};function Rq(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var n_={formatters:hM};function kq(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:n_.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const wa=Object.create(null),Lb=Object.create(null);function Ih(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const o=n[i];e=e[o]||(e[o]=Object.create(null))}return e}function Ev(e,t,n){return typeof t=="string"?ed(Ih(e,t),n):ed(Ih(e,""),t)}class xq{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>wv(s.backgroundColor),this.hoverBorderColor=(i,s)=>wv(s.borderColor),this.hoverColor=(i,s)=>wv(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Ev(this,t,n)}get(t){return Ih(this,t)}describe(t,n){return Ev(Lb,t,n)}override(t,n){return Ev(wa,t,n)}route(t,n,i,s){const o=Ih(this,t),a=Ih(this,i),c="_"+n;Object.defineProperties(o,{[c]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[c],d=a[s];return qt(u)?Object.assign({},d,u):Lt(u,d)},set(u){this[c]=u}}})}apply(t){t.forEach(n=>n(this))}}var He=new xq({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Aq,Cq,kq]);function Dq(e){return!e||ee(e.size)||ee(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Lg(e,t,n,i,s){let o=t[s];return o||(o=t[s]=e.measureText(s).width,n.push(s)),o>i&&(i=o),i}function Oq(e,t,n,i){i=i||{};let s=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},o=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let a=0;const c=n.length;let u,d,f,g,_;for(u=0;u<c;u++)if(g=n[u],g!=null&&!Ce(g))a=Lg(e,s,o,a,g);else if(Ce(g))for(d=0,f=g.length;d<f;d++)_=g[d],_!=null&&!Ce(_)&&(a=Lg(e,s,o,a,_));e.restore();const v=o.length/2;if(v>n.length){for(u=0;u<v;u++)delete s[o[u]];o.splice(0,v)}return a}function jo(e,t,n){const i=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function TP(e,t){t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function Vb(e,t,n,i){dM(e,t,n,i,null)}function dM(e,t,n,i,s){let o,a,c,u,d,f,g,_;const v=t.pointStyle,I=t.rotation,b=t.radius;let w=(I||0)*pq;if(v&&typeof v=="object"&&(o=v.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(w),e.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),e.restore();return}if(!(isNaN(b)||b<=0)){switch(e.beginPath(),v){default:s?e.ellipse(n,i,s/2,b,0,0,Pe):e.arc(n,i,b,0,Pe),e.closePath();break;case"triangle":f=s?s/2:b,e.moveTo(n+Math.sin(w)*f,i-Math.cos(w)*b),w+=mP,e.lineTo(n+Math.sin(w)*f,i-Math.cos(w)*b),w+=mP,e.lineTo(n+Math.sin(w)*f,i-Math.cos(w)*b),e.closePath();break;case"rectRounded":d=b*.516,u=b-d,a=Math.cos(w+Bo)*u,g=Math.cos(w+Bo)*(s?s/2-d:u),c=Math.sin(w+Bo)*u,_=Math.sin(w+Bo)*(s?s/2-d:u),e.arc(n-g,i-c,d,w-Re,w-tn),e.arc(n+_,i-a,d,w-tn,w),e.arc(n+g,i+c,d,w,w+tn),e.arc(n-_,i+a,d,w+tn,w+Re),e.closePath();break;case"rect":if(!I){u=Math.SQRT1_2*b,f=s?s/2:u,e.rect(n-f,i-u,2*f,2*u);break}w+=Bo;case"rectRot":g=Math.cos(w)*(s?s/2:b),a=Math.cos(w)*b,c=Math.sin(w)*b,_=Math.sin(w)*(s?s/2:b),e.moveTo(n-g,i-c),e.lineTo(n+_,i-a),e.lineTo(n+g,i+c),e.lineTo(n-_,i+a),e.closePath();break;case"crossRot":w+=Bo;case"cross":g=Math.cos(w)*(s?s/2:b),a=Math.cos(w)*b,c=Math.sin(w)*b,_=Math.sin(w)*(s?s/2:b),e.moveTo(n-g,i-c),e.lineTo(n+g,i+c),e.moveTo(n+_,i-a),e.lineTo(n-_,i+a);break;case"star":g=Math.cos(w)*(s?s/2:b),a=Math.cos(w)*b,c=Math.sin(w)*b,_=Math.sin(w)*(s?s/2:b),e.moveTo(n-g,i-c),e.lineTo(n+g,i+c),e.moveTo(n+_,i-a),e.lineTo(n-_,i+a),w+=Bo,g=Math.cos(w)*(s?s/2:b),a=Math.cos(w)*b,c=Math.sin(w)*b,_=Math.sin(w)*(s?s/2:b),e.moveTo(n-g,i-c),e.lineTo(n+g,i+c),e.moveTo(n+_,i-a),e.lineTo(n-_,i+a);break;case"line":a=s?s/2:Math.cos(w)*b,c=Math.sin(w)*b,e.moveTo(n-a,i-c),e.lineTo(n+a,i+c);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(w)*(s?s/2:b),i+Math.sin(w)*b);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function nr(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function i_(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function s_(e){e.restore()}function Mq(e,t,n,i,s){if(!t)return e.lineTo(n.x,n.y);if(s==="middle"){const o=(t.x+n.x)/2;e.lineTo(o,t.y),e.lineTo(o,n.y)}else s==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Nq(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function Lq(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),ee(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function Vq(e,t,n,i,s){if(s.strikethrough||s.underline){const o=e.measureText(i),a=t-o.actualBoundingBoxLeft,c=t+o.actualBoundingBoxRight,u=n-o.actualBoundingBoxAscent,d=n+o.actualBoundingBoxDescent,f=s.strikethrough?(u+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(a,f),e.lineTo(c,f),e.stroke()}}function Fq(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Ea(e,t,n,i,s,o={}){const a=Ce(t)?t:[t],c=o.strokeWidth>0&&o.strokeColor!=="";let u,d;for(e.save(),e.font=s.string,Lq(e,o),u=0;u<a.length;++u)d=a[u],o.backdrop&&Fq(e,o.backdrop),c&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),ee(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(d,n,i,o.maxWidth)),e.fillText(d,n,i,o.maxWidth),Vq(e,n,i,d,o),i+=Number(s.lineHeight);e.restore()}function sd(e,t){const{x:n,y:i,w:s,h:o,radius:a}=t;e.arc(n+a.topLeft,i+a.topLeft,a.topLeft,1.5*Re,Re,!0),e.lineTo(n,i+o-a.bottomLeft),e.arc(n+a.bottomLeft,i+o-a.bottomLeft,a.bottomLeft,Re,tn,!0),e.lineTo(n+s-a.bottomRight,i+o),e.arc(n+s-a.bottomRight,i+o-a.bottomRight,a.bottomRight,tn,0,!0),e.lineTo(n+s,i+a.topRight),e.arc(n+s-a.topRight,i+a.topRight,a.topRight,0,-tn,!0),e.lineTo(n+a.topLeft,i)}const Uq=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Bq=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function jq(e,t){const n=(""+e).match(Uq);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const $q=e=>+e||0;function c1(e,t){const n={},i=qt(t),s=i?Object.keys(t):t,o=qt(e)?i?a=>Lt(e[a],e[t[a]]):a=>e[a]:()=>e;for(const a of s)n[a]=$q(o(a));return n}function fM(e){return c1(e,{top:"y",right:"x",bottom:"y",left:"x"})}function ua(e){return c1(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Yn(e){const t=fM(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function fn(e,t){e=e||{},t=t||He.font;let n=Lt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=Lt(e.style,t.style);i&&!(""+i).match(Bq)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:Lt(e.family,t.family),lineHeight:jq(Lt(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:Lt(e.weight,t.weight),string:""};return s.string=Dq(s),s}function Ju(e,t,n,i){let s=!0,o,a,c;for(o=0,a=e.length;o<a;++o)if(c=e[o],c!==void 0&&(t!==void 0&&typeof c=="function"&&(c=c(t),s=!1),n!==void 0&&Ce(c)&&(c=c[n%c.length],s=!1),c!==void 0))return i&&!s&&(i.cacheable=!1),c}function Hq(e,t,n){const{min:i,max:s}=e,o=eM(t,(s-i)/2),a=(c,u)=>n&&c===0?0:c+u;return{min:a(i,-Math.abs(o)),max:a(s,o)}}function bo(e,t){return Object.assign(Object.create(e),t)}function u1(e,t=[""],n,i,s=()=>e[0]){const o=n||e;typeof i>"u"&&(i=_M("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:i,_getTarget:s,override:c=>u1([c,...e],t,o,i)};return new Proxy(a,{deleteProperty(c,u){return delete c[u],delete c._keys,delete e[0][u],!0},get(c,u){return gM(c,u,()=>Qq(u,t,e,c))},getOwnPropertyDescriptor(c,u){return Reflect.getOwnPropertyDescriptor(c._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(c,u){return AP(c).includes(u)},ownKeys(c){return AP(c)},set(c,u,d){const f=c._storage||(c._storage=s());return c[u]=f[u]=d,delete c._keys,!0}})}function oc(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:pM(e,i),setContext:o=>oc(e,o,n,i),override:o=>oc(e.override(o),t,n,i)};return new Proxy(s,{deleteProperty(o,a){return delete o[a],delete e[a],!0},get(o,a,c){return gM(o,a,()=>Wq(o,a,c))},getOwnPropertyDescriptor(o,a){return o._descriptors.allKeys?Reflect.has(e,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,a)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,a){return Reflect.has(e,a)},ownKeys(){return Reflect.ownKeys(e)},set(o,a,c){return e[a]=c,delete o[a],!0}})}function pM(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:go(n)?n:()=>n,isIndexable:go(i)?i:()=>i}}const zq=(e,t)=>e?e+s1(t):t,h1=(e,t)=>qt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function gM(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const i=n();return e[t]=i,i}function Wq(e,t,n){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=e;let c=i[t];return go(c)&&a.isScriptable(t)&&(c=qq(t,c,e,n)),Ce(c)&&c.length&&(c=Kq(t,c,e,a.isIndexable)),h1(t,c)&&(c=oc(c,s,o&&o[t],a)),c}function qq(e,t,n,i){const{_proxy:s,_context:o,_subProxy:a,_stack:c}=n;if(c.has(e))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+e);c.add(e);let u=t(o,a||i);return c.delete(e),h1(e,u)&&(u=d1(s._scopes,s,e,u)),u}function Kq(e,t,n,i){const{_proxy:s,_context:o,_subProxy:a,_descriptors:c}=n;if(typeof o.index<"u"&&i(e))return t[o.index%t.length];if(qt(t[0])){const u=t,d=s._scopes.filter(f=>f!==u);t=[];for(const f of u){const g=d1(d,s,e,f);t.push(oc(g,o,a&&a[e],c))}}return t}function mM(e,t,n){return go(e)?e(t,n):e}const Gq=(e,t)=>e===!0?t:typeof e=="string"?po(t,e):void 0;function Yq(e,t,n,i,s){for(const o of t){const a=Gq(n,o);if(a){e.add(a);const c=mM(a._fallback,n,s);if(typeof c<"u"&&c!==n&&c!==i)return c}else if(a===!1&&typeof i<"u"&&n!==i)return null}return!1}function d1(e,t,n,i){const s=t._rootScopes,o=mM(t._fallback,n,i),a=[...e,...s],c=new Set;c.add(i);let u=SP(c,a,n,o||n,i);return u===null||typeof o<"u"&&o!==n&&(u=SP(c,a,o,u,i),u===null)?!1:u1(Array.from(c),[""],s,o,()=>Xq(t,n,i))}function SP(e,t,n,i,s){for(;n;)n=Yq(e,t,n,i,s);return n}function Xq(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];return Ce(s)&&qt(n)?n:s||{}}function Qq(e,t,n,i){let s;for(const o of t)if(s=_M(zq(o,e),n),typeof s<"u")return h1(e,s)?d1(n,i,e,s):s}function _M(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function AP(e){let t=e._keys;return t||(t=e._keys=Jq(e._scopes)),t}function Jq(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function yM(e,t,n,i){const{iScale:s}=e,{key:o="r"}=this._parsing,a=new Array(i);let c,u,d,f;for(c=0,u=i;c<u;++c)d=c+n,f=t[d],a[c]={r:s.parse(po(f,o),d)};return a}const Zq=Number.EPSILON||1e-14,ac=(e,t)=>t<e.length&&!e[t].skip&&e[t],vM=e=>e==="x"?"y":"x";function tK(e,t,n,i){const s=e.skip?t:e,o=t,a=n.skip?t:n,c=Nb(o,s),u=Nb(a,o);let d=c/(c+u),f=u/(c+u);d=isNaN(d)?0:d,f=isNaN(f)?0:f;const g=i*d,_=i*f;return{previous:{x:o.x-g*(a.x-s.x),y:o.y-g*(a.y-s.y)},next:{x:o.x+_*(a.x-s.x),y:o.y+_*(a.y-s.y)}}}function eK(e,t,n){const i=e.length;let s,o,a,c,u,d=ac(e,0);for(let f=0;f<i-1;++f)if(u=d,d=ac(e,f+1),!(!u||!d)){if(wh(t[f],0,Zq)){n[f]=n[f+1]=0;continue}s=n[f]/t[f],o=n[f+1]/t[f],c=Math.pow(s,2)+Math.pow(o,2),!(c<=9)&&(a=3/Math.sqrt(c),n[f]=s*a*t[f],n[f+1]=o*a*t[f])}}function nK(e,t,n="x"){const i=vM(n),s=e.length;let o,a,c,u=ac(e,0);for(let d=0;d<s;++d){if(a=c,c=u,u=ac(e,d+1),!c)continue;const f=c[n],g=c[i];a&&(o=(f-a[n])/3,c[`cp1${n}`]=f-o,c[`cp1${i}`]=g-o*t[d]),u&&(o=(u[n]-f)/3,c[`cp2${n}`]=f+o,c[`cp2${i}`]=g+o*t[d])}}function iK(e,t="x"){const n=vM(t),i=e.length,s=Array(i).fill(0),o=Array(i);let a,c,u,d=ac(e,0);for(a=0;a<i;++a)if(c=u,u=d,d=ac(e,a+1),!!u){if(d){const f=d[t]-u[t];s[a]=f!==0?(d[n]-u[n])/f:0}o[a]=c?d?Ds(s[a-1])!==Ds(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}eK(e,s,o),nK(e,o,t)}function vp(e,t,n){return Math.max(Math.min(e,n),t)}function sK(e,t){let n,i,s,o,a,c=nr(e[0],t);for(n=0,i=e.length;n<i;++n)a=o,o=c,c=n<i-1&&nr(e[n+1],t),o&&(s=e[n],a&&(s.cp1x=vp(s.cp1x,t.left,t.right),s.cp1y=vp(s.cp1y,t.top,t.bottom)),c&&(s.cp2x=vp(s.cp2x,t.left,t.right),s.cp2y=vp(s.cp2y,t.top,t.bottom)))}function rK(e,t,n,i,s){let o,a,c,u;if(t.spanGaps&&(e=e.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")iK(e,s);else{let d=i?e[e.length-1]:e[0];for(o=0,a=e.length;o<a;++o)c=e[o],u=tK(d,c,e[Math.min(o+1,a-(i?0:1))%a],t.tension),c.cp1x=u.previous.x,c.cp1y=u.previous.y,c.cp2x=u.next.x,c.cp2y=u.next.y,d=c}t.capBezierPoints&&sK(e,n)}function f1(){return typeof window<"u"&&typeof document<"u"}function p1(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Vg(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const r_=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function oK(e,t){return r_(e).getPropertyValue(t)}const aK=["top","right","bottom","left"];function ha(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const o=aK[s];i[o]=parseFloat(e[t+"-"+o+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const lK=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function cK(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:o}=i;let a=!1,c,u;if(lK(s,o,e.target))c=s,u=o;else{const d=t.getBoundingClientRect();c=i.clientX-d.left,u=i.clientY-d.top,a=!0}return{x:c,y:u,box:a}}function Wo(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=r_(n),o=s.boxSizing==="border-box",a=ha(s,"padding"),c=ha(s,"border","width"),{x:u,y:d,box:f}=cK(e,n),g=a.left+(f&&c.left),_=a.top+(f&&c.top);let{width:v,height:I}=t;return o&&(v-=a.width+c.width,I-=a.height+c.height),{x:Math.round((u-g)/v*n.width/i),y:Math.round((d-_)/I*n.height/i)}}function uK(e,t,n){let i,s;if(t===void 0||n===void 0){const o=p1(e);if(!o)t=e.clientWidth,n=e.clientHeight;else{const a=o.getBoundingClientRect(),c=r_(o),u=ha(c,"border","width"),d=ha(c,"padding");t=a.width-d.width-u.width,n=a.height-d.height-u.height,i=Vg(c.maxWidth,o,"clientWidth"),s=Vg(c.maxHeight,o,"clientHeight")}}return{width:t,height:n,maxWidth:i||Ng,maxHeight:s||Ng}}const bp=e=>Math.round(e*10)/10;function hK(e,t,n,i){const s=r_(e),o=ha(s,"margin"),a=Vg(s.maxWidth,e,"clientWidth")||Ng,c=Vg(s.maxHeight,e,"clientHeight")||Ng,u=uK(e,t,n);let{width:d,height:f}=u;if(s.boxSizing==="content-box"){const _=ha(s,"border","width"),v=ha(s,"padding");d-=v.width+_.width,f-=v.height+_.height}return d=Math.max(0,d-o.width),f=Math.max(0,i?d/i:f-o.height),d=bp(Math.min(d,a,u.maxWidth)),f=bp(Math.min(f,c,u.maxHeight)),d&&!f&&(f=bp(d/2)),(t!==void 0||n!==void 0)&&i&&u.height&&f>u.height&&(f=u.height,d=bp(Math.floor(f*i))),{width:d,height:f}}function CP(e,t,n){const i=t||1,s=Math.floor(e.height*i),o=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||a.height!==s||a.width!==o?(e.currentDevicePixelRatio=i,a.height=s,a.width=o,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const dK=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};f1()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function PP(e,t){const n=oK(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function qo(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function fK(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function pK(e,t,n,i){const s={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},a=qo(e,s,n),c=qo(s,o,n),u=qo(o,t,n),d=qo(a,c,n),f=qo(c,u,n);return qo(d,f,n)}const gK=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},mK=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function jl(e,t,n){return e?gK(t,n):mK()}function bM(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function wM(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function EM(e){return e==="angle"?{between:id,compare:_q,normalize:Ai}:{between:tr,compare:(t,n)=>t-n,normalize:t=>t}}function RP({start:e,end:t,count:n,loop:i,style:s}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:s}}function _K(e,t,n){const{property:i,start:s,end:o}=n,{between:a,normalize:c}=EM(i),u=t.length;let{start:d,end:f,loop:g}=e,_,v;if(g){for(d+=u,f+=u,_=0,v=u;_<v&&a(c(t[d%u][i]),s,o);++_)d--,f--;d%=u,f%=u}return f<d&&(f+=u),{start:d,end:f,loop:g,style:e.style}}function IM(e,t,n){if(!n)return[e];const{property:i,start:s,end:o}=n,a=t.length,{compare:c,between:u,normalize:d}=EM(i),{start:f,end:g,loop:_,style:v}=_K(e,t,n),I=[];let b=!1,w=null,T,S,k;const x=()=>u(s,k,T)&&c(s,k)!==0,D=()=>c(o,T)===0||u(o,k,T),M=()=>b||x(),V=()=>!b||D();for(let z=f,st=f;z<=g;++z)S=t[z%a],!S.skip&&(T=d(S[i]),T!==k&&(b=u(T,s,o),w===null&&M()&&(w=c(T,s)===0?z:st),w!==null&&V()&&(I.push(RP({start:w,end:z,loop:_,count:a,style:v})),w=null),st=z,k=T));return w!==null&&I.push(RP({start:w,end:g,loop:_,count:a,style:v})),I}function TM(e,t){const n=[],i=e.segments;for(let s=0;s<i.length;s++){const o=IM(i[s],e.points,t);o.length&&n.push(...o)}return n}function yK(e,t,n,i){let s=0,o=t-1;if(n&&!i)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(o+=s);o>s&&e[o%t].skip;)o--;return o%=t,{start:s,end:o}}function vK(e,t,n,i){const s=e.length,o=[];let a=t,c=e[t],u;for(u=t+1;u<=n;++u){const d=e[u%s];d.skip||d.stop?c.skip||(i=!1,o.push({start:t%s,end:(u-1)%s,loop:i}),t=a=d.stop?u:null):(a=u,c.skip&&(t=u)),c=d}return a!==null&&o.push({start:t%s,end:a%s,loop:i}),o}function bK(e,t){const n=e.points,i=e.options.spanGaps,s=n.length;if(!s)return[];const o=!!e._loop,{start:a,end:c}=yK(n,s,o,i);if(i===!0)return kP(e,[{start:a,end:c,loop:o}],n,t);const u=c<a?c+s:c,d=!!e._fullLoop&&a===0&&c===s-1;return kP(e,vK(n,a,u,d),n,t)}function kP(e,t,n,i){return!i||!i.setContext||!n?t:wK(e,t,n,i)}function wK(e,t,n,i){const s=e._chart.getContext(),o=xP(e.options),{_datasetIndex:a,options:{spanGaps:c}}=e,u=n.length,d=[];let f=o,g=t[0].start,_=g;function v(I,b,w,T){const S=c?-1:1;if(I!==b){for(I+=u;n[I%u].skip;)I-=S;for(;n[b%u].skip;)b+=S;I%u!==b%u&&(d.push({start:I%u,end:b%u,loop:w,style:T}),f=T,g=b%u)}}for(const I of t){g=c?g:I.start;let b=n[g%u],w;for(_=g+1;_<=I.end;_++){const T=n[_%u];w=xP(i.setContext(bo(s,{type:"segment",p0:b,p1:T,p0DataIndex:(_-1)%u,p1DataIndex:_%u,datasetIndex:a}))),EK(w,f)&&v(g,_-1,I.loop,f),b=T,f=w}g<_-1&&v(g,_-1,I.loop,f)}return d}function xP(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function EK(e,t){if(!t)return!1;const n=[],i=function(s,o){return l1(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(e,i)!==JSON.stringify(t,i)}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class IK{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,s){const o=n.listeners[s],a=n.duration;o.forEach(c=>c({chart:t,initial:n.initial,numSteps:a,currentStep:Math.min(i-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=aM.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const o=i.items;let a=o.length-1,c=!1,u;for(;a>=0;--a)u=o[a],u._active?(u._total>i.duration&&(i.duration=u._total),u.tick(t),c=!0):(o[a]=o[o.length-1],o.pop());c&&(s.draw(),this._notify(s,i,t,"progress")),o.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),n+=o.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Gs=new IK;const DP="transparent",TK={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=EP(e||DP),s=i.valid&&EP(t||DP);return s&&s.valid?s.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class SK{constructor(t,n,i,s){const o=n[i];s=Ju([t.to,s,o,t.from]);const a=Ju([t.from,o,s]);this._active=!0,this._fn=t.fn||TK[t.type||typeof a],this._easing=Eh[t.easing]||Eh.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],o=i-this._start,a=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Ju([t.to,n,s,t.from]),this._from=Ju([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,s=this._prop,o=this._from,a=this._loop,c=this._to;let u;if(this._active=o!==c&&(a||n<i),!this._active){this._target[s]=c,this._notify(!0);return}if(n<0){this._target[s]=o;return}u=n/i%2,u=a&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[s]=this._fn(o,c,u)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class SM{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!qt(t))return;const n=Object.keys(He.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const o=t[s];if(!qt(o))return;const a={};for(const c of n)a[c]=o[c];(Ce(o.properties)&&o.properties||[s]).forEach(c=>{(c===s||!i.has(c))&&i.set(c,a)})})}_animateOptions(t,n){const i=n.options,s=CK(t,i);if(!s)return[];const o=this._createAnimations(s,i);return i.$shared&&AK(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,n){const i=this._properties,s=[],o=t.$animations||(t.$animations={}),a=Object.keys(n),c=Date.now();let u;for(u=a.length-1;u>=0;--u){const d=a[u];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(t,n));continue}const f=n[d];let g=o[d];const _=i.get(d);if(g)if(_&&g.active()){g.update(_,f,c);continue}else g.cancel();if(!_||!_.duration){t[d]=f;continue}o[d]=g=new SK(_,t,d,f),s.push(g)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return Gs.add(this._chart,i),!0}}function AK(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const o=e[i[s]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function CK(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function OP(e,t){const n=e&&e.options||{},i=n.reverse,s=n.min===void 0?t:0,o=n.max===void 0?t:0;return{start:i?o:s,end:i?s:o}}function PK(e,t,n){if(n===!1)return!1;const i=OP(e,n),s=OP(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function RK(e){let t,n,i,s;return qt(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:e===!1}}function AM(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,o;for(s=0,o=i.length;s<o;++s)n.push(i[s].index);return n}function MP(e,t,n,i={}){const s=e.keys,o=i.mode==="single";let a,c,u,d;if(t!==null){for(a=0,c=s.length;a<c;++a){if(u=+s[a],u===n){if(i.all)continue;break}d=e.values[u],$e(d)&&(o||t===0||Ds(t)===Ds(d))&&(t+=d)}return t}}function kK(e){const t=Object.keys(e),n=new Array(t.length);let i,s,o;for(i=0,s=t.length;i<s;++i)o=t[i],n[i]={x:o,y:e[o]};return n}function NP(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function xK(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function DK(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function OK(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function LP(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const o=e[s.index];if(n&&o>0||!n&&o<0)return s.index}return null}function VP(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:o,vScale:a,index:c}=i,u=o.axis,d=a.axis,f=xK(o,a,i),g=t.length;let _;for(let v=0;v<g;++v){const I=t[v],{[u]:b,[d]:w}=I,T=I._stacks||(I._stacks={});_=T[d]=OK(s,f,b),_[c]=w,_._top=LP(_,a,!0,i.type),_._bottom=LP(_,a,!1,i.type);const S=_._visualValues||(_._visualValues={});S[c]=w}}function Iv(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function MK(e,t){return bo(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function NK(e,t,n){return bo(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Lu(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const s of t){const o=s._stacks;if(!o||o[i]===void 0||o[i][n]===void 0)return;delete o[i][n],o[i]._visualValues!==void 0&&o[i]._visualValues[n]!==void 0&&delete o[i]._visualValues[n]}}}const Tv=e=>e==="reset"||e==="none",FP=(e,t)=>t?e:Object.assign({},e),LK=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:AM(n,!0),values:null};class es{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=NP(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Lu(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(g,_,v,I)=>g==="x"?_:g==="r"?I:v,o=n.xAxisID=Lt(i.xAxisID,Iv(t,"x")),a=n.yAxisID=Lt(i.yAxisID,Iv(t,"y")),c=n.rAxisID=Lt(i.rAxisID,Iv(t,"r")),u=n.indexAxis,d=n.iAxisID=s(u,o,a,c),f=n.vAxisID=s(u,a,o,c);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(c),n.iScale=this.getScaleForId(d),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&vP(this._data,this),t._stacked&&Lu(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(qt(n))this._data=kK(n);else if(i!==n){if(i){vP(i,this);const s=this._cachedMeta;Lu(s),s._parsed=[]}n&&Object.isExtensible(n)&&wq(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const o=n._stacked;n._stacked=NP(n.vScale,n),n.stack!==i.stack&&(s=!0,Lu(n),n.stack=i.stack),this._resyncElements(t),(s||o!==n._stacked)&&VP(this,n._parsed)}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:s}=this,{iScale:o,_stacked:a}=i,c=o.axis;let u=t===0&&n===s.length?!0:i._sorted,d=t>0&&i._parsed[t-1],f,g,_;if(this._parsing===!1)i._parsed=s,i._sorted=!0,_=s;else{Ce(s[t])?_=this.parseArrayData(i,s,t,n):qt(s[t])?_=this.parseObjectData(i,s,t,n):_=this.parsePrimitiveData(i,s,t,n);const v=()=>g[c]===null||d&&g[c]<d[c];for(f=0;f<n;++f)i._parsed[f+t]=g=_[f],u&&(v()&&(u=!1),d=g);i._sorted=u}a&&VP(this,_)}parsePrimitiveData(t,n,i,s){const{iScale:o,vScale:a}=t,c=o.axis,u=a.axis,d=o.getLabels(),f=o===a,g=new Array(s);let _,v,I;for(_=0,v=s;_<v;++_)I=_+i,g[_]={[c]:f||o.parse(d[I],I),[u]:a.parse(n[I],I)};return g}parseArrayData(t,n,i,s){const{xScale:o,yScale:a}=t,c=new Array(s);let u,d,f,g;for(u=0,d=s;u<d;++u)f=u+i,g=n[f],c[u]={x:o.parse(g[0],f),y:a.parse(g[1],f)};return c}parseObjectData(t,n,i,s){const{xScale:o,yScale:a}=t,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,d=new Array(s);let f,g,_,v;for(f=0,g=s;f<g;++f)_=f+i,v=n[_],d[f]={x:o.parse(po(v,c),_),y:a.parse(po(v,u),_)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const s=this.chart,o=this._cachedMeta,a=n[t.axis],c={keys:AM(s,!0),values:n._stacks[t.axis]._visualValues};return MP(c,a,o.index,{mode:i})}updateRangeFromParsed(t,n,i,s){const o=i[n.axis];let a=o===null?NaN:o;const c=s&&i._stacks[n.axis];s&&c&&(s.values=c,a=MP(s,o,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,n){const i=this._cachedMeta,s=i._parsed,o=i._sorted&&t===i.iScale,a=s.length,c=this._getOtherScale(t),u=LK(n,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:g}=DK(c);let _,v;function I(){v=s[_];const b=v[c.axis];return!$e(v[t.axis])||f>b||g<b}for(_=0;_<a&&!(!I()&&(this.updateRangeFromParsed(d,t,v,u),o));++_);if(o){for(_=a-1;_>=0;--_)if(!I()){this.updateRangeFromParsed(d,t,v,u);break}}return d}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let s,o,a;for(s=0,o=n.length;s<o;++s)a=n[s][t.axis],$e(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,s=n.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=RK(Lt(this.options.clip,PK(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],o=n.chartArea,a=[],c=this._drawStart||0,u=this._drawCount||s.length-c,d=this.options.drawActiveElementsOnTop;let f;for(i.dataset&&i.dataset.draw(t,o,c,u),f=c;f<c+u;++f){const g=s[f];g.hidden||(g.active&&d?a.push(g):g.draw(t,o))}for(f=0;f<a.length;++f)a[f].draw(t,o)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const s=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];o=a.$context||(a.$context=NK(this.getContext(),t,a)),o.parsed=this.getParsed(t),o.raw=s.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=MK(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const s=n==="active",o=this._cachedDataOpts,a=t+"-"+n,c=o[a],u=this.enableOptionSharing&&nd(i);if(c)return FP(c,u);const d=this.chart.config,f=d.datasetElementScopeKeys(this._type,t),g=s?[`${t}Hover`,"hover",t,""]:[t,""],_=d.getOptionScopes(this.getDataset(),f),v=Object.keys(He.elements[t]),I=()=>this.getContext(i,s,n),b=d.resolveNamedOptions(_,v,I,g);return b.$shared&&(b.$shared=u,o[a]=Object.freeze(FP(b,u))),b}_resolveAnimations(t,n,i){const s=this.chart,o=this._cachedDataOpts,a=`animation-${n}`,c=o[a];if(c)return c;let u;if(s.options.animation!==!1){const f=this.chart.config,g=f.datasetAnimationScopeKeys(this._type,n),_=f.getOptionScopes(this.getDataset(),g);u=f.createResolver(_,this.getContext(t,i,n))}const d=new SM(s,u&&u.animations);return u&&u._cacheable&&(o[a]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Tv(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),s=this._sharedOptions,o=this.getSharedOptions(i),a=this.includeOptions(n,o)||o!==s;return this.updateSharedOptions(o,n,i),{sharedOptions:o,includeOptions:a}}updateElement(t,n,i,s){Tv(s)?Object.assign(t,i):this._resolveAnimations(n,s).update(t,i)}updateSharedOptions(t,n,i){t&&!Tv(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,s){t.active=s;const o=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(t,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[c,u,d]of this._syncList)this[c](u,d);this._syncList=[];const s=i.length,o=n.length,a=Math.min(o,s);a&&this.parse(0,a),o>s?this._insertElements(s,o-s,t):o<s&&this._removeElements(o,s-o)}_insertElements(t,n,i=!0){const s=this._cachedMeta,o=s.data,a=t+n;let c;const u=d=>{for(d.length+=n,c=d.length-1;c>=a;c--)d[c]=d[c-n]};for(u(o),c=t;c<a;++c)o[c]=new this.dataElementType;this._parsing&&u(s._parsed),this.parse(t,n),i&&this.updateElements(o,t,n,"reset")}updateElements(t,n,i,s){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,n);i._stacked&&Lu(i,s)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,s]=t;this[n](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Q(es,"defaults",{}),Q(es,"datasetElementType",null),Q(es,"dataElementType",null);function VK(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let s=0,o=n.length;s<o;s++)i=i.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=oM(i.sort((s,o)=>s-o))}return e._cache.$bar}function FK(e){const t=e.iScale,n=VK(t,e.type);let i=t._length,s,o,a,c;const u=()=>{a===32767||a===-32768||(nd(c)&&(i=Math.min(i,Math.abs(a-c)||i)),c=a)};for(s=0,o=n.length;s<o;++s)a=t.getPixelForValue(n[s]),u();for(c=void 0,s=0,o=t.ticks.length;s<o;++s)a=t.getPixelForTick(s),u();return i}function UK(e,t,n,i){const s=n.barThickness;let o,a;return ee(s)?(o=t.min*n.categoryPercentage,a=n.barPercentage):(o=s*i,a=1),{chunk:o/i,ratio:a,start:t.pixels[e]-o/2}}function BK(e,t,n,i){const s=t.pixels,o=s[e];let a=e>0?s[e-1]:null,c=e<s.length-1?s[e+1]:null;const u=n.categoryPercentage;a===null&&(a=o-(c===null?t.end-t.start:c-o)),c===null&&(c=o+o-a);const d=o-(o-Math.min(a,c))/2*u;return{chunk:Math.abs(c-a)/2*u/i,ratio:n.barPercentage,start:d}}function jK(e,t,n,i){const s=n.parse(e[0],i),o=n.parse(e[1],i),a=Math.min(s,o),c=Math.max(s,o);let u=a,d=c;Math.abs(a)>Math.abs(c)&&(u=c,d=a),t[n.axis]=d,t._custom={barStart:u,barEnd:d,start:s,end:o,min:a,max:c}}function CM(e,t,n,i){return Ce(e)?jK(e,t,n,i):t[n.axis]=n.parse(e,i),t}function UP(e,t,n,i){const s=e.iScale,o=e.vScale,a=s.getLabels(),c=s===o,u=[];let d,f,g,_;for(d=n,f=n+i;d<f;++d)_=t[d],g={},g[s.axis]=c||s.parse(a[d],d),u.push(CM(_,g,o,d));return u}function Sv(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function $K(e,t,n){return e!==0?Ds(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function HK(e){let t,n,i,s,o;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(s="end",o="start"):(s="start",o="end"),{start:n,end:i,reverse:t,top:s,bottom:o}}function zK(e,t,n,i){let s=t.borderSkipped;const o={};if(!s){e.borderSkipped=o;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:c,reverse:u,top:d,bottom:f}=HK(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?s=d:(n._bottom||0)===i?s=f:(o[BP(f,a,c,u)]=!0,s=d)),o[BP(s,a,c,u)]=!0,e.borderSkipped=o}function BP(e,t,n,i){return i?(e=WK(e,t,n),e=jP(e,n,t)):e=jP(e,t,n),e}function WK(e,t,n){return e===t?n:e===n?t:e}function jP(e,t,n){return e==="start"?t:e==="end"?n:e}function qK(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class qp extends es{parsePrimitiveData(t,n,i,s){return UP(t,n,i,s)}parseArrayData(t,n,i,s){return UP(t,n,i,s)}parseObjectData(t,n,i,s){const{iScale:o,vScale:a}=t,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,d=o.axis==="x"?c:u,f=a.axis==="x"?c:u,g=[];let _,v,I,b;for(_=i,v=i+s;_<v;++_)b=n[_],I={},I[o.axis]=o.parse(po(b,d),_),g.push(CM(po(b,f),I,a,_));return g}updateRangeFromParsed(t,n,i,s){super.updateRangeFromParsed(t,n,i,s);const o=i._custom;o&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:s}=n,o=this.getParsed(t),a=o._custom,c=Sv(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,s){const o=s==="reset",{index:a,_cachedMeta:{vScale:c}}=this,u=c.getBasePixel(),d=c.isHorizontal(),f=this._getRuler(),{sharedOptions:g,includeOptions:_}=this._getSharedOptions(n,s);for(let v=n;v<n+i;v++){const I=this.getParsed(v),b=o||ee(I[c.axis])?{base:u,head:u}:this._calculateBarValuePixels(v),w=this._calculateBarIndexPixels(v,f),T=(I._stacks||{})[c.axis],S={horizontal:d,base:b.base,enableBorderRadius:!T||Sv(I._custom)||a===T._top||a===T._bottom,x:d?b.head:w.center,y:d?w.center:b.head,height:d?w.size:Math.abs(b.size),width:d?Math.abs(b.size):w.size};_&&(S.options=g||this.resolveDataElementOptions(v,t[v].active?"active":s));const k=S.options||t[v].options;zK(S,k,T,a),qK(S,k,f.ratio),this.updateElement(t[v],v,S,s)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),o=i.options.stacked,a=[],c=u=>{const d=u.controller.getParsed(n),f=d&&d[u.vScale.axis];if(ee(f)||isNaN(f))return!0};for(const u of s)if(!(n!==void 0&&c(u))&&((o===!1||a.indexOf(u.stack)===-1||o===void 0&&u.stack===void 0)&&a.push(u.stack),u.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,i){const s=this._getStacks(t,i),o=n!==void 0?s.indexOf(n):-1;return o===-1?s.length-1:o}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,s=[];let o,a;for(o=0,a=n.data.length;o<a;++o)s.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const c=t.barThickness;return{min:c||FK(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:o,minBarLength:a}}=this,c=o||0,u=this.getParsed(t),d=u._custom,f=Sv(d);let g=u[n.axis],_=0,v=i?this.applyStack(n,u,i):g,I,b;v!==g&&(_=v-g,v=g),f&&(g=d.barStart,v=d.barEnd-d.barStart,g!==0&&Ds(g)!==Ds(d.barEnd)&&(_=0),_+=g);const w=!ee(o)&&!f?o:_;let T=n.getPixelForValue(w);if(this.chart.getDataVisibility(t)?I=n.getPixelForValue(_+v):I=T,b=I-T,Math.abs(b)<a){b=$K(b,n,c)*a,g===c&&(T-=b/2);const S=n.getPixelForDecimal(0),k=n.getPixelForDecimal(1),x=Math.min(S,k),D=Math.max(S,k);T=Math.max(Math.min(T,D),x),I=T+b,i&&!f&&(u._stacks[n.axis]._visualValues[s]=n.getValueForPixel(I)-n.getValueForPixel(T))}if(T===n.getPixelForValue(c)){const S=Ds(b)*n.getLineWidthForValue(c)/2;T+=S,b-=S}return{size:b,base:T,head:I,center:I+b/2}}_calculateBarIndexPixels(t,n){const i=n.scale,s=this.options,o=s.skipNull,a=Lt(s.maxBarThickness,1/0);let c,u;if(n.grouped){const d=o?this._getStackCount(t):n.stackCount,f=s.barThickness==="flex"?BK(t,n,s,d):UK(t,n,s,d),g=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);c=f.start+f.chunk*g+f.chunk/2,u=Math.min(a,f.chunk*f.ratio)}else c=i.getPixelForValue(this.getParsed(t)[i.axis],t),u=Math.min(a,n.min*n.ratio);return{base:c-u/2,head:c+u/2,center:c,size:u}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,s=i.length;let o=0;for(;o<s;++o)this.getParsed(o)[n.axis]!==null&&i[o].draw(this._ctx)}}Q(qp,"id","bar"),Q(qp,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Q(qp,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Kp extends es{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,i,s){const o=super.parsePrimitiveData(t,n,i,s);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+i).radius;return o}parseArrayData(t,n,i,s){const o=super.parseArrayData(t,n,i,s);for(let a=0;a<o.length;a++){const c=n[i+a];o[a]._custom=Lt(c[2],this.resolveDataElementOptions(a+i).radius)}return o}parseObjectData(t,n,i,s){const o=super.parseObjectData(t,n,i,s);for(let a=0;a<o.length;a++){const c=n[i+a];o[a]._custom=Lt(c&&c.r&&+c.r,this.resolveDataElementOptions(a+i).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let i=t.length-1;i>=0;--i)n=Math.max(n,t[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=n,a=this.getParsed(t),c=s.getLabelForValue(a.x),u=o.getLabelForValue(a.y),d=a._custom;return{label:i[t]||"",value:"("+c+", "+u+(d?", "+d:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,i,s){const o=s==="reset",{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,s),f=a.axis,g=c.axis;for(let _=n;_<n+i;_++){const v=t[_],I=!o&&this.getParsed(_),b={},w=b[f]=o?a.getPixelForDecimal(.5):a.getPixelForValue(I[f]),T=b[g]=o?c.getBasePixel():c.getPixelForValue(I[g]);b.skip=isNaN(w)||isNaN(T),d&&(b.options=u||this.resolveDataElementOptions(_,v.active?"active":s),o&&(b.options.radius=0)),this.updateElement(v,_,b,s)}}resolveDataElementOptions(t,n){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const o=s.radius;return n!=="active"&&(s.radius=0),s.radius+=Lt(i&&i._custom,o),s}}Q(Kp,"id","bubble"),Q(Kp,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Q(Kp,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function KK(e,t,n){let i=1,s=1,o=0,a=0;if(t<Pe){const c=e,u=c+t,d=Math.cos(c),f=Math.sin(c),g=Math.cos(u),_=Math.sin(u),v=(k,x,D)=>id(k,c,u,!0)?1:Math.max(x,x*n,D,D*n),I=(k,x,D)=>id(k,c,u,!0)?-1:Math.min(x,x*n,D,D*n),b=v(0,d,g),w=v(tn,f,_),T=I(Re,d,g),S=I(Re+tn,f,_);i=(b-T)/2,s=(w-S)/2,o=-(b+T)/2,a=-(w+S)/2}return{ratioX:i,ratioY:s,offsetX:o,offsetY:a}}class na extends es{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let o=u=>+i[u];if(qt(i[t])){const{key:u="value"}=this._parsing;o=d=>+po(i[d],u)}let a,c;for(a=t,c=t+n;a<c;++a)s._parsed[a]=o(a)}}_getRotation(){return Zi(this.options.rotation-90)}_getCircumference(){return Zi(this.options.circumference)}_getRotationExtents(){let t=Pe,n=-Pe;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,o=s._getRotation(),a=s._getCircumference();t=Math.min(t,o),n=Math.max(n,o+a)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,o=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-a)/2,0),u=Math.min(aq(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:f,rotation:g}=this._getRotationExtents(),{ratioX:_,ratioY:v,offsetX:I,offsetY:b}=KK(g,f,u),w=(i.width-a)/_,T=(i.height-a)/v,S=Math.max(Math.min(w,T)/2,0),k=eM(this.options.radius,S),x=Math.max(k*u,0),D=(k-x)/this._getVisibleDatasetWeightTotal();this.offsetX=I*k,this.offsetY=b*k,s.total=this.calculateTotal(),this.outerRadius=k-D*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-D*d,0),this.updateElements(o,0,o.length,t)}_circumference(t,n){const i=this.options,s=this._cachedMeta,o=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*o/Pe)}updateElements(t,n,i,s){const o=s==="reset",a=this.chart,c=a.chartArea,d=a.options.animation,f=(c.left+c.right)/2,g=(c.top+c.bottom)/2,_=o&&d.animateScale,v=_?0:this.innerRadius,I=_?0:this.outerRadius,{sharedOptions:b,includeOptions:w}=this._getSharedOptions(n,s);let T=this._getRotation(),S;for(S=0;S<n;++S)T+=this._circumference(S,o);for(S=n;S<n+i;++S){const k=this._circumference(S,o),x=t[S],D={x:f+this.offsetX,y:g+this.offsetY,startAngle:T,endAngle:T+k,circumference:k,outerRadius:I,innerRadius:v};w&&(D.options=b||this.resolveDataElementOptions(S,x.active?"active":s)),T+=k,this.updateElement(x,S,D,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,s;for(s=0;s<n.length;s++){const o=t._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Pe*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=Md(n._parsed[t],i.options.locale);return{label:s[t]||"",value:o}}getMaxBorderWidth(t){let n=0;const i=this.chart;let s,o,a,c,u;if(!t){for(s=0,o=i.data.datasets.length;s<o;++s)if(i.isDatasetVisible(s)){a=i.getDatasetMeta(s),t=a.data,c=a.controller;break}}if(!t)return 0;for(s=0,o=t.length;s<o;++s)u=c.resolveDataElementOptions(s),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,s=t.length;i<s;++i){const o=this.resolveDataElementOptions(i);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max(Lt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Q(na,"id","doughnut"),Q(na,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Q(na,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Q(na,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((o,a)=>{const u=t.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:s,lineWidth:u.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class Gp extends es{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:o}=n,a=this.chart._animationsDisabled;let{start:c,count:u}=cM(n,s,a);this._drawStart=c,this._drawCount=u,uM(n)&&(c=0,u=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=s;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:d},t),this.updateElements(s,c,u,t)}updateElements(t,n,i,s){const o=s==="reset",{iScale:a,vScale:c,_stacked:u,_dataset:d}=this._cachedMeta,{sharedOptions:f,includeOptions:g}=this._getSharedOptions(n,s),_=a.axis,v=c.axis,{spanGaps:I,segment:b}=this.options,w=rc(I)?I:Number.POSITIVE_INFINITY,T=this.chart._animationsDisabled||o||s==="none",S=n+i,k=t.length;let x=n>0&&this.getParsed(n-1);for(let D=0;D<k;++D){const M=t[D],V=T?M:{};if(D<n||D>=S){V.skip=!0;continue}const z=this.getParsed(D),st=ee(z[v]),gt=V[_]=a.getPixelForValue(z[_],D),J=V[v]=o||st?c.getBasePixel():c.getPixelForValue(u?this.applyStack(c,z,u):z[v],D);V.skip=isNaN(gt)||isNaN(J)||st,V.stop=D>0&&Math.abs(z[_]-x[_])>w,b&&(V.parsed=z,V.raw=d.data[D]),g&&(V.options=f||this.resolveDataElementOptions(D,M.active?"active":s)),T||this.updateElement(M,D,V,s),x=z}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const o=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,o,a)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Q(Gp,"id","line"),Q(Gp,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Q(Gp,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Th extends es{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=Md(n._parsed[t].r,i.options.locale);return{label:s[t]||"",value:o}}parseObjectData(t,n,i,s){return yM.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,s)=>{const o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<n.min&&(n.min=o),o>n.max&&(n.max=o))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,i=t.options,s=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(s/2,0),a=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),c=(o-a)/t.getVisibleDatasetCount();this.outerRadius=o-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,n,i,s){const o=s==="reset",a=this.chart,u=a.options.animation,d=this._cachedMeta.rScale,f=d.xCenter,g=d.yCenter,_=d.getIndexAngle(0)-.5*Re;let v=_,I;const b=360/this.countVisibleElements();for(I=0;I<n;++I)v+=this._computeAngle(I,s,b);for(I=n;I<n+i;I++){const w=t[I];let T=v,S=v+this._computeAngle(I,s,b),k=a.getDataVisibility(I)?d.getDistanceFromCenterForValue(this.getParsed(I).r):0;v=S,o&&(u.animateScale&&(k=0),u.animateRotate&&(T=S=_));const x={x:f,y:g,innerRadius:0,outerRadius:k,startAngle:T,endAngle:S,options:this.resolveDataElementOptions(I,w.active?"active":s)};this.updateElement(w,I,x,s)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(t,n,i){return this.chart.getDataVisibility(t)?Zi(this.resolveDataElementOptions(t,n).angle||i):0}}Q(Th,"id","polarArea"),Q(Th,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Q(Th,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((o,a)=>{const u=t.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:s,lineWidth:u.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Fb extends na{}Q(Fb,"id","pie"),Q(Fb,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Yp extends es{getLabelAndValue(t){const n=this._cachedMeta.vScale,i=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(t,n,i,s){return yM.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta,i=n.dataset,s=n.data||[],o=n.iScale.getLabels();if(i.points=s,t!=="resize"){const a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0);const c={_loop:!0,_fullLoop:o.length===s.length,options:a};this.updateElement(i,void 0,c,t)}this.updateElements(s,0,s.length,t)}updateElements(t,n,i,s){const o=this._cachedMeta.rScale,a=s==="reset";for(let c=n;c<n+i;c++){const u=t[c],d=this.resolveDataElementOptions(c,u.active?"active":s),f=o.getPointPositionForValue(c,this.getParsed(c).r),g=a?o.xCenter:f.x,_=a?o.yCenter:f.y,v={x:g,y:_,angle:f.angle,skip:isNaN(g)||isNaN(_),options:d};this.updateElement(u,c,v,s)}}}Q(Yp,"id","radar"),Q(Yp,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Q(Yp,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Xp extends es{getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=n,a=this.getParsed(t),c=s.getLabelForValue(a.x),u=o.getLabelForValue(a.y);return{label:i[t]||"",value:"("+c+", "+u+")"}}update(t){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:o,count:a}=cM(n,i,s);if(this._drawStart=o,this._drawCount=a,uM(n)&&(o=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:u}=n;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!u._decimated,c.points=i;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(c,void 0,{animated:!s,options:d},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,o,a,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,i,s){const o=s==="reset",{iScale:a,vScale:c,_stacked:u,_dataset:d}=this._cachedMeta,f=this.resolveDataElementOptions(n,s),g=this.getSharedOptions(f),_=this.includeOptions(s,g),v=a.axis,I=c.axis,{spanGaps:b,segment:w}=this.options,T=rc(b)?b:Number.POSITIVE_INFINITY,S=this.chart._animationsDisabled||o||s==="none";let k=n>0&&this.getParsed(n-1);for(let x=n;x<n+i;++x){const D=t[x],M=this.getParsed(x),V=S?D:{},z=ee(M[I]),st=V[v]=a.getPixelForValue(M[v],x),gt=V[I]=o||z?c.getBasePixel():c.getPixelForValue(u?this.applyStack(c,M,u):M[I],x);V.skip=isNaN(st)||isNaN(gt)||z,V.stop=x>0&&Math.abs(M[v]-k[v])>T,w&&(V.parsed=M,V.raw=d.data[x]),_&&(V.options=g||this.resolveDataElementOptions(x,D.active?"active":s)),S||this.updateElement(D,x,V,s),k=M}this.updateSharedOptions(g,s,f)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let c=0;for(let u=n.length-1;u>=0;--u)c=Math.max(c,n[u].size(this.resolveDataElementOptions(u))/2);return c>0&&c}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const o=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,o,a)/2}}Q(Xp,"id","scatter"),Q(Xp,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Q(Xp,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var GK=Object.freeze({__proto__:null,BarController:qp,BubbleController:Kp,DoughnutController:na,LineController:Gp,PieController:Fb,PolarAreaController:Th,RadarController:Yp,ScatterController:Xp});function $o(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class g1{constructor(t){Q(this,"options");this.options=t||{}}static override(t){Object.assign(g1.prototype,t)}init(){}formats(){return $o()}parse(){return $o()}format(){return $o()}add(){return $o()}diff(){return $o()}startOf(){return $o()}endOf(){return $o()}}var YK={_date:g1};function XK(e,t,n,i){const{controller:s,data:o,_sorted:a}=e,c=s._cachedMeta.iScale;if(c&&t===c.axis&&t!=="r"&&a&&o.length){const u=c._reversePixels?vq:er;if(i){if(s._sharedOptions){const d=o[0],f=typeof d.getRange=="function"&&d.getRange(t);if(f){const g=u(o,t,n-f),_=u(o,t,n+f);return{lo:g.lo,hi:_.hi}}}}else return u(o,t,n)}return{lo:0,hi:o.length-1}}function Nd(e,t,n,i,s){const o=e.getSortedVisibleDatasetMetas(),a=n[t];for(let c=0,u=o.length;c<u;++c){const{index:d,data:f}=o[c],{lo:g,hi:_}=XK(o[c],t,a,s);for(let v=g;v<=_;++v){const I=f[v];I.skip||i(I,d,v)}}}function QK(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,s){const o=t?Math.abs(i.x-s.x):0,a=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}}function Av(e,t,n,i,s){const o=[];return!s&&!e.isPointInArea(t)||Nd(e,n,t,function(c,u,d){!s&&!nr(c,e.chartArea,0)||c.inRange(t.x,t.y,i)&&o.push({element:c,datasetIndex:u,index:d})},!0),o}function JK(e,t,n,i){let s=[];function o(a,c,u){const{startAngle:d,endAngle:f}=a.getProps(["startAngle","endAngle"],i),{angle:g}=sM(a,{x:t.x,y:t.y});id(g,d,f)&&s.push({element:a,datasetIndex:c,index:u})}return Nd(e,n,t,o),s}function ZK(e,t,n,i,s,o){let a=[];const c=QK(n);let u=Number.POSITIVE_INFINITY;function d(f,g,_){const v=f.inRange(t.x,t.y,s);if(i&&!v)return;const I=f.getCenterPoint(s);if(!(!!o||e.isPointInArea(I))&&!v)return;const w=c(t,I);w<u?(a=[{element:f,datasetIndex:g,index:_}],u=w):w===u&&a.push({element:f,datasetIndex:g,index:_})}return Nd(e,n,t,d),a}function Cv(e,t,n,i,s,o){return!o&&!e.isPointInArea(t)?[]:n==="r"&&!i?JK(e,t,n,s):ZK(e,t,n,i,s,o)}function $P(e,t,n,i,s){const o=[],a=n==="x"?"inXRange":"inYRange";let c=!1;return Nd(e,n,t,(u,d,f)=>{u[a](t[n],s)&&(o.push({element:u,datasetIndex:d,index:f}),c=c||u.inRange(t.x,t.y,s))}),i&&!c?[]:o}var tG={evaluateInteractionItems:Nd,modes:{index(e,t,n,i){const s=Wo(t,e),o=n.axis||"x",a=n.includeInvisible||!1,c=n.intersect?Av(e,s,o,i,a):Cv(e,s,o,!1,i,a),u=[];return c.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const f=c[0].index,g=d.data[f];g&&!g.skip&&u.push({element:g,datasetIndex:d.index,index:f})}),u):[]},dataset(e,t,n,i){const s=Wo(t,e),o=n.axis||"xy",a=n.includeInvisible||!1;let c=n.intersect?Av(e,s,o,i,a):Cv(e,s,o,!1,i,a);if(c.length>0){const u=c[0].datasetIndex,d=e.getDatasetMeta(u).data;c=[];for(let f=0;f<d.length;++f)c.push({element:d[f],datasetIndex:u,index:f})}return c},point(e,t,n,i){const s=Wo(t,e),o=n.axis||"xy",a=n.includeInvisible||!1;return Av(e,s,o,i,a)},nearest(e,t,n,i){const s=Wo(t,e),o=n.axis||"xy",a=n.includeInvisible||!1;return Cv(e,s,o,n.intersect,i,a)},x(e,t,n,i){const s=Wo(t,e);return $P(e,s,"x",n.intersect,i)},y(e,t,n,i){const s=Wo(t,e);return $P(e,s,"y",n.intersect,i)}}};const PM=["left","top","right","bottom"];function Vu(e,t){return e.filter(n=>n.pos===t)}function HP(e,t){return e.filter(n=>PM.indexOf(n.pos)===-1&&n.box.axis===t)}function Fu(e,t){return e.sort((n,i)=>{const s=t?i:n,o=t?n:i;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function eG(e){const t=[];let n,i,s,o,a,c;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],{position:o,options:{stack:a,stackWeight:c=1}}=s,t.push({index:n,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&o+a,stackWeight:c});return t}function nG(e){const t={};for(const n of e){const{stack:i,pos:s,stackWeight:o}=n;if(!i||!PM.includes(s))continue;const a=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=o}return t}function iG(e,t){const n=nG(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let o,a,c;for(o=0,a=e.length;o<a;++o){c=e[o];const{fullSize:u}=c.box,d=n[c.stack],f=d&&c.stackWeight/d.weight;c.horizontal?(c.width=f?f*i:u&&t.availableWidth,c.height=s):(c.width=i,c.height=f?f*s:u&&t.availableHeight)}return n}function sG(e){const t=eG(e),n=Fu(t.filter(d=>d.box.fullSize),!0),i=Fu(Vu(t,"left"),!0),s=Fu(Vu(t,"right")),o=Fu(Vu(t,"top"),!0),a=Fu(Vu(t,"bottom")),c=HP(t,"x"),u=HP(t,"y");return{fullSize:n,leftAndTop:i.concat(o),rightAndBottom:s.concat(u).concat(a).concat(c),chartArea:Vu(t,"chartArea"),vertical:i.concat(s).concat(u),horizontal:o.concat(a).concat(c)}}function zP(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function RM(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function rG(e,t,n,i){const{pos:s,box:o}=n,a=e.maxPadding;if(!qt(s)){n.size&&(e[s]-=n.size);const g=i[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?o.height:o.width),n.size=g.size/g.count,e[s]+=n.size}o.getPadding&&RM(a,o.getPadding());const c=Math.max(0,t.outerWidth-zP(a,e,"left","right")),u=Math.max(0,t.outerHeight-zP(a,e,"top","bottom")),d=c!==e.w,f=u!==e.h;return e.w=c,e.h=u,n.horizontal?{same:d,other:f}:{same:f,other:d}}function oG(e){const t=e.maxPadding;function n(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function aG(e,t){const n=t.maxPadding;function i(s){const o={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{o[a]=Math.max(t[a],n[a])}),o}return i(e?["left","right"]:["top","bottom"])}function Zu(e,t,n,i){const s=[];let o,a,c,u,d,f;for(o=0,a=e.length,d=0;o<a;++o){c=e[o],u=c.box,u.update(c.width||t.w,c.height||t.h,aG(c.horizontal,t));const{same:g,other:_}=rG(t,n,c,i);d|=g&&s.length,f=f||_,u.fullSize||s.push(c)}return d&&Zu(s,t,n,i)||f}function wp(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function WP(e,t,n,i){const s=n.padding;let{x:o,y:a}=t;for(const c of e){const u=c.box,d=i[c.stack]||{count:1,placed:0,weight:1},f=c.stackWeight/d.weight||1;if(c.horizontal){const g=t.w*f,_=d.size||u.height;nd(d.start)&&(a=d.start),u.fullSize?wp(u,s.left,a,n.outerWidth-s.right-s.left,_):wp(u,t.left+d.placed,a,g,_),d.start=a,d.placed+=g,a=u.bottom}else{const g=t.h*f,_=d.size||u.width;nd(d.start)&&(o=d.start),u.fullSize?wp(u,o,s.top,_,n.outerHeight-s.bottom-s.top):wp(u,o,t.top+d.placed,_,g),d.start=o,d.placed+=g,o=u.right}}t.x=o,t.y=a}var Hn={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=Yn(e.options.layout.padding),o=Math.max(t-s.width,0),a=Math.max(n-s.height,0),c=sG(e.boxes),u=c.vertical,d=c.horizontal;de(e.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const f=u.reduce((b,w)=>w.box.options&&w.box.options.display===!1?b:b+1,0)||1,g=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/f,hBoxMaxHeight:a/2}),_=Object.assign({},s);RM(_,Yn(i));const v=Object.assign({maxPadding:_,w:o,h:a,x:s.left,y:s.top},s),I=iG(u.concat(d),g);Zu(c.fullSize,v,g,I),Zu(u,v,g,I),Zu(d,v,g,I)&&Zu(u,v,g,I),oG(v),WP(c.leftAndTop,v,g,I),v.x+=v.w,v.y+=v.h,WP(c.rightAndBottom,v,g,I),e.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},de(c.chartArea,b=>{const w=b.box;Object.assign(w,e.chartArea),w.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class kM{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,s){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(t){return!0}updateConfig(t){}}class lG extends kM{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Qp="$chartjs",cG={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},qP=e=>e===null||e==="";function uG(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[Qp]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",qP(s)){const o=PP(e,"width");o!==void 0&&(e.width=o)}if(qP(i))if(e.style.height==="")e.height=e.width/(t||2);else{const o=PP(e,"height");o!==void 0&&(e.height=o)}return e}const xM=dK?{passive:!0}:!1;function hG(e,t,n){e&&e.addEventListener(t,n,xM)}function dG(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,xM)}function fG(e,t){const n=cG[e.type]||e.type,{x:i,y:s}=Wo(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Fg(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function pG(e,t,n){const i=e.canvas,s=new MutationObserver(o=>{let a=!1;for(const c of o)a=a||Fg(c.addedNodes,i),a=a&&!Fg(c.removedNodes,i);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function gG(e,t,n){const i=e.canvas,s=new MutationObserver(o=>{let a=!1;for(const c of o)a=a||Fg(c.removedNodes,i),a=a&&!Fg(c.addedNodes,i);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const rd=new Map;let KP=0;function DM(){const e=window.devicePixelRatio;e!==KP&&(KP=e,rd.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function mG(e,t){rd.size||window.addEventListener("resize",DM),rd.set(e,t)}function _G(e){rd.delete(e),rd.size||window.removeEventListener("resize",DM)}function yG(e,t,n){const i=e.canvas,s=i&&p1(i);if(!s)return;const o=lM((c,u)=>{const d=s.clientWidth;n(c,u),d<s.clientWidth&&n()},window),a=new ResizeObserver(c=>{const u=c[0],d=u.contentRect.width,f=u.contentRect.height;d===0&&f===0||o(d,f)});return a.observe(s),mG(e,o),a}function Pv(e,t,n){n&&n.disconnect(),t==="resize"&&_G(e)}function vG(e,t,n){const i=e.canvas,s=lM(o=>{e.ctx!==null&&n(fG(o,e))},e);return hG(i,t,s),s}class bG extends kM{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(uG(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[Qp])return!1;const i=n[Qp].initial;["height","width"].forEach(o=>{const a=i[o];ee(a)?n.removeAttribute(o):n.setAttribute(o,a)});const s=i.style||{};return Object.keys(s).forEach(o=>{n.style[o]=s[o]}),n.width=n.width,delete n[Qp],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),a={attach:pG,detach:gG,resize:yG}[n]||vG;s[n]=a(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),s=i[n];if(!s)return;({attach:Pv,detach:Pv,resize:Pv}[n]||dG)(t,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,s){return hK(t,n,i,s)}isAttached(t){const n=p1(t);return!!(n&&n.isConnected)}}function wG(e){return!f1()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?lG:bG}var kp;let yr=(kp=class{constructor(){Q(this,"x");Q(this,"y");Q(this,"active",!1);Q(this,"options");Q(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return rc(this.x)&&rc(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const s={};return t.forEach(o=>{s[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),s}},Q(kp,"defaults",{}),Q(kp,"defaultRoutes"),kp);function EG(e,t){const n=e.options.ticks,i=IG(e),s=Math.min(n.maxTicksLimit||i,i),o=n.major.enabled?SG(t):[],a=o.length,c=o[0],u=o[a-1],d=[];if(a>s)return AG(t,d,o,a/s),d;const f=TG(o,t,s);if(a>0){let g,_;const v=a>1?Math.round((u-c)/(a-1)):null;for(Ep(t,d,f,ee(v)?0:c-v,c),g=0,_=a-1;g<_;g++)Ep(t,d,f,o[g],o[g+1]);return Ep(t,d,f,u,ee(v)?t.length:u+v),d}return Ep(t,d,f),d}function IG(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}function TG(e,t,n){const i=CG(e),s=t.length/n;if(!i)return Math.max(s,1);const o=gq(i);for(let a=0,c=o.length-1;a<c;a++){const u=o[a];if(u>s)return u}return Math.max(s,1)}function SG(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function AG(e,t,n,i){let s=0,o=n[0],a;for(i=Math.ceil(i),a=0;a<e.length;a++)a===o&&(t.push(e[a]),s++,o=n[s*i])}function Ep(e,t,n,i,s){const o=Lt(i,0),a=Math.min(Lt(s,e.length),e.length);let c=0,u,d,f;for(n=Math.ceil(n),s&&(u=s-i,n=u/Math.floor(u/n)),f=o;f<0;)c++,f=Math.round(o+c*n);for(d=Math.max(o,0);d<a;d++)d===f&&(t.push(e[d]),c++,f=Math.round(o+c*n))}function CG(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const PG=e=>e==="left"?"right":e==="right"?"left":e,GP=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,YP=(e,t)=>Math.min(t||e,e);function XP(e,t){const n=[],i=e.length/t,s=e.length;let o=0;for(;o<s;o+=i)n.push(e[Math.floor(o)]);return n}function RG(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),o=e._startPixel,a=e._endPixel,c=1e-6;let u=e.getPixelForTick(s),d;if(!(n&&(i===1?d=Math.max(u-o,a-u):t===0?d=(e.getPixelForTick(1)-u)/2:d=(u-e.getPixelForTick(s-1))/2,u+=s<t?d:-d,u<o-c||u>a+c)))return u}function kG(e,t){de(e,n=>{const i=n.gc,s=i.length/2;let o;if(s>t){for(o=0;o<s;++o)delete n.data[i[o]];i.splice(0,s)}})}function Uu(e){return e.drawTicks?e.tickLength:0}function QP(e,t){if(!e.display)return 0;const n=fn(e.font,t),i=Yn(e.padding);return(Ce(e.text)?e.text.length:1)*n.lineHeight+i.height}function xG(e,t){return bo(e,{scale:t,type:"scale"})}function DG(e,t,n){return bo(e,{tick:n,index:t,type:"tick"})}function OG(e,t,n){let i=a1(e);return(n&&t!=="right"||!n&&t==="right")&&(i=PG(i)),i}function MG(e,t,n,i){const{top:s,left:o,bottom:a,right:c,chart:u}=e,{chartArea:d,scales:f}=u;let g=0,_,v,I;const b=a-s,w=c-o;if(e.isHorizontal()){if(v=Fn(i,o,c),qt(n)){const T=Object.keys(n)[0],S=n[T];I=f[T].getPixelForValue(S)+b-t}else n==="center"?I=(d.bottom+d.top)/2+b-t:I=GP(e,n,t);_=c-o}else{if(qt(n)){const T=Object.keys(n)[0],S=n[T];v=f[T].getPixelForValue(S)-w+t}else n==="center"?v=(d.left+d.right)/2-w+t:v=GP(e,n,t);I=Fn(i,a,s),g=n==="left"?-tn:tn}return{titleX:v,titleY:I,maxWidth:_,rotation:g}}class ka extends yr{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return t=Si(t,Number.POSITIVE_INFINITY),n=Si(n,Number.NEGATIVE_INFINITY),i=Si(i,Number.POSITIVE_INFINITY),s=Si(s,Number.NEGATIVE_INFINITY),{min:Si(t,i),max:Si(n,s),minDefined:$e(t),maxDefined:$e(n)}}getMinMax(t){let{min:n,max:i,minDefined:s,maxDefined:o}=this.getUserBounds(),a;if(s&&o)return{min:n,max:i};const c=this.getMatchingVisibleMetas();for(let u=0,d=c.length;u<d;++u)a=c[u].controller.getMinMax(this,t),s||(n=Math.min(n,a.min)),o||(i=Math.max(i,a.max));return n=o&&n>i?i:n,i=s&&n>i?n:i,{min:Si(n,Si(i,n)),max:Si(i,Si(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){be(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:s,grace:o,ticks:a}=this.options,c=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Hq(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?XP(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=EG(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){be(this.options.afterUpdate,[this])}beforeSetDimensions(){be(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){be(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),be(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){be(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,s,o;for(i=0,s=t.length;i<s;i++)o=t[i],o.label=be(n.callback,[o.value,i,t],this)}afterTickToLabelConversion(){be(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){be(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=YP(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,o=n.maxRotation;let a=s,c,u,d;if(!this._isVisible()||!n.display||s>=o||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const f=this._getLabelSizes(),g=f.widest.width,_=f.highest.height,v=Tn(this.chart.width-g,0,this.maxWidth);c=t.offset?this.maxWidth/i:v/(i-1),g+6>c&&(c=v/(i-(t.offset?.5:1)),u=this.maxHeight-Uu(t.grid)-n.padding-QP(t.title,this.chart.options.font),d=Math.sqrt(g*g+_*_),a=r1(Math.min(Math.asin(Tn((f.highest.height+6)/c,-1,1)),Math.asin(Tn(u/d,-1,1))-Math.asin(Tn(_/d,-1,1)))),a=Math.max(s,Math.min(o,a))),this.labelRotation=a}afterCalculateLabelRotation(){be(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){be(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:o}}=this,a=this._isVisible(),c=this.isHorizontal();if(a){const u=QP(s,n.options.font);if(c?(t.width=this.maxWidth,t.height=Uu(o)+u):(t.height=this.maxHeight,t.width=Uu(o)+u),i.display&&this.ticks.length){const{first:d,last:f,widest:g,highest:_}=this._getLabelSizes(),v=i.padding*2,I=Zi(this.labelRotation),b=Math.cos(I),w=Math.sin(I);if(c){const T=i.mirror?0:w*g.width+b*_.height;t.height=Math.min(this.maxHeight,t.height+T+v)}else{const T=i.mirror?0:b*g.width+w*_.height;t.width=Math.min(this.maxWidth,t.width+T+v)}this._calculatePadding(d,f,w,b)}}this._handleMargins(),c?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,s){const{ticks:{align:o,padding:a},position:c}=this.options,u=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,v=0;u?d?(_=s*t.width,v=i*n.height):(_=i*t.height,v=s*n.width):o==="start"?v=n.width:o==="end"?_=t.width:o!=="inner"&&(_=t.width/2,v=n.width/2),this.paddingLeft=Math.max((_-f+a)*this.width/(this.width-f),0),this.paddingRight=Math.max((v-g+a)*this.width/(this.width-g),0)}else{let f=n.height/2,g=t.height/2;o==="start"?(f=0,g=t.height):o==="end"&&(f=n.height,g=0),this.paddingTop=f+a,this.paddingBottom=g+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){be(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)ee(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=XP(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:s,_longestTextCache:o}=this,a=[],c=[],u=Math.floor(n/YP(n,i));let d=0,f=0,g,_,v,I,b,w,T,S,k,x,D;for(g=0;g<n;g+=u){if(I=t[g].label,b=this._resolveTickFontOptions(g),s.font=w=b.string,T=o[w]=o[w]||{data:{},gc:[]},S=b.lineHeight,k=x=0,!ee(I)&&!Ce(I))k=Lg(s,T.data,T.gc,k,I),x=S;else if(Ce(I))for(_=0,v=I.length;_<v;++_)D=I[_],!ee(D)&&!Ce(D)&&(k=Lg(s,T.data,T.gc,k,D),x+=S);a.push(k),c.push(x),d=Math.max(k,d),f=Math.max(x,f)}kG(o,n);const M=a.indexOf(d),V=c.indexOf(f),z=st=>({width:a[st]||0,height:c[st]||0});return{first:z(0),last:z(n-1),widest:z(M),highest:z(V),widths:a,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return yq(this._alignToPixels?jo(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=DG(this.getContext(),t,i))}return this.$context||(this.$context=xG(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Zi(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),o=this._getLabelSizes(),a=t.autoSkipPadding||0,c=o?o.widest.width+a:0,u=o?o.highest.height+a:0;return this.isHorizontal()?u*i>c*s?c/i:u/s:u*s<c*i?u/i:c/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,s=this.options,{grid:o,position:a,border:c}=s,u=o.offset,d=this.isHorizontal(),g=this.ticks.length+(u?1:0),_=Uu(o),v=[],I=c.setContext(this.getContext()),b=I.display?I.width:0,w=b/2,T=function(Y){return jo(i,Y,b)};let S,k,x,D,M,V,z,st,gt,J,vt,wt;if(a==="top")S=T(this.bottom),V=this.bottom-_,st=S-w,J=T(t.top)+w,wt=t.bottom;else if(a==="bottom")S=T(this.top),J=t.top,wt=T(t.bottom)-w,V=S+w,st=this.top+_;else if(a==="left")S=T(this.right),M=this.right-_,z=S-w,gt=T(t.left)+w,vt=t.right;else if(a==="right")S=T(this.left),gt=t.left,vt=T(t.right)-w,M=S+w,z=this.left+_;else if(n==="x"){if(a==="center")S=T((t.top+t.bottom)/2+.5);else if(qt(a)){const Y=Object.keys(a)[0],ct=a[Y];S=T(this.chart.scales[Y].getPixelForValue(ct))}J=t.top,wt=t.bottom,V=S+w,st=V+_}else if(n==="y"){if(a==="center")S=T((t.left+t.right)/2);else if(qt(a)){const Y=Object.keys(a)[0],ct=a[Y];S=T(this.chart.scales[Y].getPixelForValue(ct))}M=S-w,z=M-_,gt=t.left,vt=t.right}const pe=Lt(s.ticks.maxTicksLimit,g),dt=Math.max(1,Math.ceil(g/pe));for(k=0;k<g;k+=dt){const Y=this.getContext(k),ct=o.setContext(Y),kt=c.setContext(Y),ae=ct.lineWidth,Ie=ct.color,_n=kt.dash||[],ge=kt.dashOffset,ri=ct.tickWidth,Ln=ct.tickColor,Mi=ct.tickBorderDash||[],ye=ct.tickBorderDashOffset;x=RG(this,k,u),x!==void 0&&(D=jo(i,x,ae),d?M=z=gt=vt=D:V=st=J=wt=D,v.push({tx1:M,ty1:V,tx2:z,ty2:st,x1:gt,y1:J,x2:vt,y2:wt,width:ae,color:Ie,borderDash:_n,borderDashOffset:ge,tickWidth:ri,tickColor:Ln,tickBorderDash:Mi,tickBorderDashOffset:ye}))}return this._ticksLength=g,this._borderValue=S,v}_computeLabelItems(t){const n=this.axis,i=this.options,{position:s,ticks:o}=i,a=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:d,padding:f,mirror:g}=o,_=Uu(i.grid),v=_+f,I=g?-f:v,b=-Zi(this.labelRotation),w=[];let T,S,k,x,D,M,V,z,st,gt,J,vt,wt="middle";if(s==="top")M=this.bottom-I,V=this._getXAxisLabelAlignment();else if(s==="bottom")M=this.top+I,V=this._getXAxisLabelAlignment();else if(s==="left"){const dt=this._getYAxisLabelAlignment(_);V=dt.textAlign,D=dt.x}else if(s==="right"){const dt=this._getYAxisLabelAlignment(_);V=dt.textAlign,D=dt.x}else if(n==="x"){if(s==="center")M=(t.top+t.bottom)/2+v;else if(qt(s)){const dt=Object.keys(s)[0],Y=s[dt];M=this.chart.scales[dt].getPixelForValue(Y)+v}V=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")D=(t.left+t.right)/2-v;else if(qt(s)){const dt=Object.keys(s)[0],Y=s[dt];D=this.chart.scales[dt].getPixelForValue(Y)}V=this._getYAxisLabelAlignment(_).textAlign}n==="y"&&(u==="start"?wt="top":u==="end"&&(wt="bottom"));const pe=this._getLabelSizes();for(T=0,S=c.length;T<S;++T){k=c[T],x=k.label;const dt=o.setContext(this.getContext(T));z=this.getPixelForTick(T)+o.labelOffset,st=this._resolveTickFontOptions(T),gt=st.lineHeight,J=Ce(x)?x.length:1;const Y=J/2,ct=dt.color,kt=dt.textStrokeColor,ae=dt.textStrokeWidth;let Ie=V;a?(D=z,V==="inner"&&(T===S-1?Ie=this.options.reverse?"left":"right":T===0?Ie=this.options.reverse?"right":"left":Ie="center"),s==="top"?d==="near"||b!==0?vt=-J*gt+gt/2:d==="center"?vt=-pe.highest.height/2-Y*gt+gt:vt=-pe.highest.height+gt/2:d==="near"||b!==0?vt=gt/2:d==="center"?vt=pe.highest.height/2-Y*gt:vt=pe.highest.height-J*gt,g&&(vt*=-1),b!==0&&!dt.showLabelBackdrop&&(D+=gt/2*Math.sin(b))):(M=z,vt=(1-J)*gt/2);let _n;if(dt.showLabelBackdrop){const ge=Yn(dt.backdropPadding),ri=pe.heights[T],Ln=pe.widths[T];let Mi=vt-ge.top,ye=0-ge.left;switch(wt){case"middle":Mi-=ri/2;break;case"bottom":Mi-=ri;break}switch(V){case"center":ye-=Ln/2;break;case"right":ye-=Ln;break;case"inner":T===S-1?ye-=Ln:T>0&&(ye-=Ln/2);break}_n={left:ye,top:Mi,width:Ln+ge.width,height:ri+ge.height,color:dt.backdropColor}}w.push({label:x,font:st,textOffset:vt,options:{rotation:b,color:ct,strokeColor:kt,strokeWidth:ae,textAlign:Ie,textBaseline:wt,translation:[D,M],backdrop:_n}})}return w}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Zi(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:s,padding:o}}=this.options,a=this._getLabelSizes(),c=t+o,u=a.widest.width;let d,f;return n==="left"?s?(f=this.right+o,i==="near"?d="left":i==="center"?(d="center",f+=u/2):(d="right",f+=u)):(f=this.right-c,i==="near"?d="right":i==="center"?(d="center",f-=u/2):(d="left",f=this.left)):n==="right"?s?(f=this.left+o,i==="near"?d="right":i==="center"?(d="center",f-=u/2):(d="left",f-=u)):(f=this.left+c,i==="near"?d="left":i==="center"?(d="center",f+=u/2):(d="right",f=this.right)):d="right",{textAlign:d,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:s,width:o,height:a}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,s,o,a),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(o=>o.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,a;const c=(u,d,f)=>{!f.width||!f.color||(i.save(),i.lineWidth=f.width,i.strokeStyle=f.color,i.setLineDash(f.borderDash||[]),i.lineDashOffset=f.borderDashOffset,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(n.display)for(o=0,a=s.length;o<a;++o){const u=s[o];n.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:s}}=this,o=i.setContext(this.getContext()),a=i.display?o.width:0;if(!a)return;const c=s.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,f,g,_;this.isHorizontal()?(d=jo(t,this.left,a)-a/2,f=jo(t,this.right,c)+c/2,g=_=u):(g=jo(t,this.top,a)-a/2,_=jo(t,this.bottom,c)+c/2,d=f=u),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(d,g),n.lineTo(f,_),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&i_(i,s);const o=this.getLabelItems(t);for(const a of o){const c=a.options,u=a.font,d=a.label,f=a.textOffset;Ea(i,d,0,f,u,c)}s&&s_(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const o=fn(i.font),a=Yn(i.padding),c=i.align;let u=o.lineHeight/2;n==="bottom"||n==="center"||qt(n)?(u+=a.bottom,Ce(i.text)&&(u+=o.lineHeight*(i.text.length-1))):u+=a.top;const{titleX:d,titleY:f,maxWidth:g,rotation:_}=MG(this,u,n,c);Ea(t,i.text,0,0,o,{color:i.color,maxWidth:g,rotation:_,textAlign:OG(c,n,s),textBaseline:"middle",translation:[d,f]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=Lt(t.grid&&t.grid.z,-1),s=Lt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ka.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let o,a;for(o=0,a=n.length;o<a;++o){const c=n[o];c[i]===this.id&&(!t||c.type===t)&&s.push(c)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return fn(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Ip{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;VG(n)&&(i=this.register(n));const s=this.items,o=t.id,a=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in s||(s[o]=t,NG(t,a,i),this.override&&He.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,s=this.scope;i in n&&delete n[i],s&&i in He[s]&&(delete He[s][i],this.override&&delete wa[i])}}function NG(e,t,n){const i=ed(Object.create(null),[n?He.get(n):{},He.get(t),e.defaults]);He.set(t,i),e.defaultRoutes&&LG(t,e.defaultRoutes),e.descriptors&&He.describe(t,e.descriptors)}function LG(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),o=[e].concat(i).join("."),a=t[n].split("."),c=a.pop(),u=a.join(".");He.route(o,s,u,c)})}function VG(e){return"id"in e&&"defaults"in e}class FG{constructor(){this.controllers=new Ip(es,"datasets",!0),this.elements=new Ip(yr,"elements"),this.plugins=new Ip(Object,"plugins"),this.scales=new Ip(ka,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(s=>{const o=i||this._getRegistryForType(s);i||o.isForType(s)||o===this.plugins&&s.id?this._exec(t,o,s):de(s,a=>{const c=i||this._getRegistryForType(a);this._exec(t,c,a)})})}_exec(t,n,i){const s=s1(t);be(i["before"+s],[],i),n[t](i),be(i["after"+s],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var _s=new FG;class UG{constructor(){this._init=[]}notify(t,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=s?this._descriptors(t).filter(s):this._descriptors(t),a=this._notify(o,t,n,i);return n==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,n,i,s){s=s||{};for(const o of t){const a=o.plugin,c=a[i],u=[n,s,o.options];if(be(c,u,a)===!1&&s.cancelable)return!1}return!0}invalidate(){ee(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,s=Lt(i.options&&i.options.plugins,{}),o=BG(i);return s===!1&&!n?[]:$G(t,o,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,s=(o,a)=>o.filter(c=>!a.some(u=>c.plugin.id===u.plugin.id));this._notify(s(n,i),t,"stop"),this._notify(s(i,n),t,"start")}}function BG(e){const t={},n=[],i=Object.keys(_s.plugins.items);for(let o=0;o<i.length;o++)n.push(_s.getPlugin(i[o]));const s=e.plugins||[];for(let o=0;o<s.length;o++){const a=s[o];n.indexOf(a)===-1&&(n.push(a),t[a.id]=!0)}return{plugins:n,localIds:t}}function jG(e,t){return!t&&e===!1?null:e===!0?{}:e}function $G(e,{plugins:t,localIds:n},i,s){const o=[],a=e.getContext();for(const c of t){const u=c.id,d=jG(i[u],s);d!==null&&o.push({plugin:c,options:HG(e.config,{plugin:c,local:n[u]},d,a)})}return o}function HG(e,{plugin:t,local:n},i,s){const o=e.pluginScopeKeys(t),a=e.getOptionScopes(i,o);return n&&t.defaults&&a.push(t.defaults),e.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ub(e,t){const n=He.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function zG(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function WG(e,t){return e===t?"_index_":"_value_"}function JP(e){if(e==="x"||e==="y"||e==="r")return e}function qG(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Bb(e,...t){if(JP(e))return e;for(const n of t){const i=n.axis||qG(n.position)||e.length>1&&JP(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function ZP(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function KG(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return ZP(e,"x",n[0])||ZP(e,"y",n[0])}return{}}function GG(e,t){const n=wa[e.type]||{scales:{}},i=t.scales||{},s=Ub(e.type,t),o=Object.create(null);return Object.keys(i).forEach(a=>{const c=i[a];if(!qt(c))return console.error(`Invalid scale configuration for scale: ${a}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const u=Bb(a,c,KG(a,e),He.scales[c.type]),d=WG(u,s),f=n.scales||{};o[a]=bh(Object.create(null),[{axis:u},c,f[u],f[d]])}),e.data.datasets.forEach(a=>{const c=a.type||e.type,u=a.indexAxis||Ub(c,t),f=(wa[c]||{}).scales||{};Object.keys(f).forEach(g=>{const _=zG(g,u),v=a[_+"AxisID"]||_;o[v]=o[v]||Object.create(null),bh(o[v],[{axis:_},i[v],f[g]])})}),Object.keys(o).forEach(a=>{const c=o[a];bh(c,[He.scales[c.type],He.scale])}),o}function OM(e){const t=e.options||(e.options={});t.plugins=Lt(t.plugins,{}),t.scales=GG(e,t)}function MM(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function YG(e){return e=e||{},e.data=MM(e.data),OM(e),e}const tR=new Map,NM=new Set;function Tp(e,t){let n=tR.get(e);return n||(n=t(),tR.set(e,n),NM.add(n)),n}const Bu=(e,t,n)=>{const i=po(t,n);i!==void 0&&e.add(i)};class XG{constructor(t){this._config=YG(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=MM(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),OM(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Tp(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Tp(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Tp(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return Tp(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let s=i.get(t);return(!s||n)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,n,i){const{options:s,type:o}=this,a=this._cachedScopes(t,i),c=a.get(n);if(c)return c;const u=new Set;n.forEach(f=>{t&&(u.add(t),f.forEach(g=>Bu(u,t,g))),f.forEach(g=>Bu(u,s,g)),f.forEach(g=>Bu(u,wa[o]||{},g)),f.forEach(g=>Bu(u,He,g)),f.forEach(g=>Bu(u,Lb,g))});const d=Array.from(u);return d.length===0&&d.push(Object.create(null)),NM.has(n)&&a.set(n,d),d}chartOptionScopes(){const{options:t,type:n}=this;return[t,wa[n]||{},He.datasets[n]||{},{type:n},He,Lb]}resolveNamedOptions(t,n,i,s=[""]){const o={$shared:!0},{resolver:a,subPrefixes:c}=eR(this._resolverCache,t,s);let u=a;if(JG(a,n)){o.$shared=!1,i=go(i)?i():i;const d=this.createResolver(t,i,c);u=oc(a,i,d)}for(const d of n)o[d]=u[d];return o}createResolver(t,n,i=[""],s){const{resolver:o}=eR(this._resolverCache,t,i);return qt(n)?oc(o,n,void 0,s):o}}function eR(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let o=i.get(s);return o||(o={resolver:u1(t,n),subPrefixes:n.filter(c=>!c.toLowerCase().includes("hover"))},i.set(s,o)),o}const QG=e=>qt(e)&&Object.getOwnPropertyNames(e).some(t=>go(e[t]));function JG(e,t){const{isScriptable:n,isIndexable:i}=pM(e);for(const s of t){const o=n(s),a=i(s),c=(a||o)&&e[s];if(o&&(go(c)||QG(c))||a&&Ce(c))return!0}return!1}var ZG="4.4.2";const tY=["top","bottom","left","right","chartArea"];function nR(e,t){return e==="top"||e==="bottom"||tY.indexOf(e)===-1&&t==="x"}function iR(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function sR(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),be(n&&n.onComplete,[e],t)}function eY(e){const t=e.chart,n=t.options.animation;be(n&&n.onProgress,[e],t)}function LM(e){return f1()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Jp={},rR=e=>{const t=LM(e);return Object.values(Jp).filter(n=>n.canvas===t).pop()};function nY(e,t,n){const i=Object.keys(e);for(const s of i){const o=+s;if(o>=t){const a=e[s];delete e[s],(n>0||o>t)&&(e[o+n]=a)}}}function iY(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}function Sp(e,t,n){return e.options.clip?e[n]:t[n]}function sY(e,t){const{xScale:n,yScale:i}=e;return n&&i?{left:Sp(n,t,"left"),right:Sp(n,t,"right"),top:Sp(i,t,"top"),bottom:Sp(i,t,"bottom")}:t}class Xi{static register(...t){_s.add(...t),oR()}static unregister(...t){_s.remove(...t),oR()}constructor(t,n){const i=this.config=new XG(n),s=LM(t),o=rR(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||wG(s)),this.platform.updateConfig(i);const c=this.platform.acquireContext(s,a.aspectRatio),u=c&&c.canvas,d=u&&u.height,f=u&&u.width;if(this.id=oq(),this.ctx=c,this.canvas=u,this.width=f,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new UG,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Eq(g=>this.update(g),a.resizeDelay||0),this._dataChanges=[],Jp[this.id]=this,!c||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Gs.listen(this,"complete",sR),Gs.listen(this,"progress",eY),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:s,_aspectRatio:o}=this;return ee(t)?n&&o?o:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return _s}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():CP(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return TP(this.canvas,this.ctx),this}stop(){return Gs.stop(this),this}resize(t,n){Gs.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,s=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,t,n,o),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,CP(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),be(i.onResize,[this,a],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};de(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,s=Object.keys(i).reduce((a,c)=>(a[c]=!1,a),{});let o=[];n&&(o=o.concat(Object.keys(n).map(a=>{const c=n[a],u=Bb(a,c),d=u==="r",f=u==="x";return{options:c,dposition:d?"chartArea":f?"bottom":"left",dtype:d?"radialLinear":f?"category":"linear"}}))),de(o,a=>{const c=a.options,u=c.id,d=Bb(u,c),f=Lt(c.type,a.dtype);(c.position===void 0||nR(c.position,d)!==nR(a.dposition))&&(c.position=a.dposition),s[u]=!0;let g=null;if(u in i&&i[u].type===f)g=i[u];else{const _=_s.getScale(f);g=new _({id:u,type:f,ctx:this.ctx,chart:this}),i[g.id]=g}g.init(c,t)}),de(s,(a,c)=>{a||delete i[c]}),de(i,a=>{Hn.configure(this,a,a.options),Hn.addBox(this,a)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((s,o)=>s.index-o.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(iR("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,s)=>{n.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const o=n[i];let a=this.getDatasetMeta(i);const c=o.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=c,a.indexAxis=o.indexAxis||Ub(c,this.options),a.order=o.order||0,a.index=i,a.label=""+o.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const u=_s.getController(c),{datasetElementType:d,dataElementType:f}=He.datasets[c];Object.assign(u,{dataElementType:_s.getElement(f),datasetElementType:d&&_s.getElement(d)}),a.controller=new u(this,i),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){de(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,f=this.data.datasets.length;d<f;d++){const{controller:g}=this.getDatasetMeta(d),_=!s&&o.indexOf(g)===-1;g.buildOrUpdateElements(_),a=Math.max(+g.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),s||de(o,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(iR("z","_idx"));const{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){de(this.scales,t=>{Hn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!gP(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:o}of n){const a=i==="_removeElements"?-o:o;nY(t,s,a)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=o=>new Set(t.filter(a=>a[0]===o).map((a,c)=>c+","+a.splice(1).join(","))),s=i(0);for(let o=1;o<n;o++)if(!gP(s,i(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Hn.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],de(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,go(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Gs.has(this)?this.attached&&!Gs.running(this)&&Gs.start(this):(this.draw(),sR({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resize(i,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];(!t||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i=t._clip,s=!i.disabled,o=sY(t,this.chartArea),a={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(s&&i_(n,{left:i.left===!1?0:o.left-i.left,right:i.right===!1?this.width:o.right+i.right,top:i.top===!1?0:o.top-i.top,bottom:i.bottom===!1?this.height:o.bottom+i.bottom}),t.controller.draw(),s&&s_(n),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return nr(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,s){const o=tG.modes[n];return typeof o=="function"?o(this,t,i,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let s=i.filter(o=>o&&o._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=bo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const s=i?"show":"hide",o=this.getDatasetMeta(t),a=o.controller._resolveAnimations(void 0,s);nd(n)?(o.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(o,{visible:i}),this.update(c=>c.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Gs.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),TP(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Jp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(o,a)=>{n.addEventListener(this,o,a),t[o]=a},s=(o,a,c)=>{o.offsetX=a,o.offsetY=c,this._eventHandler(o)};de(this.options.events,o=>i(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(u,d)=>{n.addEventListener(this,u,d),t[u]=d},s=(u,d)=>{t[u]&&(n.removeEventListener(this,u,d),delete t[u])},o=(u,d)=>{this.canvas&&this.resize(u,d)};let a;const c=()=>{s("attach",c),this.attached=!0,this.resize(),i("resize",o),i("detach",a)};a=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),i("attach",c)},n.isAttached(this.canvas)?c():a()}unbindEvents(){de(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},de(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const s=i?"set":"remove";let o,a,c,u;for(n==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),c=0,u=t.length;c<u;++c){a=t[c];const d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:o,index:a})=>{const c=this.getDatasetMeta(o);if(!c)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:c.data[a],index:a}});!Og(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const s=this.options.hover,o=(u,d)=>u.filter(f=>!d.some(g=>f.datasetIndex===g.datasetIndex&&f.index===g.index)),a=o(n,t),c=i?t:o(t,n);a.length&&this.updateHoverStyle(a,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const o=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(o||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:s=[],options:o}=this,a=n,c=this._getActiveElements(t,s,i,a),u=dq(t),d=iY(t,this._lastEvent,i,u);i&&(this._lastEvent=null,be(o.onHover,[t,c,this],this),u&&be(o.onClick,[t,c,this],this));const f=!Og(c,s);return(f||n)&&(this._active=c,this._updateHoverStyles(c,s,n)),this._lastEvent=d,f}_getActiveElements(t,n,i,s){if(t.type==="mouseout")return[];if(!i)return n;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,s)}}Q(Xi,"defaults",He),Q(Xi,"instances",Jp),Q(Xi,"overrides",wa),Q(Xi,"registry",_s),Q(Xi,"version",ZG),Q(Xi,"getChart",rR);function oR(){return de(Xi.instances,e=>e._plugins.invalidate())}function rY(e,t,n){const{startAngle:i,pixelMargin:s,x:o,y:a,outerRadius:c,innerRadius:u}=t;let d=s/c;e.beginPath(),e.arc(o,a,c,i-d,n+d),u>s?(d=s/u,e.arc(o,a,u,n+d,i-d,!0)):e.arc(o,a,s,n+tn,i-tn),e.closePath(),e.clip()}function oY(e){return c1(e,["outerStart","outerEnd","innerStart","innerEnd"])}function aY(e,t,n,i){const s=oY(e.options.borderRadius),o=(n-t)/2,a=Math.min(o,i*t/2),c=u=>{const d=(n-Math.min(o,u))*i/2;return Tn(u,0,Math.min(o,d))};return{outerStart:c(s.outerStart),outerEnd:c(s.outerEnd),innerStart:Tn(s.innerStart,0,a),innerEnd:Tn(s.innerEnd,0,a)}}function bl(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function Ug(e,t,n,i,s,o){const{x:a,y:c,startAngle:u,pixelMargin:d,innerRadius:f}=t,g=Math.max(t.outerRadius+i+n-d,0),_=f>0?f+i+n+d:0;let v=0;const I=s-u;if(i){const dt=f>0?f-i:0,Y=g>0?g-i:0,ct=(dt+Y)/2,kt=ct!==0?I*ct/(ct+i):I;v=(I-kt)/2}const b=Math.max(.001,I*g-n/Re)/g,w=(I-b)/2,T=u+w+v,S=s-w-v,{outerStart:k,outerEnd:x,innerStart:D,innerEnd:M}=aY(t,_,g,S-T),V=g-k,z=g-x,st=T+k/V,gt=S-x/z,J=_+D,vt=_+M,wt=T+D/J,pe=S-M/vt;if(e.beginPath(),o){const dt=(st+gt)/2;if(e.arc(a,c,g,st,dt),e.arc(a,c,g,dt,gt),x>0){const ae=bl(z,gt,a,c);e.arc(ae.x,ae.y,x,gt,S+tn)}const Y=bl(vt,S,a,c);if(e.lineTo(Y.x,Y.y),M>0){const ae=bl(vt,pe,a,c);e.arc(ae.x,ae.y,M,S+tn,pe+Math.PI)}const ct=(S-M/_+(T+D/_))/2;if(e.arc(a,c,_,S-M/_,ct,!0),e.arc(a,c,_,ct,T+D/_,!0),D>0){const ae=bl(J,wt,a,c);e.arc(ae.x,ae.y,D,wt+Math.PI,T-tn)}const kt=bl(V,T,a,c);if(e.lineTo(kt.x,kt.y),k>0){const ae=bl(V,st,a,c);e.arc(ae.x,ae.y,k,T-tn,st)}}else{e.moveTo(a,c);const dt=Math.cos(st)*g+a,Y=Math.sin(st)*g+c;e.lineTo(dt,Y);const ct=Math.cos(gt)*g+a,kt=Math.sin(gt)*g+c;e.lineTo(ct,kt)}e.closePath()}function lY(e,t,n,i,s){const{fullCircles:o,startAngle:a,circumference:c}=t;let u=t.endAngle;if(o){Ug(e,t,n,i,u,s);for(let d=0;d<o;++d)e.fill();isNaN(c)||(u=a+(c%Pe||Pe))}return Ug(e,t,n,i,u,s),e.fill(),u}function cY(e,t,n,i,s){const{fullCircles:o,startAngle:a,circumference:c,options:u}=t,{borderWidth:d,borderJoinStyle:f,borderDash:g,borderDashOffset:_}=u,v=u.borderAlign==="inner";if(!d)return;e.setLineDash(g||[]),e.lineDashOffset=_,v?(e.lineWidth=d*2,e.lineJoin=f||"round"):(e.lineWidth=d,e.lineJoin=f||"bevel");let I=t.endAngle;if(o){Ug(e,t,n,i,I,s);for(let b=0;b<o;++b)e.stroke();isNaN(c)||(I=a+(c%Pe||Pe))}v&&rY(e,t,I),o||(Ug(e,t,n,i,I,s),e.stroke())}class th extends yr{constructor(n){super();Q(this,"circumference");Q(this,"endAngle");Q(this,"fullCircles");Q(this,"innerRadius");Q(this,"outerRadius");Q(this,"pixelMargin");Q(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,s){const o=this.getProps(["x","y"],s),{angle:a,distance:c}=sM(o,{x:n,y:i}),{startAngle:u,endAngle:d,innerRadius:f,outerRadius:g,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),v=(this.options.spacing+this.options.borderWidth)/2,b=Lt(_,d-u)>=Pe||id(a,u,d),w=tr(c,f+v,g+v);return b&&w}getCenterPoint(n){const{x:i,y:s,startAngle:o,endAngle:a,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:d,spacing:f}=this.options,g=(o+a)/2,_=(c+u+f+d)/2;return{x:i+Math.cos(g)*_,y:s+Math.sin(g)*_}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:s}=this,o=(i.offset||0)/4,a=(i.spacing||0)/2,c=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>Pe?Math.floor(s/Pe):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const u=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(u)*o,Math.sin(u)*o);const d=1-Math.sin(Math.min(Re,s||0)),f=o*d;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,lY(n,this,f,a,c),cY(n,this,f,a,c),n.restore()}}Q(th,"id","arc"),Q(th,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Q(th,"defaultRoutes",{backgroundColor:"backgroundColor"}),Q(th,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function VM(e,t,n=t){e.lineCap=Lt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Lt(n.borderDash,t.borderDash)),e.lineDashOffset=Lt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Lt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Lt(n.borderWidth,t.borderWidth),e.strokeStyle=Lt(n.borderColor,t.borderColor)}function uY(e,t,n){e.lineTo(n.x,n.y)}function hY(e){return e.stepped?Mq:e.tension||e.cubicInterpolationMode==="monotone"?Nq:uY}function FM(e,t,n={}){const i=e.length,{start:s=0,end:o=i-1}=n,{start:a,end:c}=t,u=Math.max(s,a),d=Math.min(o,c),f=s<a&&o<a||s>c&&o>c;return{count:i,start:u,loop:t.loop,ilen:d<u&&!f?i+d-u:d-u}}function dY(e,t,n,i){const{points:s,options:o}=t,{count:a,start:c,loop:u,ilen:d}=FM(s,n,i),f=hY(o);let{move:g=!0,reverse:_}=i||{},v,I,b;for(v=0;v<=d;++v)I=s[(c+(_?d-v:v))%a],!I.skip&&(g?(e.moveTo(I.x,I.y),g=!1):f(e,b,I,_,o.stepped),b=I);return u&&(I=s[(c+(_?d:0))%a],f(e,b,I,_,o.stepped)),!!u}function fY(e,t,n,i){const s=t.points,{count:o,start:a,ilen:c}=FM(s,n,i),{move:u=!0,reverse:d}=i||{};let f=0,g=0,_,v,I,b,w,T;const S=x=>(a+(d?c-x:x))%o,k=()=>{b!==w&&(e.lineTo(f,w),e.lineTo(f,b),e.lineTo(f,T))};for(u&&(v=s[S(0)],e.moveTo(v.x,v.y)),_=0;_<=c;++_){if(v=s[S(_)],v.skip)continue;const x=v.x,D=v.y,M=x|0;M===I?(D<b?b=D:D>w&&(w=D),f=(g*f+x)/++g):(k(),e.lineTo(x,D),I=M,g=0,b=w=D),T=D}k()}function jb(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?fY:dY}function pY(e){return e.stepped?fK:e.tension||e.cubicInterpolationMode==="monotone"?pK:qo}function gY(e,t,n,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,i)&&s.closePath()),VM(e,t.options),e.stroke(s)}function mY(e,t,n,i){const{segments:s,options:o}=t,a=jb(t);for(const c of s)VM(e,o,c.style),e.beginPath(),a(e,t,c,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const _Y=typeof Path2D=="function";function yY(e,t,n,i){_Y&&!t.options.segment?gY(e,t,n,i):mY(e,t,n,i)}class Qr extends yr{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;rK(this._points,i,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=bK(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,s=t[n],o=this.points,a=TM(this,{property:n,start:s,end:s});if(!a.length)return;const c=[],u=pY(i);let d,f;for(d=0,f=a.length;d<f;++d){const{start:g,end:_}=a[d],v=o[g],I=o[_];if(v===I){c.push(v);continue}const b=Math.abs((s-v[n])/(I[n]-v[n])),w=u(v,I,b,i.stepped);w[n]=t[n],c.push(w)}return c.length===1?c[0]:c}pathSegment(t,n,i){return jb(this)(t,this,n,i)}path(t,n,i){const s=this.segments,o=jb(this);let a=this._loop;n=n||0,i=i||this.points.length-n;for(const c of s)a&=o(t,this,c,{start:n,end:n+i-1});return!!a}draw(t,n,i,s){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),yY(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Q(Qr,"id","line"),Q(Qr,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Q(Qr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Q(Qr,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function aR(e,t,n,i){const s=e.options,{[n]:o}=e.getProps([n],i);return Math.abs(t-o)<s.radius+s.hitRadius}class Zp extends yr{constructor(n){super();Q(this,"parsed");Q(this,"skip");Q(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const o=this.options,{x:a,y:c}=this.getProps(["x","y"],s);return Math.pow(n-a,2)+Math.pow(i-c,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(n,i){return aR(this,n,"x",i)}inYRange(n,i){return aR(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!nr(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,Vb(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Q(Zp,"id","point"),Q(Zp,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Q(Zp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function UM(e,t){const{x:n,y:i,base:s,width:o,height:a}=e.getProps(["x","y","base","width","height"],t);let c,u,d,f,g;return e.horizontal?(g=a/2,c=Math.min(n,s),u=Math.max(n,s),d=i-g,f=i+g):(g=o/2,c=n-g,u=n+g,d=Math.min(i,s),f=Math.max(i,s)),{left:c,top:d,right:u,bottom:f}}function Jr(e,t,n,i){return e?0:Tn(t,n,i)}function vY(e,t,n){const i=e.options.borderWidth,s=e.borderSkipped,o=fM(i);return{t:Jr(s.top,o.top,0,n),r:Jr(s.right,o.right,0,t),b:Jr(s.bottom,o.bottom,0,n),l:Jr(s.left,o.left,0,t)}}function bY(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,o=ua(s),a=Math.min(t,n),c=e.borderSkipped,u=i||qt(s);return{topLeft:Jr(!u||c.top||c.left,o.topLeft,0,a),topRight:Jr(!u||c.top||c.right,o.topRight,0,a),bottomLeft:Jr(!u||c.bottom||c.left,o.bottomLeft,0,a),bottomRight:Jr(!u||c.bottom||c.right,o.bottomRight,0,a)}}function wY(e){const t=UM(e),n=t.right-t.left,i=t.bottom-t.top,s=vY(e,n/2,i/2),o=bY(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:o},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,o.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(s.b,s.r))}}}}function Rv(e,t,n,i){const s=t===null,o=n===null,c=e&&!(s&&o)&&UM(e,i);return c&&(s||tr(t,c.left,c.right))&&(o||tr(n,c.top,c.bottom))}function EY(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function IY(e,t){e.rect(t.x,t.y,t.w,t.h)}function kv(e,t,n={}){const i=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,o=(e.x+e.w!==n.x+n.w?t:0)-i,a=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+o,h:e.h+a,radius:e.radius}}class tg extends yr{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:o,outer:a}=wY(this),c=EY(a.radius)?sd:IY;t.save(),(a.w!==o.w||a.h!==o.h)&&(t.beginPath(),c(t,kv(a,n,o)),t.clip(),c(t,kv(o,-n,a)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),c(t,kv(o,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,i){return Rv(this,t,n,i)}inXRange(t,n){return Rv(this,t,null,n)}inYRange(t,n){return Rv(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:s,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(n+s)/2:n,y:o?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Q(tg,"id","bar"),Q(tg,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Q(tg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var TY=Object.freeze({__proto__:null,ArcElement:th,BarElement:tg,LineElement:Qr,PointElement:Zp});const $b=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],lR=$b.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function BM(e){return $b[e%$b.length]}function jM(e){return lR[e%lR.length]}function SY(e,t){return e.borderColor=BM(t),e.backgroundColor=jM(t),++t}function AY(e,t){return e.backgroundColor=e.data.map(()=>BM(t++)),t}function CY(e,t){return e.backgroundColor=e.data.map(()=>jM(t++)),t}function PY(e){let t=0;return(n,i)=>{const s=e.getDatasetMeta(i).controller;s instanceof na?t=AY(n,t):s instanceof Th?t=CY(n,t):s&&(t=SY(n,t))}}function cR(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function RY(e){return e&&(e.borderColor||e.backgroundColor)}var kY={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:i},options:s}=e.config,{elements:o}=s;if(!n.forceOverride&&(cR(i)||RY(s)||o&&cR(o)))return;const a=PY(e);i.forEach(a)}};function xY(e,t,n,i,s){const o=s.samples||i;if(o>=n)return e.slice(t,t+n);const a=[],c=(n-2)/(o-2);let u=0;const d=t+n-1;let f=t,g,_,v,I,b;for(a[u++]=e[f],g=0;g<o-2;g++){let w=0,T=0,S;const k=Math.floor((g+1)*c)+1+t,x=Math.min(Math.floor((g+2)*c)+1,n)+t,D=x-k;for(S=k;S<x;S++)w+=e[S].x,T+=e[S].y;w/=D,T/=D;const M=Math.floor(g*c)+1+t,V=Math.min(Math.floor((g+1)*c)+1,n)+t,{x:z,y:st}=e[f];for(v=I=-1,S=M;S<V;S++)I=.5*Math.abs((z-w)*(e[S].y-st)-(z-e[S].x)*(T-st)),I>v&&(v=I,_=e[S],b=S);a[u++]=_,f=b}return a[u++]=e[d],a}function DY(e,t,n,i){let s=0,o=0,a,c,u,d,f,g,_,v,I,b;const w=[],T=t+n-1,S=e[t].x,x=e[T].x-S;for(a=t;a<t+n;++a){c=e[a],u=(c.x-S)/x*i,d=c.y;const D=u|0;if(D===f)d<I?(I=d,g=a):d>b&&(b=d,_=a),s=(o*s+c.x)/++o;else{const M=a-1;if(!ee(g)&&!ee(_)){const V=Math.min(g,_),z=Math.max(g,_);V!==v&&V!==M&&w.push({...e[V],x:s}),z!==v&&z!==M&&w.push({...e[z],x:s})}a>0&&M!==v&&w.push(e[M]),w.push(c),f=D,o=0,I=b=d,g=_=v=a}}return w}function $M(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function uR(e){e.data.datasets.forEach(t=>{$M(t)})}function OY(e,t){const n=t.length;let i=0,s;const{iScale:o}=e,{min:a,max:c,minDefined:u,maxDefined:d}=o.getUserBounds();return u&&(i=Tn(er(t,o.axis,a).lo,0,n-1)),d?s=Tn(er(t,o.axis,c).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var MY={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){uR(e);return}const i=e.width;e.data.datasets.forEach((s,o)=>{const{_data:a,indexAxis:c}=s,u=e.getDatasetMeta(o),d=a||s.data;if(Ju([c,e.options.indexAxis])==="y"||!u.controller.supportsDecimation)return;const f=e.scales[u.xAxisID];if(f.type!=="linear"&&f.type!=="time"||e.options.parsing)return;let{start:g,count:_}=OY(u,d);const v=n.threshold||4*i;if(_<=v){$M(s);return}ee(a)&&(s._data=d,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(b){this._data=b}}));let I;switch(n.algorithm){case"lttb":I=xY(d,g,_,i,n);break;case"min-max":I=DY(d,g,_,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=I})},destroy(e){uR(e)}};function NY(e,t,n){const i=e.segments,s=e.points,o=t.points,a=[];for(const c of i){let{start:u,end:d}=c;d=m1(u,d,s);const f=Hb(n,s[u],s[d],c.loop);if(!t.segments){a.push({source:c,target:f,start:s[u],end:s[d]});continue}const g=TM(t,f);for(const _ of g){const v=Hb(n,o[_.start],o[_.end],_.loop),I=IM(c,s,v);for(const b of I)a.push({source:b,target:_,start:{[n]:hR(f,v,"start",Math.max)},end:{[n]:hR(f,v,"end",Math.min)}})}}return a}function Hb(e,t,n,i){if(i)return;let s=t[e],o=n[e];return e==="angle"&&(s=Ai(s),o=Ai(o)),{property:e,start:s,end:o}}function LY(e,t){const{x:n=null,y:i=null}=e||{},s=t.points,o=[];return t.segments.forEach(({start:a,end:c})=>{c=m1(a,c,s);const u=s[a],d=s[c];i!==null?(o.push({x:u.x,y:i}),o.push({x:d.x,y:i})):n!==null&&(o.push({x:n,y:u.y}),o.push({x:n,y:d.y}))}),o}function m1(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function hR(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function HM(e,t){let n=[],i=!1;return Ce(e)?(i=!0,n=e):n=LY(e,t),n.length?new Qr({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function dR(e){return e&&e.fill!==!1}function VY(e,t,n){let s=e[t].fill;const o=[t];let a;if(!n)return s;for(;s!==!1&&o.indexOf(s)===-1;){if(!$e(s))return s;if(a=e[s],!a)return!1;if(a.visible)return s;o.push(s),s=a.fill}return!1}function FY(e,t,n){const i=$Y(e);if(qt(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return $e(s)&&Math.floor(s)===s?UY(i[0],t,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function UY(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function BY(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:qt(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function jY(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:qt(e)?i=e.value:i=t.getBaseValue(),i}function $Y(e){const t=e.options,n=t.fill;let i=Lt(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function HY(e){const{scale:t,index:n,line:i}=e,s=[],o=i.segments,a=i.points,c=zY(t,n);c.push(HM({x:null,y:t.bottom},i));for(let u=0;u<o.length;u++){const d=o[u];for(let f=d.start;f<=d.end;f++)WY(s,a[f],c)}return new Qr({points:s,options:{}})}function zY(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const o=i[s];if(o.index===t)break;o.hidden||n.unshift(o.dataset)}return n}function WY(e,t,n){const i=[];for(let s=0;s<n.length;s++){const o=n[s],{first:a,last:c,point:u}=qY(o,t,"x");if(!(!u||a&&c)){if(a)i.unshift(u);else if(e.push(u),!c)break}}e.push(...i)}function qY(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const s=i[n],o=e.segments,a=e.points;let c=!1,u=!1;for(let d=0;d<o.length;d++){const f=o[d],g=a[f.start][n],_=a[f.end][n];if(tr(s,g,_)){c=s===g,u=s===_;break}}return{first:c,last:u,point:i}}class zM{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:s,y:o,radius:a}=this;return n=n||{start:0,end:Pe},t.arc(s,o,a,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:s}=this,o=t.angle;return{x:n+Math.cos(o)*s,y:i+Math.sin(o)*s,angle:o}}}function KY(e){const{chart:t,fill:n,line:i}=e;if($e(n))return GY(t,n);if(n==="stack")return HY(e);if(n==="shape")return!0;const s=YY(e);return s instanceof zM?s:HM(s,i)}function GY(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function YY(e){return(e.scale||{}).getPointPositionForValue?QY(e):XY(e)}function XY(e){const{scale:t={},fill:n}=e,i=BY(n,t);if($e(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function QY(e){const{scale:t,fill:n}=e,i=t.options,s=t.getLabels().length,o=i.reverse?t.max:t.min,a=jY(n,t,o),c=[];if(i.grid.circular){const u=t.getPointPositionForValue(0,o);return new zM({x:u.x,y:u.y,radius:t.getDistanceFromCenterForValue(a)})}for(let u=0;u<s;++u)c.push(t.getPointPositionForValue(u,a));return c}function xv(e,t,n){const i=KY(t),{line:s,scale:o,axis:a}=t,c=s.options,u=c.fill,d=c.backgroundColor,{above:f=d,below:g=d}=u||{};i&&s.points.length&&(i_(e,n),JY(e,{line:s,target:i,above:f,below:g,area:n,scale:o,axis:a}),s_(e))}function JY(e,t){const{line:n,target:i,above:s,below:o,area:a,scale:c}=t,u=n._loop?"angle":t.axis;e.save(),u==="x"&&o!==s&&(fR(e,i,a.top),pR(e,{line:n,target:i,color:s,scale:c,property:u}),e.restore(),e.save(),fR(e,i,a.bottom)),pR(e,{line:n,target:i,color:o,scale:c,property:u}),e.restore()}function fR(e,t,n){const{segments:i,points:s}=t;let o=!0,a=!1;e.beginPath();for(const c of i){const{start:u,end:d}=c,f=s[u],g=s[m1(u,d,s)];o?(e.moveTo(f.x,f.y),o=!1):(e.lineTo(f.x,n),e.lineTo(f.x,f.y)),a=!!t.pathSegment(e,c,{move:a}),a?e.closePath():e.lineTo(g.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function pR(e,t){const{line:n,target:i,property:s,color:o,scale:a}=t,c=NY(n,i,s);for(const{source:u,target:d,start:f,end:g}of c){const{style:{backgroundColor:_=o}={}}=u,v=i!==!0;e.save(),e.fillStyle=_,ZY(e,a,v&&Hb(s,f,g)),e.beginPath();const I=!!n.pathSegment(e,u);let b;if(v){I?e.closePath():gR(e,i,g,s);const w=!!i.pathSegment(e,d,{move:I,reverse:!0});b=I&&w,b||gR(e,i,f,s)}e.closePath(),e.fill(b?"evenodd":"nonzero"),e.restore()}}function ZY(e,t,n){const{top:i,bottom:s}=t.chart.chartArea,{property:o,start:a,end:c}=n||{};o==="x"&&(e.beginPath(),e.rect(a,i,c-a,s-i),e.clip())}function gR(e,t,n,i){const s=t.interpolate(n,i);s&&e.lineTo(s.x,s.y)}var tX={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,s=[];let o,a,c,u;for(a=0;a<i;++a)o=e.getDatasetMeta(a),c=o.dataset,u=null,c&&c.options&&c instanceof Qr&&(u={visible:e.isDatasetVisible(a),index:a,fill:FY(c,a,i),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:c}),o.$filler=u,s.push(u);for(a=0;a<i;++a)u=s[a],!(!u||u.fill===!1)&&(u.fill=VY(s,a,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",s=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let a=s.length-1;a>=0;--a){const c=s[a].$filler;c&&(c.line.updateControlPoints(o,c.axis),i&&c.fill&&xv(e.ctx,c,o))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const o=i[s].$filler;dR(o)&&xv(e.ctx,o,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!dR(i)||n.drawTime!=="beforeDatasetDraw"||xv(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const mR=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},eX=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class _R extends yr{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=be(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=fn(i.font),o=s.size,a=this._computeTitleHeight(),{boxWidth:c,itemHeight:u}=mR(i,o);let d,f;n.font=s.string,this.isHorizontal()?(d=this.maxWidth,f=this._fitRows(a,o,c,u)+10):(f=this.maxHeight,d=this._fitCols(a,s,c,u)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(f,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,s){const{ctx:o,maxWidth:a,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],f=s+c;let g=t;o.textAlign="left",o.textBaseline="middle";let _=-1,v=-f;return this.legendItems.forEach((I,b)=>{const w=i+n/2+o.measureText(I.text).width;(b===0||d[d.length-1]+w+2*c>a)&&(g+=f,d[d.length-(b>0?0:1)]=0,v+=f,_++),u[b]={left:0,top:v,row:_,width:w,height:s},d[d.length-1]+=w+c}),g}_fitCols(t,n,i,s){const{ctx:o,maxHeight:a,options:{labels:{padding:c}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],f=a-t;let g=c,_=0,v=0,I=0,b=0;return this.legendItems.forEach((w,T)=>{const{itemWidth:S,itemHeight:k}=nX(i,n,o,w,s);T>0&&v+k+2*c>f&&(g+=_+c,d.push({width:_,height:v}),I+=_+c,b++,_=v=0),u[T]={left:I,top:v,col:b,width:S,height:k},_=Math.max(_,S),v+=k+c}),g+=_,d.push({width:_,height:v}),g}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:o}}=this,a=jl(o,this.left,this.width);if(this.isHorizontal()){let c=0,u=Fn(i,this.left+s,this.right-this.lineWidths[c]);for(const d of n)c!==d.row&&(c=d.row,u=Fn(i,this.left+s,this.right-this.lineWidths[c])),d.top+=this.top+t+s,d.left=a.leftForLtr(a.x(u),d.width),u+=d.width+s}else{let c=0,u=Fn(i,this.top+t+s,this.bottom-this.columnSizes[c].height);for(const d of n)d.col!==c&&(c=d.col,u=Fn(i,this.top+t+s,this.bottom-this.columnSizes[c].height)),d.top=u,d.left+=this.left+s,d.left=a.leftForLtr(a.x(d.left),d.width),u+=d.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;i_(t,this),this._draw(),s_(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:s}=this,{align:o,labels:a}=t,c=He.color,u=jl(t.rtl,this.left,this.width),d=fn(a.font),{padding:f}=a,g=d.size,_=g/2;let v;this.drawTitle(),s.textAlign=u.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:I,boxHeight:b,itemHeight:w}=mR(a,g),T=function(M,V,z){if(isNaN(I)||I<=0||isNaN(b)||b<0)return;s.save();const st=Lt(z.lineWidth,1);if(s.fillStyle=Lt(z.fillStyle,c),s.lineCap=Lt(z.lineCap,"butt"),s.lineDashOffset=Lt(z.lineDashOffset,0),s.lineJoin=Lt(z.lineJoin,"miter"),s.lineWidth=st,s.strokeStyle=Lt(z.strokeStyle,c),s.setLineDash(Lt(z.lineDash,[])),a.usePointStyle){const gt={radius:b*Math.SQRT2/2,pointStyle:z.pointStyle,rotation:z.rotation,borderWidth:st},J=u.xPlus(M,I/2),vt=V+_;dM(s,gt,J,vt,a.pointStyleWidth&&I)}else{const gt=V+Math.max((g-b)/2,0),J=u.leftForLtr(M,I),vt=ua(z.borderRadius);s.beginPath(),Object.values(vt).some(wt=>wt!==0)?sd(s,{x:J,y:gt,w:I,h:b,radius:vt}):s.rect(J,gt,I,b),s.fill(),st!==0&&s.stroke()}s.restore()},S=function(M,V,z){Ea(s,z.text,M,V+w/2,d,{strikethrough:z.hidden,textAlign:u.textAlign(z.textAlign)})},k=this.isHorizontal(),x=this._computeTitleHeight();k?v={x:Fn(o,this.left+f,this.right-i[0]),y:this.top+f+x,line:0}:v={x:this.left+f,y:Fn(o,this.top+x+f,this.bottom-n[0].height),line:0},bM(this.ctx,t.textDirection);const D=w+f;this.legendItems.forEach((M,V)=>{s.strokeStyle=M.fontColor,s.fillStyle=M.fontColor;const z=s.measureText(M.text).width,st=u.textAlign(M.textAlign||(M.textAlign=a.textAlign)),gt=I+_+z;let J=v.x,vt=v.y;u.setWidth(this.width),k?V>0&&J+gt+f>this.right&&(vt=v.y+=D,v.line++,J=v.x=Fn(o,this.left+f,this.right-i[v.line])):V>0&&vt+D>this.bottom&&(J=v.x=J+n[v.line].width+f,v.line++,vt=v.y=Fn(o,this.top+x+f,this.bottom-n[v.line].height));const wt=u.x(J);if(T(wt,vt,M),J=Iq(st,J+I+_,k?J+gt:this.right,t.rtl),S(u.x(J),vt,M),k)v.x+=gt+f;else if(typeof M.text!="string"){const pe=d.lineHeight;v.y+=WM(M,pe)+f}else v.y+=D}),wM(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=fn(n.font),s=Yn(n.padding);if(!n.display)return;const o=jl(t.rtl,this.left,this.width),a=this.ctx,c=n.position,u=i.size/2,d=s.top+u;let f,g=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),f=this.top+d,g=Fn(t.align,g,this.right-_);else{const I=this.columnSizes.reduce((b,w)=>Math.max(b,w.height),0);f=d+Fn(t.align,this.top,this.bottom-I-t.labels.padding-this._computeTitleHeight())}const v=Fn(c,g,g+_);a.textAlign=o.textAlign(a1(c)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=i.string,Ea(a,n.text,v,f,i)}_computeTitleHeight(){const t=this.options.title,n=fn(t.font),i=Yn(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,s,o;if(tr(t,this.left,this.right)&&tr(n,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(s=o[i],tr(t,s.left,s.left+s.width)&&tr(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!rX(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,o=eX(s,i);s&&!o&&be(n.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!o&&be(n.onHover,[t,i,this],this)}else i&&be(n.onClick,[t,i,this],this)}}function nX(e,t,n,i,s){const o=iX(i,e,t,n),a=sX(s,i,t.lineHeight);return{itemWidth:o,itemHeight:a}}function iX(e,t,n,i){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((o,a)=>o.length>a.length?o:a)),t+n.size/2+i.measureText(s).width}function sX(e,t,n){let i=e;return typeof t.text!="string"&&(i=WM(t,n)),i}function WM(e,t){const n=e.text?e.text.length:0;return t*n}function rX(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var oX={id:"legend",_element:_R,start(e,t,n){const i=e.legend=new _R({ctx:e.ctx,options:n,chart:e});Hn.configure(e,i,n),Hn.addBox(e,i)},stop(e){Hn.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;Hn.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:o,useBorderRadius:a,borderRadius:c}}=e.legend.options;return e._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(n?0:void 0),f=Yn(d.borderWidth);return{text:t[u.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:a&&(c||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class _1 extends yr{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=Ce(i.text)?i.text.length:1;this._padding=Yn(i.padding);const o=s*fn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:s,right:o,options:a}=this,c=a.align;let u=0,d,f,g;return this.isHorizontal()?(f=Fn(c,i,o),g=n+t,d=o-i):(a.position==="left"?(f=i+t,g=Fn(c,s,n),u=Re*-.5):(f=o-t,g=Fn(c,n,s),u=Re*.5),d=s-n),{titleX:f,titleY:g,maxWidth:d,rotation:u}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=fn(n.font),o=i.lineHeight/2+this._padding.top,{titleX:a,titleY:c,maxWidth:u,rotation:d}=this._drawArgs(o);Ea(t,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:d,textAlign:a1(n.align),textBaseline:"middle",translation:[a,c]})}}function aX(e,t){const n=new _1({ctx:e.ctx,options:t,chart:e});Hn.configure(e,n,t),Hn.addBox(e,n),e.titleBlock=n}var lX={id:"title",_element:_1,start(e,t,n){aX(e,n)},stop(e){const t=e.titleBlock;Hn.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;Hn.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ap=new WeakMap;var cX={id:"subtitle",start(e,t,n){const i=new _1({ctx:e.ctx,options:n,chart:e});Hn.configure(e,i,n),Hn.addBox(e,i),Ap.set(e,i)},stop(e){Hn.removeBox(e,Ap.get(e)),Ap.delete(e)},beforeUpdate(e,t,n){const i=Ap.get(e);Hn.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const eh={average(e){if(!e.length)return!1;let t,n,i=new Set,s=0,o=0;for(t=0,n=e.length;t<n;++t){const c=e[t].element;if(c&&c.hasValue()){const u=c.tooltipPosition();i.add(u.x),s+=u.y,++o}}return{x:[...i].reduce((c,u)=>c+u)/i.size,y:s/o}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,s=Number.POSITIVE_INFINITY,o,a,c;for(o=0,a=e.length;o<a;++o){const u=e[o].element;if(u&&u.hasValue()){const d=u.getCenterPoint(),f=Nb(t,d);f<s&&(s=f,c=u)}}if(c){const u=c.tooltipPosition();n=u.x,i=u.y}return{x:n,y:i}}};function ms(e,t){return t&&(Ce(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Ys(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function uX(e,t){const{element:n,datasetIndex:i,index:s}=t,o=e.getDatasetMeta(i).controller,{label:a,value:c}=o.getLabelAndValue(s);return{chart:e,label:a,parsed:o.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:c,dataset:o.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function yR(e,t){const n=e.chart.ctx,{body:i,footer:s,title:o}=e,{boxWidth:a,boxHeight:c}=t,u=fn(t.bodyFont),d=fn(t.titleFont),f=fn(t.footerFont),g=o.length,_=s.length,v=i.length,I=Yn(t.padding);let b=I.height,w=0,T=i.reduce((x,D)=>x+D.before.length+D.lines.length+D.after.length,0);if(T+=e.beforeBody.length+e.afterBody.length,g&&(b+=g*d.lineHeight+(g-1)*t.titleSpacing+t.titleMarginBottom),T){const x=t.displayColors?Math.max(c,u.lineHeight):u.lineHeight;b+=v*x+(T-v)*u.lineHeight+(T-1)*t.bodySpacing}_&&(b+=t.footerMarginTop+_*f.lineHeight+(_-1)*t.footerSpacing);let S=0;const k=function(x){w=Math.max(w,n.measureText(x).width+S)};return n.save(),n.font=d.string,de(e.title,k),n.font=u.string,de(e.beforeBody.concat(e.afterBody),k),S=t.displayColors?a+2+t.boxPadding:0,de(i,x=>{de(x.before,k),de(x.lines,k),de(x.after,k)}),S=0,n.font=f.string,de(e.footer,k),n.restore(),w+=I.width,{width:w,height:b}}function hX(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function dX(e,t,n,i){const{x:s,width:o}=i,a=n.caretSize+n.caretPadding;if(e==="left"&&s+o+a>t.width||e==="right"&&s-o-a<0)return!0}function fX(e,t,n,i){const{x:s,width:o}=n,{width:a,chartArea:{left:c,right:u}}=e;let d="center";return i==="center"?d=s<=(c+u)/2?"left":"right":s<=o/2?d="left":s>=a-o/2&&(d="right"),dX(d,e,t,n)&&(d="center"),d}function vR(e,t,n){const i=n.yAlign||t.yAlign||hX(e,n);return{xAlign:n.xAlign||t.xAlign||fX(e,t,n,i),yAlign:i}}function pX(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function gX(e,t,n){let{y:i,height:s}=e;return t==="top"?i+=n:t==="bottom"?i-=s+n:i-=s/2,i}function bR(e,t,n,i){const{caretSize:s,caretPadding:o,cornerRadius:a}=e,{xAlign:c,yAlign:u}=n,d=s+o,{topLeft:f,topRight:g,bottomLeft:_,bottomRight:v}=ua(a);let I=pX(t,c);const b=gX(t,u,d);return u==="center"?c==="left"?I+=d:c==="right"&&(I-=d):c==="left"?I-=Math.max(f,_)+s:c==="right"&&(I+=Math.max(g,v)+s),{x:Tn(I,0,i.width-t.width),y:Tn(b,0,i.height-t.height)}}function Cp(e,t,n){const i=Yn(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function wR(e){return ms([],Ys(e))}function mX(e,t,n){return bo(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function ER(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const qM={beforeTitle:Ks,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:Ks,beforeBody:Ks,beforeLabel:Ks,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return ee(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ks,afterBody:Ks,beforeFooter:Ks,footer:Ks,afterFooter:Ks};function ci(e,t,n,i){const s=e[t].call(n,i);return typeof s>"u"?qM[t].call(n,i):s}class zb extends yr{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,o=new SM(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=mX(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,s=ci(i,"beforeTitle",this,t),o=ci(i,"title",this,t),a=ci(i,"afterTitle",this,t);let c=[];return c=ms(c,Ys(s)),c=ms(c,Ys(o)),c=ms(c,Ys(a)),c}getBeforeBody(t,n){return wR(ci(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,s=[];return de(t,o=>{const a={before:[],lines:[],after:[]},c=ER(i,o);ms(a.before,Ys(ci(c,"beforeLabel",this,o))),ms(a.lines,ci(c,"label",this,o)),ms(a.after,Ys(ci(c,"afterLabel",this,o))),s.push(a)}),s}getAfterBody(t,n){return wR(ci(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,s=ci(i,"beforeFooter",this,t),o=ci(i,"footer",this,t),a=ci(i,"afterFooter",this,t);let c=[];return c=ms(c,Ys(s)),c=ms(c,Ys(o)),c=ms(c,Ys(a)),c}_createItems(t){const n=this._active,i=this.chart.data,s=[],o=[],a=[];let c=[],u,d;for(u=0,d=n.length;u<d;++u)c.push(uX(this.chart,n[u]));return t.filter&&(c=c.filter((f,g,_)=>t.filter(f,g,_,i))),t.itemSort&&(c=c.sort((f,g)=>t.itemSort(f,g,i))),de(c,f=>{const g=ER(t.callbacks,f);s.push(ci(g,"labelColor",this,f)),o.push(ci(g,"labelPointStyle",this,f)),a.push(ci(g,"labelTextColor",this,f))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=c,c}update(t,n){const i=this.options.setContext(this.getContext()),s=this._active;let o,a=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{const c=eh[i.position].call(this,s,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);const u=this._size=yR(this,i),d=Object.assign({},c,u),f=vR(this.chart,i,d),g=bR(i,d,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,o={opacity:1,x:g.x,y:g.y,width:u.width,height:u.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,s){const o=this.getCaretPosition(t,i,s);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(t,n,i){const{xAlign:s,yAlign:o}=this,{caretSize:a,cornerRadius:c}=i,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:g}=ua(c),{x:_,y:v}=t,{width:I,height:b}=n;let w,T,S,k,x,D;return o==="center"?(x=v+b/2,s==="left"?(w=_,T=w-a,k=x+a,D=x-a):(w=_+I,T=w+a,k=x-a,D=x+a),S=w):(s==="left"?T=_+Math.max(u,f)+a:s==="right"?T=_+I-Math.max(d,g)-a:T=this.caretX,o==="top"?(k=v,x=k-a,w=T-a,S=T+a):(k=v+b,x=k+a,w=T+a,S=T-a),D=k),{x1:w,x2:T,x3:S,y1:k,y2:x,y3:D}}drawTitle(t,n,i){const s=this.title,o=s.length;let a,c,u;if(o){const d=jl(i.rtl,this.x,this.width);for(t.x=Cp(this,i.titleAlign,i),n.textAlign=d.textAlign(i.titleAlign),n.textBaseline="middle",a=fn(i.titleFont),c=i.titleSpacing,n.fillStyle=i.titleColor,n.font=a.string,u=0;u<o;++u)n.fillText(s[u],d.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+c,u+1===o&&(t.y+=i.titleMarginBottom-c)}}_drawColorBox(t,n,i,s,o){const a=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:u,boxWidth:d}=o,f=fn(o.bodyFont),g=Cp(this,"left",o),_=s.x(g),v=u<f.lineHeight?(f.lineHeight-u)/2:0,I=n.y+v;if(o.usePointStyle){const b={radius:Math.min(d,u)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},w=s.leftForLtr(_,d)+d/2,T=I+u/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Vb(t,b,w,T),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,Vb(t,b,w,T)}else{t.lineWidth=qt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const b=s.leftForLtr(_,d),w=s.leftForLtr(s.xPlus(_,1),d-2),T=ua(a.borderRadius);Object.values(T).some(S=>S!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,sd(t,{x:b,y:I,w:d,h:u,radius:T}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),sd(t,{x:w,y:I+1,w:d-2,h:u-2,radius:T}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(b,I,d,u),t.strokeRect(b,I,d,u),t.fillStyle=a.backgroundColor,t.fillRect(w,I+1,d-2,u-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:s}=this,{bodySpacing:o,bodyAlign:a,displayColors:c,boxHeight:u,boxWidth:d,boxPadding:f}=i,g=fn(i.bodyFont);let _=g.lineHeight,v=0;const I=jl(i.rtl,this.x,this.width),b=function(z){n.fillText(z,I.x(t.x+v),t.y+_/2),t.y+=_+o},w=I.textAlign(a);let T,S,k,x,D,M,V;for(n.textAlign=a,n.textBaseline="middle",n.font=g.string,t.x=Cp(this,w,i),n.fillStyle=i.bodyColor,de(this.beforeBody,b),v=c&&w!=="right"?a==="center"?d/2+f:d+2+f:0,x=0,M=s.length;x<M;++x){for(T=s[x],S=this.labelTextColors[x],n.fillStyle=S,de(T.before,b),k=T.lines,c&&k.length&&(this._drawColorBox(n,t,x,I,i),_=Math.max(g.lineHeight,u)),D=0,V=k.length;D<V;++D)b(k[D]),_=g.lineHeight;de(T.after,b)}v=0,_=g.lineHeight,de(this.afterBody,b),t.y-=o}drawFooter(t,n,i){const s=this.footer,o=s.length;let a,c;if(o){const u=jl(i.rtl,this.x,this.width);for(t.x=Cp(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=u.textAlign(i.footerAlign),n.textBaseline="middle",a=fn(i.footerFont),n.fillStyle=i.footerColor,n.font=a.string,c=0;c<o;++c)n.fillText(s[c],u.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+i.footerSpacing}}drawBackground(t,n,i,s){const{xAlign:o,yAlign:a}=this,{x:c,y:u}=t,{width:d,height:f}=i,{topLeft:g,topRight:_,bottomLeft:v,bottomRight:I}=ua(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(c+g,u),a==="top"&&this.drawCaret(t,n,i,s),n.lineTo(c+d-_,u),n.quadraticCurveTo(c+d,u,c+d,u+_),a==="center"&&o==="right"&&this.drawCaret(t,n,i,s),n.lineTo(c+d,u+f-I),n.quadraticCurveTo(c+d,u+f,c+d-I,u+f),a==="bottom"&&this.drawCaret(t,n,i,s),n.lineTo(c+v,u+f),n.quadraticCurveTo(c,u+f,c,u+f-v),a==="center"&&o==="left"&&this.drawCaret(t,n,i,s),n.lineTo(c,u+g),n.quadraticCurveTo(c,u,c+g,u),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,s=i&&i.x,o=i&&i.y;if(s||o){const a=eh[t.position].call(this,this._active,this._eventPosition);if(!a)return;const c=this._size=yR(this,t),u=Object.assign({},a,this._size),d=vR(n,t,u),f=bR(t,u,d,n);(s._to!==f.x||o._to!==f.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const a=Yn(n.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&c&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,s,n),bM(t,n.textDirection),o.y+=a.top,this.drawTitle(o,t,n),this.drawBody(o,t,n),this.drawFooter(o,t,n),wM(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,s=t.map(({datasetIndex:c,index:u})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[u],index:u}}),o=!Og(i,s),a=this._positionChanged(s,n);(o||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],a=this._getActiveElements(t,o,n,i),c=this._positionChanged(a,t),u=n||!Og(a,o)||c;return u&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),u}_getActiveElements(t,n,i,s){const o=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const a=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&a.reverse(),a}_positionChanged(t,n){const{caretX:i,caretY:s,options:o}=this,a=eh[o.position].call(this,t,n);return a!==!1&&(i!==a.x||s!==a.y)}}Q(zb,"positioners",eh);var _X={id:"tooltip",_element:zb,positioners:eh,afterInit(e,t,n){n&&(e.tooltip=new zb({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:qM},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},yX=Object.freeze({__proto__:null,Colors:kY,Decimation:MY,Filler:tX,Legend:oX,SubTitle:cX,Title:lX,Tooltip:_X});const vX=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function bX(e,t,n,i){const s=e.indexOf(t);if(s===-1)return vX(e,t,n,i);const o=e.lastIndexOf(t);return s!==o?n:s}const wX=(e,t)=>e===null?null:Tn(Math.round(e),0,t);function IR(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Wb extends ka{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:o}of n)i[s]===o&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(ee(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:bX(i,t,Lt(n,t),this._addedLabels),wX(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,s=[];let o=this.getLabels();o=t===0&&n===o.length-1?o:o.slice(t,n+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=t;a<=n;a++)s.push({value:a});return s}getLabelForValue(t){return IR.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Q(Wb,"id","category"),Q(Wb,"defaults",{ticks:{callback:IR}});function EX(e,t){const n=[],{bounds:s,step:o,min:a,max:c,precision:u,count:d,maxTicks:f,maxDigits:g,includeBounds:_}=e,v=o||1,I=f-1,{min:b,max:w}=t,T=!ee(a),S=!ee(c),k=!ee(d),x=(w-b)/(g+1);let D=_P((w-b)/I/v)*v,M,V,z,st;if(D<1e-14&&!T&&!S)return[{value:b},{value:w}];st=Math.ceil(w/D)-Math.floor(b/D),st>I&&(D=_P(st*D/I/v)*v),ee(u)||(M=Math.pow(10,u),D=Math.ceil(D*M)/M),s==="ticks"?(V=Math.floor(b/D)*D,z=Math.ceil(w/D)*D):(V=b,z=w),T&&S&&o&&mq((c-a)/o,D/1e3)?(st=Math.round(Math.min((c-a)/D,f)),D=(c-a)/st,V=a,z=c):k?(V=T?a:V,z=S?c:z,st=d-1,D=(z-V)/st):(st=(z-V)/D,wh(st,Math.round(st),D/1e3)?st=Math.round(st):st=Math.ceil(st));const gt=Math.max(yP(D),yP(V));M=Math.pow(10,ee(u)?gt:u),V=Math.round(V*M)/M,z=Math.round(z*M)/M;let J=0;for(T&&(_&&V!==a?(n.push({value:a}),V<a&&J++,wh(Math.round((V+J*D)*M)/M,a,TR(a,x,e))&&J++):V<a&&J++);J<st;++J){const vt=Math.round((V+J*D)*M)/M;if(S&&vt>c)break;n.push({value:vt})}return S&&_&&z!==c?n.length&&wh(n[n.length-1].value,c,TR(c,x,e))?n[n.length-1].value=c:n.push({value:c}):(!S||z===c)&&n.push({value:z}),n}function TR(e,t,{horizontal:n,minRotation:i}){const s=Zi(i),o=(n?Math.sin(s):Math.cos(s))||.001,a=.75*t*(""+e).length;return Math.min(t/o,a)}class Bg extends ka{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return ee(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:o}=this;const a=u=>s=n?s:u,c=u=>o=i?o:u;if(t){const u=Ds(s),d=Ds(o);u<0&&d<0?c(0):u>0&&d>0&&a(0)}if(s===o){let u=o===0?1:Math.abs(o*.05);c(o+u),t||a(s-u)}this.min=s,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,a=EX(s,o);return t.bounds==="ticks"&&iM(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-n)/Math.max(t.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return Md(t,this.chart.options.locale,this.options.ticks.format)}}class qb extends Bg{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=$e(t)?t:0,this.max=$e(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=Zi(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Q(qb,"id","linear"),Q(qb,"defaults",{ticks:{callback:n_.formatters.numeric}});const od=e=>Math.floor(Xr(e)),Ho=(e,t)=>Math.pow(10,od(e)+t);function SR(e){return e/Math.pow(10,od(e))===1}function AR(e,t,n){const i=Math.pow(10,n),s=Math.floor(e/i);return Math.ceil(t/i)-s}function IX(e,t){const n=t-e;let i=od(n);for(;AR(e,t,i)>10;)i++;for(;AR(e,t,i)<10;)i--;return Math.min(i,od(e))}function TX(e,{min:t,max:n}){t=Si(e.min,t);const i=[],s=od(t);let o=IX(t,n),a=o<0?Math.pow(10,Math.abs(o)):1;const c=Math.pow(10,o),u=s>o?Math.pow(10,s):0,d=Math.round((t-u)*a)/a,f=Math.floor((t-u)/c/10)*c*10;let g=Math.floor((d-f)/Math.pow(10,o)),_=Si(e.min,Math.round((u+f+g*Math.pow(10,o))*a)/a);for(;_<n;)i.push({value:_,major:SR(_),significand:g}),g>=10?g=g<15?15:20:g++,g>=20&&(o++,g=2,a=o>=0?1:a),_=Math.round((u+f+g*Math.pow(10,o))*a)/a;const v=Si(e.max,_);return i.push({value:v,major:SR(v),significand:g}),i}class Kb extends ka{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const i=Bg.prototype.parse.apply(this,[t,n]);if(i===0){this._zero=!0;return}return $e(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=$e(t)?Math.max(0,t):null,this.max=$e(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!$e(this._userMin)&&(this.min=t===Ho(this.min,0)?Ho(this.min,-1):Ho(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const o=c=>i=t?i:c,a=c=>s=n?s:c;i===s&&(i<=0?(o(1),a(10)):(o(Ho(i,-1)),a(Ho(s,1)))),i<=0&&o(Ho(s,-1)),s<=0&&a(Ho(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},i=TX(n,this);return t.bounds==="ticks"&&iM(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":Md(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Xr(t),this._valueRange=Xr(this.max)-Xr(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Xr(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}Q(Kb,"id","logarithmic"),Q(Kb,"defaults",{ticks:{callback:n_.formatters.logarithmic,major:{enabled:!0}}});function Gb(e){const t=e.ticks;if(t.display&&e.display){const n=Yn(t.backdropPadding);return Lt(t.font&&t.font.size,He.font.size)+n.height}return 0}function SX(e,t,n){return n=Ce(n)?n:[n],{w:Oq(e,t.string,n),h:n.length*t.lineHeight}}function CR(e,t,n,i,s){return e===i||e===s?{start:t-n/2,end:t+n/2}:e<i||e>s?{start:t-n,end:t}:{start:t,end:t+n}}function AX(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],s=[],o=e._pointLabels.length,a=e.options.pointLabels,c=a.centerPointLabels?Re/o:0;for(let u=0;u<o;u++){const d=a.setContext(e.getPointLabelContext(u));s[u]=d.padding;const f=e.getPointPosition(u,e.drawingArea+s[u],c),g=fn(d.font),_=SX(e.ctx,g,e._pointLabels[u]);i[u]=_;const v=Ai(e.getIndexAngle(u)+c),I=Math.round(r1(v)),b=CR(I,f.x,_.w,0,180),w=CR(I,f.y,_.h,90,270);CX(n,t,v,b,w)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=kX(e,i,s)}function CX(e,t,n,i,s){const o=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let c=0,u=0;i.start<t.l?(c=(t.l-i.start)/o,e.l=Math.min(e.l,t.l-c)):i.end>t.r&&(c=(i.end-t.r)/o,e.r=Math.max(e.r,t.r+c)),s.start<t.t?(u=(t.t-s.start)/a,e.t=Math.min(e.t,t.t-u)):s.end>t.b&&(u=(s.end-t.b)/a,e.b=Math.max(e.b,t.b+u))}function PX(e,t,n){const i=e.drawingArea,{extra:s,additionalAngle:o,padding:a,size:c}=n,u=e.getPointPosition(t,i+s+a,o),d=Math.round(r1(Ai(u.angle+tn))),f=OX(u.y,c.h,d),g=xX(d),_=DX(u.x,c.w,g);return{visible:!0,x:u.x,y:f,textAlign:g,left:_,top:f,right:_+c.w,bottom:f+c.h}}function RX(e,t){if(!t)return!0;const{left:n,top:i,right:s,bottom:o}=e;return!(nr({x:n,y:i},t)||nr({x:n,y:o},t)||nr({x:s,y:i},t)||nr({x:s,y:o},t))}function kX(e,t,n){const i=[],s=e._pointLabels.length,o=e.options,{centerPointLabels:a,display:c}=o.pointLabels,u={extra:Gb(o)/2,additionalAngle:a?Re/s:0};let d;for(let f=0;f<s;f++){u.padding=n[f],u.size=t[f];const g=PX(e,f,u);i.push(g),c==="auto"&&(g.visible=RX(g,d),g.visible&&(d=g))}return i}function xX(e){return e===0||e===180?"center":e<180?"left":"right"}function DX(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function OX(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function MX(e,t,n){const{left:i,top:s,right:o,bottom:a}=n,{backdropColor:c}=t;if(!ee(c)){const u=ua(t.borderRadius),d=Yn(t.backdropPadding);e.fillStyle=c;const f=i-d.left,g=s-d.top,_=o-i+d.width,v=a-s+d.height;Object.values(u).some(I=>I!==0)?(e.beginPath(),sd(e,{x:f,y:g,w:_,h:v,radius:u}),e.fill()):e.fillRect(f,g,_,v)}}function NX(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let s=t-1;s>=0;s--){const o=e._pointLabelItems[s];if(!o.visible)continue;const a=i.setContext(e.getPointLabelContext(s));MX(n,a,o);const c=fn(a.font),{x:u,y:d,textAlign:f}=o;Ea(n,e._pointLabels[s],u,d+c.lineHeight/2,c,{color:a.color,textAlign:f,textBaseline:"middle"})}}function KM(e,t,n,i){const{ctx:s}=e;if(n)s.arc(e.xCenter,e.yCenter,t,0,Pe);else{let o=e.getPointPosition(0,t);s.moveTo(o.x,o.y);for(let a=1;a<i;a++)o=e.getPointPosition(a,t),s.lineTo(o.x,o.y)}}function LX(e,t,n,i,s){const o=e.ctx,a=t.circular,{color:c,lineWidth:u}=t;!a&&!i||!c||!u||n<0||(o.save(),o.strokeStyle=c,o.lineWidth=u,o.setLineDash(s.dash),o.lineDashOffset=s.dashOffset,o.beginPath(),KM(e,n,a,i),o.closePath(),o.stroke(),o.restore())}function VX(e,t,n){return bo(e,{label:n,index:t,type:"pointLabel"})}class nh extends Bg{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Yn(Gb(this.options)/2),n=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=$e(t)&&!isNaN(t)?t:0,this.max=$e(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Gb(this.options))}generateTickLabels(t){Bg.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,i)=>{const s=be(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?AX(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,i,s){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,i,s))}getIndexAngle(t){const n=Pe/(this._pointLabels.length||1),i=this.options.startAngle||0;return Ai(t*n+Zi(i))}getDistanceFromCenterForValue(t){if(ee(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(ee(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const i=n[t];return VX(this.getContext(),t,i)}}getPointPosition(t,n,i=0){const s=this.getIndexAngle(t)-tn+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:i,right:s,bottom:o}=this._pointLabelItems[t];return{left:n,top:i,right:s,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),KM(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:i,grid:s,border:o}=n,a=this._pointLabels.length;let c,u,d;if(n.pointLabels.display&&NX(this,a),s.display&&this.ticks.forEach((f,g)=>{if(g!==0||g===0&&this.min<0){u=this.getDistanceFromCenterForValue(f.value);const _=this.getContext(g),v=s.setContext(_),I=o.setContext(_);LX(this,v,u,a,I)}}),i.display){for(t.save(),c=a-1;c>=0;c--){const f=i.setContext(this.getPointLabelContext(c)),{color:g,lineWidth:_}=f;!_||!g||(t.lineWidth=_,t.strokeStyle=g,t.setLineDash(f.borderDash),t.lineDashOffset=f.borderDashOffset,u=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),d=this.getPointPosition(c,u),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let o,a;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((c,u)=>{if(u===0&&this.min>=0&&!n.reverse)return;const d=i.setContext(this.getContext(u)),f=fn(d.font);if(o=this.getDistanceFromCenterForValue(this.ticks[u].value),d.showLabelBackdrop){t.font=f.string,a=t.measureText(c.label).width,t.fillStyle=d.backdropColor;const g=Yn(d.backdropPadding);t.fillRect(-a/2-g.left,-o-f.size/2-g.top,a+g.width,f.size+g.height)}Ea(t,c.label,0,-o,f,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}Q(nh,"id","radialLinear"),Q(nh,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:n_.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),Q(nh,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Q(nh,"descriptors",{angleLines:{_fallback:"grid"}});const o_={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},fi=Object.keys(o_);function PR(e,t){return e-t}function RR(e,t){if(ee(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:o}=e._parseOpts;let a=t;return typeof i=="function"&&(a=i(a)),$e(a)||(a=typeof i=="string"?n.parse(a,i):n.parse(a)),a===null?null:(s&&(a=s==="week"&&(rc(o)||o===!0)?n.startOf(a,"isoWeek",o):n.startOf(a,s)),+a)}function kR(e,t,n,i){const s=fi.length;for(let o=fi.indexOf(e);o<s-1;++o){const a=o_[fi[o]],c=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-t)/(c*a.size))<=i)return fi[o]}return fi[s-1]}function FX(e,t,n,i,s){for(let o=fi.length-1;o>=fi.indexOf(n);o--){const a=fi[o];if(o_[a].common&&e._adapter.diff(s,i,a)>=t-1)return a}return fi[n?fi.indexOf(n):0]}function UX(e){for(let t=fi.indexOf(e)+1,n=fi.length;t<n;++t)if(o_[fi[t]].common)return fi[t]}function xR(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:s}=o1(n,t),o=n[i]>=t?n[i]:n[s];e[o]=!0}}function BX(e,t,n,i){const s=e._adapter,o=+s.startOf(t[0].value,i),a=t[t.length-1].value;let c,u;for(c=o;c<=a;c=+s.add(c,1,i))u=n[c],u>=0&&(t[u].major=!0);return t}function DR(e,t,n){const i=[],s={},o=t.length;let a,c;for(a=0;a<o;++a)c=t[a],s[c]=a,i.push({value:c,major:!1});return o===0||!n?i:BX(e,i,s,n)}class ad extends ka{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),s=this._adapter=new YK._date(t.adapters.date);s.init(n),bh(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:RR(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:s,max:o,minDefined:a,maxDefined:c}=this.getUserBounds();function u(d){!a&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!c&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!a||!c)&&(u(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&u(this.getMinMax(!1))),s=$e(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),o=$e(o)&&!isNaN(o)?o:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,a=this.max,c=bq(s,o,a);return this._unit=n.unit||(i.autoSkip?kR(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):FX(this,c.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:UX(this._unit),this.initOffsets(s),t.reverse&&c.reverse(),DR(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,s,o;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;n=Tn(n,0,a),i=Tn(i,0,a),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,s=this.options,o=s.time,a=o.unit||kR(o.minUnit,n,i,this._getLabelCapacity(n)),c=Lt(s.ticks.stepSize,1),u=a==="week"?o.isoWeekday:!1,d=rc(u)||u===!0,f={};let g=n,_,v;if(d&&(g=+t.startOf(g,"isoWeek",u)),g=+t.startOf(g,d?"day":a),t.diff(i,n,a)>1e5*c)throw new Error(n+" and "+i+" are too far apart with stepSize of "+c+" "+a);const I=s.ticks.source==="data"&&this.getDataTimestamps();for(_=g,v=0;_<i;_=+t.add(_,c,a),v++)xR(f,_,I);return(_===i||s.bounds==="ticks"||v===1)&&xR(f,_,I),Object.keys(f).sort(PR).map(b=>+b)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,o=this._unit,a=n||s[o];return this._adapter.format(t,a)}_tickFormatFunction(t,n,i,s){const o=this.options,a=o.ticks.callback;if(a)return be(a,[t,n,i],this);const c=o.time.displayFormats,u=this._unit,d=this._majorUnit,f=u&&c[u],g=d&&c[d],_=i[n],v=d&&g&&_&&_.major;return this._adapter.format(t,s||(v?g:f))}generateTickLabels(t){let n,i,s;for(n=0,i=t.length;n<i;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,s=Zi(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(s),a=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:i*o+c*a,h:i*a+c*o}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,o=this._tickFormatFunction(t,0,DR(this,[t],this._majorUnit),s),a=this._getLabelSize(o),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)t.push(RR(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return oM(t.sort(PR))}}Q(ad,"id","time"),Q(ad,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Pp(e,t,n){let i=0,s=e.length-1,o,a,c,u;n?(t>=e[i].pos&&t<=e[s].pos&&({lo:i,hi:s}=er(e,"pos",t)),{pos:o,time:c}=e[i],{pos:a,time:u}=e[s]):(t>=e[i].time&&t<=e[s].time&&({lo:i,hi:s}=er(e,"time",t)),{time:o,pos:c}=e[i],{time:a,pos:u}=e[s]);const d=a-o;return d?c+(u-c)*(t-o)/d:c}class Yb extends ad{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Pp(n,this.min),this._tableRange=Pp(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,s=[],o=[];let a,c,u,d,f;for(a=0,c=t.length;a<c;++a)d=t[a],d>=n&&d<=i&&s.push(d);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(a=0,c=s.length;a<c;++a)f=s[a+1],u=s[a-1],d=s[a],Math.round((f+u)/2)!==d&&o.push({time:d,pos:a/(c-1)});return o}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,o)=>s-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Pp(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return Pp(this._table,i*this._tableRange+this._minPos,!0)}}Q(Yb,"id","timeseries"),Q(Yb,"defaults",ad.defaults);var jX=Object.freeze({__proto__:null,CategoryScale:Wb,LinearScale:qb,LogarithmicScale:Kb,RadialLinearScale:nh,TimeScale:ad,TimeSeriesScale:Yb});const GM=[GK,TY,yX,jX],$X={name:"PieChart",props:{transactions:{type:Array,required:!0}},data(){return{pieChart:null,loadingChart:!1}},mounted(){Xi.register(...GM),this.initChart()},beforeUnmount(){this.destroyChart()},methods:{initChart(){this.pieChart&&this.destroyChart(),this.createChart()},destroyChart(){this.pieChart&&(this.pieChart.destroy(),this.pieChart=null),this.loadingChart=!1},createChart(){this.loadingChart=!0,this.destroyChart();const e=this.processTransactions(this.transactions);this.pieChart=new Xi(this.$refs.pieChart,{type:"pie",data:e,options:{responsive:!0,maintainAspectRatio:!1,tooltips:{callbacks:{label:function(t,n){let i=n.labels[t.index]||"";return i&&(i+=": "),i+=n.datasets[0].data[t.index],i}}}}}),this.loadingChart=!1},processTransactions(e){const t=e.reduce((o,{category:a,amount:c})=>(o[a]||(o[a]=0),o[a]+=c,o),{}),n=Object.values(t).reduce((o,a)=>o+a,0),i=Object.keys(t).map(o=>`${o} (${(t[o]/n*100).toFixed(2)}%)`),s=Object.values(t);return{labels:i,datasets:[{data:s,backgroundColor:this.generateColorArray(i.length),hoverBackgroundColor:this.generateColorArray(i.length,!0)}]}},generateColorArray(e,t=!1){const n=["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#F7464A","#8A2BE2"],i=n.map(s=>`${s}B3`);return Array.from({length:e},(s,o)=>t?i[o%n.length]:n[o%n.length])}},beforeUnmount(){this.pieChart&&this.pieChart.destroy()},watch:{transactions:{deep:!0,immediate:!0,handler(e){this.loadingChart&&this.destroyChart(),this.createChart()}}}},HX={ref:"pieChart"};function zX(e,t,n,i,s,o){return yt(),It("div",null,[C("canvas",HX,null,512)])}const WX=Le($X,[["render",zX]]),qX={props:{showAddButton:{type:Boolean,default:!0},budgets:{type:Array,default:()=>[]},limit:{type:Number,default:1/0}},data(){return{auth:null,budgets:[],editingBudgetId:null,editedBudgetDetails:{},transactions:[],showTransactions:!1}},async mounted(){await this.fetchBudgets(),await this.calculateSpentAmounts()},computed:{displayedGoals(){return this.budgets.slice(0,this.limit)},computedBudgets(){return this.budgets.map(e=>{const t=Number(e.amount)||0,n=Number(e.spent)||0,i=t-n;return{...e,remaining:i,spent:n}})}},methods:{progressWidth(e){const t=e.spent/e.amount*100;return`${Math.min(t,100)}%`},progressBarColor(e){return`hsl(${120-e.spent/e.amount*100*1.2}, 100%, 50%)`},enableEditMode(e){this.editingBudgetId=e.id,this.editedBudgetDetails={...e}},cancelEditMode(){this.editingBudgetId=null,this.editedBudgetDetails={}},async fetchBudgets(){const t=Wt(Ot).currentUser;if(t&&console.log("User ID:",t.uid),!t){console.error("No user logged in!");return}const n=t.uid,i=dn(Ot),s=Di(i,"users",n,"budgets");try{const o=await or(s);this.budgets=o.docs.map(a=>({id:a.id,name:a.data().name,amount:Number(a.data().amount),startDate:a.data().startDate,endDate:a.data().endDate,category:a.data().category}))}catch(o){console.error("Error fetching budgets:",o)}},async deleteBudget(){const t=Wt(Ot).currentUser;if(t&&console.log("User ID:",t.uid),!t){console.error("No user logged in!");return}const n=t.uid;if(!this.editingBudgetId)return;const i=dn(Ot),s=fo(i,"users",n,"budgets",this.editingBudgetId);try{await Gw(s),this.budgets=this.budgets.filter(o=>o.id!==this.editingBudgetId),this.editingBudgetId=null,this.editedBudgetDetails={}}catch(o){console.error("Error deleting budget:",o)}},async updateBudget(){const t=Wt(Ot).currentUser;if(t&&console.log("User ID:",t.uid),!t){console.error("No user logged in!");return}const n=t.uid;if(!this.editingBudgetId)return;const i=dn(Ot),s=fo(i,"users",n,"budgets",this.editingBudgetId),o=this.budgets.find(c=>c.id===this.editingBudgetId),a={...this.editedBudgetDetails,amount:Number(this.editedBudgetDetails.amount)};a.remaining=a.amount+(o.spent??0);try{await t_(s,a);const c=this.budgets.findIndex(u=>u.id===this.editingBudgetId);c!==-1&&(this.budgets[c]={...this.budgets[c],...a,remaining:a.remaining}),await this.calculateSpentAmounts(),this.editingBudgetId=null,this.editedBudgetDetails={}}catch(c){console.error("Error updating budget:",c)}},async calculateSpentAmounts(){const t=Wt(Ot).currentUser;if(t&&console.log("User ID:",t.uid),!t){console.error("No user logged in!");return}const n=t.uid,i=dn(Ot),s=Di(i,"users",n,"transactions");for(let o=0;o<this.budgets.length;o++){let a=this.budgets[o];const c=la(s,dp("budgetTakenFrom","==",a.name),dp("date",">=",a.startDate),dp("date","<=",a.endDate)),d=(await or(c)).docs.reduce((f,g)=>f+Number(g.data().amount),0);a.spent=-d,a.remaining=a.amount+d,this.budgets[o]={...a}}},toggleTransactions(e){e.transactions?e.showTransactions=!e.showTransactions:this.fetchTransactions(e).then(t=>{console.log(t),this.transactions?(this.transactions=Array.isArray(t)?t:[],e.showTransactions=!0):console.error("Error",t)})},async fetchTransactions(e){const t=Wt(Ot);let n=[];if(!t.currentUser){console.error("No user logged in!");return}const i=t.currentUser.uid,s=dn(Ot),o=Di(s,"users",i,"transactions"),a=la(o,dp("budgetTakenFrom","==",e.name));try{n=(await or(a)).docs.map(u=>({id:u.id,name:u.data().name,date:u.data().date,amount:u.data().amount,description:u.data().description})),console.log(n),e.transactions=n,e.showTransactions=!0}catch(c){return console.error("Failed to fetch transactions for budget:",c),[]}}}},YM=e=>(os("data-v-764b8201"),e=e(),as(),e),KX=YM(()=>C("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"},null,-1)),GX={class:"budget-tracker"},YX={class:"budget-header"},XX=["onClick"],QX=["onClick"],JX={class:"budget-details"},ZX={class:"progress-bar-container"},tQ={key:0,class:"over-limit-warning"},eQ={key:1,class:"below-limit-warning"},nQ={key:0,class:"transactions-overlay"},iQ={class:"transactions-content"},sQ={key:0,class:"transaction-list"},rQ={key:1},oQ=["onClick"],aQ={key:0,class:"overlay"},lQ={key:1,class:"edit-budget-form"},cQ=YM(()=>C("h2",null,"Edit your budget",-1));function uQ(e,t,n,i,s,o){const a=Kt("router-link");return yt(),It(hn,null,[KX,C("div",GX,[(yt(!0),It(hn,null,da(o.displayedGoals,c=>(yt(),It("div",{class:"budget",key:c.id},[C("div",YX,[C("h3",{onClick:u=>o.toggleTransactions(c),class:"budget-name"},[En(te(c.name)+" ",1),C("i",{class:"fas fa-pencil-alt edit-icon",onClick:sm(u=>o.enableEditMode(c),["stop"])},null,8,QX)],8,XX),C("span",null,te(c.startDate)+" - "+te(c.endDate),1)]),C("div",JX,[C("span",null,"$"+te((c.remaining??0).toFixed(2))+" Remaining ",1),C("div",ZX,[C("div",{class:"progress-bar",style:Wg({width:o.progressWidth(c),backgroundColor:o.progressBarColor(c)})},null,4)]),C("span",null,"$"+te((c.spent??0).toFixed(2))+" of $"+te((c.amount??0).toFixed(2)),1),c.remaining<0?(yt(),It("p",tQ," You've exceeded the limit! ")):ii("",!0),c.remaining>0?(yt(),It("p",eQ," You are left with $"+te(c.remaining.toFixed(2))+"! ",1)):ii("",!0)]),c.showTransactions?(yt(),It("div",nQ,[C("div",iQ,[C("h3",null,"Transactions for "+te(c.name),1),c.transactions.length>0?(yt(),It("ul",sQ,[(yt(!0),It(hn,null,da(c.transactions,u=>(yt(),It("li",{key:u.id},te(u.name)+" "+te(u.date)+" $"+te(-u.amount)+" "+te(u.description),1))),128))])):(yt(),It("p",rQ,"No transactions found for this budget!")),C("button",{onClick:u=>c.showTransactions=!1},"Close",8,oQ)])])):ii("",!0)]))),128)),s.editingBudgetId?(yt(),It("div",aQ)):ii("",!0),s.editingBudgetId?(yt(),It("div",lQ,[cQ,$t(C("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>s.editedBudgetDetails.name=c),type:"text",placeholder:"Budget Name"},null,512),[[xe,s.editedBudgetDetails.name]]),$t(C("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>s.editedBudgetDetails.amount=c),type:"number",placeholder:"Total Amount"},null,512),[[xe,s.editedBudgetDetails.amount]]),$t(C("input",{"onUpdate:modelValue":t[2]||(t[2]=c=>s.editedBudgetDetails.startDate=c),type:"date"},null,512),[[xe,s.editedBudgetDetails.startDate]]),$t(C("input",{"onUpdate:modelValue":t[3]||(t[3]=c=>s.editedBudgetDetails.endDate=c),type:"date"},null,512),[[xe,s.editedBudgetDetails.endDate]]),C("button",{onClick:t[4]||(t[4]=(...c)=>o.updateBudget&&o.updateBudget(...c)),class:"save-btn"},"Save Changes"),C("span",{onClick:t[5]||(t[5]=(...c)=>o.cancelEditMode&&o.cancelEditMode(...c)),class:"cancel-btn"},"x"),C("button",{onClick:t[6]||(t[6]=(...c)=>o.deleteBudget&&o.deleteBudget(...c)),class:"delete-btn"},"Delete Budget")])):ii("",!0),n.showAddButton?(yt(),tm(a,{key:2,to:"/addBudget",tag:"button",class:"add-budget-btn"},{default:ni(()=>[En(" Add New Budget ")]),_:1})):ii("",!0)])],64)}const XM=Le(qX,[["render",uQ],["__scopeId","data-v-764b8201"]]),hQ={name:"DashboardPage",components:{Logout:_r,Sidebar:Us,PieChart:WX,goalSetting:XM},data(){return{user:null,username:"",userEmail:"nothing",rawTransactions:[],recentTransactions:[],recentBudgets:[],filteredTransactions:[],startDate:null,endDate:null,loadingChart:!1}},mounted(){const e=Wt();ls(e,t=>{t&&(this.user=t,this.userEmail=t.email,this.username=t.displayName,this.fetchTransactions(),this.fetchGoals().then(()=>{console.log("Recent Budgets in Dashboard:",this.recentBudgets)}))})},methods:{async fetchTransactions(){const t=Wt(Ot).currentUser;if(t&&console.log("User ID:",t.uid),!t){console.error("No user logged in!");return}const n=t.uid,i=dn(),s=Di(i,"users",n,"transactions"),o=la(s,yh("date","desc")),a=la(s,yh("date","desc"),Db(5));try{const c=await or(o);this.rawTransactions=c.docs.map(d=>({id:d.id,name:d.data().name,amount:d.data().amount,category:d.data().category,date:d.data().date})),console.log("All Transactions:",this.rawTransactions);const u=await or(a);this.recentTransactions=u.docs.map(d=>({id:d.id,name:d.data().name,amount:d.data().amount,category:d.data().category,date:d.data().date})),this.applyFilters()}catch(c){console.error("Error fetching transactions:",c)}},async fetchGoals(){const e=dn(Ot),n=Wt(Ot).currentUser;if(!n){console.error("No user logged in!");return}const i=n.uid,s=Di(e,"users",i,"budgets"),o=la(s,yh("endDate","asc"),Db(2));try{const a=await or(o);this.recentBudgets=a.docs.map(c=>({id:c.id,...c.data()})),console.log("Fetched Recent Budgets:",this.recentBudgets)}catch(a){console.error("Error fetching budgets:",a)}},applyFilters(){let e=this.rawTransactions;if(this.startDate&&this.endDate){const t=new Date(this.startDate).getTime(),n=new Date(this.endDate).getTime();e=e.filter(i=>{const s=new Date(i.date).getTime();return s>=t&&s<=n})}this.filteredTransactions=e},beforeRouteLeave(e,t,n){this.loadingChart&&this.destroyChart(),n()}},watch:{$route(e,t){e.name==="dashboardPage"&&t.name!==e.name&&(this.fetchTransactions(),this.createChart(),this.fetchGoals())}},computed:{displayedGoals(){return this.recentGoals.slice(0,2)}}},QM=e=>(os("data-v-bbeb712d"),e=e(),as(),e),dQ={class:"dashboardPageContainer"},fQ={class:"sidebar"},pQ={class:"maincontent"},gQ={class:"dashboard-columns"},mQ={class:"recent-transactions"},_Q=QM(()=>C("h2",null,"Recent Transactions",-1)),yQ={class:"transaction-details"},vQ={class:"transaction-name"},bQ={class:"transaction-date"},wQ={class:"transaction-category"},EQ={class:"recent-budgets"},IQ=QM(()=>C("h2",null,"Recent Budgets",-1));function TQ(e,t,n,i,s,o){const a=Kt("sidebar"),c=Kt("pieChart"),u=Kt("goalSetting"),d=Kt("Logout");return yt(),It("div",dQ,[C("div",fQ,[bt(a)]),C("div",pQ,[C("h1",null,"Welcome to your dashboard, "+te(this.username)+"!",1),C("div",null,[$t(C("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=f=>s.startDate=f)},null,512),[[xe,s.startDate]]),$t(C("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=f=>s.endDate=f)},null,512),[[xe,s.endDate]]),C("button",{onClick:t[2]||(t[2]=(...f)=>o.applyFilters&&o.applyFilters(...f))},"Apply Filters")]),bt(c,{transactions:s.filteredTransactions},null,8,["transactions"]),C("div",gQ,[C("div",mQ,[_Q,C("ul",null,[(yt(!0),It(hn,null,da(s.recentTransactions,f=>(yt(),It("li",{key:f.id,class:"transaction-item"},[C("div",yQ,[C("h3",vQ,te(f.name),1),C("p",bQ,te(f.date),1),C("p",wQ,te(f.category),1)]),C("div",{class:wn(["transaction-amount",{negative:f.amount<0,positive:f.amount>=0}])},te(f.amount.toFixed(2)),3)]))),128))])]),C("div",EQ,[IQ,bt(u,{goals:s.recentBudgets,limit:2,showAddButton:!1},null,8,["goals"])])]),bt(d,{user:s.user},null,8,["user"])])])}const SQ=Le(hQ,[["render",TQ],["__scopeId","data-v-bbeb712d"]]),OR=dn(Ot),AQ={data(){return{auth:null,transaction:{name:"",amount:null,description:"",category:"",date:""},budgets:[],selectedBudget:""}},created(){this.auth=Wt(Ot)},mounted(){this.fetchBudgets()},methods:{async saveAddTransac(){const t=Wt(Ot).currentUser;if(t&&console.log("User ID:",t.uid),!t){console.error("No user logged in!");return}const n=t.uid,i=Di(OR,"users",n,"transactions");try{const s=await Yw(i,{name:this.transaction.name,amount:this.transaction.amount,description:this.transaction.description,category:this.transaction.category,date:this.transaction.date,budgetTakenFrom:this.selectedBudget});console.log("Document written with ID:",s.id),this.transaction={name:"",amount:null,description:"",category:"",date:""},this.$emit("added")}catch(s){console.error("Error adding document:",s)}},async fetchBudgets(){const t=Wt(Ot).currentUser;if(t&&console.log("User ID:",t.uid),!t){console.error("No user logged in!");return}const n=t.uid,i=Di(OR,"users",n,"budgets"),s=await or(i);this.budgets=s.docs.map(o=>({id:o.id,name:o.data().name}))}}},vr=e=>(os("data-v-042c4e94"),e=e(),as(),e),CQ={class:"add-transaction"},PQ=vr(()=>C("h1",null,"Add Transaction",-1)),RQ={class:"form-group"},kQ=vr(()=>C("label",{for:"name"},"Transaction Name *",-1)),xQ={class:"form-group"},DQ=vr(()=>C("label",{for:"amount"},"Amount (Include negative sign if it is subtracting from account) *",-1)),OQ={class:"form-group"},MQ=vr(()=>C("label",{for:"description"},"Description (Optional)",-1)),NQ={class:"form-group"},LQ=vr(()=>C("label",{for:"category"},"Category *",-1)),VQ=cc('<option value="NIL" data-v-042c4e94></option><option value="transport" data-v-042c4e94>Transport</option><option value="shopping" data-v-042c4e94>Shopping</option><option value="food" data-v-042c4e94>Food</option><option value="food" data-v-042c4e94>Others</option>',5),FQ=[VQ],UQ={class:"form-group"},BQ=vr(()=>C("label",{for:"date"},"Date *",-1)),jQ={class:"form-group"},$Q=vr(()=>C("label",{for:"budgetTakenFrom"},"Budget Taken From",-1)),HQ=vr(()=>C("option",{disabled:"",value:""},"Select a budget",-1)),zQ=["value"],WQ=vr(()=>C("div",{class:"button-container"},[C("button",{type:"submit",class:"btn"},"Add Transaction")],-1));function qQ(e,t,n,i,s,o){return yt(),It("div",CQ,[C("form",{id:"transactionform",onSubmit:t[6]||(t[6]=sm((...a)=>o.saveAddTransac&&o.saveAddTransac(...a),["prevent"]))},[PQ,C("div",RQ,[kQ,$t(C("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=a=>s.transaction.name=a),required:"",class:"input-field"},null,512),[[xe,s.transaction.name]])]),C("div",xQ,[DQ,$t(C("input",{type:"number",id:"amount",step:"0.01","onUpdate:modelValue":t[1]||(t[1]=a=>s.transaction.amount=a),required:""},null,512),[[xe,s.transaction.amount]])]),C("div",OQ,[MQ,$t(C("input",{type:"text",id:"description","onUpdate:modelValue":t[2]||(t[2]=a=>s.transaction.description=a)},null,512),[[xe,s.transaction.description]])]),C("div",NQ,[LQ,$t(C("select",{id:"category","onUpdate:modelValue":t[3]||(t[3]=a=>s.transaction.category=a),required:""},FQ,512),[[Pi,s.transaction.category]])]),C("div",UQ,[BQ,$t(C("input",{type:"date",id:"date","onUpdate:modelValue":t[4]||(t[4]=a=>s.transaction.date=a),required:""},null,512),[[xe,s.transaction.date]])]),C("div",jQ,[$Q,$t(C("select",{id:"budgetTakenFrom","onUpdate:modelValue":t[5]||(t[5]=a=>s.selectedBudget=a)},[HQ,(yt(!0),It(hn,null,da(s.budgets,a=>(yt(),It("option",{key:a.id,value:a.name},te(a.name),9,zQ))),128))],512),[[Pi,s.selectedBudget]])]),WQ],32)])}const KQ=Le(AQ,[["render",qQ],["__scopeId","data-v-042c4e94"]]),GQ={name:"addTransactionPage",components:{addTransaction:KQ,sidebar:Us,Logout:_r},data(){return{user:null,userEmail:"nothing"}},mounted(){const e=Wt();ls(e,t=>{t&&(this.user=t,this.userEmail=t.email)})}},YQ={class:"addTranscPageContainer"},XQ={class:"sidebar"},QQ={class:"maincontent"};function JQ(e,t,n,i,s,o){const a=Kt("sidebar"),c=Kt("addTransaction"),u=Kt("Logout");return yt(),It("div",YQ,[C("div",XQ,[bt(a)]),C("div",QQ,[bt(c),bt(u,{user:s.user},null,8,["user"])])])}const ZQ=Le(GQ,[["render",JQ]]),tJ=dn(Ot),eJ={data(){return{budget:{name:"",amount:null,category:"",startDate:"",endDate:""}}},created(){this.auth=Wt(Ot)},methods:{async saveAddBudget(){const t=Wt(Ot).currentUser;if(t&&console.log("User ID:",t.uid),!t){console.error("No user logged in!");return}const n=t.uid,i=Di(tJ,"users",n,"budgets");console.log(this.budget);let s=document.getElementById("name").value,o=+document.getElementById("amount").value,a=document.getElementById("category").value,c=document.getElementById("startDate").value,u=document.getElementById("endDate").value;alert("Saving data for Budget : "+s);try{const d=await Yw(i,{name:s,amount:o,category:a,startDate:c,endDate:u});console.log("Document written with ID: ",d.id),this.budget={name:"",amount:null,category:"",startDate:"",endDate:""},this.$emit("added")}catch(d){console.error("Error adding document: ",d)}}}},xa=e=>(os("data-v-660595f0"),e=e(),as(),e),nJ={class:"add-budget-container"},iJ=xa(()=>C("h1",null,"Add Budget",-1)),sJ={class:"input-group"},rJ=xa(()=>C("label",{for:"name"},"Budget Name *",-1)),oJ={class:"input-group"},aJ=xa(()=>C("label",{for:"amount"},"Amount *",-1)),lJ={class:"input-group"},cJ=xa(()=>C("label",{for:"category"},"Category *",-1)),uJ=cc('<option disabled value="" data-v-660595f0>Please select one</option><option value="transport" data-v-660595f0>Transport</option><option value="shopping" data-v-660595f0>Shopping</option><option value="food" data-v-660595f0>Food</option><option value="others" data-v-660595f0>Others</option>',5),hJ=[uJ],dJ={class:"input-group"},fJ=xa(()=>C("label",{for:"startDate"},"Start Date *",-1)),pJ={class:"input-group"},gJ=xa(()=>C("label",{for:"endDate"},"End Date *",-1)),mJ=xa(()=>C("div",{class:"button-container"},[C("button",{type:"submit",class:"btn"},"Add Budget")],-1));function _J(e,t,n,i,s,o){const a=Kt("router-link");return yt(),It("div",nJ,[iJ,C("form",{id:"submitBudget",onSubmit:t[5]||(t[5]=sm((...c)=>o.saveAddBudget&&o.saveAddBudget(...c),["prevent"]))},[C("div",sJ,[rJ,$t(C("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=c=>s.budget.name=c),required:"",class:"input-field"},null,512),[[xe,s.budget.name]])]),C("div",oJ,[aJ,$t(C("input",{type:"number",id:"amount",step:"0.01","onUpdate:modelValue":t[1]||(t[1]=c=>s.budget.amount=c),required:""},null,512),[[xe,s.budget.amount]])]),C("div",lJ,[cJ,$t(C("select",{id:"category","onUpdate:modelValue":t[2]||(t[2]=c=>s.budget.category=c),required:""},hJ,512),[[Pi,s.budget.category]])]),C("div",dJ,[fJ,$t(C("input",{type:"date",id:"startDate","onUpdate:modelValue":t[3]||(t[3]=c=>s.budget.startDate=c),required:""},null,512),[[xe,s.budget.startDate]])]),C("div",pJ,[gJ,$t(C("input",{type:"date",id:"endDate","onUpdate:modelValue":t[4]||(t[4]=c=>s.budget.endDate=c),required:""},null,512),[[xe,s.budget.endDate]])]),mJ],32),bt(a,{to:"/goalSetting",class:"view-budgets-btn"},{default:ni(()=>[En("View All Budgets")]),_:1})])}const yJ=Le(eJ,[["render",_J],["__scopeId","data-v-660595f0"]]),vJ={name:"addBudgetPage",components:{addBudget:yJ,sidebar:Us,Logout:_r},data(){return{user:null,userEmail:"nothing"}},mounted(){const e=Wt();ls(e,t=>{t&&(this.user=t,this.userEmail=t.email)})}},bJ={class:"addBudgetPageContainer"},wJ={class:"sidebar"},EJ={class:"maincontent"};function IJ(e,t,n,i,s,o){const a=Kt("sidebar"),c=Kt("addBudget"),u=Kt("Logout");return yt(),It("div",bJ,[C("div",wJ,[bt(a)]),C("div",EJ,[bt(c),bt(u,{user:s.user},null,8,["user"])])])}const TJ=Le(vJ,[["render",IJ]]),SJ=dn(Ot),AJ={data(){return{auth:null,scheduledTransaction:{schedTransactionName:"",schedTransactionAmount:null,schedTransactionsCategory:"",schedTransactionsDate:"",schedTransactionsRecurrence:""}}},methods:{async saveScheduledTransac(){const t=Wt(Ot).currentUser;if(t&&console.log("User ID:",t.uid),!t){console.error("No user logged in!");return}const n=t.uid,i=Di(SJ,"users",n,"scheduledTransaction");console.log(this.scheduledTransaction),alert("Saving data for Scheduled Transaction : "+this.scheduledTransaction.schedTransactionName+" "+this.scheduledTransaction.schedTransactionAmount);try{const s=await Yw(i,{schedTransactionName:this.scheduledTransaction.schedTransactionName,schedTransactionAmount:this.scheduledTransaction.schedTransactionAmount,schedTransactionsCategory:this.scheduledTransaction.schedTransactionsCategory,schedTransactionsDate:this.scheduledTransaction.schedTransactionsDate,schedTransactionsRecurrence:this.scheduledTransaction.schedTransactionsRecurrence});console.log("Document written with ID: ",s.id),console.log("Document written with ID: ",s.id),this.scheduledTransaction={schedTransactionName:"",schedTransactionAmount:null,schedTransactionsCategory:"",schedTransactionsDate:"",schedTransactionsRecurrence:""},this.$emit("added")}catch(s){console.error("Error adding document: ",s)}}}},br=e=>(os("data-v-5579e719"),e=e(),as(),e),CJ={class:"schedule-transactions-container"},PJ=br(()=>C("h1",null,"Schedule Transactions",-1)),RJ={class:"input-group"},kJ=br(()=>C("label",{for:"schedTransactionName"},"Transaction Name *",-1)),xJ={class:"input-group"},DJ=br(()=>C("label",{for:"schedTransactionAmount"},"Amount (Include negative sign if it is subtracting from account) *",-1)),OJ={class:"input-group"},MJ=br(()=>C("label",{for:"schedTransactionsCategory"},"Category *",-1)),NJ=cc('<option disabled value="" data-v-5579e719>Please select one</option><option value="income" data-v-5579e719>Income</option><option value="allowance" data-v-5579e719>Allowance</option><option value="expenses" data-v-5579e719>Expenses</option><option value="subscriptions" data-v-5579e719>Subscriptions</option><option value="others" data-v-5579e719>Others</option>',6),LJ=[NJ],VJ={class:"input-group"},FJ=br(()=>C("label",{for:"schedTransactionsDate"},"Start Date *",-1)),UJ={class:"input-group"},BJ=br(()=>C("label",{for:"schedTransactionsRecurrence"},"Recurrence *",-1)),jJ=br(()=>C("option",{value:"monthly"},"Monthly",-1)),$J=br(()=>C("option",{value:"yearly"},"Yearly",-1)),HJ=[jJ,$J],zJ=br(()=>C("div",{class:"button-container"},[C("button",{type:"submit",class:"btn"},"Add Scheduled Transaction")],-1));function WJ(e,t,n,i,s,o){const a=Kt("router-link");return yt(),It("div",CJ,[PJ,C("form",{id:"submitScheduledTransaction",onSubmit:t[5]||(t[5]=sm((...c)=>o.saveScheduledTransac&&o.saveScheduledTransac(...c),["prevent"]))},[C("div",RJ,[kJ,$t(C("input",{type:"text",id:"schedTransactionName","onUpdate:modelValue":t[0]||(t[0]=c=>s.scheduledTransaction.schedTransactionName=c),required:"",class:"input-field"},null,512),[[xe,s.scheduledTransaction.schedTransactionName]])]),C("div",xJ,[DJ,$t(C("input",{type:"number",id:"schedTransactionAmount",step:"0.01","onUpdate:modelValue":t[1]||(t[1]=c=>s.scheduledTransaction.schedTransactionAmount=c),required:""},null,512),[[xe,s.scheduledTransaction.schedTransactionAmount]])]),C("div",OJ,[MJ,$t(C("select",{id:"schedTransactionsCategory","onUpdate:modelValue":t[2]||(t[2]=c=>s.scheduledTransaction.schedTransactionsCategory=c),required:""},LJ,512),[[Pi,s.scheduledTransaction.schedTransactionsCategory]])]),C("div",VJ,[FJ,$t(C("input",{type:"date",id:"schedTransactionsDate","onUpdate:modelValue":t[3]||(t[3]=c=>s.scheduledTransaction.schedTransactionsDate=c),required:""},null,512),[[xe,s.scheduledTransaction.schedTransactionsDate]])]),C("div",UJ,[BJ,$t(C("select",{id:"schedTransactionsRecurrence","onUpdate:modelValue":t[4]||(t[4]=c=>s.scheduledTransaction.schedTransactionsRecurrence=c),required:""},HJ,512),[[Pi,s.scheduledTransaction.schedTransactionsRecurrence]])]),zJ],32),bt(a,{to:"/viewScheduledTransactions",tag:"button",class:"view-sched-transaction-btn"},{default:ni(()=>[En(" View Scheduled Transactions ")]),_:1})])}const qJ=Le(AJ,[["render",WJ],["__scopeId","data-v-5579e719"]]),KJ={name:"addScheduledTransactionPage",components:{sidebar:Us,addScheduledTransaction:qJ,Logout:_r},data(){return{user:null,userEmail:"nothing"}},mounted(){const e=Wt();ls(e,t=>{t&&(this.user=t,this.userEmail=t.email)})}},GJ={class:"addSchedTransacPageContainer"},YJ={class:"sidebar"},XJ={class:"maincontent"};function QJ(e,t,n,i,s,o){const a=Kt("sidebar"),c=Kt("addScheduledTransaction"),u=Kt("Logout");return yt(),It("div",GJ,[C("div",YJ,[bt(a)]),C("div",XJ,[bt(c),bt(u,{user:s.user},null,8,["user"])])])}const JJ=Le(KJ,[["render",QJ]]),ZJ=dn(Ot),tZ={data(){return{auth:null,editingScheduledTransactionId:null,editedScheduledTransactionDetails:{},scheduledTransactions:[],selectedFilter:"",selectedCategory:"",selectedRecurrence:""}},mounted(){this.fetchScheduledTransactions()},created(){this.auth=Wt(Ot)},methods:{fetchScheduledTransactions(){const t=Wt(Ot).currentUser;if(t&&console.log("User ID:",t.uid),!t){console.error("No user logged in!");return}const n=t.uid,i=Di(ZJ,"users",n,"scheduledTransaction");xO(i,s=>{this.scheduledTransactions=s.docs.map(o=>({id:o.id,name:o.data().schedTransactionName,amount:o.data().schedTransactionAmount,category:o.data().schedTransactionsCategory,currency:o.data().schedTransactionsCurrency,date:o.data().schedTransactionsDate,recurrence:o.data().schedTransactionsRecurrence})).sort((o,a)=>{const c=new Date(o.date);return new Date(a.date)-c})},s=>{console.error("Error getting documents: ",s)})},enableScheduledTransactionEdit(e){this.editingScheduledTransactionId=e.id,this.editedScheduledTransactionDetails={...e}},cancelScheduledTransactionEdit(){this.editingScheduledTransactionId=null},async deleteScheduledTransaction(e){const t=Wt(Ot),n=dn(Ot),i=t.currentUser;if(i&&console.log("User ID:",i.uid),!i){console.error("No user logged in!");return}const s=i.uid,o=fo(n,"users",s,"scheduledTransaction",e);try{await Gw(o),this.fetchScheduledTransactions()}catch(a){console.error("Error deleting scheduled transaction:",a)}},async updateScheduledTransaction(){const t=Wt(Ot).currentUser;if(t&&console.log("User ID:",t.uid),!t){console.error("No user logged in!");return}const n=t.uid;if(!this.editingScheduledTransactionId)return;const i=dn(Ot),s=fo(i,"users",n,"scheduledTransaction",this.editingScheduledTransactionId),o={...this.editedScheduledTransactionDetails,currency:OO()};try{await t_(s,o),this.editingScheduledTransactionId=null,this.fetchScheduledTransactions(),this.editedScheduledTransactionDetails={}}catch(a){console.error("Error updating scheduled transaction:",a)}}},computed:{filteredTransactions(){let e=this.scheduledTransactions;return this.selectedFilter==="category"&&this.selectedCategory?e=e.filter(t=>t.category===this.selectedCategory):this.selectedFilter==="recurrence"&&this.selectedRecurrence&&(e=e.filter(t=>t.recurrence===this.selectedRecurrence)),e}}},Da=e=>(os("data-v-93e3c46d"),e=e(),as(),e),eZ=Da(()=>C("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"},null,-1)),nZ={class:"scheduled-transaction-history-page"},iZ={class:"filter-options"},sZ=Da(()=>C("option",{value:"category"},"Filter by Category",-1)),rZ=Da(()=>C("option",{value:"recurrence"},"Filter by Recurrence",-1)),oZ=[sZ,rZ],aZ=cc('<option value="" data-v-93e3c46d>Select a Category</option><option value="income" data-v-93e3c46d>Income</option><option value="allowance" data-v-93e3c46d>Allowance</option><option value="expenses" data-v-93e3c46d>Expenses</option><option value="subscriptions" data-v-93e3c46d>Subscriptions</option><option value="others" data-v-93e3c46d>Others</option>',6),lZ=[aZ],cZ=Da(()=>C("option",{value:""},"Select a Recurrence Range",-1)),uZ=Da(()=>C("option",{value:"monthly"},"Monthly",-1)),hZ=Da(()=>C("option",{value:"yearly"},"Yearly",-1)),dZ=[cZ,uZ,hZ],fZ={class:"view-scheduled-transactions-page"},pZ={class:"scheduled-transactions-list"},gZ={class:"transaction-details"},mZ={class:"transaction-name"},_Z={class:"transaction-date"},yZ={class:"transaction-recurrence"},vZ={class:"transaction-actions"},bZ=["onClick"],wZ=["onClick"],EZ={key:0,class:"overlay"},IZ={class:"edit-transaction-form"},TZ=Da(()=>C("h2",null,"Edit Scheduled Transaction",-1)),SZ=cc('<option value="income" data-v-93e3c46d>Income</option><option value="allowance" data-v-93e3c46d>Allowance</option><option value="expenses" data-v-93e3c46d>Expenses</option><option value="subscriptions" data-v-93e3c46d>Subscriptions</option><option value="others" data-v-93e3c46d>Others</option>',5),AZ=[SZ];function CZ(e,t,n,i,s,o){const a=Kt("router-link");return yt(),It(hn,null,[eZ,C("div",nZ,[C("div",iZ,[$t(C("select",{"onUpdate:modelValue":t[0]||(t[0]=c=>s.selectedFilter=c)},oZ,512),[[Pi,s.selectedFilter]]),s.selectedFilter==="category"?$t((yt(),It("select",{key:0,"onUpdate:modelValue":t[1]||(t[1]=c=>s.selectedCategory=c)},lZ,512)),[[Pi,s.selectedCategory]]):ii("",!0),s.selectedFilter==="recurrence"?$t((yt(),It("select",{key:1,"onUpdate:modelValue":t[2]||(t[2]=c=>s.selectedRecurrence=c)},dZ,512)),[[Pi,s.selectedRecurrence]]):ii("",!0)]),C("div",fZ,[C("div",pZ,[C("ul",null,[(yt(!0),It(hn,null,da(o.filteredTransactions,c=>(yt(),It("li",{key:c.id,class:"transaction-item"},[C("div",gZ,[C("h3",mZ,te(c.name),1),C("p",_Z,te(c.date),1),C("p",yZ,te(c.recurrence)+" "+te(c.category),1)]),C("div",vZ,[C("i",{class:"fas fa-pencil-alt",onClick:u=>o.enableScheduledTransactionEdit(c)},null,8,bZ),C("i",{class:"fas fa-trash",onClick:u=>o.deleteScheduledTransaction(c.id)},null,8,wZ)]),C("div",{class:wn(["transaction-amount",{negative:c.amount<0,positive:c.amount>=0}])},te(c.amount.toFixed(2)),3)]))),128))]),s.editingScheduledTransactionId?(yt(),It("div",EZ,[C("div",IZ,[TZ,$t(C("input",{"onUpdate:modelValue":t[3]||(t[3]=c=>s.editedScheduledTransactionDetails.name=c),placeholder:"Scheduled Transaction Name"},null,512),[[xe,s.editedScheduledTransactionDetails.name]]),$t(C("input",{"onUpdate:modelValue":t[4]||(t[4]=c=>s.editedScheduledTransactionDetails.amount=c),type:"number",placeholder:"Amount"},null,512),[[xe,s.editedScheduledTransactionDetails.amount]]),$t(C("select",{"onUpdate:modelValue":t[5]||(t[5]=c=>e.editedTransactionDetails.category=c)},AZ,512),[[Pi,e.editedTransactionDetails.category]]),$t(C("input",{"onUpdate:modelValue":t[6]||(t[6]=c=>e.editedTransactionDetails.date=c),type:"date"},null,512),[[xe,e.editedTransactionDetails.date]]),C("button",{onClick:t[7]||(t[7]=(...c)=>o.updateScheduledTransaction&&o.updateScheduledTransaction(...c)),class:"save-btn"},"Save Changes"),C("button",{onClick:t[8]||(t[8]=(...c)=>o.cancelScheduledTransactionEdit&&o.cancelScheduledTransactionEdit(...c)),class:"cancel-btn"},"Cancel")])])):ii("",!0),bt(a,{to:"/addScheduledTransaction",tag:"button",class:"add-sched-transaction-btn"},{default:ni(()=>[En(" Add New Scheduled Transaction ")]),_:1})])])])],64)}const PZ=Le(tZ,[["render",CZ],["__scopeId","data-v-93e3c46d"]]),RZ={name:"viewScheduledTransactionsPage",components:{viewScheduledTransactions:PZ,sidebar:Us,Logout:_r},data(){return{user:null,userEmail:"nothing"}},mounted(){const e=Wt();ls(e,t=>{t&&(this.user=t,this.userEmail=t.email)})}},kZ={class:"viewSchedTransacPageContainer"},xZ={class:"sidebar"},DZ={class:"maincontent"};function OZ(e,t,n,i,s,o){const a=Kt("sidebar"),c=Kt("viewScheduledTransactions"),u=Kt("Logout");return yt(),It("div",kZ,[C("div",xZ,[bt(a)]),C("div",DZ,[bt(c),bt(u,{user:s.user},null,8,["user"])])])}const MZ=Le(RZ,[["render",OZ]]),NZ=dn(Ot),LZ={data(){return{auth:null,editingTransactionId:null,editedTransactionDetails:{},transactions:[],selectedFilter:"",selectedCategory:"",selectedDateFilter:""}},mounted(){this.fetchTransactions()},created(){this.auth=Wt(Ot)},methods:{fetchTransactions(){const t=Wt(Ot).currentUser;if(t&&console.log("User ID:",t.uid),!t){console.error("No user logged in!");return}const n=t.uid,i=Di(NZ,"users",n,"transactions");xO(i,s=>{this.transactions=s.docs.map(o=>({id:o.id,name:o.data().name,amount:o.data().amount,category:o.data().category,currency:o.data().currency,date:o.data().date,description:o.data().description})).sort((o,a)=>{const c=new Date(o.date);return new Date(a.date)-c})},s=>{console.error("Error getting documents: ",s)})},enableTransactionEdit(e){this.editingTransactionId=e.id,this.editedTransactionDetails={...e}},cancelTransactionEdit(){this.editingTransactionId=null},async deleteTransaction(e){const t=Wt(Ot),n=dn(Ot),i=t.currentUser;if(i&&console.log("User ID:",i.uid),!i){console.error("No user logged in!");return}const s=i.uid,o=fo(n,"users",s,"transactions",e);try{await Gw(o),this.fetchTransactions()}catch(a){console.error("Error deleting transaction:",a)}},async updateTransaction(){const t=Wt(Ot).currentUser;if(t&&console.log("User ID:",t.uid),!t){console.error("No user logged in!");return}const n=t.uid;if(!this.editingTransactionId)return;const i=dn(Ot),s=fo(i,"users",n,"transactions",this.editingTransactionId),o={...this.editedTransactionDetails,currency:OO()};try{await t_(s,o),this.editingTransactionId=null,this.fetchTransactions(),this.editedTransactionDetails={}}catch(a){console.error("Error updating transaction:",a)}}},computed:{filteredTransactions(){let e=this.transactions;if(this.selectedFilter==="category"&&this.selectedCategory)e=e.filter(t=>t.category===this.selectedCategory);else if(this.selectedFilter==="date"){const t=new Date;t.setHours(0,0,0,0);let n;switch(this.selectedDateFilter){case"today":n=t;break;case"last7Days":n=new Date(new Date().setDate(t.getDate()-7));break;case"lastMonth":n=new Date(new Date().setMonth(t.getMonth()-1));break}n&&(e=e.filter(i=>{const s=new Date(i.date);return s>=n&&s<=t}))}return e}}},VZ=C("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"},null,-1),FZ={class:"transaction-history-page"},UZ={class:"filter-options"},BZ=C("option",{value:"category"},"Filter by Category",-1),jZ=C("option",{value:"date"},"Filter by Date",-1),$Z=[BZ,jZ],HZ=cc('<option value="">Select a Category</option><option value="transport">Transport</option><option value="shopping">Shopping</option><option value="food">Food</option><option value="others">Others</option>',5),zZ=[HZ],WZ=C("option",{value:""},"Select a Date Range",-1),qZ=C("option",{value:"today"},"Today",-1),KZ=C("option",{value:"last7Days"},"Last 7 Days",-1),GZ=C("option",{value:"lastMonth"},"Last Month",-1),YZ=[WZ,qZ,KZ,GZ],XZ={class:"transaction-list"},QZ={class:"transaction-details"},JZ={class:"transaction-name"},ZZ={class:"transaction-date"},ttt={class:"transaction-category"},ett={class:"transaction-actions"},ntt=["onClick"],itt=["onClick"],stt={key:0,class:"overlay"},rtt={class:"edit-transaction-form"},ott=C("h2",null,"Edit Transaction",-1),att=C("option",{value:"transport"},"Transport",-1),ltt=C("option",{value:"shopping"},"Shopping",-1),ctt=C("option",{value:"food"},"Food",-1),utt=C("option",{value:"others"},"Others",-1),htt=[att,ltt,ctt,utt];function dtt(e,t,n,i,s,o){const a=Kt("router-link");return yt(),It(hn,null,[VZ,C("div",FZ,[C("div",UZ,[$t(C("select",{"onUpdate:modelValue":t[0]||(t[0]=c=>s.selectedFilter=c)},$Z,512),[[Pi,s.selectedFilter]]),s.selectedFilter==="category"?$t((yt(),It("select",{key:0,"onUpdate:modelValue":t[1]||(t[1]=c=>s.selectedCategory=c)},zZ,512)),[[Pi,s.selectedCategory]]):ii("",!0),s.selectedFilter==="date"?$t((yt(),It("select",{key:1,"onUpdate:modelValue":t[2]||(t[2]=c=>s.selectedDateFilter=c)},YZ,512)),[[Pi,s.selectedDateFilter]]):ii("",!0)]),C("div",XZ,[C("ul",null,[(yt(!0),It(hn,null,da(o.filteredTransactions,c=>(yt(),It("li",{key:c.id,class:"transaction-item"},[C("div",QZ,[C("h3",JZ,te(c.name),1),C("p",ZZ,te(c.date),1),C("p",ttt,te(c.category),1)]),C("div",ett,[C("i",{class:"fas fa-pencil-alt",onClick:u=>o.enableTransactionEdit(c)},null,8,ntt),C("i",{class:"fas fa-trash",onClick:u=>o.deleteTransaction(c.id)},null,8,itt)]),C("div",{class:wn(["transaction-amount",{negative:c.amount<0,positive:c.amount>=0}])},te(c.amount.toFixed(2)),3)]))),128))]),s.editingTransactionId?(yt(),It("div",stt,[C("div",rtt,[ott,$t(C("input",{"onUpdate:modelValue":t[3]||(t[3]=c=>s.editedTransactionDetails.name=c),placeholder:"Transaction Name"},null,512),[[xe,s.editedTransactionDetails.name]]),$t(C("input",{"onUpdate:modelValue":t[4]||(t[4]=c=>s.editedTransactionDetails.amount=c),type:"number",placeholder:"Amount"},null,512),[[xe,s.editedTransactionDetails.amount]]),$t(C("select",{"onUpdate:modelValue":t[5]||(t[5]=c=>s.editedTransactionDetails.category=c)},htt,512),[[Pi,s.editedTransactionDetails.category]]),$t(C("input",{"onUpdate:modelValue":t[6]||(t[6]=c=>s.editedTransactionDetails.date=c),type:"date"},null,512),[[xe,s.editedTransactionDetails.date]]),C("button",{onClick:t[7]||(t[7]=(...c)=>o.updateTransaction&&o.updateTransaction(...c)),class:"save-btn"},"Save Changes"),C("button",{onClick:t[8]||(t[8]=(...c)=>o.cancelTransactionEdit&&o.cancelTransactionEdit(...c)),class:"cancel-btn"},"Cancel")])])):ii("",!0),bt(a,{to:"/addTransaction",tag:"button",class:"add-transaction-btn"},{default:ni(()=>[En(" Add New Transaction ")]),_:1})])])],64)}const ftt=Le(LZ,[["render",dtt]]),ptt={name:"addBudgetPage",components:{transactionHistory:ftt,sidebar:Us,Logout:_r},data(){return{user:null,userEmail:"nothing"}},mounted(){const e=Wt();ls(e,t=>{t&&(this.user=t,this.userEmail=t.email)})}},gtt={class:"transacHistPageContainer"},mtt={class:"sidebar"},_tt={class:"maincontent"};function ytt(e,t,n,i,s,o){const a=Kt("sidebar"),c=Kt("transactionHistory"),u=Kt("Logout");return yt(),It("div",gtt,[C("div",mtt,[bt(a)]),C("div",_tt,[bt(c),bt(u,{user:s.user},null,8,["user"])])])}const vtt=Le(ptt,[["render",ytt]]),btt={name:"userProfile",components:{Logout:_r,sidebar:Us},data(){return{user:null,userEmail:"nothing"}},mounted(){const e=Wt();ls(e,t=>{t&&(this.user=t,this.userEmail=t.email,this.username=t.displayName,this.userPicture=t.photoURL)})},methods:{editProfile(){window.location.href="/editProfile"}}},y1=e=>(os("data-v-4a468d38"),e=e(),as(),e),wtt={class:"userProfilePageContainer"},Ett={class:"sidebar"},Itt={class:"maincontent"},Ttt={class:"user-profile"},Stt=y1(()=>C("h2",null,"User Profile",-1)),Att=["src"],Ctt={class:"form-group"},Ptt=y1(()=>C("label",{for:"username"},"Username",-1)),Rtt={class:"form-group"},ktt=y1(()=>C("label",{for:"email"},"Email",-1)),xtt={class:"button-container"};function Dtt(e,t,n,i,s,o){const a=Kt("sidebar"),c=Kt("Logout");return yt(),It("div",wtt,[C("div",Ett,[bt(a)]),C("div",Itt,[C("div",Ttt,[Stt,C("img",{src:e.userPicture||"@/assets/profile-user.png",alt:"User Profile Picture"},null,8,Att),C("div",Ctt,[Ptt,C("p",null,te(e.username),1)]),C("div",Rtt,[ktt,C("p",null,te(s.userEmail),1)]),C("div",xtt,[C("button",{class:"btn",onClick:t[0]||(t[0]=u=>o.editProfile())},"Edit Profile")])]),bt(c,{user:s.user},null,8,["user"])])])}const Ott=Le(btt,[["render",Dtt],["__scopeId","data-v-4a468d38"]]),Mtt={name:"editProfile",components:{sidebar:Us},data(){return{user:null,username:"",email:"nothing",errorMessage:"",defaultProfilePicture:"assets/profile-user.png",profilePictureUrl:null,storage:QO(Ot)}},mounted(){const e=Wt();ls(e,t=>{t&&(this.user=t,this.username=t.displayName,this.email=t.email,this.profilePictureUrl=t.photoURL||this.defaultProfilePicture,console.log("Profile Picture URL:",this.profilePictureUrl))})},methods:{navigateBack(){this.$router.back()},async editProfile(){if(!this.username||!this.email){this.errorMessage="Please fill in all fields.";return}try{if(this.username!==this.user.displayName?(console.log("Updating display name..."),await Zv(this.user,{displayName:this.username})):console.log("Username is the same as the current display name."),this.profilePictureUrl&&this.profilePictureUrl!==this.user.photoURL){console.log("Updating profile picture...");const e=mW(this.storage,`profile_pictures/${this.user.uid}`);await pW(e,this.image);const t=await gW(e);await Zv(this.user,{photoURL:t}),console.log("Profile picture updated successfully")}else console.log("Profile picture is the same as the current one");this.message="Profile updated successfully",this.$router.push("/userProfile")}catch(e){console.error("Error updating profile:",e),this.errorMessage=e.message}},handleFileChange(e){const t=e.target.files[0];if(t){this.image=t;const n=new FileReader;n.onload=i=>{this.profilePictureUrl=i.target.result},n.readAsDataURL(t)}}},setup(){const e=ig(null),t=()=>{e.value.click()},n=ig(null);return{fileInput:e,openFileInput:t,profilePictureUrl:n}}},a_=e=>(os("data-v-be230615"),e=e(),as(),e),Ntt={class:"editProfilePageContainer"},Ltt={class:"sidebar"},Vtt={class:"maincontent"},Ftt=a_(()=>C("ion-icon",{name:"arrow-back"},null,-1)),Utt=a_(()=>C("span",null,"Edit User Profile",-1)),Btt=[Ftt,Utt],jtt={class:"user-profile"},$tt=a_(()=>C("h2",null,"User Profile",-1)),Htt={class:"input"},ztt=["src"],Wtt={class:"form-group"},qtt=a_(()=>C("label",{for:"username"},"Username",-1)),Ktt={class:"button-container"},Gtt={key:0};function Ytt(e,t,n,i,s,o){const a=Kt("sidebar");return yt(),It("div",Ntt,[C("div",Ltt,[bt(a)]),C("div",Vtt,[C("div",{class:"navigate-back",onClick:t[0]||(t[0]=c=>o.navigateBack())},Btt),C("div",jtt,[$tt,C("div",Htt,[C("div",null,[C("img",{onClick:t[1]||(t[1]=(...c)=>i.openFileInput&&i.openFileInput(...c)),class:"profile-user-img img-circle",src:i.profilePictureUrl||s.defaultProfilePicture,alt:"User Profile Picture"},null,8,ztt)]),C("input",{id:"fileInput",onChange:t[2]||(t[2]=(...c)=>o.handleFileChange&&o.handleFileChange(...c)),ref:"fileInput",type:"file",class:"d-none"},null,544)]),C("div",Wtt,[qtt,$t(C("input",{type:"text",id:"username","onUpdate:modelValue":t[3]||(t[3]=c=>s.username=c),required:"",class:"input-field"},null,512),[[xe,s.username]])]),C("div",Ktt,[C("button",{class:"btn",onClick:t[4]||(t[4]=(...c)=>o.editProfile&&o.editProfile(...c))},"Save"),e.message?(yt(),It("p",Gtt,te(e.message),1)):ii("",!0)])])])])}const Xtt=Le(Mtt,[["render",Ytt],["__scopeId","data-v-be230615"]]),Qtt={name:"goalSettingPage",components:{goalSetting:XM,sidebar:Us,Logout:_r},data(){return{user:null,userEmail:"nothing",allGoals:[]}},mounted(){const e=Wt();ls(e,t=>{t&&(this.user=t,this.userEmail=t.email)})},watch:{$route(e,t){e.name==="goalSettingPage"&&t.name!==e.name&&this.fetchGoals()}}},Jtt={class:"goalSettingPageContainer"},Ztt={class:"sidebar"},tet={class:"maincontent"};function eet(e,t,n,i,s,o){const a=Kt("sidebar"),c=Kt("goalSetting"),u=Kt("Logout");return yt(),It("div",Jtt,[C("div",Ztt,[bt(a)]),C("div",tet,[bt(c),bt(u,{user:s.user},null,8,["user"])])])}const net=Le(Qtt,[["render",eet]]);Xi.register(...GM);const iet={props:{chartData:{type:Object,required:!0},options:{type:Object,default:()=>{}}},setup(e){const t=ig(null);let n=null;return _k(()=>{n=new Xi(t.value.getContext("2d"),{type:"line",data:e.chartData,options:e.options})}),Dl(()=>e.chartData,i=>{n&&(n.data=i,n.update())}),Dl(()=>e.chartData,(i,s)=>{n&&n.destroy()},{immediate:!0,deep:!0}),{canvas:t}}},set={class:"line-chart"},ret={ref:"canvas"};function oet(e,t,n,i,s,o){return yt(),It("div",set,[C("canvas",ret,null,512)])}const aet=Le(iet,[["render",oet]]);function Ec(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function cet(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const JM=6e4,ZM=36e5;let uet={};function tN(){return uet}function het(e,t){var c,u,d,f;const n=tN(),i=(t==null?void 0:t.weekStartsOn)??((u=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,s=Ec(e),o=s.getDay(),a=(o<i?7:0)+o-i;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function det(e){const t=Ec(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function fet(e){const t=Ec(e);return t.setDate(1),t.setHours(0,0,0,0),t}function pet(e){const t=Ec(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function get(e){const t=Ec(e),n=cet(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function met(e,t){var c,u,d,f;const n=tN(),i=(t==null?void 0:t.weekStartsOn)??((u=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,s=Ec(e),o=s.getDay(),a=(o<i?-7:0)+6-(o-i);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}function _et(e,t){const n=(t==null?void 0:t.additionalDigits)??2,i=wet(e);let s;if(i.date){const u=Eet(i.date,n);s=Iet(u.restDateString,u.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const o=s.getTime();let a=0,c;if(i.time&&(a=Tet(i.time),isNaN(a)))return new Date(NaN);if(i.timezone){if(c=Aet(i.timezone),isNaN(c))return new Date(NaN)}else{const u=new Date(o+a),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return new Date(o+a+c)}const Rp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},yet=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,vet=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,bet=/^([+-])(\d{2})(?::?(\d{2}))?$/;function wet(e){const t={},n=e.split(Rp.dateTimeDelimiter);let i;if(n.length>2)return t;if(/:/.test(n[0])?i=n[0]:(t.date=n[0],i=n[1],Rp.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Rp.timeZoneDelimiter)[0],i=e.substr(t.date.length,e.length))),i){const s=Rp.timezone.exec(i);s?(t.time=i.replace(s[1],""),t.timezone=s[1]):t.time=i}return t}function Eet(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),i=e.match(n);if(!i)return{year:NaN,restDateString:""};const s=i[1]?parseInt(i[1]):null,o=i[2]?parseInt(i[2]):null;return{year:o===null?s:o*100,restDateString:e.slice((i[1]||i[2]).length)}}function Iet(e,t){if(t===null)return new Date(NaN);const n=e.match(yet);if(!n)return new Date(NaN);const i=!!n[4],s=ju(n[1]),o=ju(n[2])-1,a=ju(n[3]),c=ju(n[4]),u=ju(n[5])-1;if(i)return xet(t,c,u)?Cet(t,c,u):new Date(NaN);{const d=new Date(0);return!Ret(t,o,a)||!ket(t,s)?new Date(NaN):(d.setUTCFullYear(t,o,Math.max(s,a)),d)}}function ju(e){return e?parseInt(e):1}function Tet(e){const t=e.match(vet);if(!t)return NaN;const n=Dv(t[1]),i=Dv(t[2]),s=Dv(t[3]);return Det(n,i,s)?n*ZM+i*JM+s*1e3:NaN}function Dv(e){return e&&parseFloat(e.replace(",","."))||0}function Aet(e){if(e==="Z")return 0;const t=e.match(bet);if(!t)return 0;const n=t[1]==="+"?-1:1,i=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return Oet(i,s)?n*(i*ZM+s*JM):NaN}function Cet(e,t,n){const i=new Date(0);i.setUTCFullYear(e,0,4);const s=i.getUTCDay()||7,o=(t-1)*7+n+1-s;return i.setUTCDate(i.getUTCDate()+o),i}const Pet=[31,null,31,30,31,30,31,31,30,31,30,31];function eN(e){return e%400===0||e%4===0&&e%100!==0}function Ret(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Pet[t]||(eN(e)?29:28))}function ket(e,t){return t>=1&&t<=(eN(e)?366:365)}function xet(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function Det(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function Oet(e,t){return t>=0&&t<=59}const Met={data(){return{transactions:[],filteredTransactions:[],currentFilter:"week"}},async mounted(){await this.fetchTransactions(),this.setFilter(this.currentFilter)},methods:{async fetchTransactions(){const e=dn(Ot),n=Wt(Ot).currentUser;if(!n){console.error("No user logged in!");return}const i=n.uid,s=Di(e,"users",i,"transactions"),o=la(s,yh("date","desc"),Db(50));try{const a=await or(o);this.transactions=a.docs.map(c=>c.data()),console.log("Fetched transactions:",this.transactions)}catch(a){console.error("Error fetching transactions:",a)}},setFilter(e){this.currentFilter=e,this.filterTransactions()},filterTransactions(){const e=new Date,t={week:het(e),month:fet(e),year:get(e)},n={week:met(e),month:det(e),year:pet(e)},i=t[this.currentFilter],s=n[this.currentFilter];this.filteredTransactions=this.transactions.filter(o=>{const a=_et(o.date);return a>=i&&a<=s}).sort((o,a)=>o.amount-a.amount).slice(0,3)}}},Net=e=>(os("data-v-fbb2469d"),e=e(),as(),e),Let={class:"analytics-container"},Vet={class:"spendings-container"},Fet=Net(()=>C("h2",null,"Top Spendings",-1)),Uet={class:"filter-buttons"},Bet={key:0,class:"top-spendings-list"},jet={class:"spending-details"},$et={class:"spending-name"},Het={class:"spending-date"},zet={class:"spending-amount"},Wet={key:1};function qet(e,t,n,i,s,o){return yt(),It("div",Let,[C("div",Vet,[Fet,C("div",Uet,[C("button",{onClick:t[0]||(t[0]=a=>o.setFilter("week")),class:wn({active:s.currentFilter==="week"})}," Week ",2),C("button",{onClick:t[1]||(t[1]=a=>o.setFilter("month")),class:wn({active:s.currentFilter==="month"})}," Month ",2),C("button",{onClick:t[2]||(t[2]=a=>o.setFilter("year")),class:wn({active:s.currentFilter==="year"})}," Year ",2)]),s.filteredTransactions.length>0?(yt(),It("div",Bet,[C("ul",null,[(yt(!0),It(hn,null,da(s.filteredTransactions,(a,c)=>(yt(),It("li",{key:c,class:"spending-item"},[C("div",jet,[C("h3",$et,te(a.name),1),C("p",Het,te(a.date),1),C("p",zet,te(-a.amount),1)])]))),128))])])):(yt(),It("p",Wet,"No transactions available."))])])}const Ket=Le(Met,[["render",qet],["__scopeId","data-v-fbb2469d"]]),Get={components:{lineChart:aet,Logout:_r,Sidebar:Us,top3spendings:Ket},data(){return{user:null,chartData:{labels:[],datasets:[]},chartOptions:{plugins:{title:{display:!0,text:"Total Spendings Per Month",font:{size:16}}},scales:{x:{grid:{display:!1}},y:{grid:{display:!1}}},responsive:!0,maintainAspectRatio:!0}}},async mounted(){await this.fetchAndProcessTransactions();const e=Wt();ls(e,t=>{t&&(this.user=t,this.userEmail=t.email)})},methods:{async fetchAndProcessTransactions(){const e=dn(Ot),n=Wt(Ot).currentUser;if(n&&console.log("User ID:",n.uid),!n){console.error("No user logged in!");return}const i=n.uid,s=Di(e,"users",i,"transactions");try{const o=la(s,yh("date")),a=await or(o);let c={};a.forEach(f=>{const g=f.data(),_=g.date.substring(0,7);c[_]||(c[_]=0),c[_]+=-g.amount});const u=Object.keys(c),d=Object.values(c);this.chartData={labels:u,datasets:[{label:"Amount Spent",data:d,fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1}]}}catch(o){console.error("Error fetching transactions:",o)}}}},Yet={class:"analyticsPageContainer"},Xet={class:"sidebar"},Qet={class:"maincontent"},Jet={class:"linechart"},Zet={class:"top3"};function tnt(e,t,n,i,s,o){const a=Kt("Sidebar"),c=Kt("line-chart"),u=Kt("top3spendings"),d=Kt("Logout");return yt(),It("div",Yet,[C("div",Xet,[bt(a)]),C("div",Qet,[C("div",Jet,[s.chartData.datasets.length>0?(yt(),tm(c,{key:0,"chart-data":s.chartData,options:s.chartOptions},null,8,["chart-data","options"])):ii("",!0)]),C("div",Zet,[bt(u)]),bt(d,{user:s.user},null,8,["user"])])])}const ent=Le(Get,[["render",tnt]]),nnt=[{path:"/",name:"loginPage",component:sz},{path:"/dashboardPage",name:"dashboardPage",component:SQ},{path:"/analyticsPage",name:"analyticsPage",component:ent},{path:"/addTransaction",name:"addTransactionPage",component:ZQ},{path:"/addBudget",name:"addBudgetPage",component:TJ},{path:"/addScheduledTransaction",name:"addScheduledTransactionPage",component:JJ},{path:"/viewScheduledTransactions",name:"viewScheduledTransactionsPage",component:MZ},{path:"/transactionHistory",name:"transactionHistoryPage",component:vtt},{path:"/goalSetting",name:"goalSettingPage",component:net},{path:"/userProfile",name:"userProfile",component:Ott},{path:"/editProfile",name:"editProfile",component:Xtt}],int=QU({history:AU(),routes:nnt}),Ov=z4(Y4),snt=Wt(Ot);let MR=!1;ls(snt,e=>{MR||(MR=!0,e?(console.log("User is signed in"),Ov.config.globalProperties.$currentUser=e):(console.log("User is signed out"),Ov.config.globalProperties.$currentUser=null),Ov.use(int).mount("#app"))});
